<!doctype html><html lang=zh dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3988508441804851" crossorigin=anonymous></script><title>huggingface.co薅羊毛记 | 八戒的技术博客</title>
<meta name=keywords content><meta name=description content="应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：
Free版本就是2vCPU和16GB RAM，就已经非常强了

那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。
我们用到的就是这个演示应用（Spaces）
首先注册好账号，然后右上角点击头像按钮，新建一个Space

然后填入必须项

Space name：就写myhome
Short description：Save Our Home
License：MIT
SDK：选择Docker
Docker template: 选择Blank
Space hardware：选择Free


其它都不选，最后CreateSpace即可
然后就建好了，其实是给你开了一个git的repo
我们到右上角，选择Files选项

然后打开的文件页面，只有两个文件

老套路，建立一个Dockerfile文件，就是容器的打包文件

Dockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守
FROM nikolaik/python-nodejs:python3.14-nodejs22

WORKDIR /tmp

COPY index.js /tmp/index.js
COPY package.json /tmp/package.json

COPY index.html /tmp/index.html

CMD npm install && node index.js

然后我们把index.js准备好，需要修改几个地方
const http = require('http');
const https = require('https');
const fs = require('fs');
const axios = require('axios');
const net = require('net');
const path = require('path');
const crypto = require('crypto');
const { Buffer } = require('buffer');
const { WebSocket, createWebSocketStream } = require('ws');

// 生成 UUID v4
function generateUUID() {
  return crypto.randomUUID();
}

const UUID = process.env.UUID || generateUUID();
const DOMAIN = process.env.DOMAIN || '1234.abc.com';       // 填写项目域名
const WSPATH = process.env.WSPATH || UUID.slice(0, 8);     // 节点路径，默认获取uuid前8位
const SUB_PATH = process.env.SUB_PATH || 'sub';            // 获取节点的订阅路径
const NAME = process.env.NAME || '';                       // 节点名称
const PORT = process.env.PORT || 7860;                     // http和ws服务端口
const TLS_KEY_PATH = process.env.TLS_KEY_PATH || 'tls.key';
const TLS_CERT_PATH = process.env.TLS_CERT_PATH || 'tls.crt'; 

let ISP = '';
const GetISP = async () => {
  try {
    const res = await axios.get('https://api.ip.sb/geoip');
    const data = res.data;
    ISP = `${data.country_code}-${data.isp}`.replace(/ /g, '_');
  } catch (e) {
    ISP = 'Unknown';
  }
}
GetISP();

function normalizeSecret(value) {
  if (!value) return '';
  return value.includes('\\n') ? value.replace(/\\n/g, '\n') : value;
}

function readOptionalFile(filePath) {
  if (!filePath) return '';
  const resolvedPath = path.isAbsolute(filePath) ? filePath : path.join(__dirname, filePath);
  try {
    return fs.readFileSync(resolvedPath, 'utf8');
  } catch (error) {
    console.warn(`Failed to read TLS file ${resolvedPath}: ${error.message}`);
    return '';
  }
}

function getTLSOptions() {
  let key = normalizeSecret(process.env.TLS_KEY);
  let cert = normalizeSecret(process.env.TLS_CERT);

  if (!key) {
    key = readOptionalFile(TLS_KEY_PATH);
  }
  if (!cert) {
    cert = readOptionalFile(TLS_CERT_PATH);
  }

  if (key && cert) {
    return { key, cert };
  }
  if (key || cert) {
    console.warn('Both TLS key and certificate are required; falling back to HTTP.');
  }
  return null;
}

const requestHandler = (req, res) => {
  if (req.url === '/') {
    const filePath = path.join(__dirname, 'index.html');
    fs.readFile(filePath, 'utf8', (err, content) => {
      if (err) {
        res.writeHead(200, { 'Content-Type': 'text/html' });
        res.end('Hello world!');
        return;
      }
      res.writeHead(200, { 'Content-Type': 'text/html' });
      res.end(content);
    });
    return;
  } else if (req.url === `/${SUB_PATH}`) {
    const namePart = NAME ? `${NAME}-${ISP}` : ISP;
    const vlessURL = `vless://${UUID}@${DOMAIN}?encryption=none&amp;security=tls&amp;sni=${DOMAIN}:443&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}&amp;path=%2F${WSPATH}#${namePart}`;
    const trojanURL = `trojan://${UUID}@${DOMAIN}?security=tls&amp;sni=${DOMAIN}&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}:443&amp;path=%2F${WSPATH}#${namePart}`;
    const subscription = vlessURL + '\n' + trojanURL;
    const base64Content = Buffer.from(subscription).toString('base64');

    res.writeHead(200, { 'Content-Type': 'text/plain' });
    res.end(base64Content + '\n');
  } else {
    res.writeHead(404, { 'Content-Type': 'text/plain' });
    res.end('Not Found\n');
  }
};

const tlsOptions = getTLSOptions();
const httpServer = tlsOptions ? https.createServer(tlsOptions, requestHandler) : http.createServer(requestHandler);

const wss = new WebSocket.Server({ server: httpServer });
const uuid = UUID.replace(/-/g, &#34;&#34;);
const DNS_SERVERS = ['8.8.4.4', '1.1.1.1'];
// Custom DNS
function resolveHost(host) {
  return new Promise((resolve, reject) => {
    if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(host)) {
      resolve(host);
      return;
    }
    let attempts = 0;
    function tryNextDNS() {
      if (attempts >= DNS_SERVERS.length) {
        reject(new Error(`Failed to resolve ${host} with all DNS servers`));
        return;
      }
      const dnsServer = DNS_SERVERS[attempts];
      attempts++;
      const dnsQuery = `https://dns.google/resolve?name=${encodeURIComponent(host)}&amp;type=A`;
      axios.get(dnsQuery, {
        timeout: 5000,
        headers: {
          'Accept': 'application/dns-json'
        }
      })
      .then(response => {
        const data = response.data;
        if (data.Status === 0 && data.Answer && data.Answer.length > 0) {
          const ip = data.Answer.find(record => record.type === 1);
          if (ip) {
            resolve(ip.data);
            return;
          }
        }
        tryNextDNS();
      })
      .catch(error => {
        tryNextDNS();
      });
    }

    tryNextDNS();
  });
}

// VLE-SS处理
function handleVlessConnection(ws, msg) {
  const [VERSION] = msg;
  const id = msg.slice(1, 17);
  if (!id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16))) return false;

  let i = msg.slice(17, 18).readUInt8() + 19;
  const port = msg.slice(i, i += 2).readUInt16BE(0);
  const ATYP = msg.slice(i, i += 1).readUInt8();
  const host = ATYP == 1 ? msg.slice(i, i += 4).join('.') :
    (ATYP == 2 ? new TextDecoder().decode(msg.slice(i + 1, i += 1 + msg.slice(i, i + 1).readUInt8())) :
    (ATYP == 3 ? msg.slice(i, i += 16).reduce((s, b, i, a) => (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []).map(b => b.readUInt16BE(0).toString(16)).join(':') : ''));
  ws.send(new Uint8Array([VERSION, 0]));
  const duplex = createWebSocketStream(ws);
  resolveHost(host)
    .then(resolvedIP => {
      net.connect({ host: resolvedIP, port }, function() {
        this.write(msg.slice(i));
        duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
      }).on('error', () => {});
    })
    .catch(error => {
      net.connect({ host, port }, function() {
        this.write(msg.slice(i));
        duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
      }).on('error', () => {});
    });

  return true;
}

// Tro-jan处理
function handleTrojanConnection(ws, msg) {
  try {
    if (msg.length < 58) return false;
    const receivedPasswordHash = msg.slice(0, 56).toString();
    const possiblePasswords = [
      UUID,
    ];

    let matchedPassword = null;
    for (const pwd of possiblePasswords) {
      const hash = crypto.createHash('sha224').update(pwd).digest('hex');
      if (hash === receivedPasswordHash) {
        matchedPassword = pwd;
        break;
      }
    }

    if (!matchedPassword) return false;
    let offset = 56;
    if (msg[offset] === 0x0d && msg[offset + 1] === 0x0a) {
      offset += 2;
    }

    const cmd = msg[offset];
    if (cmd !== 0x01) return false;
    offset += 1;
    const atyp = msg[offset];
    offset += 1;
    let host, port;
    if (atyp === 0x01) {
      host = msg.slice(offset, offset + 4).join('.');
      offset += 4;
    } else if (atyp === 0x03) {
      const hostLen = msg[offset];
      offset += 1;
      host = msg.slice(offset, offset + hostLen).toString();
      offset += hostLen;
    } else if (atyp === 0x04) {
      host = msg.slice(offset, offset + 16).reduce((s, b, i, a) => 
        (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), [])
        .map(b => b.readUInt16BE(0).toString(16)).join(':');
      offset += 16;
    } else {
      return false;
    }

    port = msg.readUInt16BE(offset);
    offset += 2;

    if (offset < msg.length && msg[offset] === 0x0d && msg[offset + 1] === 0x0a) {
      offset += 2;
    }

    const duplex = createWebSocketStream(ws);

    resolveHost(host)
      .then(resolvedIP => {
        net.connect({ host: resolvedIP, port }, function() {
          if (offset < msg.length) {
            this.write(msg.slice(offset));
          }
          duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
        }).on('error', () => {});
      })
      .catch(error => {
        net.connect({ host, port }, function() {
          if (offset < msg.length) {
            this.write(msg.slice(offset));
          }
          duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
        }).on('error', () => {});
      });

    return true;
  } catch (error) {
    return false;
  }
}
// Ws 连接处理
wss.on('connection', (ws, req) => {
  const url = req.url || '';
  ws.once('message', msg => {
    if (msg.length > 17 && msg[0] === 0) {
      const id = msg.slice(1, 17);
      const isVless = id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16));
      if (isVless) {
        if (!handleVlessConnection(ws, msg)) {
          ws.close();
        }
        return;
      }
    }

    if (!handleTrojanConnection(ws, msg)) {
      ws.close();
    }
  }).on('error', () => {});
});

httpServer.listen(PORT, () => {
  const scheme = tlsOptions ? 'HTTPS/WSS' : 'HTTP/WS';
  console.log(`Server is running on ${scheme} port ${PORT}`);
});
其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，"><meta name=author content="八戒"><link rel=canonical href=https://rendoumi.com/posts/20260106-huggingface_vless_trojan/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.5d8a858b4ad07d913988e10d3c3dbc8c171f45316a396de8a60d67f44840812d.css integrity="sha256-XYqFi0rQfZE5iOENPD28jBcfRTFqOW3opg1n9EhAgS0=" rel="preload stylesheet" as=style><link rel=icon href=https://rendoumi.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://rendoumi.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://rendoumi.com/favicon-32x32.png><link rel=apple-touch-icon href=https://rendoumi.com/apple-touch-icon.png><link rel=mask-icon href=https://rendoumi.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://rendoumi.com/posts/20260106-huggingface_vless_trojan/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://rendoumi.com/posts/20260106-huggingface_vless_trojan/"><meta property="og:site_name" content="八戒的技术博客"><meta property="og:title" content="huggingface.co薅羊毛记"><meta property="og:description" content="应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：
Free版本就是2vCPU和16GB RAM，就已经非常强了
那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。
我们用到的就是这个演示应用（Spaces）
首先注册好账号，然后右上角点击头像按钮，新建一个Space
然后填入必须项
Space name：就写myhome Short description：Save Our Home License：MIT SDK：选择Docker Docker template: 选择Blank Space hardware：选择Free 其它都不选，最后CreateSpace即可
然后就建好了，其实是给你开了一个git的repo
我们到右上角，选择Files选项
然后打开的文件页面，只有两个文件
老套路，建立一个Dockerfile文件，就是容器的打包文件
Dockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守
FROM nikolaik/python-nodejs:python3.14-nodejs22 WORKDIR /tmp COPY index.js /tmp/index.js COPY package.json /tmp/package.json COPY index.html /tmp/index.html CMD npm install && node index.js 然后我们把index.js准备好，需要修改几个地方
const http = require('http'); const https = require('https'); const fs = require('fs'); const axios = require('axios'); const net = require('net'); const path = require('path'); const crypto = require('crypto'); const { Buffer } = require('buffer'); const { WebSocket, createWebSocketStream } = require('ws'); // 生成 UUID v4 function generateUUID() { return crypto.randomUUID(); } const UUID = process.env.UUID || generateUUID(); const DOMAIN = process.env.DOMAIN || '1234.abc.com'; // 填写项目域名 const WSPATH = process.env.WSPATH || UUID.slice(0, 8); // 节点路径，默认获取uuid前8位 const SUB_PATH = process.env.SUB_PATH || 'sub'; // 获取节点的订阅路径 const NAME = process.env.NAME || ''; // 节点名称 const PORT = process.env.PORT || 7860; // http和ws服务端口 const TLS_KEY_PATH = process.env.TLS_KEY_PATH || 'tls.key'; const TLS_CERT_PATH = process.env.TLS_CERT_PATH || 'tls.crt'; let ISP = ''; const GetISP = async () => { try { const res = await axios.get('https://api.ip.sb/geoip'); const data = res.data; ISP = `${data.country_code}-${data.isp}`.replace(/ /g, '_'); } catch (e) { ISP = 'Unknown'; } } GetISP(); function normalizeSecret(value) { if (!value) return ''; return value.includes('\\n') ? value.replace(/\\n/g, '\n') : value; } function readOptionalFile(filePath) { if (!filePath) return ''; const resolvedPath = path.isAbsolute(filePath) ? filePath : path.join(__dirname, filePath); try { return fs.readFileSync(resolvedPath, 'utf8'); } catch (error) { console.warn(`Failed to read TLS file ${resolvedPath}: ${error.message}`); return ''; } } function getTLSOptions() { let key = normalizeSecret(process.env.TLS_KEY); let cert = normalizeSecret(process.env.TLS_CERT); if (!key) { key = readOptionalFile(TLS_KEY_PATH); } if (!cert) { cert = readOptionalFile(TLS_CERT_PATH); } if (key && cert) { return { key, cert }; } if (key || cert) { console.warn('Both TLS key and certificate are required; falling back to HTTP.'); } return null; } const requestHandler = (req, res) => { if (req.url === '/') { const filePath = path.join(__dirname, 'index.html'); fs.readFile(filePath, 'utf8', (err, content) => { if (err) { res.writeHead(200, { 'Content-Type': 'text/html' }); res.end('Hello world!'); return; } res.writeHead(200, { 'Content-Type': 'text/html' }); res.end(content); }); return; } else if (req.url === `/${SUB_PATH}`) { const namePart = NAME ? `${NAME}-${ISP}` : ISP; const vlessURL = `vless://${UUID}@${DOMAIN}?encryption=none&amp;security=tls&amp;sni=${DOMAIN}:443&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}&amp;path=%2F${WSPATH}#${namePart}`; const trojanURL = `trojan://${UUID}@${DOMAIN}?security=tls&amp;sni=${DOMAIN}&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}:443&amp;path=%2F${WSPATH}#${namePart}`; const subscription = vlessURL + '\n' + trojanURL; const base64Content = Buffer.from(subscription).toString('base64'); res.writeHead(200, { 'Content-Type': 'text/plain' }); res.end(base64Content + '\n'); } else { res.writeHead(404, { 'Content-Type': 'text/plain' }); res.end('Not Found\n'); } }; const tlsOptions = getTLSOptions(); const httpServer = tlsOptions ? https.createServer(tlsOptions, requestHandler) : http.createServer(requestHandler); const wss = new WebSocket.Server({ server: httpServer }); const uuid = UUID.replace(/-/g, &#34;&#34;); const DNS_SERVERS = ['8.8.4.4', '1.1.1.1']; // Custom DNS function resolveHost(host) { return new Promise((resolve, reject) => { if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(host)) { resolve(host); return; } let attempts = 0; function tryNextDNS() { if (attempts >= DNS_SERVERS.length) { reject(new Error(`Failed to resolve ${host} with all DNS servers`)); return; } const dnsServer = DNS_SERVERS[attempts]; attempts++; const dnsQuery = `https://dns.google/resolve?name=${encodeURIComponent(host)}&amp;type=A`; axios.get(dnsQuery, { timeout: 5000, headers: { 'Accept': 'application/dns-json' } }) .then(response => { const data = response.data; if (data.Status === 0 && data.Answer && data.Answer.length > 0) { const ip = data.Answer.find(record => record.type === 1); if (ip) { resolve(ip.data); return; } } tryNextDNS(); }) .catch(error => { tryNextDNS(); }); } tryNextDNS(); }); } // VLE-SS处理 function handleVlessConnection(ws, msg) { const [VERSION] = msg; const id = msg.slice(1, 17); if (!id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16))) return false; let i = msg.slice(17, 18).readUInt8() + 19; const port = msg.slice(i, i += 2).readUInt16BE(0); const ATYP = msg.slice(i, i += 1).readUInt8(); const host = ATYP == 1 ? msg.slice(i, i += 4).join('.') : (ATYP == 2 ? new TextDecoder().decode(msg.slice(i + 1, i += 1 + msg.slice(i, i + 1).readUInt8())) : (ATYP == 3 ? msg.slice(i, i += 16).reduce((s, b, i, a) => (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []).map(b => b.readUInt16BE(0).toString(16)).join(':') : '')); ws.send(new Uint8Array([VERSION, 0])); const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP => { net.connect({ host: resolvedIP, port }, function() { this.write(msg.slice(i)); duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex); }).on('error', () => {}); }) .catch(error => { net.connect({ host, port }, function() { this.write(msg.slice(i)); duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex); }).on('error', () => {}); }); return true; } // Tro-jan处理 function handleTrojanConnection(ws, msg) { try { if (msg.length < 58) return false; const receivedPasswordHash = msg.slice(0, 56).toString(); const possiblePasswords = [ UUID, ]; let matchedPassword = null; for (const pwd of possiblePasswords) { const hash = crypto.createHash('sha224').update(pwd).digest('hex'); if (hash === receivedPasswordHash) { matchedPassword = pwd; break; } } if (!matchedPassword) return false; let offset = 56; if (msg[offset] === 0x0d && msg[offset + 1] === 0x0a) { offset += 2; } const cmd = msg[offset]; if (cmd !== 0x01) return false; offset += 1; const atyp = msg[offset]; offset += 1; let host, port; if (atyp === 0x01) { host = msg.slice(offset, offset + 4).join('.'); offset += 4; } else if (atyp === 0x03) { const hostLen = msg[offset]; offset += 1; host = msg.slice(offset, offset + hostLen).toString(); offset += hostLen; } else if (atyp === 0x04) { host = msg.slice(offset, offset + 16).reduce((s, b, i, a) => (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []) .map(b => b.readUInt16BE(0).toString(16)).join(':'); offset += 16; } else { return false; } port = msg.readUInt16BE(offset); offset += 2; if (offset < msg.length && msg[offset] === 0x0d && msg[offset + 1] === 0x0a) { offset += 2; } const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP => { net.connect({ host: resolvedIP, port }, function() { if (offset < msg.length) { this.write(msg.slice(offset)); } duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex); }).on('error', () => {}); }) .catch(error => { net.connect({ host, port }, function() { if (offset < msg.length) { this.write(msg.slice(offset)); } duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex); }).on('error', () => {}); }); return true; } catch (error) { return false; } } // Ws 连接处理 wss.on('connection', (ws, req) => { const url = req.url || ''; ws.once('message', msg => { if (msg.length > 17 && msg[0] === 0) { const id = msg.slice(1, 17); const isVless = id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16)); if (isVless) { if (!handleVlessConnection(ws, msg)) { ws.close(); } return; } } if (!handleTrojanConnection(ws, msg)) { ws.close(); } }).on('error', () => {}); }); httpServer.listen(PORT, () => { const scheme = tlsOptions ? 'HTTPS/WSS' : 'HTTP/WS'; console.log(`Server is running on ${scheme} port ${PORT}`); }); 其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-06T09:00:01+08:00"><meta property="article:modified_time" content="2026-01-06T09:00:01+08:00"><meta property="og:image" content="https://rendoumi.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rendoumi.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="huggingface.co薅羊毛记"><meta name=twitter:description content="应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：
Free版本就是2vCPU和16GB RAM，就已经非常强了

那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。
我们用到的就是这个演示应用（Spaces）
首先注册好账号，然后右上角点击头像按钮，新建一个Space

然后填入必须项

Space name：就写myhome
Short description：Save Our Home
License：MIT
SDK：选择Docker
Docker template: 选择Blank
Space hardware：选择Free


其它都不选，最后CreateSpace即可
然后就建好了，其实是给你开了一个git的repo
我们到右上角，选择Files选项

然后打开的文件页面，只有两个文件

老套路，建立一个Dockerfile文件，就是容器的打包文件

Dockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守
FROM nikolaik/python-nodejs:python3.14-nodejs22

WORKDIR /tmp

COPY index.js /tmp/index.js
COPY package.json /tmp/package.json

COPY index.html /tmp/index.html

CMD npm install && node index.js

然后我们把index.js准备好，需要修改几个地方
const http = require('http');
const https = require('https');
const fs = require('fs');
const axios = require('axios');
const net = require('net');
const path = require('path');
const crypto = require('crypto');
const { Buffer } = require('buffer');
const { WebSocket, createWebSocketStream } = require('ws');

// 生成 UUID v4
function generateUUID() {
  return crypto.randomUUID();
}

const UUID = process.env.UUID || generateUUID();
const DOMAIN = process.env.DOMAIN || '1234.abc.com';       // 填写项目域名
const WSPATH = process.env.WSPATH || UUID.slice(0, 8);     // 节点路径，默认获取uuid前8位
const SUB_PATH = process.env.SUB_PATH || 'sub';            // 获取节点的订阅路径
const NAME = process.env.NAME || '';                       // 节点名称
const PORT = process.env.PORT || 7860;                     // http和ws服务端口
const TLS_KEY_PATH = process.env.TLS_KEY_PATH || 'tls.key';
const TLS_CERT_PATH = process.env.TLS_CERT_PATH || 'tls.crt'; 

let ISP = '';
const GetISP = async () => {
  try {
    const res = await axios.get('https://api.ip.sb/geoip');
    const data = res.data;
    ISP = `${data.country_code}-${data.isp}`.replace(/ /g, '_');
  } catch (e) {
    ISP = 'Unknown';
  }
}
GetISP();

function normalizeSecret(value) {
  if (!value) return '';
  return value.includes('\\n') ? value.replace(/\\n/g, '\n') : value;
}

function readOptionalFile(filePath) {
  if (!filePath) return '';
  const resolvedPath = path.isAbsolute(filePath) ? filePath : path.join(__dirname, filePath);
  try {
    return fs.readFileSync(resolvedPath, 'utf8');
  } catch (error) {
    console.warn(`Failed to read TLS file ${resolvedPath}: ${error.message}`);
    return '';
  }
}

function getTLSOptions() {
  let key = normalizeSecret(process.env.TLS_KEY);
  let cert = normalizeSecret(process.env.TLS_CERT);

  if (!key) {
    key = readOptionalFile(TLS_KEY_PATH);
  }
  if (!cert) {
    cert = readOptionalFile(TLS_CERT_PATH);
  }

  if (key && cert) {
    return { key, cert };
  }
  if (key || cert) {
    console.warn('Both TLS key and certificate are required; falling back to HTTP.');
  }
  return null;
}

const requestHandler = (req, res) => {
  if (req.url === '/') {
    const filePath = path.join(__dirname, 'index.html');
    fs.readFile(filePath, 'utf8', (err, content) => {
      if (err) {
        res.writeHead(200, { 'Content-Type': 'text/html' });
        res.end('Hello world!');
        return;
      }
      res.writeHead(200, { 'Content-Type': 'text/html' });
      res.end(content);
    });
    return;
  } else if (req.url === `/${SUB_PATH}`) {
    const namePart = NAME ? `${NAME}-${ISP}` : ISP;
    const vlessURL = `vless://${UUID}@${DOMAIN}?encryption=none&amp;security=tls&amp;sni=${DOMAIN}:443&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}&amp;path=%2F${WSPATH}#${namePart}`;
    const trojanURL = `trojan://${UUID}@${DOMAIN}?security=tls&amp;sni=${DOMAIN}&amp;fp=chrome&amp;type=ws&amp;host=${DOMAIN}:443&amp;path=%2F${WSPATH}#${namePart}`;
    const subscription = vlessURL + '\n' + trojanURL;
    const base64Content = Buffer.from(subscription).toString('base64');

    res.writeHead(200, { 'Content-Type': 'text/plain' });
    res.end(base64Content + '\n');
  } else {
    res.writeHead(404, { 'Content-Type': 'text/plain' });
    res.end('Not Found\n');
  }
};

const tlsOptions = getTLSOptions();
const httpServer = tlsOptions ? https.createServer(tlsOptions, requestHandler) : http.createServer(requestHandler);

const wss = new WebSocket.Server({ server: httpServer });
const uuid = UUID.replace(/-/g, &#34;&#34;);
const DNS_SERVERS = ['8.8.4.4', '1.1.1.1'];
// Custom DNS
function resolveHost(host) {
  return new Promise((resolve, reject) => {
    if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(host)) {
      resolve(host);
      return;
    }
    let attempts = 0;
    function tryNextDNS() {
      if (attempts >= DNS_SERVERS.length) {
        reject(new Error(`Failed to resolve ${host} with all DNS servers`));
        return;
      }
      const dnsServer = DNS_SERVERS[attempts];
      attempts++;
      const dnsQuery = `https://dns.google/resolve?name=${encodeURIComponent(host)}&amp;type=A`;
      axios.get(dnsQuery, {
        timeout: 5000,
        headers: {
          'Accept': 'application/dns-json'
        }
      })
      .then(response => {
        const data = response.data;
        if (data.Status === 0 && data.Answer && data.Answer.length > 0) {
          const ip = data.Answer.find(record => record.type === 1);
          if (ip) {
            resolve(ip.data);
            return;
          }
        }
        tryNextDNS();
      })
      .catch(error => {
        tryNextDNS();
      });
    }

    tryNextDNS();
  });
}

// VLE-SS处理
function handleVlessConnection(ws, msg) {
  const [VERSION] = msg;
  const id = msg.slice(1, 17);
  if (!id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16))) return false;

  let i = msg.slice(17, 18).readUInt8() + 19;
  const port = msg.slice(i, i += 2).readUInt16BE(0);
  const ATYP = msg.slice(i, i += 1).readUInt8();
  const host = ATYP == 1 ? msg.slice(i, i += 4).join('.') :
    (ATYP == 2 ? new TextDecoder().decode(msg.slice(i + 1, i += 1 + msg.slice(i, i + 1).readUInt8())) :
    (ATYP == 3 ? msg.slice(i, i += 16).reduce((s, b, i, a) => (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []).map(b => b.readUInt16BE(0).toString(16)).join(':') : ''));
  ws.send(new Uint8Array([VERSION, 0]));
  const duplex = createWebSocketStream(ws);
  resolveHost(host)
    .then(resolvedIP => {
      net.connect({ host: resolvedIP, port }, function() {
        this.write(msg.slice(i));
        duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
      }).on('error', () => {});
    })
    .catch(error => {
      net.connect({ host, port }, function() {
        this.write(msg.slice(i));
        duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
      }).on('error', () => {});
    });

  return true;
}

// Tro-jan处理
function handleTrojanConnection(ws, msg) {
  try {
    if (msg.length < 58) return false;
    const receivedPasswordHash = msg.slice(0, 56).toString();
    const possiblePasswords = [
      UUID,
    ];

    let matchedPassword = null;
    for (const pwd of possiblePasswords) {
      const hash = crypto.createHash('sha224').update(pwd).digest('hex');
      if (hash === receivedPasswordHash) {
        matchedPassword = pwd;
        break;
      }
    }

    if (!matchedPassword) return false;
    let offset = 56;
    if (msg[offset] === 0x0d && msg[offset + 1] === 0x0a) {
      offset += 2;
    }

    const cmd = msg[offset];
    if (cmd !== 0x01) return false;
    offset += 1;
    const atyp = msg[offset];
    offset += 1;
    let host, port;
    if (atyp === 0x01) {
      host = msg.slice(offset, offset + 4).join('.');
      offset += 4;
    } else if (atyp === 0x03) {
      const hostLen = msg[offset];
      offset += 1;
      host = msg.slice(offset, offset + hostLen).toString();
      offset += hostLen;
    } else if (atyp === 0x04) {
      host = msg.slice(offset, offset + 16).reduce((s, b, i, a) => 
        (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), [])
        .map(b => b.readUInt16BE(0).toString(16)).join(':');
      offset += 16;
    } else {
      return false;
    }

    port = msg.readUInt16BE(offset);
    offset += 2;

    if (offset < msg.length && msg[offset] === 0x0d && msg[offset + 1] === 0x0a) {
      offset += 2;
    }

    const duplex = createWebSocketStream(ws);

    resolveHost(host)
      .then(resolvedIP => {
        net.connect({ host: resolvedIP, port }, function() {
          if (offset < msg.length) {
            this.write(msg.slice(offset));
          }
          duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
        }).on('error', () => {});
      })
      .catch(error => {
        net.connect({ host, port }, function() {
          if (offset < msg.length) {
            this.write(msg.slice(offset));
          }
          duplex.on('error', () => {}).pipe(this).on('error', () => {}).pipe(duplex);
        }).on('error', () => {});
      });

    return true;
  } catch (error) {
    return false;
  }
}
// Ws 连接处理
wss.on('connection', (ws, req) => {
  const url = req.url || '';
  ws.once('message', msg => {
    if (msg.length > 17 && msg[0] === 0) {
      const id = msg.slice(1, 17);
      const isVless = id.every((v, i) => v == parseInt(uuid.substr(i * 2, 2), 16));
      if (isVless) {
        if (!handleVlessConnection(ws, msg)) {
          ws.close();
        }
        return;
      }
    }

    if (!handleTrojanConnection(ws, msg)) {
      ws.close();
    }
  }).on('error', () => {});
});

httpServer.listen(PORT, () => {
  const scheme = tlsOptions ? 'HTTPS/WSS' : 'HTTP/WS';
  console.log(`Server is running on ${scheme} port ${PORT}`);
});
其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"所有文章","item":"https://rendoumi.com/posts/"},{"@type":"ListItem","position":2,"name":"huggingface.co薅羊毛记","item":"https://rendoumi.com/posts/20260106-huggingface_vless_trojan/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"huggingface.co薅羊毛记","name":"huggingface.co薅羊毛记","description":"应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：\nFree版本就是2vCPU和16GB RAM，就已经非常强了\n那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。\n我们用到的就是这个演示应用（Spaces）\n首先注册好账号，然后右上角点击头像按钮，新建一个Space\n然后填入必须项\nSpace name：就写myhome Short description：Save Our Home License：MIT SDK：选择Docker Docker template: 选择Blank Space hardware：选择Free 其它都不选，最后CreateSpace即可\n然后就建好了，其实是给你开了一个git的repo\n我们到右上角，选择Files选项\n然后打开的文件页面，只有两个文件\n老套路，建立一个Dockerfile文件，就是容器的打包文件\nDockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守\nFROM nikolaik/python-nodejs:python3.14-nodejs22 WORKDIR /tmp COPY index.js /tmp/index.js COPY package.json /tmp/package.json COPY index.html /tmp/index.html CMD npm install \u0026amp;\u0026amp; node index.js 然后我们把index.js准备好，需要修改几个地方\nconst http = require(\u0026#39;http\u0026#39;); const https = require(\u0026#39;https\u0026#39;); const fs = require(\u0026#39;fs\u0026#39;); const axios = require(\u0026#39;axios\u0026#39;); const net = require(\u0026#39;net\u0026#39;); const path = require(\u0026#39;path\u0026#39;); const crypto = require(\u0026#39;crypto\u0026#39;); const { Buffer } = require(\u0026#39;buffer\u0026#39;); const { WebSocket, createWebSocketStream } = require(\u0026#39;ws\u0026#39;); // 生成 UUID v4 function generateUUID() { return crypto.randomUUID(); } const UUID = process.env.UUID || generateUUID(); const DOMAIN = process.env.DOMAIN || \u0026#39;1234.abc.com\u0026#39;; // 填写项目域名 const WSPATH = process.env.WSPATH || UUID.slice(0, 8); // 节点路径，默认获取uuid前8位 const SUB_PATH = process.env.SUB_PATH || \u0026#39;sub\u0026#39;; // 获取节点的订阅路径 const NAME = process.env.NAME || \u0026#39;\u0026#39;; // 节点名称 const PORT = process.env.PORT || 7860; // http和ws服务端口 const TLS_KEY_PATH = process.env.TLS_KEY_PATH || \u0026#39;tls.key\u0026#39;; const TLS_CERT_PATH = process.env.TLS_CERT_PATH || \u0026#39;tls.crt\u0026#39;; let ISP = \u0026#39;\u0026#39;; const GetISP = async () =\u0026gt; { try { const res = await axios.get(\u0026#39;https://api.ip.sb/geoip\u0026#39;); const data = res.data; ISP = `${data.country_code}-${data.isp}`.replace(/ /g, \u0026#39;_\u0026#39;); } catch (e) { ISP = \u0026#39;Unknown\u0026#39;; } } GetISP(); function normalizeSecret(value) { if (!value) return \u0026#39;\u0026#39;; return value.includes(\u0026#39;\\\\n\u0026#39;) ? value.replace(/\\\\n/g, \u0026#39;\\n\u0026#39;) : value; } function readOptionalFile(filePath) { if (!filePath) return \u0026#39;\u0026#39;; const resolvedPath = path.isAbsolute(filePath) ? filePath : path.join(__dirname, filePath); try { return fs.readFileSync(resolvedPath, \u0026#39;utf8\u0026#39;); } catch (error) { console.warn(`Failed to read TLS file ${resolvedPath}: ${error.message}`); return \u0026#39;\u0026#39;; } } function getTLSOptions() { let key = normalizeSecret(process.env.TLS_KEY); let cert = normalizeSecret(process.env.TLS_CERT); if (!key) { key = readOptionalFile(TLS_KEY_PATH); } if (!cert) { cert = readOptionalFile(TLS_CERT_PATH); } if (key \u0026amp;\u0026amp; cert) { return { key, cert }; } if (key || cert) { console.warn(\u0026#39;Both TLS key and certificate are required; falling back to HTTP.\u0026#39;); } return null; } const requestHandler = (req, res) =\u0026gt; { if (req.url === \u0026#39;/\u0026#39;) { const filePath = path.join(__dirname, \u0026#39;index.html\u0026#39;); fs.readFile(filePath, \u0026#39;utf8\u0026#39;, (err, content) =\u0026gt; { if (err) { res.writeHead(200, { \u0026#39;Content-Type\u0026#39;: \u0026#39;text/html\u0026#39; }); res.end(\u0026#39;Hello world!\u0026#39;); return; } res.writeHead(200, { \u0026#39;Content-Type\u0026#39;: \u0026#39;text/html\u0026#39; }); res.end(content); }); return; } else if (req.url === `/${SUB_PATH}`) { const namePart = NAME ? `${NAME}-${ISP}` : ISP; const vlessURL = `vless://${UUID}@${DOMAIN}?encryption=none\u0026amp;security=tls\u0026amp;sni=${DOMAIN}:443\u0026amp;fp=chrome\u0026amp;type=ws\u0026amp;host=${DOMAIN}\u0026amp;path=%2F${WSPATH}#${namePart}`; const trojanURL = `trojan://${UUID}@${DOMAIN}?security=tls\u0026amp;sni=${DOMAIN}\u0026amp;fp=chrome\u0026amp;type=ws\u0026amp;host=${DOMAIN}:443\u0026amp;path=%2F${WSPATH}#${namePart}`; const subscription = vlessURL + \u0026#39;\\n\u0026#39; + trojanURL; const base64Content = Buffer.from(subscription).toString(\u0026#39;base64\u0026#39;); res.writeHead(200, { \u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39; }); res.end(base64Content + \u0026#39;\\n\u0026#39;); } else { res.writeHead(404, { \u0026#39;Content-Type\u0026#39;: \u0026#39;text/plain\u0026#39; }); res.end(\u0026#39;Not Found\\n\u0026#39;); } }; const tlsOptions = getTLSOptions(); const httpServer = tlsOptions ? https.createServer(tlsOptions, requestHandler) : http.createServer(requestHandler); const wss = new WebSocket.Server({ server: httpServer }); const uuid = UUID.replace(/-/g, \u0026#34;\u0026#34;); const DNS_SERVERS = [\u0026#39;8.8.4.4\u0026#39;, \u0026#39;1.1.1.1\u0026#39;]; // Custom DNS function resolveHost(host) { return new Promise((resolve, reject) =\u0026gt; { if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(host)) { resolve(host); return; } let attempts = 0; function tryNextDNS() { if (attempts \u0026gt;= DNS_SERVERS.length) { reject(new Error(`Failed to resolve ${host} with all DNS servers`)); return; } const dnsServer = DNS_SERVERS[attempts]; attempts++; const dnsQuery = `https://dns.google/resolve?name=${encodeURIComponent(host)}\u0026amp;type=A`; axios.get(dnsQuery, { timeout: 5000, headers: { \u0026#39;Accept\u0026#39;: \u0026#39;application/dns-json\u0026#39; } }) .then(response =\u0026gt; { const data = response.data; if (data.Status === 0 \u0026amp;\u0026amp; data.Answer \u0026amp;\u0026amp; data.Answer.length \u0026gt; 0) { const ip = data.Answer.find(record =\u0026gt; record.type === 1); if (ip) { resolve(ip.data); return; } } tryNextDNS(); }) .catch(error =\u0026gt; { tryNextDNS(); }); } tryNextDNS(); }); } // VLE-SS处理 function handleVlessConnection(ws, msg) { const [VERSION] = msg; const id = msg.slice(1, 17); if (!id.every((v, i) =\u0026gt; v == parseInt(uuid.substr(i * 2, 2), 16))) return false; let i = msg.slice(17, 18).readUInt8() + 19; const port = msg.slice(i, i += 2).readUInt16BE(0); const ATYP = msg.slice(i, i += 1).readUInt8(); const host = ATYP == 1 ? msg.slice(i, i += 4).join(\u0026#39;.\u0026#39;) : (ATYP == 2 ? new TextDecoder().decode(msg.slice(i + 1, i += 1 + msg.slice(i, i + 1).readUInt8())) : (ATYP == 3 ? msg.slice(i, i += 16).reduce((s, b, i, a) =\u0026gt; (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []).map(b =\u0026gt; b.readUInt16BE(0).toString(16)).join(\u0026#39;:\u0026#39;) : \u0026#39;\u0026#39;)); ws.send(new Uint8Array([VERSION, 0])); const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP =\u0026gt; { net.connect({ host: resolvedIP, port }, function() { this.write(msg.slice(i)); duplex.on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(this).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(duplex); }).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}); }) .catch(error =\u0026gt; { net.connect({ host, port }, function() { this.write(msg.slice(i)); duplex.on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(this).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(duplex); }).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}); }); return true; } // Tro-jan处理 function handleTrojanConnection(ws, msg) { try { if (msg.length \u0026lt; 58) return false; const receivedPasswordHash = msg.slice(0, 56).toString(); const possiblePasswords = [ UUID, ]; let matchedPassword = null; for (const pwd of possiblePasswords) { const hash = crypto.createHash(\u0026#39;sha224\u0026#39;).update(pwd).digest(\u0026#39;hex\u0026#39;); if (hash === receivedPasswordHash) { matchedPassword = pwd; break; } } if (!matchedPassword) return false; let offset = 56; if (msg[offset] === 0x0d \u0026amp;\u0026amp; msg[offset + 1] === 0x0a) { offset += 2; } const cmd = msg[offset]; if (cmd !== 0x01) return false; offset += 1; const atyp = msg[offset]; offset += 1; let host, port; if (atyp === 0x01) { host = msg.slice(offset, offset + 4).join(\u0026#39;.\u0026#39;); offset += 4; } else if (atyp === 0x03) { const hostLen = msg[offset]; offset += 1; host = msg.slice(offset, offset + hostLen).toString(); offset += hostLen; } else if (atyp === 0x04) { host = msg.slice(offset, offset + 16).reduce((s, b, i, a) =\u0026gt; (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []) .map(b =\u0026gt; b.readUInt16BE(0).toString(16)).join(\u0026#39;:\u0026#39;); offset += 16; } else { return false; } port = msg.readUInt16BE(offset); offset += 2; if (offset \u0026lt; msg.length \u0026amp;\u0026amp; msg[offset] === 0x0d \u0026amp;\u0026amp; msg[offset + 1] === 0x0a) { offset += 2; } const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP =\u0026gt; { net.connect({ host: resolvedIP, port }, function() { if (offset \u0026lt; msg.length) { this.write(msg.slice(offset)); } duplex.on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(this).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(duplex); }).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}); }) .catch(error =\u0026gt; { net.connect({ host, port }, function() { if (offset \u0026lt; msg.length) { this.write(msg.slice(offset)); } duplex.on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(this).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}).pipe(duplex); }).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}); }); return true; } catch (error) { return false; } } // Ws 连接处理 wss.on(\u0026#39;connection\u0026#39;, (ws, req) =\u0026gt; { const url = req.url || \u0026#39;\u0026#39;; ws.once(\u0026#39;message\u0026#39;, msg =\u0026gt; { if (msg.length \u0026gt; 17 \u0026amp;\u0026amp; msg[0] === 0) { const id = msg.slice(1, 17); const isVless = id.every((v, i) =\u0026gt; v == parseInt(uuid.substr(i * 2, 2), 16)); if (isVless) { if (!handleVlessConnection(ws, msg)) { ws.close(); } return; } } if (!handleTrojanConnection(ws, msg)) { ws.close(); } }).on(\u0026#39;error\u0026#39;, () =\u0026gt; {}); }); httpServer.listen(PORT, () =\u0026gt; { const scheme = tlsOptions ? \u0026#39;HTTPS/WSS\u0026#39; : \u0026#39;HTTP/WS\u0026#39;; console.log(`Server is running on ${scheme} port ${PORT}`); }); 其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，\n","keywords":[],"articleBody":"应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：\nFree版本就是2vCPU和16GB RAM，就已经非常强了\n那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。\n我们用到的就是这个演示应用（Spaces）\n首先注册好账号，然后右上角点击头像按钮，新建一个Space\n然后填入必须项\nSpace name：就写myhome Short description：Save Our Home License：MIT SDK：选择Docker Docker template: 选择Blank Space hardware：选择Free 其它都不选，最后CreateSpace即可\n然后就建好了，其实是给你开了一个git的repo\n我们到右上角，选择Files选项\n然后打开的文件页面，只有两个文件\n老套路，建立一个Dockerfile文件，就是容器的打包文件\nDockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守\nFROM nikolaik/python-nodejs:python3.14-nodejs22 WORKDIR /tmp COPY index.js /tmp/index.js COPY package.json /tmp/package.json COPY index.html /tmp/index.html CMD npm install \u0026\u0026 node index.js 然后我们把index.js准备好，需要修改几个地方\nconst http = require('http'); const https = require('https'); const fs = require('fs'); const axios = require('axios'); const net = require('net'); const path = require('path'); const crypto = require('crypto'); const { Buffer } = require('buffer'); const { WebSocket, createWebSocketStream } = require('ws'); // 生成 UUID v4 function generateUUID() { return crypto.randomUUID(); } const UUID = process.env.UUID || generateUUID(); const DOMAIN = process.env.DOMAIN || '1234.abc.com'; // 填写项目域名 const WSPATH = process.env.WSPATH || UUID.slice(0, 8); // 节点路径，默认获取uuid前8位 const SUB_PATH = process.env.SUB_PATH || 'sub'; // 获取节点的订阅路径 const NAME = process.env.NAME || ''; // 节点名称 const PORT = process.env.PORT || 7860; // http和ws服务端口 const TLS_KEY_PATH = process.env.TLS_KEY_PATH || 'tls.key'; const TLS_CERT_PATH = process.env.TLS_CERT_PATH || 'tls.crt'; let ISP = ''; const GetISP = async () =\u003e { try { const res = await axios.get('https://api.ip.sb/geoip'); const data = res.data; ISP = `${data.country_code}-${data.isp}`.replace(/ /g, '_'); } catch (e) { ISP = 'Unknown'; } } GetISP(); function normalizeSecret(value) { if (!value) return ''; return value.includes('\\\\n') ? value.replace(/\\\\n/g, '\\n') : value; } function readOptionalFile(filePath) { if (!filePath) return ''; const resolvedPath = path.isAbsolute(filePath) ? filePath : path.join(__dirname, filePath); try { return fs.readFileSync(resolvedPath, 'utf8'); } catch (error) { console.warn(`Failed to read TLS file ${resolvedPath}: ${error.message}`); return ''; } } function getTLSOptions() { let key = normalizeSecret(process.env.TLS_KEY); let cert = normalizeSecret(process.env.TLS_CERT); if (!key) { key = readOptionalFile(TLS_KEY_PATH); } if (!cert) { cert = readOptionalFile(TLS_CERT_PATH); } if (key \u0026\u0026 cert) { return { key, cert }; } if (key || cert) { console.warn('Both TLS key and certificate are required; falling back to HTTP.'); } return null; } const requestHandler = (req, res) =\u003e { if (req.url === '/') { const filePath = path.join(__dirname, 'index.html'); fs.readFile(filePath, 'utf8', (err, content) =\u003e { if (err) { res.writeHead(200, { 'Content-Type': 'text/html' }); res.end('Hello world!'); return; } res.writeHead(200, { 'Content-Type': 'text/html' }); res.end(content); }); return; } else if (req.url === `/${SUB_PATH}`) { const namePart = NAME ? `${NAME}-${ISP}` : ISP; const vlessURL = `vless://${UUID}@${DOMAIN}?encryption=none\u0026security=tls\u0026sni=${DOMAIN}:443\u0026fp=chrome\u0026type=ws\u0026host=${DOMAIN}\u0026path=%2F${WSPATH}#${namePart}`; const trojanURL = `trojan://${UUID}@${DOMAIN}?security=tls\u0026sni=${DOMAIN}\u0026fp=chrome\u0026type=ws\u0026host=${DOMAIN}:443\u0026path=%2F${WSPATH}#${namePart}`; const subscription = vlessURL + '\\n' + trojanURL; const base64Content = Buffer.from(subscription).toString('base64'); res.writeHead(200, { 'Content-Type': 'text/plain' }); res.end(base64Content + '\\n'); } else { res.writeHead(404, { 'Content-Type': 'text/plain' }); res.end('Not Found\\n'); } }; const tlsOptions = getTLSOptions(); const httpServer = tlsOptions ? https.createServer(tlsOptions, requestHandler) : http.createServer(requestHandler); const wss = new WebSocket.Server({ server: httpServer }); const uuid = UUID.replace(/-/g, \"\"); const DNS_SERVERS = ['8.8.4.4', '1.1.1.1']; // Custom DNS function resolveHost(host) { return new Promise((resolve, reject) =\u003e { if (/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(host)) { resolve(host); return; } let attempts = 0; function tryNextDNS() { if (attempts \u003e= DNS_SERVERS.length) { reject(new Error(`Failed to resolve ${host} with all DNS servers`)); return; } const dnsServer = DNS_SERVERS[attempts]; attempts++; const dnsQuery = `https://dns.google/resolve?name=${encodeURIComponent(host)}\u0026type=A`; axios.get(dnsQuery, { timeout: 5000, headers: { 'Accept': 'application/dns-json' } }) .then(response =\u003e { const data = response.data; if (data.Status === 0 \u0026\u0026 data.Answer \u0026\u0026 data.Answer.length \u003e 0) { const ip = data.Answer.find(record =\u003e record.type === 1); if (ip) { resolve(ip.data); return; } } tryNextDNS(); }) .catch(error =\u003e { tryNextDNS(); }); } tryNextDNS(); }); } // VLE-SS处理 function handleVlessConnection(ws, msg) { const [VERSION] = msg; const id = msg.slice(1, 17); if (!id.every((v, i) =\u003e v == parseInt(uuid.substr(i * 2, 2), 16))) return false; let i = msg.slice(17, 18).readUInt8() + 19; const port = msg.slice(i, i += 2).readUInt16BE(0); const ATYP = msg.slice(i, i += 1).readUInt8(); const host = ATYP == 1 ? msg.slice(i, i += 4).join('.') : (ATYP == 2 ? new TextDecoder().decode(msg.slice(i + 1, i += 1 + msg.slice(i, i + 1).readUInt8())) : (ATYP == 3 ? msg.slice(i, i += 16).reduce((s, b, i, a) =\u003e (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []).map(b =\u003e b.readUInt16BE(0).toString(16)).join(':') : '')); ws.send(new Uint8Array([VERSION, 0])); const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP =\u003e { net.connect({ host: resolvedIP, port }, function() { this.write(msg.slice(i)); duplex.on('error', () =\u003e {}).pipe(this).on('error', () =\u003e {}).pipe(duplex); }).on('error', () =\u003e {}); }) .catch(error =\u003e { net.connect({ host, port }, function() { this.write(msg.slice(i)); duplex.on('error', () =\u003e {}).pipe(this).on('error', () =\u003e {}).pipe(duplex); }).on('error', () =\u003e {}); }); return true; } // Tro-jan处理 function handleTrojanConnection(ws, msg) { try { if (msg.length \u003c 58) return false; const receivedPasswordHash = msg.slice(0, 56).toString(); const possiblePasswords = [ UUID, ]; let matchedPassword = null; for (const pwd of possiblePasswords) { const hash = crypto.createHash('sha224').update(pwd).digest('hex'); if (hash === receivedPasswordHash) { matchedPassword = pwd; break; } } if (!matchedPassword) return false; let offset = 56; if (msg[offset] === 0x0d \u0026\u0026 msg[offset + 1] === 0x0a) { offset += 2; } const cmd = msg[offset]; if (cmd !== 0x01) return false; offset += 1; const atyp = msg[offset]; offset += 1; let host, port; if (atyp === 0x01) { host = msg.slice(offset, offset + 4).join('.'); offset += 4; } else if (atyp === 0x03) { const hostLen = msg[offset]; offset += 1; host = msg.slice(offset, offset + hostLen).toString(); offset += hostLen; } else if (atyp === 0x04) { host = msg.slice(offset, offset + 16).reduce((s, b, i, a) =\u003e (i % 2 ? s.concat(a.slice(i - 1, i + 1)) : s), []) .map(b =\u003e b.readUInt16BE(0).toString(16)).join(':'); offset += 16; } else { return false; } port = msg.readUInt16BE(offset); offset += 2; if (offset \u003c msg.length \u0026\u0026 msg[offset] === 0x0d \u0026\u0026 msg[offset + 1] === 0x0a) { offset += 2; } const duplex = createWebSocketStream(ws); resolveHost(host) .then(resolvedIP =\u003e { net.connect({ host: resolvedIP, port }, function() { if (offset \u003c msg.length) { this.write(msg.slice(offset)); } duplex.on('error', () =\u003e {}).pipe(this).on('error', () =\u003e {}).pipe(duplex); }).on('error', () =\u003e {}); }) .catch(error =\u003e { net.connect({ host, port }, function() { if (offset \u003c msg.length) { this.write(msg.slice(offset)); } duplex.on('error', () =\u003e {}).pipe(this).on('error', () =\u003e {}).pipe(duplex); }).on('error', () =\u003e {}); }); return true; } catch (error) { return false; } } // Ws 连接处理 wss.on('connection', (ws, req) =\u003e { const url = req.url || ''; ws.once('message', msg =\u003e { if (msg.length \u003e 17 \u0026\u0026 msg[0] === 0) { const id = msg.slice(1, 17); const isVless = id.every((v, i) =\u003e v == parseInt(uuid.substr(i * 2, 2), 16)); if (isVless) { if (!handleVlessConnection(ws, msg)) { ws.close(); } return; } } if (!handleTrojanConnection(ws, msg)) { ws.close(); } }).on('error', () =\u003e {}); }); httpServer.listen(PORT, () =\u003e { const scheme = tlsOptions ? 'HTTPS/WSS' : 'HTTP/WS'; console.log(`Server is running on ${scheme} port ${PORT}`); }); 其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，\n点开，然后点 Embed this Space\n看src那里，大善人给了咱们一个免费的域名，这个域名是自带证书的！！！我们把域名拷贝下来\n然后根据实际情况修改 index.js\nconst DOMAIN = process.env.DOMAIN || 'xxx.qzz.io'; // 填写你最终在cf填写的域名 const SUB_PATH = process.env.SUB_PATH || 'sub'; // 获取节点的订阅路径，最好改掉 const TLS_KEY_PATH = process.env.TLS_KEY_PATH || ''; // 善人给了证书，就不用设置了，改成空 const TLS_CERT_PATH = process.env.TLS_CERT_PATH || ''; // 善人给了证书，就不用设置了，改成空 改完后是这样的：\n然后改好了，别急着贴进去：\n去到 去到 https://obfuscator.io/legacy-playground\n贴进去代码，混淆一下，弄成谁也认不得的模样，然后Copy，再贴进去\n然后再建立 package.json 文件\n{ \"name\": \"js02\", \"version\": \"0.0.2\", \"description\": \"Nodejs-server\", \"main\": \"index.js\", \"private\": false, \"scripts\": { \"start\": \"node index.js\" }, \"dependencies\": { \"ws\": \"^8.14.2\", \"axios\": \"^1.12.2\" }, \"engines\": { \"node\": \"\u003e=14\" } } 再建立 index.html 文件, 这是个用来装饰的环保单页面，如果不加，就会显示hello world，太假了，可以让 gemini 给你生成一个，代码如下：\n\u003c!DOCTYPE html\u003e ","wordCount":"3066","inLanguage":"zh","image":"https://rendoumi.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2026-01-06T09:00:01+08:00","dateModified":"2026-01-06T09:00:01+08:00","author":{"@type":"Person","name":"八戒"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://rendoumi.com/posts/20260106-huggingface_vless_trojan/"},"publisher":{"@type":"Organization","name":"八戒的技术博客","logo":{"@type":"ImageObject","url":"https://rendoumi.com/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://rendoumi.com/ accesskey=h title="Home (Alt + H)"><img src=https://rendoumi.com/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://rendoumi.com/ title=首页><span>首页</span></a></li><li><a href=https://rendoumi.com/posts/ title=文章><span>文章</span></a></li><li><a href=https://rendoumi.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.rendoumi.com title=生活><span>生活</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://rendoumi.com/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://rendoumi.com/>主页</a>&nbsp;»&nbsp;<a href=https://rendoumi.com/posts/>所有文章</a></div><h1 class="post-title entry-hint-parent">huggingface.co薅羊毛记
<span class=entry-hint title=Draft><svg height="35" viewBox="0 -960 960 960" fill="currentcolor"><path d="M160-410v-60h3e2v60H160zm0-165v-60h470v60H160zm0-165v-60h470v60H160zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22-4.5 22.5T862.09-380L643-160H520zm3e2-263-37-37 37 37zM580-220h38l121-122-18-19-19-18-122 121v38zm141-141-19-18 37 37-18-19z"/></svg></span></h1><div class=post-meta><span title='2026-01-06 09:00:01 +0800 CST'>2026年01月06日</span>&nbsp;·&nbsp;<span>15 分钟</span>&nbsp;·&nbsp;<span>3066 字</span>&nbsp;·&nbsp;<span>八戒</span></div></header><div class=post-content><p>应佬友的要求再出一篇文章，前面薅了wispbyte.com的羊毛，但是吧容器比较弱小，强一点的就是huggingface.co的容器：</p><p>Free版本就是2vCPU和16GB RAM，就已经非常强了</p><p><img alt=image-20260106092514521 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106092514521.png></p><p>那先介绍一下huggingface，其实这是一家非常强悍的公司，可以称作是“AI界的GitHub”，可以分享模型，数据集，然后演示应用。</p><p>我们用到的就是这个演示应用（Spaces）</p><p>首先注册好账号，然后右上角点击头像按钮，新建一个Space</p><p><img alt=image-20260106104401915 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106104401915.png></p><p>然后填入必须项</p><ul><li>Space name：就写myhome</li><li>Short description：Save Our Home</li><li>License：MIT</li><li>SDK：选择Docker</li><li>Docker template: 选择Blank</li><li>Space hardware：选择Free</li></ul><p><img alt=image-20260106104916165 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106104916165.png></p><p>其它都不选，最后CreateSpace即可</p><p>然后就建好了，其实是给你开了一个git的repo</p><p>我们到右上角，选择Files选项</p><p><img alt=image-20260106105206257 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106105206257.png></p><p>然后打开的文件页面，只有两个文件</p><p><img alt=image-20260106105253425 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106105253425.png></p><p>老套路，建立一个Dockerfile文件，就是容器的打包文件</p><p><img alt=image-20260106105349755 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106105349755.png></p><p>Dockerfile的内容，编辑好，然后提交，注意：Linux有严格的大小写要求，务必遵守</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>FROM nikolaik/python-nodejs:python3.14-nodejs22
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>WORKDIR /tmp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>COPY index.js /tmp/index.js
</span></span><span class=line><span class=cl>COPY package.json /tmp/package.json
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>COPY index.html /tmp/index.html
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>CMD npm install <span class=o>&amp;&amp;</span> node index.js
</span></span></code></pre></div><p><img alt=image-20260106114337260 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106114337260.png></p><p>然后我们把index.js准备好，需要修改几个地方</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>const <span class=nv>http</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;http&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>https</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;https&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>fs</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;fs&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>axios</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;axios&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>net</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;net&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>path</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;path&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>crypto</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;crypto&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=o>{</span> Buffer <span class=o>}</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;buffer&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=o>{</span> WebSocket, createWebSocketStream <span class=o>}</span> <span class=o>=</span> require<span class=o>(</span><span class=s1>&#39;ws&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// 生成 UUID v4
</span></span><span class=line><span class=cl><span class=k>function</span> generateUUID<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> crypto.randomUUID<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>const <span class=nv>UUID</span> <span class=o>=</span> process.env.UUID <span class=o>||</span> generateUUID<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>DOMAIN</span> <span class=o>=</span> process.env.DOMAIN <span class=o>||</span> <span class=s1>&#39;1234.abc.com&#39;</span><span class=p>;</span>       // 填写项目域名
</span></span><span class=line><span class=cl>const <span class=nv>WSPATH</span> <span class=o>=</span> process.env.WSPATH <span class=o>||</span> UUID.slice<span class=o>(</span>0, 8<span class=o>)</span><span class=p>;</span>     // 节点路径，默认获取uuid前8位
</span></span><span class=line><span class=cl>const <span class=nv>SUB_PATH</span> <span class=o>=</span> process.env.SUB_PATH <span class=o>||</span> <span class=s1>&#39;sub&#39;</span><span class=p>;</span>            // 获取节点的订阅路径
</span></span><span class=line><span class=cl>const <span class=nv>NAME</span> <span class=o>=</span> process.env.NAME <span class=o>||</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>                       // 节点名称
</span></span><span class=line><span class=cl>const <span class=nv>PORT</span> <span class=o>=</span> process.env.PORT <span class=o>||</span> 7860<span class=p>;</span>                     // http和ws服务端口
</span></span><span class=line><span class=cl>const <span class=nv>TLS_KEY_PATH</span> <span class=o>=</span> process.env.TLS_KEY_PATH <span class=o>||</span> <span class=s1>&#39;tls.key&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>TLS_CERT_PATH</span> <span class=o>=</span> process.env.TLS_CERT_PATH <span class=o>||</span> <span class=s1>&#39;tls.crt&#39;</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>let</span> <span class=nv>ISP</span> <span class=o>=</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>GetISP</span> <span class=o>=</span> async <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>  try <span class=o>{</span>
</span></span><span class=line><span class=cl>    const <span class=nv>res</span> <span class=o>=</span> await axios.get<span class=o>(</span><span class=s1>&#39;https://api.ip.sb/geoip&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>data</span> <span class=o>=</span> res.data<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>ISP</span> <span class=o>=</span> <span class=sb>`</span><span class=si>${</span><span class=nv>data</span><span class=p>.country_code</span><span class=si>}</span>-<span class=si>${</span><span class=nv>data</span><span class=p>.isp</span><span class=si>}</span><span class=sb>`</span>.replace<span class=o>(</span>/ /g, <span class=s1>&#39;_&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span> catch <span class=o>(</span>e<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>ISP</span> <span class=o>=</span> <span class=s1>&#39;Unknown&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>GetISP<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> normalizeSecret<span class=o>(</span>value<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>!value<span class=o>)</span> <span class=k>return</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> value.includes<span class=o>(</span><span class=s1>&#39;\\n&#39;</span><span class=o>)</span> ? value.replace<span class=o>(</span>/<span class=se>\\</span>n/g, <span class=s1>&#39;\n&#39;</span><span class=o>)</span> : value<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> readOptionalFile<span class=o>(</span>filePath<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>!filePath<span class=o>)</span> <span class=k>return</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>resolvedPath</span> <span class=o>=</span> path.isAbsolute<span class=o>(</span>filePath<span class=o>)</span> ? filePath : path.join<span class=o>(</span>__dirname, filePath<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  try <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> fs.readFileSync<span class=o>(</span>resolvedPath, <span class=s1>&#39;utf8&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span> catch <span class=o>(</span>error<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    console.warn<span class=o>(</span><span class=sb>`</span>Failed to <span class=nb>read</span> TLS file <span class=si>${</span><span class=nv>resolvedPath</span><span class=si>}</span>: <span class=si>${</span><span class=nv>error</span><span class=p>.message</span><span class=si>}</span><span class=sb>`</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> getTLSOptions<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=nb>let</span> <span class=nv>key</span> <span class=o>=</span> normalizeSecret<span class=o>(</span>process.env.TLS_KEY<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nb>let</span> <span class=nv>cert</span> <span class=o>=</span> normalizeSecret<span class=o>(</span>process.env.TLS_CERT<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>!key<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>key</span> <span class=o>=</span> readOptionalFile<span class=o>(</span>TLS_KEY_PATH<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>!cert<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nv>cert</span> <span class=o>=</span> readOptionalFile<span class=o>(</span>TLS_CERT_PATH<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>key <span class=o>&amp;&amp;</span> cert<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>{</span> key, cert <span class=o>}</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>key <span class=o>||</span> cert<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    console.warn<span class=o>(</span><span class=s1>&#39;Both TLS key and certificate are required; falling back to HTTP.&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> null<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>const <span class=nv>requestHandler</span> <span class=o>=</span> <span class=o>(</span>req, res<span class=o>)</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>req.url <span class=o>===</span> <span class=s1>&#39;/&#39;</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    const <span class=nv>filePath</span> <span class=o>=</span> path.join<span class=o>(</span>__dirname, <span class=s1>&#39;index.html&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    fs.readFile<span class=o>(</span>filePath, <span class=s1>&#39;utf8&#39;</span>, <span class=o>(</span>err, content<span class=o>)</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span>err<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        res.writeHead<span class=o>(</span>200, <span class=o>{</span> <span class=s1>&#39;Content-Type&#39;</span>: <span class=s1>&#39;text/html&#39;</span> <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        res.end<span class=o>(</span><span class=s1>&#39;Hello world!&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>      res.writeHead<span class=o>(</span>200, <span class=o>{</span> <span class=s1>&#39;Content-Type&#39;</span>: <span class=s1>&#39;text/html&#39;</span> <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      res.end<span class=o>(</span>content<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span>req.url <span class=o>===</span> <span class=sb>`</span>/<span class=si>${</span><span class=nv>SUB_PATH</span><span class=si>}</span><span class=sb>`</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    const <span class=nv>namePart</span> <span class=o>=</span> NAME ? <span class=sb>`</span><span class=si>${</span><span class=nv>NAME</span><span class=si>}</span>-<span class=si>${</span><span class=nv>ISP</span><span class=si>}</span><span class=sb>`</span> : ISP<span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>vlessURL</span> <span class=o>=</span> <span class=sb>`</span>vless://<span class=si>${</span><span class=nv>UUID</span><span class=si>}</span>@<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>?encryption<span class=o>=</span>none<span class=p>&amp;</span><span class=nv>security</span><span class=o>=</span>tls<span class=p>&amp;</span><span class=nv>sni</span><span class=o>=</span><span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>:443<span class=p>&amp;</span><span class=nv>fp</span><span class=o>=</span>chrome<span class=p>&amp;</span><span class=nv>type</span><span class=o>=</span>ws<span class=p>&amp;</span><span class=nv>host</span><span class=o>=</span><span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span><span class=p>&amp;</span><span class=nv>path</span><span class=o>=</span>%2F<span class=si>${</span><span class=nv>WSPATH</span><span class=si>}</span><span class=c1>#${namePart}`;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>trojanURL</span> <span class=o>=</span> <span class=sb>`</span>trojan://<span class=si>${</span><span class=nv>UUID</span><span class=si>}</span>@<span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>?security<span class=o>=</span>tls<span class=p>&amp;</span><span class=nv>sni</span><span class=o>=</span><span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span><span class=p>&amp;</span><span class=nv>fp</span><span class=o>=</span>chrome<span class=p>&amp;</span><span class=nv>type</span><span class=o>=</span>ws<span class=p>&amp;</span><span class=nv>host</span><span class=o>=</span><span class=si>${</span><span class=nv>DOMAIN</span><span class=si>}</span>:443<span class=p>&amp;</span><span class=nv>path</span><span class=o>=</span>%2F<span class=si>${</span><span class=nv>WSPATH</span><span class=si>}</span><span class=c1>#${namePart}`;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>subscription</span> <span class=o>=</span> vlessURL + <span class=s1>&#39;\n&#39;</span> + trojanURL<span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>base64Content</span> <span class=o>=</span> Buffer.from<span class=o>(</span>subscription<span class=o>)</span>.toString<span class=o>(</span><span class=s1>&#39;base64&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    res.writeHead<span class=o>(</span>200, <span class=o>{</span> <span class=s1>&#39;Content-Type&#39;</span>: <span class=s1>&#39;text/plain&#39;</span> <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    res.end<span class=o>(</span>base64Content + <span class=s1>&#39;\n&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    res.writeHead<span class=o>(</span>404, <span class=o>{</span> <span class=s1>&#39;Content-Type&#39;</span>: <span class=s1>&#39;text/plain&#39;</span> <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    res.end<span class=o>(</span><span class=s1>&#39;Not Found\n&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>const <span class=nv>tlsOptions</span> <span class=o>=</span> getTLSOptions<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>httpServer</span> <span class=o>=</span> tlsOptions ? https.createServer<span class=o>(</span>tlsOptions, requestHandler<span class=o>)</span> : http.createServer<span class=o>(</span>requestHandler<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>const <span class=nv>wss</span> <span class=o>=</span> new WebSocket.Server<span class=o>({</span> server: httpServer <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>uuid</span> <span class=o>=</span> UUID.replace<span class=o>(</span>/-/g, <span class=s2>&#34;&#34;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>const <span class=nv>DNS_SERVERS</span> <span class=o>=</span> <span class=o>[</span><span class=s1>&#39;8.8.4.4&#39;</span>, <span class=s1>&#39;1.1.1.1&#39;</span><span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>// Custom DNS
</span></span><span class=line><span class=cl><span class=k>function</span> resolveHost<span class=o>(</span>host<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> new Promise<span class=o>((</span>resolve, reject<span class=o>)</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>/^<span class=o>(</span>?:<span class=o>(</span>?:25<span class=o>[</span>0-5<span class=o>]</span><span class=p>|</span>2<span class=o>[</span>0-4<span class=o>][</span>0-9<span class=o>]</span><span class=p>|</span><span class=o>[</span>01<span class=o>]</span>?<span class=o>[</span>0-9<span class=o>][</span>0-9<span class=o>]</span>?<span class=o>)</span><span class=se>\.</span><span class=o>){</span>3<span class=o>}(</span>?:25<span class=o>[</span>0-5<span class=o>]</span><span class=p>|</span>2<span class=o>[</span>0-4<span class=o>][</span>0-9<span class=o>]</span><span class=p>|</span><span class=o>[</span>01<span class=o>]</span>?<span class=o>[</span>0-9<span class=o>][</span>0-9<span class=o>]</span>?<span class=o>)</span>$/.test<span class=o>(</span>host<span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      resolve<span class=o>(</span>host<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=nb>let</span> <span class=nv>attempts</span> <span class=o>=</span> 0<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> tryNextDNS<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span>attempts &gt;<span class=o>=</span> DNS_SERVERS.length<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        reject<span class=o>(</span>new Error<span class=o>(</span><span class=sb>`</span>Failed to resolve <span class=si>${</span><span class=nv>host</span><span class=si>}</span> with all DNS servers<span class=sb>`</span><span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>      const <span class=nv>dnsServer</span> <span class=o>=</span> DNS_SERVERS<span class=o>[</span>attempts<span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      attempts++<span class=p>;</span>
</span></span><span class=line><span class=cl>      const <span class=nv>dnsQuery</span> <span class=o>=</span> <span class=sb>`</span>https://dns.google/resolve?name<span class=o>=</span><span class=si>${</span><span class=nv>encodeURIComponent</span><span class=p>(host)</span><span class=si>}</span><span class=p>&amp;</span><span class=nv>type</span><span class=o>=</span>A<span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      axios.get<span class=o>(</span>dnsQuery, <span class=o>{</span>
</span></span><span class=line><span class=cl>        timeout: 5000,
</span></span><span class=line><span class=cl>        headers: <span class=o>{</span>
</span></span><span class=line><span class=cl>          <span class=s1>&#39;Accept&#39;</span>: <span class=s1>&#39;application/dns-json&#39;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span>
</span></span><span class=line><span class=cl>      .then<span class=o>(</span><span class=nv>response</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>        const <span class=nv>data</span> <span class=o>=</span> response.data<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span>data.Status <span class=o>===</span> <span class=m>0</span> <span class=o>&amp;&amp;</span> data.Answer <span class=o>&amp;&amp;</span> data.Answer.length &gt; 0<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>          const <span class=nv>ip</span> <span class=o>=</span> data.Answer.find<span class=o>(</span><span class=nv>record</span> <span class=o>=</span>&gt; record.type <span class=o>===</span> 1<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=o>(</span>ip<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            resolve<span class=o>(</span>ip.data<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        tryNextDNS<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span>
</span></span><span class=line><span class=cl>      .catch<span class=o>(</span><span class=nv>error</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>        tryNextDNS<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    tryNextDNS<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// VLE-SS处理
</span></span><span class=line><span class=cl><span class=k>function</span> handleVlessConnection<span class=o>(</span>ws, msg<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  const <span class=o>[</span>VERSION<span class=o>]</span> <span class=o>=</span> msg<span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>id</span> <span class=o>=</span> msg.slice<span class=o>(</span>1, 17<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>(</span>!id.every<span class=o>((</span>v, i<span class=o>)</span> <span class=o>=</span>&gt; <span class=nv>v</span> <span class=o>==</span> parseInt<span class=o>(</span>uuid.substr<span class=o>(</span>i * 2, 2<span class=o>)</span>, 16<span class=o>)))</span> <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nb>let</span> <span class=nv>i</span> <span class=o>=</span> msg.slice<span class=o>(</span>17, 18<span class=o>)</span>.readUInt8<span class=o>()</span> + 19<span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>port</span> <span class=o>=</span> msg.slice<span class=o>(</span>i, <span class=nv>i</span> <span class=o>+=</span> 2<span class=o>)</span>.readUInt16BE<span class=o>(</span>0<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>ATYP</span> <span class=o>=</span> msg.slice<span class=o>(</span>i, <span class=nv>i</span> <span class=o>+=</span> 1<span class=o>)</span>.readUInt8<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>host</span> <span class=o>=</span> <span class=nv>ATYP</span> <span class=o>==</span> <span class=m>1</span> ? msg.slice<span class=o>(</span>i, <span class=nv>i</span> <span class=o>+=</span> 4<span class=o>)</span>.join<span class=o>(</span><span class=s1>&#39;.&#39;</span><span class=o>)</span> :
</span></span><span class=line><span class=cl>    <span class=o>(</span><span class=nv>ATYP</span> <span class=o>==</span> <span class=m>2</span> ? new TextDecoder<span class=o>()</span>.decode<span class=o>(</span>msg.slice<span class=o>(</span>i + 1, <span class=nv>i</span> <span class=o>+=</span> <span class=m>1</span> + msg.slice<span class=o>(</span>i, i + 1<span class=o>)</span>.readUInt8<span class=o>()))</span> :
</span></span><span class=line><span class=cl>    <span class=o>(</span><span class=nv>ATYP</span> <span class=o>==</span> <span class=m>3</span> ? msg.slice<span class=o>(</span>i, <span class=nv>i</span> <span class=o>+=</span> 16<span class=o>)</span>.reduce<span class=o>((</span>s, b, i, a<span class=o>)</span> <span class=o>=</span>&gt; <span class=o>(</span>i % <span class=m>2</span> ? s.concat<span class=o>(</span>a.slice<span class=o>(</span>i - 1, i + 1<span class=o>))</span> : s<span class=o>)</span>, <span class=o>[])</span>.map<span class=o>(</span><span class=nv>b</span> <span class=o>=</span>&gt; b.readUInt16BE<span class=o>(</span>0<span class=o>)</span>.toString<span class=o>(</span>16<span class=o>))</span>.join<span class=o>(</span><span class=s1>&#39;:&#39;</span><span class=o>)</span> : <span class=s1>&#39;&#39;</span><span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  ws.send<span class=o>(</span>new Uint8Array<span class=o>([</span>VERSION, 0<span class=o>]))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  const <span class=nv>duplex</span> <span class=o>=</span> createWebSocketStream<span class=o>(</span>ws<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  resolveHost<span class=o>(</span>host<span class=o>)</span>
</span></span><span class=line><span class=cl>    .then<span class=o>(</span><span class=nv>resolvedIP</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>      net.connect<span class=o>({</span> host: resolvedIP, port <span class=o>}</span>, <span class=k>function</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        this.write<span class=o>(</span>msg.slice<span class=o>(</span>i<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        duplex.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>this<span class=o>)</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>duplex<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>})</span>
</span></span><span class=line><span class=cl>    .catch<span class=o>(</span><span class=nv>error</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>      net.connect<span class=o>({</span> host, port <span class=o>}</span>, <span class=k>function</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        this.write<span class=o>(</span>msg.slice<span class=o>(</span>i<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        duplex.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>this<span class=o>)</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>duplex<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> true<span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>// Tro-jan处理
</span></span><span class=line><span class=cl><span class=k>function</span> handleTrojanConnection<span class=o>(</span>ws, msg<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  try <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>msg.length &lt; 58<span class=o>)</span> <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>receivedPasswordHash</span> <span class=o>=</span> msg.slice<span class=o>(</span>0, 56<span class=o>)</span>.toString<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>possiblePasswords</span> <span class=o>=</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>      UUID,
</span></span><span class=line><span class=cl>    <span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>let</span> <span class=nv>matchedPassword</span> <span class=o>=</span> null<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span>const <span class=nb>pwd</span> of possiblePasswords<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      const <span class=nb>hash</span> <span class=o>=</span> crypto.createHash<span class=o>(</span><span class=s1>&#39;sha224&#39;</span><span class=o>)</span>.update<span class=o>(</span><span class=nb>pwd</span><span class=o>)</span>.digest<span class=o>(</span><span class=s1>&#39;hex&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span><span class=nb>hash</span> <span class=o>===</span> receivedPasswordHash<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=nv>matchedPassword</span> <span class=o>=</span> pwd<span class=p>;</span>
</span></span><span class=line><span class=cl>        break<span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>!matchedPassword<span class=o>)</span> <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>let</span> <span class=nv>offset</span> <span class=o>=</span> 56<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>msg<span class=o>[</span>offset<span class=o>]</span> <span class=o>===</span> 0x0d <span class=o>&amp;&amp;</span> msg<span class=o>[</span>offset + 1<span class=o>]</span> <span class=o>===</span> 0x0a<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> 2<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    const <span class=nv>cmd</span> <span class=o>=</span> msg<span class=o>[</span>offset<span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>cmd !<span class=o>==</span> 0x01<span class=o>)</span> <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>offset</span> <span class=o>+=</span> 1<span class=p>;</span>
</span></span><span class=line><span class=cl>    const <span class=nv>atyp</span> <span class=o>=</span> msg<span class=o>[</span>offset<span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>offset</span> <span class=o>+=</span> 1<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>let</span> host, port<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=nv>atyp</span> <span class=o>===</span> 0x01<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nv>host</span> <span class=o>=</span> msg.slice<span class=o>(</span>offset, offset + 4<span class=o>)</span>.join<span class=o>(</span><span class=s1>&#39;.&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> 4<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=nv>atyp</span> <span class=o>===</span> 0x03<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      const <span class=nv>hostLen</span> <span class=o>=</span> msg<span class=o>[</span>offset<span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> 1<span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>host</span> <span class=o>=</span> msg.slice<span class=o>(</span>offset, offset + hostLen<span class=o>)</span>.toString<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> hostLen<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=nv>atyp</span> <span class=o>===</span> 0x04<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nv>host</span> <span class=o>=</span> msg.slice<span class=o>(</span>offset, offset + 16<span class=o>)</span>.reduce<span class=o>((</span>s, b, i, a<span class=o>)</span> <span class=o>=</span>&gt; 
</span></span><span class=line><span class=cl>        <span class=o>(</span>i % <span class=m>2</span> ? s.concat<span class=o>(</span>a.slice<span class=o>(</span>i - 1, i + 1<span class=o>))</span> : s<span class=o>)</span>, <span class=o>[])</span>
</span></span><span class=line><span class=cl>        .map<span class=o>(</span><span class=nv>b</span> <span class=o>=</span>&gt; b.readUInt16BE<span class=o>(</span>0<span class=o>)</span>.toString<span class=o>(</span>16<span class=o>))</span>.join<span class=o>(</span><span class=s1>&#39;:&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> 16<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nv>port</span> <span class=o>=</span> msg.readUInt16BE<span class=o>(</span>offset<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nv>offset</span> <span class=o>+=</span> 2<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>offset &lt; msg.length <span class=o>&amp;&amp;</span> msg<span class=o>[</span>offset<span class=o>]</span> <span class=o>===</span> 0x0d <span class=o>&amp;&amp;</span> msg<span class=o>[</span>offset + 1<span class=o>]</span> <span class=o>===</span> 0x0a<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=nv>offset</span> <span class=o>+=</span> 2<span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    const <span class=nv>duplex</span> <span class=o>=</span> createWebSocketStream<span class=o>(</span>ws<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    resolveHost<span class=o>(</span>host<span class=o>)</span>
</span></span><span class=line><span class=cl>      .then<span class=o>(</span><span class=nv>resolvedIP</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>        net.connect<span class=o>({</span> host: resolvedIP, port <span class=o>}</span>, <span class=k>function</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=o>(</span>offset &lt; msg.length<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            this.write<span class=o>(</span>msg.slice<span class=o>(</span>offset<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=o>}</span>
</span></span><span class=line><span class=cl>          duplex.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>this<span class=o>)</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>duplex<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>})</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span>
</span></span><span class=line><span class=cl>      .catch<span class=o>(</span><span class=nv>error</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>        net.connect<span class=o>({</span> host, port <span class=o>}</span>, <span class=k>function</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>          <span class=k>if</span> <span class=o>(</span>offset &lt; msg.length<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            this.write<span class=o>(</span>msg.slice<span class=o>(</span>offset<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=o>}</span>
</span></span><span class=line><span class=cl>          duplex.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>this<span class=o>)</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span>.pipe<span class=o>(</span>duplex<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>})</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> true<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span> catch <span class=o>(</span>error<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> false<span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>// Ws 连接处理
</span></span><span class=line><span class=cl>wss.on<span class=o>(</span><span class=s1>&#39;connection&#39;</span>, <span class=o>(</span>ws, req<span class=o>)</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>  const <span class=nv>url</span> <span class=o>=</span> req.url <span class=o>||</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  ws.once<span class=o>(</span><span class=s1>&#39;message&#39;</span>, <span class=nv>msg</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>msg.length &gt; <span class=m>17</span> <span class=o>&amp;&amp;</span> msg<span class=o>[</span>0<span class=o>]</span> <span class=o>===</span> 0<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      const <span class=nv>id</span> <span class=o>=</span> msg.slice<span class=o>(</span>1, 17<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      const <span class=nv>isVless</span> <span class=o>=</span> id.every<span class=o>((</span>v, i<span class=o>)</span> <span class=o>=</span>&gt; <span class=nv>v</span> <span class=o>==</span> parseInt<span class=o>(</span>uuid.substr<span class=o>(</span>i * 2, 2<span class=o>)</span>, 16<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span>isVless<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span>!handleVlessConnection<span class=o>(</span>ws, msg<span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>          ws.close<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span>!handleTrojanConnection<span class=o>(</span>ws, msg<span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      ws.close<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>})</span>.on<span class=o>(</span><span class=s1>&#39;error&#39;</span>, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{})</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>httpServer.listen<span class=o>(</span>PORT, <span class=o>()</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>  const <span class=nv>scheme</span> <span class=o>=</span> tlsOptions ? <span class=s1>&#39;HTTPS/WSS&#39;</span> : <span class=s1>&#39;HTTP/WS&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  console.log<span class=o>(</span><span class=sb>`</span>Server is running on <span class=si>${</span><span class=nv>scheme</span><span class=si>}</span> port <span class=si>${</span><span class=nv>PORT</span><span class=si>}</span><span class=sb>`</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>})</span><span class=p>;</span>
</span></span></code></pre></div><p>其中几个地方有修改，先看看huggingface给咱们的域名，右边，Settings右边的三个点按钮，</p><p>点开，然后点 Embed this Space</p><p><img alt=image-20260106112435004 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106112435004.png></p><p>看src那里，大善人给了咱们一个免费的域名，这个域名是自带证书的！！！我们把域名拷贝下来</p><p><img loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106112516306.png></p><p>然后根据实际情况修改 index.js</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>const <span class=nv>DOMAIN</span> <span class=o>=</span> process.env.DOMAIN <span class=o>||</span> <span class=s1>&#39;xxx.qzz.io&#39;</span><span class=p>;</span>                 // 填写你最终在cf填写的域名
</span></span><span class=line><span class=cl>const <span class=nv>SUB_PATH</span> <span class=o>=</span> process.env.SUB_PATH <span class=o>||</span> <span class=s1>&#39;sub&#39;</span><span class=p>;</span>                    // 获取节点的订阅路径，最好改掉
</span></span><span class=line><span class=cl>const <span class=nv>TLS_KEY_PATH</span> <span class=o>=</span> process.env.TLS_KEY_PATH <span class=o>||</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>               // 善人给了证书，就不用设置了，改成空
</span></span><span class=line><span class=cl>const <span class=nv>TLS_CERT_PATH</span> <span class=o>=</span> process.env.TLS_CERT_PATH <span class=o>||</span> <span class=s1>&#39;&#39;</span><span class=p>;</span>             // 善人给了证书，就不用设置了，改成空
</span></span></code></pre></div><p>改完后是这样的：</p><p><img alt=image-20260106112722331 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106112722331.png></p><p>然后改好了，别急着贴进去：</p><p>去到 去到 <a href=https://obfuscator.io/legacy-playground>https://obfuscator.io/legacy-playground</a></p><p>贴进去代码，混淆一下，弄成谁也认不得的模样，然后Copy，再贴进去</p><p><img alt=image-20260106140116857 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106140116857.png></p><p>然后再建立 package.json 文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;name&#34;</span>: <span class=s2>&#34;js02&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;version&#34;</span>: <span class=s2>&#34;0.0.2&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;description&#34;</span>: <span class=s2>&#34;Nodejs-server&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;main&#34;</span>: <span class=s2>&#34;index.js&#34;</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;private&#34;</span>: false,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;scripts&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;start&#34;</span>: <span class=s2>&#34;node index.js&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;dependencies&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;ws&#34;</span>: <span class=s2>&#34;^8.14.2&#34;</span>,
</span></span><span class=line><span class=cl>    <span class=s2>&#34;axios&#34;</span>: <span class=s2>&#34;^1.12.2&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>,
</span></span><span class=line><span class=cl>  <span class=s2>&#34;engines&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;node&#34;</span>: <span class=s2>&#34;&gt;=14&#34;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>再建立 index.html 文件, 这是个用来装饰的环保单页面，如果不加，就会显示hello world，太假了，可以让 gemini 给你生成一个，代码如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>&lt;!DOCTYPE html&gt;
</span></span><span class=line><span class=cl>&lt;html <span class=nv>lang</span><span class=o>=</span><span class=s2>&#34;en&#34;</span>&gt;
</span></span><span class=line><span class=cl>&lt;head&gt;
</span></span><span class=line><span class=cl>    &lt;meta <span class=nv>charset</span><span class=o>=</span><span class=s2>&#34;UTF-8&#34;</span>&gt;
</span></span><span class=line><span class=cl>    &lt;meta <span class=nv>name</span><span class=o>=</span><span class=s2>&#34;viewport&#34;</span> <span class=nv>content</span><span class=o>=</span><span class=s2>&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span class=line><span class=cl>    &lt;title&gt;Green Network - Protect Earth&lt;/title&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;style&gt;
</span></span><span class=line><span class=cl>        * <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            box-sizing: border-box<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-family: <span class=s1>&#39;Segoe UI&#39;</span>, Tahoma, Geneva, Verdana, sans-serif<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        :root <span class=o>{</span>
</span></span><span class=line><span class=cl>            --primary: <span class=c1>#2e7d32;</span>
</span></span><span class=line><span class=cl>            --secondary: <span class=c1>#4caf50;</span>
</span></span><span class=line><span class=cl>            --accent: <span class=c1>#8bc34a;</span>
</span></span><span class=line><span class=cl>            --light: <span class=c1>#e8f5e9;</span>
</span></span><span class=line><span class=cl>            --dark: <span class=c1>#1b5e20;</span>
</span></span><span class=line><span class=cl>            --text: <span class=c1>#333333;</span>
</span></span><span class=line><span class=cl>            --white: <span class=c1>#ffffff;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        body <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--light<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--text<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            line-height: 1.7<span class=p>;</span> /* Slightly increased line height <span class=k>for</span> readability */
</span></span><span class=line><span class=cl>            font-size: 16px<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        header <span class=o>{</span>
</span></span><span class=line><span class=cl>            background: rgba<span class=o>(</span>46, 125, 50, 0.95<span class=o>)</span><span class=p>;</span> /* Slightly transparent primary color */
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 1rem 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            position: sticky<span class=p>;</span>
</span></span><span class=line><span class=cl>            top: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            z-index: 100<span class=p>;</span>
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 4px 12px rgba<span class=o>(</span>0, 0, 0, 0.15<span class=o>)</span><span class=p>;</span> /* Enhanced shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .container <span class=o>{</span>
</span></span><span class=line><span class=cl>            width: 90%<span class=p>;</span>
</span></span><span class=line><span class=cl>            max-width: 1200px<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin: <span class=m>0</span> auto<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .nav-container <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            justify-content: space-between<span class=p>;</span>
</span></span><span class=line><span class=cl>            align-items: center<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .logo <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            align-items: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 10px<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-weight: 700<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .logo i <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            list-style: none<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul li <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin-left: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul li a <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            text-decoration: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-weight: 500<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: all 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 0.5rem 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            position: relative<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul li a:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul li a::after <span class=o>{</span>
</span></span><span class=line><span class=cl>            content: <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            position: absolute<span class=p>;</span>
</span></span><span class=line><span class=cl>            bottom: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            left: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            width: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            height: 2px<span class=p>;</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: width 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        nav ul li a:hover::after <span class=o>{</span>
</span></span><span class=line><span class=cl>            width: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .hero <span class=o>{</span>
</span></span><span class=line><span class=cl>            background: linear-gradient<span class=o>(</span>rgba<span class=o>(</span>0, 0, 0, 0.6<span class=o>)</span>, rgba<span class=o>(</span>0, 0, 0, 0.4<span class=o>))</span>, url<span class=o>(</span><span class=s1>&#39;https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=2073&amp;q=80&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            background-size: cover<span class=p>;</span>
</span></span><span class=line><span class=cl>            background-position: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            height: 80vh<span class=p>;</span>
</span></span><span class=line><span class=cl>            display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            align-items: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .hero-content <span class=o>{</span>
</span></span><span class=line><span class=cl>            max-width: 800px<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin: <span class=m>0</span> auto<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .hero h1 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 3.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            text-shadow: 2px 2px 4px rgba<span class=o>(</span>0, 0, 0, 0.5<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .hero p <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 1.3rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .btn <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: inline-block<span class=p>;</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 0.9rem 2.2rem<span class=p>;</span> /* Slightly larger padding */
</span></span><span class=line><span class=cl>            border-radius: 8px<span class=p>;</span> /* More modern rounded corners */
</span></span><span class=line><span class=cl>            text-decoration: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-weight: 600<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: all 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>            border: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            cursor: pointer<span class=p>;</span>
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 6px 10px rgba<span class=o>(</span>0, 0, 0, 0.1<span class=o>)</span><span class=p>;</span> /* Slightly enhanced shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .btn:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--primary<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            transform: translateY<span class=o>(</span>-5px<span class=o>)</span><span class=p>;</span> /* More pronounced lift effect */
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 8px 15px rgba<span class=o>(</span>0, 0, 0, 0.2<span class=o>)</span><span class=p>;</span> /* Stronger hover shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        section <span class=o>{</span>
</span></span><span class=line><span class=cl>            padding: 5rem 0<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .section-title <span class=o>{</span>
</span></span><span class=line><span class=cl>            text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 3rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .section-title h2 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 2.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--primary<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            position: relative<span class=p>;</span>
</span></span><span class=line><span class=cl>            display: inline-block<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .section-title h2::after <span class=o>{</span>
</span></span><span class=line><span class=cl>            content: <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            position: absolute<span class=p>;</span>
</span></span><span class=line><span class=cl>            bottom: -10px<span class=p>;</span>
</span></span><span class=line><span class=cl>            left: 50%<span class=p>;</span>
</span></span><span class=line><span class=cl>            transform: translateX<span class=o>(</span>-50%<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            width: 90px<span class=p>;</span> /* Slightly wider underline */
</span></span><span class=line><span class=cl>            height: 5px<span class=p>;</span> /* Thicker underline */
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            border-radius: 3px<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .section-title p <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--text<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            max-width: 700px<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin: <span class=m>0</span> auto<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-content <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: grid<span class=p>;</span>
</span></span><span class=line><span class=cl>            grid-template-columns: 1fr 1fr<span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 3rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            align-items: center<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-img <span class=o>{</span>
</span></span><span class=line><span class=cl>            border-radius: 12px<span class=p>;</span> /* More rounded */
</span></span><span class=line><span class=cl>            overflow: hidden<span class=p>;</span>
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 12px 25px rgba<span class=o>(</span>0, 0, 0, 0.15<span class=o>)</span><span class=p>;</span> /* Enhanced shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-img img <span class=o>{</span>
</span></span><span class=line><span class=cl>            width: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>            height: auto<span class=p>;</span>
</span></span><span class=line><span class=cl>            display: block<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: transform 0.5s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-img:hover img <span class=o>{</span>
</span></span><span class=line><span class=cl>            transform: scale<span class=o>(</span>1.08<span class=o>)</span><span class=p>;</span> /* More pronounced zoom */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-text h3 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--dark<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .about-text p <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.05rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .stats <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: grid<span class=p>;</span>
</span></span><span class=line><span class=cl>            grid-template-columns: repeat<span class=o>(</span>4, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-top: 4rem<span class=p>;</span> /* More space */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .stat-item <span class=o>{</span>
</span></span><span class=line><span class=cl>            text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 2.5rem 1.5rem<span class=p>;</span> /* More padding */
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            border-radius: 12px<span class=p>;</span> /* More rounded */
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 8px 20px rgba<span class=o>(</span>0, 0, 0, 0.08<span class=o>)</span><span class=p>;</span> /* Enhanced shadow */
</span></span><span class=line><span class=cl>            transition: transform 0.3s ease, box-shadow 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .stat-item:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            transform: translateY<span class=o>(</span>-12px<span class=o>)</span><span class=p>;</span> /* More pronounced lift */
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 15px 30px rgba<span class=o>(</span>0, 0, 0, 0.15<span class=o>)</span><span class=p>;</span> /* Stronger hover shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .stat-item h3 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 3rem<span class=p>;</span> /* Larger numbers */
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--dark<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 0.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .stat-item p <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--text<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiatives <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiatives-grid <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: grid<span class=p>;</span>
</span></span><span class=line><span class=cl>            grid-template-columns: repeat<span class=o>(</span>3, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 2.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-card <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--light<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            border-radius: 12px<span class=p>;</span> /* More rounded */
</span></span><span class=line><span class=cl>            overflow: hidden<span class=p>;</span>
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 8px 20px rgba<span class=o>(</span>0, 0, 0, 0.08<span class=o>)</span><span class=p>;</span> /* Enhanced shadow */
</span></span><span class=line><span class=cl>            transition: transform 0.3s ease, box-shadow 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-card:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            transform: translateY<span class=o>(</span>-12px<span class=o>)</span><span class=p>;</span> /* More pronounced lift */
</span></span><span class=line><span class=cl>            box-shadow: <span class=m>0</span> 15px 30px rgba<span class=o>(</span>0, 0, 0, 0.15<span class=o>)</span><span class=p>;</span> /* Stronger hover shadow */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-img <span class=o>{</span>
</span></span><span class=line><span class=cl>            height: 220px<span class=p>;</span> /* Slightly taller images */
</span></span><span class=line><span class=cl>            overflow: hidden<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-img img <span class=o>{</span>
</span></span><span class=line><span class=cl>            width: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>            height: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>            object-fit: cover<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: transform 0.5s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-card:hover .initiative-img img <span class=o>{</span>
</span></span><span class=line><span class=cl>            transform: scale<span class=o>(</span>1.15<span class=o>)</span><span class=p>;</span> /* More pronounced zoom */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-content <span class=o>{</span>
</span></span><span class=line><span class=cl>            padding: 2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-content h3 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 1.6rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--dark<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .initiative-content p <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.05rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .cta <span class=o>{</span>
</span></span><span class=line><span class=cl>            background: linear-gradient<span class=o>(</span>to right, var<span class=o>(</span>--primary<span class=o>)</span>, var<span class=o>(</span>--secondary<span class=o>))</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 6rem 0<span class=p>;</span> /* More padding */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .cta h2 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 3rem<span class=p>;</span> /* Larger heading */
</span></span><span class=line><span class=cl>            margin-bottom: 1.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .cta p <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 1.3rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 2.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            max-width: 700px<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-left: auto<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-right: auto<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .cta .btn <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--primary<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .cta .btn:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        footer <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--dark<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 4rem <span class=m>0</span> 2rem<span class=p>;</span> /* More padding */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-content <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: grid<span class=p>;</span>
</span></span><span class=line><span class=cl>            grid-template-columns: repeat<span class=o>(</span>4, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 2.5rem<span class=p>;</span> /* More gap */
</span></span><span class=line><span class=cl>            margin-bottom: 2.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-column h3 <span class=o>{</span>
</span></span><span class=line><span class=cl>            font-size: 1.4rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            position: relative<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding-bottom: 12px<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-column h3::after <span class=o>{</span>
</span></span><span class=line><span class=cl>            content: <span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            position: absolute<span class=p>;</span>
</span></span><span class=line><span class=cl>            bottom: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            left: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            width: 50px<span class=p>;</span> /* Wider underline */
</span></span><span class=line><span class=cl>            height: 3px<span class=p>;</span> /* Thicker underline */
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-column p <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1.2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-links <span class=o>{</span>
</span></span><span class=line><span class=cl>            list-style: none<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-links li <span class=o>{</span>
</span></span><span class=line><span class=cl>            margin-bottom: 1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-links li a <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--light<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            text-decoration: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: all 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .footer-links li a:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            padding-left: 8px<span class=p>;</span> /* More pronounced slide effect */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .social-links <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            gap: 1.2rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            margin-top: 1.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .social-links a <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: inline-flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            align-items: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            justify-content: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            width: 50px<span class=p>;</span> /* Larger social buttons */
</span></span><span class=line><span class=cl>            height: 50px<span class=p>;</span>
</span></span><span class=line><span class=cl>            background-color: rgba<span class=o>(</span>255, 255, 255, 0.15<span class=o>)</span><span class=p>;</span> /* Slightly more visible background */
</span></span><span class=line><span class=cl>            border-radius: 8px<span class=p>;</span> /* Square with rounded corners */
</span></span><span class=line><span class=cl>            color: var<span class=o>(</span>--white<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            text-decoration: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-weight: 600<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: all 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 0.9rem<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .social-links a:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: var<span class=o>(</span>--accent<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            transform: translateY<span class=o>(</span>-7px<span class=o>)</span><span class=p>;</span> /* More pronounced lift */
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .copyright <span class=o>{</span>
</span></span><span class=line><span class=cl>            text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding-top: 2.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            border-top: 1px solid rgba<span class=o>(</span>255, 255, 255, 0.15<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .mobile-menu <span class=o>{</span>
</span></span><span class=line><span class=cl>            display: none<span class=p>;</span>
</span></span><span class=line><span class=cl>            font-size: 1.5rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            cursor: pointer<span class=p>;</span>
</span></span><span class=line><span class=cl>            padding: 0.5rem 1rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            border: 1px solid rgba<span class=o>(</span>255, 255, 255, 0.3<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            border-radius: 5px<span class=p>;</span>
</span></span><span class=line><span class=cl>            transition: all 0.3s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        .mobile-menu:hover <span class=o>{</span>
</span></span><span class=line><span class=cl>            background-color: rgba<span class=o>(</span>255, 255, 255, 0.1<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        @media <span class=o>(</span>max-width: 992px<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            .about-content <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: 1fr<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .initiatives-grid <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: repeat<span class=o>(</span>2, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .footer-content <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: repeat<span class=o>(</span>2, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .stats <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: repeat<span class=o>(</span>2, 1fr<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        @media <span class=o>(</span>max-width: 768px<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            .hero h1 <span class=o>{</span>
</span></span><span class=line><span class=cl>                font-size: 2.8rem<span class=p>;</span> /* Adjusted <span class=k>for</span> better readability on smaller screens */
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .hero p <span class=o>{</span>
</span></span><span class=line><span class=cl>                font-size: 1.2rem<span class=p>;</span> /* Adjusted <span class=k>for</span> better readability on smaller screens */
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            nav ul <span class=o>{</span>
</span></span><span class=line><span class=cl>                display: none<span class=p>;</span>
</span></span><span class=line><span class=cl>                position: absolute<span class=p>;</span>
</span></span><span class=line><span class=cl>                top: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>                left: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>                width: 100%<span class=p>;</span>
</span></span><span class=line><span class=cl>                background-color: var<span class=o>(</span>--primary<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                flex-direction: column<span class=p>;</span>
</span></span><span class=line><span class=cl>                padding: 1rem 0<span class=p>;</span>
</span></span><span class=line><span class=cl>                text-align: center<span class=p>;</span>
</span></span><span class=line><span class=cl>                box-shadow: <span class=m>0</span> 5px 10px rgba<span class=o>(</span>0, 0, 0, 0.1<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            nav ul.active <span class=o>{</span>
</span></span><span class=line><span class=cl>                display: flex<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            nav ul li <span class=o>{</span>
</span></span><span class=line><span class=cl>                margin: 0<span class=p>;</span>
</span></span><span class=line><span class=cl>                padding: 0.8rem 0<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .mobile-menu <span class=o>{</span>
</span></span><span class=line><span class=cl>                display: block<span class=p>;</span>
</span></span><span class=line><span class=cl>                font-size: 1.2rem<span class=p>;</span> /* Slightly smaller <span class=k>for</span> mobile */
</span></span><span class=line><span class=cl>                padding: 0.4rem 0.8rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .initiatives-grid <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: 1fr<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .footer-content <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: 1fr<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .stats <span class=o>{</span>
</span></span><span class=line><span class=cl>                grid-template-columns: 1fr<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            .social-links a <span class=o>{</span>
</span></span><span class=line><span class=cl>                width: 45px<span class=p>;</span> /* Slightly smaller social buttons */
</span></span><span class=line><span class=cl>                height: 45px<span class=p>;</span>
</span></span><span class=line><span class=cl>                font-size: 0.85rem<span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        /* Animation <span class=k>for</span> stats counter */
</span></span><span class=line><span class=cl>        .counter <span class=o>{</span>
</span></span><span class=line><span class=cl>            transition: all 0.5s ease<span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    &lt;/style&gt;
</span></span><span class=line><span class=cl>&lt;/head&gt;
</span></span><span class=line><span class=cl>&lt;body&gt;
</span></span><span class=line><span class=cl>    &lt;!-- Header --&gt;
</span></span><span class=line><span class=cl>    &lt;header&gt;
</span></span><span class=line><span class=cl>        &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;container nav-container&#34;</span>&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;logo&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;span&gt;Green Network&lt;/span&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;nav&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;mobile-menu&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    Menu
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;ul&gt;
</span></span><span class=line><span class=cl>                    &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#home&#34;</span>&gt;Home&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#about&#34;</span>&gt;About&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#initiatives&#34;</span>&gt;Initiatives&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#get-involved&#34;</span>&gt;Get Involved&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#contact&#34;</span>&gt;Contact&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                &lt;/ul&gt;
</span></span><span class=line><span class=cl>            &lt;/nav&gt;
</span></span><span class=line><span class=cl>        &lt;/div&gt;
</span></span><span class=line><span class=cl>    &lt;/header&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;!-- Hero Section --&gt;
</span></span><span class=line><span class=cl>    &lt;section <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;hero&#34;</span> <span class=nv>id</span><span class=o>=</span><span class=s2>&#34;home&#34;</span>&gt;
</span></span><span class=line><span class=cl>        &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;container hero-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>            &lt;h1&gt;Protect Our Planet, Preserve Our Future&lt;/h1&gt;
</span></span><span class=line><span class=cl>            &lt;p&gt;Join the global movement to create a sustainable world through conservation, education, and community action.&lt;/p&gt;
</span></span><span class=line><span class=cl>            &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#get-involved&#34;</span> <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;btn&#34;</span>&gt;Join Our Network&lt;/a&gt;
</span></span><span class=line><span class=cl>        &lt;/div&gt;
</span></span><span class=line><span class=cl>    &lt;/section&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;!-- About Section --&gt;
</span></span><span class=line><span class=cl>    &lt;section <span class=nv>id</span><span class=o>=</span><span class=s2>&#34;about&#34;</span>&gt;
</span></span><span class=line><span class=cl>        &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;container&#34;</span>&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;section-title&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;h2&gt;About Green Network&lt;/h2&gt;
</span></span><span class=line><span class=cl>                &lt;p&gt;We are a global community dedicated to environmental protection and sustainable development.&lt;/p&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;about-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;about-img&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;img <span class=nv>src</span><span class=o>=</span><span class=s2>&#34;https://images.unsplash.com/photo-1507591064344-4c6ce005b128?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=2070&amp;q=80&#34;</span> <span class=nv>alt</span><span class=o>=</span><span class=s2>&#34;Team planting trees&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;about-text&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;h3&gt;Our Mission&lt;/h3&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;Green Network is committed to creating a sustainable future by protecting natural ecosystems, promoting renewable energy, and empowering communities to take environmental action.&lt;/p&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;Founded in 2010, we<span class=s1>&#39;ve grown from a small grassroots organization to an international network with over 50,000 members across 120 countries.&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;p&gt;Our approach combines scientific research, community engagement, and policy advocacy to address the most pressing environmental challenges of our time.&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;a href=&#34;#&#34; class=&#34;btn&#34;&gt;Learn More&lt;/a&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>            &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>            &lt;div class=&#34;stats&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;div class=&#34;stat-item&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;h3 class=&#34;counter&#34; data-target=&#34;2500000&#34;&gt;0&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;p&gt;Trees Planted&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;div class=&#34;stat-item&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;h3 class=&#34;counter&#34; data-target=&#34;50000&#34;&gt;0&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;p&gt;Active Members&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;div class=&#34;stat-item&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;h3 class=&#34;counter&#34; data-target=&#34;120&#34;&gt;0&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;p&gt;Countries Reached&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;div class=&#34;stat-item&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;h3 class=&#34;counter&#34; data-target=&#34;1500&#34;&gt;0&lt;/h3&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                    &lt;p&gt;Cleanup Projects&lt;/p&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>            &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>        &lt;/div&gt;
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;/section&gt;
</span></span></span><span class=line><span class=cl><span class=s1>
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;!-- Initiatives Section --&gt;
</span></span></span><span class=line><span class=cl><span class=s1>    &lt;section class=&#34;initiatives&#34; id=&#34;initiatives&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>        &lt;div class=&#34;container&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>            &lt;div class=&#34;section-title&#34;&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;h2&gt;Our Initiatives&lt;/h2&gt;
</span></span></span><span class=line><span class=cl><span class=s1>                &lt;p&gt;Discover the key programs and projects we&#39;</span>re implementing to protect our planet.&lt;/p&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiatives-grid&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-card&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-img&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;img <span class=nv>src</span><span class=o>=</span><span class=s2>&#34;https://dialogue.earth/content/uploads/2021/04/lessons-from-the-rush-to-reforest-china-dialogue-2400x1599.jpg&#34;</span> <span class=nv>alt</span><span class=o>=</span><span class=s2>&#34;Reforestation&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;h3&gt;Global Reforestation&lt;/h3&gt;
</span></span><span class=line><span class=cl>                        &lt;p&gt;Planting millions of trees worldwide to restore ecosystems, combat climate change, and protect biodiversity.&lt;/p&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span> <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;btn&#34;</span>&gt;Learn More&lt;/a&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-card&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-img&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;img <span class=nv>src</span><span class=o>=</span><span class=s2>&#34;https://images.unsplash.com/photo-1621451537084-482c73073a0f?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1974&amp;q=80&#34;</span> <span class=nv>alt</span><span class=o>=</span><span class=s2>&#34;Ocean Conservation&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;h3&gt;Ocean Conservation&lt;/h3&gt;
</span></span><span class=line><span class=cl>                        &lt;p&gt;Protecting marine ecosystems, reducing plastic pollution, and promoting sustainable fishing practices.&lt;/p&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span> <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;btn&#34;</span>&gt;Learn More&lt;/a&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-card&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-img&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;img <span class=nv>src</span><span class=o>=</span><span class=s2>&#34;https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=2072&amp;q=80&#34;</span> <span class=nv>alt</span><span class=o>=</span><span class=s2>&#34;Renewable Energy&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;initiative-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;h3&gt;Renewable Energy&lt;/h3&gt;
</span></span><span class=line><span class=cl>                        &lt;p&gt;Promoting solar, wind, and other clean energy sources to reduce dependence on fossil fuels.&lt;/p&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span> <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;btn&#34;</span>&gt;Learn More&lt;/a&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>        &lt;/div&gt;
</span></span><span class=line><span class=cl>    &lt;/section&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;!-- CTA Section --&gt;
</span></span><span class=line><span class=cl>    &lt;section <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;cta&#34;</span> <span class=nv>id</span><span class=o>=</span><span class=s2>&#34;get-involved&#34;</span>&gt;
</span></span><span class=line><span class=cl>        &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;container&#34;</span>&gt;
</span></span><span class=line><span class=cl>            &lt;h2&gt;Join Our Global Movement&lt;/h2&gt;
</span></span><span class=line><span class=cl>            &lt;p&gt;Together, we can create a sustainable future <span class=k>for</span> generations to come. Every action counts, no matter how small.&lt;/p&gt;
</span></span><span class=line><span class=cl>            &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span> <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;btn&#34;</span>&gt;Become a Member&lt;/a&gt;
</span></span><span class=line><span class=cl>        &lt;/div&gt;
</span></span><span class=line><span class=cl>    &lt;/section&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;!-- Footer --&gt;
</span></span><span class=line><span class=cl>    &lt;footer <span class=nv>id</span><span class=o>=</span><span class=s2>&#34;contact&#34;</span>&gt;
</span></span><span class=line><span class=cl>        &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;container&#34;</span>&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-content&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-column&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;h3&gt;Green Network&lt;/h3&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;We are dedicated to protecting our planet through collaborative action, education, and sustainable solutions.&lt;/p&gt;
</span></span><span class=line><span class=cl>                    &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;social-links&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Facebook&lt;/a&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Twitter&lt;/a&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Instagram&lt;/a&gt;
</span></span><span class=line><span class=cl>                        &lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;LinkedIn&lt;/a&gt;
</span></span><span class=line><span class=cl>                    &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-column&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;h3&gt;Quick Links&lt;/h3&gt;
</span></span><span class=line><span class=cl>                    &lt;ul <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-links&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#home&#34;</span>&gt;Home&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#about&#34;</span>&gt;About Us&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#initiatives&#34;</span>&gt;Initiatives&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#get-involved&#34;</span>&gt;Get Involved&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#contact&#34;</span>&gt;Contact&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;/ul&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-column&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;h3&gt;Our Programs&lt;/h3&gt;
</span></span><span class=line><span class=cl>                    &lt;ul <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-links&#34;</span>&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Reforestation&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Ocean Cleanup&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Wildlife Protection&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Climate Education&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                        &lt;li&gt;&lt;a <span class=nv>href</span><span class=o>=</span><span class=s2>&#34;#&#34;</span>&gt;Sustainable Agriculture&lt;/a&gt;&lt;/li&gt;
</span></span><span class=line><span class=cl>                    &lt;/ul&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>                &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;footer-column&#34;</span>&gt;
</span></span><span class=line><span class=cl>                    &lt;h3&gt;Contact Us&lt;/h3&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;Copper Creek Drive, New York&lt;/p&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;+1 <span class=o>(</span>312<span class=o>)</span> 171-0771&lt;/p&gt;
</span></span><span class=line><span class=cl>                    &lt;p&gt;support@greennetwork.org&lt;/p&gt;
</span></span><span class=line><span class=cl>                &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>            &lt;div <span class=nv>class</span><span class=o>=</span><span class=s2>&#34;copyright&#34;</span>&gt;
</span></span><span class=line><span class=cl>                &lt;p&gt;<span class=p>&amp;</span>copy<span class=p>;</span> <span class=m>2025</span> Green Network. All rights reserved.&lt;/p&gt;
</span></span><span class=line><span class=cl>            &lt;/div&gt;
</span></span><span class=line><span class=cl>        &lt;/div&gt;
</span></span><span class=line><span class=cl>    &lt;/footer&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    &lt;script&gt;
</span></span><span class=line><span class=cl>        // Mobile Menu Toggle
</span></span><span class=line><span class=cl>        document.querySelector<span class=o>(</span><span class=s1>&#39;.mobile-menu&#39;</span><span class=o>)</span>.addEventListener<span class=o>(</span><span class=s1>&#39;click&#39;</span>, <span class=k>function</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            document.querySelector<span class=o>(</span><span class=s1>&#39;nav ul&#39;</span><span class=o>)</span>.classList.toggle<span class=o>(</span><span class=s1>&#39;active&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Counter Animation
</span></span><span class=line><span class=cl>        <span class=k>function</span> animateCounters<span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            const <span class=nv>counters</span> <span class=o>=</span> document.querySelectorAll<span class=o>(</span><span class=s1>&#39;.counter&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            const <span class=nv>speed</span> <span class=o>=</span> 200<span class=p>;</span> // The lower the slower
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            counters.forEach<span class=o>(</span><span class=nv>counter</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>                const <span class=nv>target</span> <span class=o>=</span> +counter.getAttribute<span class=o>(</span><span class=s1>&#39;data-target&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                const <span class=nv>count</span> <span class=o>=</span> +counter.innerText<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                const <span class=nv>inc</span> <span class=o>=</span> target / speed<span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=o>(</span>count &lt; target<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    counter.innerText <span class=o>=</span> Math.ceil<span class=o>(</span>count + inc<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                    setTimeout<span class=o>(</span>animateCounters, 1<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    counter.innerText <span class=o>=</span> target<span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Initialize counters when page loads
</span></span><span class=line><span class=cl>        window.addEventListener<span class=o>(</span><span class=s1>&#39;load&#39;</span>, animateCounters<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        // Smooth scrolling <span class=k>for</span> navigation links
</span></span><span class=line><span class=cl>        document.querySelectorAll<span class=o>(</span><span class=s1>&#39;a[href^=&#34;#&#34;]&#39;</span><span class=o>)</span>.forEach<span class=o>(</span><span class=nv>anchor</span> <span class=o>=</span>&gt; <span class=o>{</span>
</span></span><span class=line><span class=cl>            anchor.addEventListener<span class=o>(</span><span class=s1>&#39;click&#39;</span>, <span class=k>function</span><span class=o>(</span>e<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                e.preventDefault<span class=o>()</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                const <span class=nv>targetId</span> <span class=o>=</span> this.getAttribute<span class=o>(</span><span class=s1>&#39;href&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=o>(</span><span class=nv>targetId</span> <span class=o>===</span> <span class=s1>&#39;#&#39;</span><span class=o>)</span> <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                const <span class=nv>targetElement</span> <span class=o>=</span> document.querySelector<span class=o>(</span>targetId<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span><span class=o>(</span>targetElement<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                    window.scrollTo<span class=o>({</span>
</span></span><span class=line><span class=cl>                        top: targetElement.offsetTop - 80,
</span></span><span class=line><span class=cl>                        behavior: <span class=s1>&#39;smooth&#39;</span>
</span></span><span class=line><span class=cl>                    <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                    document.querySelector<span class=o>(</span><span class=s1>&#39;nav ul&#39;</span><span class=o>)</span>.classList.remove<span class=o>(</span><span class=s1>&#39;active&#39;</span><span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>})</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    &lt;/script&gt;
</span></span><span class=line><span class=cl>&lt;/body&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>&lt;/html&gt;
</span></span></code></pre></div><p>那就一切完工，看下都有什么文件：</p><p><img alt=image-20260106115356395 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106115356395.png></p><p>一切就绪，点击App运行：</p><p><img alt=image-20260106115438878 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106115438878.png></p><p>那会看到运行完毕，开了7860这个端口</p><p><img alt=image-20260106114145700 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106114145700.png></p><p>那直接点击左上的myhome链接，就能看到环保页面了。</p><p><img alt=image-20260106114229897 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106114229897.png></p><p>那大善人huggingface就弄好了。</p><p>解释一下具体原理：</p><p>huggingface 跑了个前置的Nginx代理，自动申请了证书，代理后端容器的7860端口，为什么是7860端口呢？</p><p>因为最常见的用途是托管基于 Gradio 构建的机器学习模型演示。Gradio 是一个非常流行的 Python 库，用于快速创建交互式 Web 界面来展示 ML 模型。它的默认启动端口就是7860。</p><p>那接着我们去薅大善人cloudflare，首先弄好一个域名并托管到CF上面，比如免费的qzz.io</p><p>点开左边的菜单：Build &ndash;> Compute & AI &ndash;> Workers & Pages</p><p><img alt=image-20260106132111456 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106132111456.png></p><p>新建一个应用，Create application</p><p><img alt=image-20260106132924016 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106132924016.png></p><p>然后选 Start with Hello World！</p><p><img alt=image-20260106133004705 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106133004705.png></p><p>然后就会建出一个来，点击编辑代码，Edit Code</p><p><img alt=image-20260106133043495 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106133043495.png></p><p>我们把以下代码贴进去，注意修改域名，只写域名，没有https的前缀，从huggingface得到的免费域名：</p><p>把代码中username-spacename.hf.space换成自己的域名</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>export</span> default <span class=o>{</span>
</span></span><span class=line><span class=cl>    async fetch<span class=o>(</span>request, env<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=nb>let</span> <span class=nv>url</span> <span class=o>=</span> new URL<span class=o>(</span>request.url<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>(</span>url.pathname.startsWith<span class=o>(</span><span class=s1>&#39;/&#39;</span><span class=o>))</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            var <span class=nv>arrStr</span> <span class=o>=</span> <span class=o>[</span>
</span></span><span class=line><span class=cl>                <span class=s1>&#39;username-spacename.hf.space&#39;</span>, // 此处单引号里填写你的节点伪装域名
</span></span><span class=line><span class=cl>            <span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            url.protocol <span class=o>=</span> <span class=s1>&#39;https:&#39;</span>
</span></span><span class=line><span class=cl>            url.hostname <span class=o>=</span> getRandomArray<span class=o>(</span>arrStr<span class=o>)</span>
</span></span><span class=line><span class=cl>            <span class=nb>let</span> <span class=nv>new_request</span> <span class=o>=</span> new Request<span class=o>(</span>url, request<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=k>return</span> fetch<span class=o>(</span>new_request<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> env.ASSETS.fetch<span class=o>(</span>request<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>,
</span></span><span class=line><span class=cl><span class=o>}</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>function</span> getRandomArray<span class=o>(</span>array<span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>  const <span class=nv>randomIndex</span> <span class=o>=</span> Math.floor<span class=o>(</span>Math.random<span class=o>()</span> * array.length<span class=o>)</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> array<span class=o>[</span>randomIndex<span class=o>]</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>然后点 Deploy ，部署</p><p>返回这个worker的空间，点击Settings，下面的Domains & Routes ，右边点击 +Add</p><p><img alt=image-20260106133628143 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106133628143.png></p><p>弹出的对话框，选择Custom domain</p><p><img alt=image-20260106133740727 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106133740727.png></p><p>然后填入自己心满意足的域名</p><p><img alt=image-20260106134025791 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106134025791.png></p><p>点击Add domain就完事了。</p><p>然后我们打开我们心满意足的域名：</p><p><img alt=image-20260106134220759 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106134220759.png></p><p>环保页面，然后打开我们的订阅页面，缺省是/sub，当然改成只有自己知道的路径为好</p><p>出现订阅的Base64字符就ok了。</p><p><img alt=image-20260106134549359 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106134549359.png></p><p>我们用v2rayN导入即可。</p><p>完工，还是说一下原理：</p><p>利用cf大善人的网络代理加速，利用hug大善人的免费域名和证书，达到我们的目的</p><p><img alt=image-20260106135830657 loading=lazy src=/posts/20260106-huggingface_vless_trojan/image-20260106135830657.png></p><p>最后，这个的index.js和上一篇的不同啊，唯一区别就是端口，hug端口肯定是443，而wispbyte的端口是非标的。</p><p>注意注意！！！</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://rendoumi.com/posts/20260109-coze_program/><span class=title>« 上一页</span><br><span>薅羊毛之扣子编程</span>
</a><a class=next href=https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/><span class=title>下一页 »</span><br><span>wispbyte.com薅羊毛记</span></a></nav></footer><div id=comments></div><script src=https://cwd.js.org/cwd.js></script><script>const comments=new CWDComments({el:"#comments",apiBaseUrl:"https://cwd.rendoumi.qzz.io"});comments.mount()</script></article></main><footer class=footer><span>Copyright © 2020-2025 Zhang Ranrui. All Rights Reserved.</span><br>·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script></body></html>