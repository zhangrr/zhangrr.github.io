<!doctype html><html lang="zh-cn"
  >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Freelancer任务之二：建一个scramble obfuscated opevpn - 八戒的技术博客</title><link rel="apple-touch-icon" href="https://rendoumi.com/images/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="https://rendoumi.com/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="https://rendoumi.com/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="https://rendoumi.com/images/favicons/manifest.json">
<link rel="icon" href="https://rendoumi.com/images/favicons/favicon.ico">
<meta name="keywords" content="" />
<meta name="description" content="" /><meta itemprop="name" content="Freelancer任务之二：建一个scramble obfuscated opevpn">
<meta itemprop="description" content="这个很奇怪撒，仔细查了下，原作者是这么说的： 1I have created a patch which introduces some forms of scrambling to the packet payload of any OpenVPN connection. 2I have been successfully using the patch with Iranian and Chinese users for some time now. 看来伊朗也比较糟糕啊。 无语"><meta itemprop="datePublished" content="2024-01-24T10:06:11+08:00" />
<meta itemprop="dateModified" content="2024-01-24T10:06:11+08:00" />
<meta itemprop="wordCount" content="1426">
<meta itemprop="keywords" content="" /><meta property="og:title" content="Freelancer任务之二：建一个scramble obfuscated opevpn" />
<meta property="og:description" content="这个很奇怪撒，仔细查了下，原作者是这么说的： 1I have created a patch which introduces some forms of scrambling to the packet payload of any OpenVPN connection. 2I have been successfully using the patch with Iranian and Chinese users for some time now. 看来伊朗也比较糟糕啊。 无语" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rendoumi.com/posts/20240124_freelancer_2/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T10:06:11+08:00" />
<meta property="article:modified_time" content="2024-01-24T10:06:11+08:00" /><meta property="og:site_name" content="八戒的技术博客" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Freelancer任务之二：建一个scramble obfuscated opevpn"/>
<meta name="twitter:description" content="这个很奇怪撒，仔细查了下，原作者是这么说的： 1I have created a patch which introduces some forms of scrambling to the packet payload of any OpenVPN connection. 2I have been successfully using the patch with Iranian and Chinese users for some time now. 看来伊朗也比较糟糕啊。 无语"/>
<link rel="preload" href="https://rendoumi.com/css/bundle.min.e365f7bedd89b1aa152cc3ee28f42da5cf2fa0e59fe9fd0dc125b31b0c21779f.css" integrity="sha256-42X3vt2JsaoVLMPuKPQtpc8voOWf6f0NwSWzGwwhd58=" crossorigin="anonymous" as="style" onload="this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://rendoumi.com/css/bundle.min.e365f7bedd89b1aa152cc3ee28f42da5cf2fa0e59fe9fd0dc125b31b0c21779f.css" integrity="sha256-42X3vt2JsaoVLMPuKPQtpc8voOWf6f0NwSWzGwwhd58=" crossorigin="anonymous"></noscript><script src="https://rendoumi.com/js/bundle.min.e800632e2780da48bed8dcbc482b21808ead775cb6deaad34acf1e0a135ec77f.js" integrity="sha256-6ABjLieA2ki&#43;2Ny8SCshgI6td1y23qrTSs8eChNex38=" crossorigin="anonymous"></script></head>
  <body><script src="https://rendoumi.com/js/bootstrap.min.062c2e66b557cb779d59cedff7e0cc76e84beb665a1076e474e87d940be44245.js" integrity="sha256-BiwuZrVXy3edWc7f9&#43;DMduhL62ZaEHbkdOh9lAvkQkU=" crossorigin="anonymous"></script><header><nav class="navbar top-app-bar top-app-bar-expand-lg fixed-top">
  <div class="container">
    <button class="navbar-settings me-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSettings"
  aria-controls="offcanvasSettings" aria-label="Toggle settings">
  <i class="fas fa-bars"></i>
</button>

<div class="offcanvas offcanvas-start surface" tabindex="-1" id="offcanvasSettings" aria-labelledby="offcanvasSettings">
  <div class="offcanvas-header">
    <h3 class="offcanvas-title">设置</h3>
    <button type="button" class="btn btn-sm btn-outline-primary" data-bs-dismiss="offcanvas" aria-label="Close">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="offcanvas-body">

<section class="setting">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-adjust"></i> 模式</label>
    </div>
    <div class="col-auto ms-auto">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="modeSwitcher">
      </div>
    </div>
  </form>
</section>

<section class="setting">
  <form class="font-size-switcher-form row">
    <div class="col-auto">
      <label for="fontSize" class="form-label"><i class="fas fa-fw fa-font"></i> 字体大小</label>
    </div>
    <div class="col-auto ms-auto">
      <input type="range" class="form-range" min="-2" max="2" id="fontSize">
    </div>
  </form>
</section>


<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> 配色</label>
    </div>
    <div class="col-auto ms-auto">
      <a id="btnPalette" class="btn btn-sm btn-outline-primary" role="button" aria-label="palettePicker">
        <i class="fas fa-eye-dropper"></i>
      </a>
    </div>
  </form>
  <div class="mt-2 d-flex visually-hidden" id="palettePicker"><button type="button" id="palette-blue" aria-label="蓝色"
        class="btn btn-sm palette" data-palette="blue">
      </button><button type="button" id="palette-blue-gray" aria-label="蓝灰色"
        class="btn btn-sm palette" data-palette="blue-gray">
      </button><button type="button" id="palette-brown" aria-label="棕色"
        class="btn btn-sm palette" data-palette="brown">
      </button><button type="button" id="palette-cyan" aria-label="青色"
        class="btn btn-sm palette" data-palette="cyan">
      </button><button type="button" id="palette-green" aria-label="绿色"
        class="btn btn-sm palette" data-palette="green">
      </button><button type="button" id="palette-indigo" aria-label="靛青色"
        class="btn btn-sm palette" data-palette="indigo">
      </button><button type="button" id="palette-orange" aria-label="橙色"
        class="btn btn-sm palette" data-palette="orange">
      </button><button type="button" id="palette-pink" aria-label="粉色"
        class="btn btn-sm palette" data-palette="pink">
      </button><button type="button" id="palette-purple" aria-label="紫色"
        class="btn btn-sm palette" data-palette="purple">
      </button><button type="button" id="palette-red" aria-label="红色"
        class="btn btn-sm palette" data-palette="red">
      </button><button type="button" id="palette-teal" aria-label="蓝绿色"
        class="btn btn-sm palette" data-palette="teal">
      </button><button type="button" id="palette-yellow" aria-label="黄色"
        class="btn btn-sm palette" data-palette="yellow">
      </button></div>
</section>
<section class="setting social-share">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-share-alt"></i> Share</label>
    </div>
    <div class="col-auto ms-auto">
      <a class="btn btn-sm btn-outline-primary btn-social-share"><i class="fas fa-share"></i></a>
    </div>
  </form>
  <div class="mt-2 social-share-buttons d-flex visually-hidden flex-nowrap">
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Twitter Share Button"
      target="_blank" href="https://twitter.com/intent/tweet?title=Freelancer%e4%bb%bb%e5%8a%a1%e4%b9%8b%e4%ba%8c%ef%bc%9a%e5%bb%ba%e4%b8%80%e4%b8%aascramble%20obfuscated%20opevpn&url=https%3a%2f%2frendoumi.com%2fposts%2f20240124_freelancer_2%2f">
      <i class="fab fa-fw fa-twitter"></i> Twitter
    </a>
    <a class="btn btn-sm btn-outline-primary social-share-button" rel="noopener noreferrer" aria-label="Facebook Share Button"
      target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frendoumi.com%2fposts%2f20240124_freelancer_2%2f">
      <i class="fab fa-fw fa-facebook-f"></i> Facebook
    </a>
  </div>
</section>

</div>
</div>
<a class="navbar-brand me-3" href="https://rendoumi.com"><img class="logo" alt="Logo" src="https://rendoumi.com/images/logo.webp" loading="lazy"
   width="136" height="69"
   />
八戒
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fas fa-ellipsis-v"></i>
    </button>
    <div class="collapse navbar-collapse" tabindex="-1" id="navbarSupportedContent" aria-labelledby="navbarSupportedContent">
      <form class="search-bar my-1" action="https://rendoumi.com/search">
  <div class="input-group input-group-sm">
    <span class="btn btn-search disabled position-absolute left-0"><i class="fas fa-fw fa-search"></i></span>
    <input class="form-control rounded-pill" name="q" type="search" aria-label="Search">
  </div>
</form>

      <ul class="navbar-nav ms-auto"><li class="nav-item">
          <a class="nav-link" href="https://rendoumi.com/archives/">
            <i class="fas fa-fw fa-file-archive"></i>归档
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://rendoumi.com/categories/">
            <i class="fas fa-fw fa-folder"></i>分类
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://rendoumi.com/tags/">
            <i class="fas fa-fw fa-tags"></i>标签
          </a>
        </li><li class="nav-item">
          <a class="nav-link" href="https://rendoumi.com/series/">
            <i class="fas fa-fw fa-columns"></i>专栏
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdown-dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-chevron-circle-down"></i>下拉菜单
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown-dropdown"><li>
              <a class="dropdown-item"
                href="https://github.com/razonyang/hugo-theme-bootstrap" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-fw fa-github"></i>Github
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://rendoumi.com/zh-cn/series/manual">
                用户手册
              </a>
            </li></ul>
        </li></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container">
      <div class="row content">
<div class="col-lg-8">
  <div class="container"><nav class="row card component" aria-label="breadcrumb">
  <div class="card-body">
    <ol class="breadcrumb "><li class="breadcrumb-item"><a href="https://rendoumi.com/">主页</a></li><li class="breadcrumb-item"><a href="https://rendoumi.com/posts/">Posts</a></li><li class="breadcrumb-item active">Freelancer任务之二：建一个scramble Obfuscated Opevpn</li></ol>
  </div>
</nav><article class="post row card mb-4 component">
  <div class="card-body"><div class="post-panel-wrapper">
  <div class="post-panel d-flex flex-column">
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button">
  <i class="fas fa-fw fa-expand-arrows-alt"></i>
</a>
  
    

    <a class="action btn-reward" role="button" data-bs-toggle="modal" data-bs-target="#rewardModal" title="打赏">
  <i class="fas fa-fw fa-coffee"></i>
</a>
    <a class="action" data-bs-container="body" data-bs-toggle="popover" data-bs-html="true" data-bs-placement="bottom"
  data-bs-trigger="focus" tabindex="0" type="button" aria-label="Copyright" 
  data-bs-content="&lt;a target=&#34;_blank&#34; rel=&#34;license noopener noreferrer&#34; href=&#34;https://creativecommons.org/licenses/by-nc-nd/4.0/deed.zh&#34;&gt;CC BY-NC-ND 4.0 &lt;i class=&#34;fab fa-fw fa-creative-commons&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-by&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nc&#34;&gt;&lt;/i&gt;&lt;i class=&#34;fab fa-fw fa-creative-commons-nd&#34;&gt;&lt;/i&gt;&lt;/a&gt;
">
  <i class="fas fa-fw fa-copyright"></i>
</a>
    
  </div>
</div>
<h1 class="card-title my-3">Freelancer任务之二：建一个scramble Obfuscated Opevpn
</h1><div class="post-meta"><span class="post-date" title="created on">
    <i class="fas fa-fw fa-calendar-alt"></i>2024-01-24
  </span><span class="post-reading-time" title="reading time">
    <i class="fas fa-fw fa-coffee"></i>3 分钟阅读
  </span></div>
<div class="post-content mb-3"><p>这个很奇怪撒，仔细查了下，原作者是这么说的：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">I have created a patch which introduces some forms of scrambling to the packet payload of any OpenVPN connection.  
</span></span><span class="line"><span class="ln">2</span><span class="cl">I have been successfully using the patch with Iranian and Chinese users <span class="k">for</span> some <span class="nb">time</span> now.  
</span></span></code></pre></div><p>看来伊朗也比较糟糕啊。</p>
<p>无语，鉴于在森华易腾无法建openvpn，不知道是直接封了1194的udp端口，还是从协议上封掉了openvpn，总之，都很shit。</p>
<p>简单说就是对openvpn协议进行了混淆，多了一个配置项：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">scramble 参数  
</span></span><span class="line"><span class="ln">2</span><span class="cl">scramble reverse <span class="c1">#对传输的数据进行反转，通常这一句就已经可以绕过China和Iran的检测机制了  </span>
</span></span><span class="line"><span class="ln">3</span><span class="cl">scramble xorptrpos <span class="c1">#对传输的package中的有效数据进行xor运算  </span>
</span></span><span class="line"><span class="ln">4</span><span class="cl">scramble obfuscate password <span class="c1">#更强烈的加密。反转+xor+密码三种方式全用上. &#34;password&#34; 是你设定的密码</span>
</span></span><span class="line"><span class="ln">5</span><span class="cl">
</span></span><span class="line"><span class="ln">6</span><span class="cl">用上这个配置项后，建议设置cipher none, 因为如此这般以后，没有必要再制定cipher方式了。另外，用cipher会消耗cpu，而采用scramble消耗cpu的程度比cipher低。
</span></span></code></pre></div><p>搭一个试试看 这里采用的是openvpn 2.4.4版本和相应的patch</p>
<p>下载：</p>
<ol>
<li><a href="2.4.4.zip">2.4.4.zip</a>
</li>
<li><a href="master.zip">master.zip</a>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">#centos </span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">yum -y install unzip  
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">yum -y groupinstall <span class="s2">&#34;development tools&#34;</span>  
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">
</span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="c1">#ubuntu</span>
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">apt update
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">apt install build-essential
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">unzip -x 2.4.4.zip  
</span></span><span class="line"><span class="ln">10</span><span class="cl">unzip -x master.zip  
</span></span></code></pre></div><p>应用补丁：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"><span class="nb">cd</span> openvpn-release-2.4/  
</span></span><span class="line"><span class="ln">2</span><span class="cl">git apply ../openvpn_xorpatch-master/openvpn_xor.patch  
</span></span></code></pre></div><p>安装依赖包并编译：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">#cetnos</span>
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">yum install -y openssl-devel lz4-devel net-tools lzo-devel pam-devel
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="c1">#ubuntu</span>
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">apt install autoreconf liblzo2-dev libpam0g-dev
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">autoreconf -i -v -f  
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">./configure --prefix<span class="o">=</span>/export/servers/openvpn
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">
</span></span><span class="line"><span class="ln">10</span><span class="cl">make  
</span></span><span class="line"><span class="ln">11</span><span class="cl">make install  
</span></span></code></pre></div><p>安装easy-rsa-3.0，不得不击节叫好啊，easy-rsa 3.0比2.0进化多了，就一个可执行文件，也轻省多了：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">wget http://img.rendoumi.com/soft/vpn/easy-rsa.zip  
</span></span><span class="line"><span class="ln">2</span><span class="cl">unzip -x easy-rsa.zip  
</span></span></code></pre></div><p>建立openvpn配置文件夹</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">mkdir -p /etc/openvpn/conf  
</span></span><span class="line"><span class="ln">2</span><span class="cl">cp -r easy-rsa-master/easyrsa3/* /etc/openvpn  
</span></span></code></pre></div><p>看看新版easy-rsa-3.0都有什么命令</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="nb">cd</span> /etc/openvpn  
</span></span><span class="line"><span class="ln"> 2</span><span class="cl">./easyrsa 
</span></span><span class="line"><span class="ln"> 3</span><span class="cl">
</span></span><span class="line"><span class="ln"> 4</span><span class="cl">Easy-RSA <span class="m">3</span> usage and overview
</span></span><span class="line"><span class="ln"> 5</span><span class="cl">
</span></span><span class="line"><span class="ln"> 6</span><span class="cl">USAGE: easyrsa <span class="o">[</span>options<span class="o">]</span> COMMAND <span class="o">[</span>command-options<span class="o">]</span>
</span></span><span class="line"><span class="ln"> 7</span><span class="cl">
</span></span><span class="line"><span class="ln"> 8</span><span class="cl">A list of commands is shown below. To get detailed usage and <span class="nb">help</span> <span class="k">for</span> a  
</span></span><span class="line"><span class="ln"> 9</span><span class="cl">command, run:  
</span></span><span class="line"><span class="ln">10</span><span class="cl">  ./easyrsa <span class="nb">help</span> COMMAND
</span></span><span class="line"><span class="ln">11</span><span class="cl">
</span></span><span class="line"><span class="ln">12</span><span class="cl">For a listing of options that can be supplied before the command, use:  
</span></span><span class="line"><span class="ln">13</span><span class="cl">  ./easyrsa <span class="nb">help</span> options
</span></span><span class="line"><span class="ln">14</span><span class="cl">
</span></span><span class="line"><span class="ln">15</span><span class="cl">Here is the list of commands available with a short syntax reminder. Use the  
</span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="s1">&#39;help&#39;</span> <span class="nb">command</span> above to get full usage details.
</span></span><span class="line"><span class="ln">17</span><span class="cl">
</span></span><span class="line"><span class="ln">18</span><span class="cl">  init-pki
</span></span><span class="line"><span class="ln">19</span><span class="cl">  build-ca <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">20</span><span class="cl">  gen-dh
</span></span><span class="line"><span class="ln">21</span><span class="cl">  gen-req &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">22</span><span class="cl">  sign-req &lt;type&gt; &lt;filename_base&gt;
</span></span><span class="line"><span class="ln">23</span><span class="cl">  build-client-full &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">24</span><span class="cl">  build-server-full &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">25</span><span class="cl">  revoke &lt;filename_base&gt;
</span></span><span class="line"><span class="ln">26</span><span class="cl">  gen-crl
</span></span><span class="line"><span class="ln">27</span><span class="cl">  update-db
</span></span><span class="line"><span class="ln">28</span><span class="cl">  show-req &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">29</span><span class="cl">  show-cert &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">30</span><span class="cl">  import-req &lt;request_file_path&gt; &lt;short_basename&gt;
</span></span><span class="line"><span class="ln">31</span><span class="cl">  export-p7 &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">32</span><span class="cl">  export-p12 &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">33</span><span class="cl">  set-rsa-pass &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">34</span><span class="cl">  set-ec-pass &lt;filename_base&gt; <span class="o">[</span> cmd-opts <span class="o">]</span>
</span></span><span class="line"><span class="ln">35</span><span class="cl">
</span></span><span class="line"><span class="ln">36</span><span class="cl">DIRECTORY STATUS <span class="o">(</span>commands would take effect on these locations<span class="o">)</span>  
</span></span><span class="line"><span class="ln">37</span><span class="cl">  EASYRSA: .
</span></span><span class="line"><span class="ln">38</span><span class="cl">      PKI:  /etc/openvpn/pki
</span></span></code></pre></div><p>简单明了，一目了然，来吧，一气呵成</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"><span class="nb">cd</span> /etc/openvpn  
</span></span><span class="line"><span class="ln">2</span><span class="cl">./easyrsa init-pki
</span></span><span class="line"><span class="ln">3</span><span class="cl">./easyrsa --batch build-ca nopass
</span></span><span class="line"><span class="ln">4</span><span class="cl">./easyrsa --batch build-server-full server nopass
</span></span><span class="line"><span class="ln">5</span><span class="cl">./easyrsa --batch build-client-full client1 nopass
</span></span><span class="line"><span class="ln">6</span><span class="cl">./easyrsa gen-dh
</span></span></code></pre></div><p>什么都不用管，就全弄好了，比起easy-rsa 2.0一堆脚本，修改vars，省事多了！！！</p>
<p>准备server端的配置文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"><span class="nb">cd</span> /etc/openvpn/  
</span></span><span class="line"><span class="ln">2</span><span class="cl">cp pki/ca.crt pki/dh.pem pki/private/client1.key pki/private/server.key pki/issued/* /etc/openvpn/conf  
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nb">cd</span> /etc/openvpn/conf  
</span></span><span class="line"><span class="ln">4</span><span class="cl">/export/servers/openvpn/sbin/openvpn --genkey --secret ta.key
</span></span></code></pre></div><p>这样/etc/openvpn/conf下就会有7个文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">ca.crt  
</span></span><span class="line"><span class="ln">2</span><span class="cl">server.key  
</span></span><span class="line"><span class="ln">3</span><span class="cl">client1.key  
</span></span><span class="line"><span class="ln">4</span><span class="cl">client1.crt  
</span></span><span class="line"><span class="ln">5</span><span class="cl">dh.pem  
</span></span><span class="line"><span class="ln">6</span><span class="cl">server.crt  
</span></span><span class="line"><span class="ln">7</span><span class="cl">ta.key  
</span></span></code></pre></div><p>准备个模板：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln"> 1</span><span class="cl">cat<span class="s">&lt;&lt;EOF&gt;&gt;/etc/openvpn/conf/server.conf  
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="s">port 1194  
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="s">proto udp  
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="s">dev tun
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="s">server 10.8.0.0 255.255.255.0
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="s">scramble obfuscate fuckfuckfuck
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="s">ca /etc/openvpn/conf/ca.crt  
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="s">cert /etc/openvpn/conf/server.crt  
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="s">key /etc/openvpn/conf/server.key  
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="s">tls-auth /etc/openvpn/conf/ta.key 0  
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="s">key-direction 0  
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="s">dh /etc/openvpn/conf/dh.pem  
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="s">cipher none
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="s">#push &#34;route 172.16.0.0 255.255.0.0&#34;
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="s">client-to-client  
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="s">comp-lzo
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="s">persist-key  
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="s">persist-tun
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="s">user nobody  
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="s">group nobody
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="s">ifconfig-pool-persist /etc/openvpn/conf/ipp.txt  
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="s">status      /var/log/openvpn-status.log  
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="s">log         /var/log/openvpn.log  
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="s">log-append  /var/log/openvpn.log
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="s">keepalive 5 30
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="s">
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="s">verb 3  
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="s">EOF</span>  
</span></span></code></pre></div><p>启动server端</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">/export/servers/openvpn/sbin/openvpn --config /etc/openvpn/server.conf --daemon
</span></span></code></pre></div><p>准备客户端文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln"> 1</span><span class="cl">cat<span class="s">&lt;&lt;EOF&gt;&gt;/etc/openvpn/conf/client1.ovpn  
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="s">client  
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="s">dev tun  
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="s">proto udp  
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="s">remote change_this_to_server_address 1194  
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="s">scramble obfuscate fuckfuckfuck  
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="s">resolv-retry infinite  
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="s">nobind  
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="s">persist-key  
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="s">persist-tun  
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="s">user nobody  
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="s">group nogroup  
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="s">ca ca.crt  
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="s">cert client1.crt  
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="s">key client1.key  
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="s">tls-auth ta.key 1  
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="s">remote-cert-tls server  
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="s">key-direction 1  
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="s">cipher none  
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="s">comp-lzo  
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="s">keepalive 5 30  
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="s">verb 3  
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="s">EOF</span>  
</span></span></code></pre></div><p>合并出一个单独的客户端文件 注意merge.sh里面文件的配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"><span class="nv">ca</span><span class="o">=</span><span class="s2">&#34;ca.crt&#34;</span>  
</span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="nv">cert</span><span class="o">=</span><span class="s2">&#34;client1.crt&#34;</span>  
</span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="nv">key</span><span class="o">=</span><span class="s2">&#34;client1.key&#34;</span>  
</span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="nv">tlsauth</span><span class="o">=</span><span class="s2">&#34;ta.key&#34;</span>  
</span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="nv">ovpndest</span><span class="o">=</span><span class="s2">&#34;client1.ovpn&#34;</span>  
</span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="nb">cd</span> /etc/openvpn/conf  
</span></span><span class="line"><span class="ln">7</span><span class="cl">wget http://img.rendoumi.com/soft/vpn/merge.sh  
</span></span><span class="line"><span class="ln">8</span><span class="cl">chmod <span class="m">755</span> merge.sh  
</span></span><span class="line"><span class="ln">9</span><span class="cl">./merge.sh
</span></span></code></pre></div><p>这样就会合并出一个client1.ovpn客户端连接文件来，全部合一，其实server.conf也可以把所有东西包括进去</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">  1</span><span class="cl">client  
</span></span><span class="line"><span class="ln">  2</span><span class="cl">dev tun  
</span></span><span class="line"><span class="ln">  3</span><span class="cl">proto udp  
</span></span><span class="line"><span class="ln">  4</span><span class="cl">remote change_this_to_server_address <span class="m">1194</span>  
</span></span><span class="line"><span class="ln">  5</span><span class="cl">scramble obfuscate fuckfuckfuck  
</span></span><span class="line"><span class="ln">  6</span><span class="cl">resolv-retry infinite  
</span></span><span class="line"><span class="ln">  7</span><span class="cl">nobind  
</span></span><span class="line"><span class="ln">  8</span><span class="cl">persist-key  
</span></span><span class="line"><span class="ln">  9</span><span class="cl">persist-tun  
</span></span><span class="line"><span class="ln"> 10</span><span class="cl">remote-cert-tls server  
</span></span><span class="line"><span class="ln"> 11</span><span class="cl">cipher none  
</span></span><span class="line"><span class="ln"> 12</span><span class="cl">comp-lzo  
</span></span><span class="line"><span class="ln"> 13</span><span class="cl">verb <span class="m">3</span>  
</span></span><span class="line"><span class="ln"> 14</span><span class="cl">key-direction <span class="m">1</span>  
</span></span><span class="line"><span class="ln"> 15</span><span class="cl">&lt;ca&gt;  
</span></span><span class="line"><span class="ln"> 16</span><span class="cl">-----BEGIN CERTIFICATE-----
</span></span><span class="line"><span class="ln"> 17</span><span class="cl">MIIDKzCCAhOgAwIBAgIJAOG5arbs5t9RMA0GCSqGSIb3DQEBCwUAMBMxETAPBgNV  
</span></span><span class="line"><span class="ln"> 18</span><span class="cl">BAMTCENoYW5nZU1lMB4XDTE4MDMyODAzNDkyMloXDTI4MDMyNTAzNDkyMlowEzER  
</span></span><span class="line"><span class="ln"> 19</span><span class="cl">MA8GA1UEAxMIQ2hhbmdlTWUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB  
</span></span><span class="line"><span class="ln"> 20</span><span class="cl">AQDMOUuQg49OstGbfPLjTgzwb5YBmBeVxyF3+5jmKbgPXujZ3dvdBwxaslVUwre6  
</span></span><span class="line"><span class="ln"> 21</span><span class="cl">XsMUBz3vbB7Kf1BBDHe2jt60p2x2O+ptTb3rRhTPLhdhd9C3HUhwkNYc7jv1+ua3  
</span></span><span class="line"><span class="ln"> 22</span><span class="cl">sUlwiYikltKhXGVU3e/XYB+Aiw63mem4ex5T4kJ/KIKoulGhUsaOl9JtPPKbeIlV  
</span></span><span class="line"><span class="ln"> 23</span><span class="cl">BgUzBLHNt/9bY7r7m2Fh0VmbD5p5YMZEGrg+WX0qzT4wKD/734VdxuAoFwd7as6s  
</span></span><span class="line"><span class="ln"> 24</span><span class="cl">CH73w0ykscV7evUJEaNu1keTqgqG5SuE3HzQ1cmWSSeF84gUes+l2JAivpQ/XTkF  
</span></span><span class="line"><span class="ln"> 25</span><span class="cl">wdLnq2caXVTMDF8t/Y1e8JfVAgMBAAGjgYEwfzAdBgNVHQ4EFgQU+SKBqluAW6hQ  
</span></span><span class="line"><span class="ln"> 26</span><span class="cl">p8y9Q22ZBhkTw5IwQwYDVR0jBDwwOoAU+SKBqluAW6hQp8y9Q22ZBhkTw5KhF6QV  
</span></span><span class="line"><span class="ln"> 27</span><span class="cl">MBMxETAPBgNVBAMTCENoYW5nZU1lggkA4blqtuzm31EwDAYDVR0TBAUwAwEB/zAL  
</span></span><span class="line"><span class="ln"> 28</span><span class="cl">BgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQELBQADggEBAL9ZqyMSrrJ2ss/5pQhUBw71  
</span></span><span class="line"><span class="ln"> 29</span><span class="cl">nmjeT8DPg7Optiq02oAPdIo06WdJ77Y+mFypGKw8uUHp/h0mL5wBr6NBYbdw+5Lc  
</span></span><span class="line"><span class="ln"> 30</span><span class="cl">vv4tCpOzzNW7PJngJWilIdvL1W+y3i3/AolSs7jAradaOQOpI23tOeQAQUmwchmt  
</span></span><span class="line"><span class="ln"> 31</span><span class="cl">hvgKH8kyIWlOzxGIHdG9Spv8Oi1X6dwD0t4ddaNqcnCbyC2cBX4TvlXeVixMdBLY  
</span></span><span class="line"><span class="ln"> 32</span><span class="cl">xq/5+G6dlJhaUzD4lG9Co7PTctwOFzKIP+mCrhLFCh7v5L6HCqL5ZLI7bWYTy0rm  
</span></span><span class="line"><span class="ln"> 33</span><span class="cl">XURbleynyld95FKuul5YFRyb/j+I8iBd3Sw9TWhVuqKb4JX9n6zB1FxkNUX1r4g<span class="o">=</span>  
</span></span><span class="line"><span class="ln"> 34</span><span class="cl">-----END CERTIFICATE-----
</span></span><span class="line"><span class="ln"> 35</span><span class="cl">&lt;/ca&gt;  
</span></span><span class="line"><span class="ln"> 36</span><span class="cl">&lt;cert&gt;  
</span></span><span class="line"><span class="ln"> 37</span><span class="cl">-----BEGIN CERTIFICATE-----
</span></span><span class="line"><span class="ln"> 38</span><span class="cl">MIIDRTCCAi2gAwIBAgIRALV3i3gqfdbfWujom75JgiwwDQYJKoZIhvcNAQELBQAw  
</span></span><span class="line"><span class="ln"> 39</span><span class="cl">EzERMA8GA1UEAxMIQ2hhbmdlTWUwHhcNMTgwMzI4MDg1NjQ5WhcNMjgwMzI1MDg1  
</span></span><span class="line"><span class="ln"> 40</span><span class="cl">NjQ5WjASMRAwDgYDVQQDEwdjbGllbnQxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8A  
</span></span><span class="line"><span class="ln"> 41</span><span class="cl">MIIBCgKCAQEAqXq+oaXFyp24OBuXrAPRxnyg4t7eKl7jh4EmL+T2xnQ5qZfwDBz/  
</span></span><span class="line"><span class="ln"> 42</span><span class="cl">0mI6MDgqPFDC8DWeO3iJZlNlIBNrHpza2kj53Fw7UB1yyi9fArt3Luj2HdjqXyDw  
</span></span><span class="line"><span class="ln"> 43</span><span class="cl">yLTX6dVV/m+dP7Jq1OnnpaG7gbkjKaaS8inc79v1ismJK9ZAwaiQobv1T3Th7eL+  
</span></span><span class="line"><span class="ln"> 44</span><span class="cl">nrKfjCJ/gevHfXocR7PuEe1CwyUEp124Z5fhq7S6JAgmt3WbiBVPIg5lp/pCyfbh  
</span></span><span class="line"><span class="ln"> 45</span><span class="cl">K6z1Y5abPVCAJXTqgbaYBLIorO88wn5zn5D6ZFXDTdo3gJgQSlbax6AN5CqyK+Qi  
</span></span><span class="line"><span class="ln"> 46</span><span class="cl">U2mF7Cf8+Ma+0eLbOFM62kulaqXX+uUojwIDAQABo4GUMIGRMAkGA1UdEwQCMAAw  
</span></span><span class="line"><span class="ln"> 47</span><span class="cl">HQYDVR0OBBYEFJaAOw/CP8O/dnncm/VwlPow8kM9MEMGA1UdIwQ8MDqAFPkigapb  
</span></span><span class="line"><span class="ln"> 48</span><span class="cl">gFuoUKfMvUNtmQYZE8OSoRekFTATMREwDwYDVQQDEwhDaGFuZ2VNZYIJAOG5arbs  
</span></span><span class="line"><span class="ln"> 49</span><span class="cl">5t9RMBMGA1UdJQQMMAoGCCsGAQUFBwMCMAsGA1UdDwQEAwIHgDANBgkqhkiG9w0B  
</span></span><span class="line"><span class="ln"> 50</span><span class="cl">AQsFAAOCAQEAmU9Y+dP4PH0eh4KMNW0QhseN0t0CK1Nzyu3hNcuIntns3J3VpJ1u  
</span></span><span class="line"><span class="ln"> 51</span><span class="cl">1WKA16mnH8nLu2hNUKnWkOnuvPnwXIprWdg9Zvmct/QEtys4THnG3+5Ni7wVexhU  
</span></span><span class="line"><span class="ln"> 52</span><span class="cl">lNU0qZcwGNwqQiZBrHcZZq6pAKtrAH0kD6/l5qCeScPrDIy6w3eFfGa/AJcEBNEN  
</span></span><span class="line"><span class="ln"> 53</span><span class="cl">Wruj3hUQxRsv35XFfxEROaklfuLrfr0U1OlWDySSGMQafXjZCmLdxRb5IkI90255  
</span></span><span class="line"><span class="ln"> 54</span><span class="cl">t3yksT9Bj7v/2n++ttlQTH0FK5zY7Uz76A21idiRCw/aVeXvJkafYqi+o/9kkVJh  
</span></span><span class="line"><span class="ln"> 55</span><span class="cl">w+Q9Lm+AKGkaaMgz0dt0cmVZgHsnyzOzhQ<span class="o">==</span>  
</span></span><span class="line"><span class="ln"> 56</span><span class="cl">-----END CERTIFICATE-----
</span></span><span class="line"><span class="ln"> 57</span><span class="cl">&lt;/cert&gt;  
</span></span><span class="line"><span class="ln"> 58</span><span class="cl">&lt;key&gt;  
</span></span><span class="line"><span class="ln"> 59</span><span class="cl">-----BEGIN PRIVATE KEY-----
</span></span><span class="line"><span class="ln"> 60</span><span class="cl">MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCper6hpcXKnbg4  
</span></span><span class="line"><span class="ln"> 61</span><span class="cl">G5esA9HGfKDi3t4qXuOHgSYv5PbGdDmpl/AMHP/SYjowOCo8UMLwNZ47eIlmU2Ug  
</span></span><span class="line"><span class="ln"> 62</span><span class="cl">E2senNraSPncXDtQHXLKL18Cu3cu6PYd2OpfIPDItNfp1VX+b50/smrU6eelobuB  
</span></span><span class="line"><span class="ln"> 63</span><span class="cl">uSMpppLyKdzv2/WKyYkr1kDBqJChu/VPdOHt4v6esp+MIn+B68d9ehxHs+4R7ULD  
</span></span><span class="line"><span class="ln"> 64</span><span class="cl">JQSnXbhnl+GrtLokCCa3dZuIFU8iDmWn+kLJ9uErrPVjlps9UIAldOqBtpgEsiis  
</span></span><span class="line"><span class="ln"> 65</span><span class="cl">7zzCfnOfkPpkVcNN2jeAmBBKVtrHoA3kKrIr5CJTaYXsJ/z4xr7R4ts4UzraS6Vq  
</span></span><span class="line"><span class="ln"> 66</span><span class="cl">pdf65SiPAgMBAAECggEAKwlSUzYHTfZTC1xmXXXy1RZcvH+fpt7FpGk1S0A3Mhnd  
</span></span><span class="line"><span class="ln"> 67</span><span class="cl">cqV0fX73r3LmF8yLXRmdBuZ2sd9f9K4EpeqIbxOht4CEgmKhZSy1M4Zn+AemsjDS  
</span></span><span class="line"><span class="ln"> 68</span><span class="cl">Hq4whcuVmUHi+iwEVEH/imdCHaLwAe1Z8g0TUsZL1lavFfGjHoUi4hDcDNFDOO5Z  
</span></span><span class="line"><span class="ln"> 69</span><span class="cl">+gOL+ZLtAwCibcdTgdW7xXZMY6U4Mg4f7VggFqpuxe90ebaa1DHUYOm4XFQdrEOg
</span></span><span class="line"><span class="ln"> 70</span><span class="cl">KtC93wkFKuz9fXvyCyjk5t3oXO3EQvLSsm0W1LhBYkdZp8fUmkgh7Lz2J/h7/qK9  
</span></span><span class="line"><span class="ln"> 71</span><span class="cl">FYxbkvbFE7Zl1FE0g4kYNgMRq94Dy7IPhrbCXh1XUQKBgQDXYJt0KlfNdIQrZVsg  
</span></span><span class="line"><span class="ln"> 72</span><span class="cl">kGkvE9eeEw3XhRCzsKIqnD3DkvkgowD6kpq9rU3tTg1x830QbfPu9L5cQEt5Hlsg  
</span></span><span class="line"><span class="ln"> 73</span><span class="cl">zzCWKsjvC8Gnblz4ctvUvl+o9jbIKBf1aSykGGLZqB8rITd+gY8jcRDE637pxmKO  
</span></span><span class="line"><span class="ln"> 74</span><span class="cl">HHhN0hjXyhSpjSCeWfvHHt4OdQKBgQDJcfq3nVmO6JBjn8Csywi9OHhodI4IKcLH  
</span></span><span class="line"><span class="ln"> 75</span><span class="cl">EuEoJR0akv5l07UQGZXjkT60UUg5uAIU+z/Bk7UOErJckxvMCLzg9/O1ZRCEppdP  
</span></span><span class="line"><span class="ln"> 76</span><span class="cl">GKMP4DM/xxdf37zEifBtFzBG9LCoIEJqRwzhaD7jyEg8jEv9G+ege/Bp5W9WDS2P  
</span></span><span class="line"><span class="ln"> 77</span><span class="cl">9bWWF3DCcwKBgHN+0t4QdtUuTlIXIC7uQfmE4nNaNGoGaVZyugOvlU9zWTUvNC8q  
</span></span><span class="line"><span class="ln"> 78</span><span class="cl">vuBINymyWXNp5v8Qd2cEx7Agqlhg9u05LgzZFLdbzpVCkYiJz2jeTd4FaosbNP3d  
</span></span><span class="line"><span class="ln"> 79</span><span class="cl">UJsOmLOvfEdcoK2uPFv9Hcj7oCssv10F112j9L6DF2F01LEV//ZfjyShAoGAEHjo  
</span></span><span class="line"><span class="ln"> 80</span><span class="cl">hoEwZJYx0GOszrRfh5GJjwkQ4CwCCGNL1AuM4LJqaQsxwBpHfm9PEFGhNU8NpIeT  
</span></span><span class="line"><span class="ln"> 81</span><span class="cl">BBI++OKggR9qY3nHcCH2ZLvZ6O7yan5aPx8XMbzm9WkHN48MAO+ne/XgSC8zHxum  
</span></span><span class="line"><span class="ln"> 82</span><span class="cl">OvxaQCgNeB4EzLKucxoPY6lmPEQhmKb/7UEHcG8CgYEAxhtREMFAL0+uDAJ72WLx  
</span></span><span class="line"><span class="ln"> 83</span><span class="cl">qCEM0x9zet5DOLOqxUSlBJILAwwcgGA1DXdjMej/BxZbIHgZANZ3Gj+k3D5m4GQl  
</span></span><span class="line"><span class="ln"> 84</span><span class="cl">Pe3DtI3HBLbVH8DeyZC6fJxjaNi16/mbD6puRpPs+w0D2pQwJr6k2uR8+G883RW5  
</span></span><span class="line"><span class="ln"> 85</span><span class="cl"><span class="nv">4vcpovBkutR5n1M09M3DyeU</span><span class="o">=</span>  
</span></span><span class="line"><span class="ln"> 86</span><span class="cl">-----END PRIVATE KEY-----
</span></span><span class="line"><span class="ln"> 87</span><span class="cl">&lt;/key&gt;  
</span></span><span class="line"><span class="ln"> 88</span><span class="cl">&lt;tls-auth&gt;  
</span></span><span class="line"><span class="ln"> 89</span><span class="cl">-----BEGIN OpenVPN Static key V1-----
</span></span><span class="line"><span class="ln"> 90</span><span class="cl">79a3add18ba52b97045de864939a9a9e  
</span></span><span class="line"><span class="ln"> 91</span><span class="cl">a0a07657bce8a0210c41b7d83d48ec48  
</span></span><span class="line"><span class="ln"> 92</span><span class="cl">81c89db3dbec8b4bfc13424d3813711d  
</span></span><span class="line"><span class="ln"> 93</span><span class="cl">f34a4770ebeaf181eeffcd3f38cea425  
</span></span><span class="line"><span class="ln"> 94</span><span class="cl">78006c5b7506a5d9dcb0079daa3b3412  
</span></span><span class="line"><span class="ln"> 95</span><span class="cl">5434af9df560f3a0d29bc8b333479943  
</span></span><span class="line"><span class="ln"> 96</span><span class="cl">0f5839fee349f2079d03c9d31d6e2bf4  
</span></span><span class="line"><span class="ln"> 97</span><span class="cl">26a32180c8e4f6c1579acbfef7596335  
</span></span><span class="line"><span class="ln"> 98</span><span class="cl">a4147c64395ff77927ebe02f2a757d17  
</span></span><span class="line"><span class="ln"> 99</span><span class="cl">a2df3245670c1eff89f9e1025dbc4b07  
</span></span><span class="line"><span class="ln">100</span><span class="cl">8d3fcfaf4fbad44d9becf17f5d6d34ee  
</span></span><span class="line"><span class="ln">101</span><span class="cl">50d616fb58bc0e29da54a934353701a9  
</span></span><span class="line"><span class="ln">102</span><span class="cl">973df9b1f9041706642ff8ed00b24462  
</span></span><span class="line"><span class="ln">103</span><span class="cl">5cb52768dd5472093855d0e8fa5b8762  
</span></span><span class="line"><span class="ln">104</span><span class="cl">cca2aa48bda3d8964a19842fbf9d2081  
</span></span><span class="line"><span class="ln">105</span><span class="cl">ff0075295379f663129723ee9319a789  
</span></span><span class="line"><span class="ln">106</span><span class="cl">-----END OpenVPN Static key V1-----
</span></span><span class="line"><span class="ln">107</span><span class="cl">&lt;/tls-auth&gt;  
</span></span></code></pre></div><p>ok，把这个client1.ovpn拷贝出来，准备弄到windows上用</p>
<p>在windows上下载原始的openvpn-gui:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">http://img.rendoumi.com/soft/vpn/openvpn-install-2.4.4-I601.exe  
</span></span></code></pre></div><p>然后下载对应的openvpn主文件</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl"> https://github.com/lawtancool/openvpn-windows-xor/releases
</span></span></code></pre></div><p>先安装好openvpn，然后到</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="ln">1</span><span class="cl">C:<span class="se">\P</span>rogram Files<span class="se">\O</span>penVPN<span class="se">\c</span>onfig  
</span></span></code></pre></div><p>把client1.ovpn放进去</p>
<p>然后以<code>管理员</code>身份启动桌面上的OpenVPN-GUI，右键点击连接就可以连上了。</p>
<p><img class="img-fluid" alt="image-20240124105244194" src="https://rendoumi.com/posts/20240124_freelancer_2/image-20240124105244194.png" loading="lazy"
   width="625" height="1245"
   />

</p>
<p><img class="img-fluid" alt="image-20240124105323120" src="https://rendoumi.com/posts/20240124_freelancer_2/image-20240124105323120.png" loading="lazy"
   width="869" height="546"
   />

</p>
</div><div class="modal fade" id="rewardModal" tabindex="-1" aria-labelledby="rewardModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content surface">
      <div class="modal-header">
        <h5 class="modal-title" id="rewardModalLabel"><i class="fas fa-fw fa-coffee"></i>打赏</h5>
        <a href="#" data-bs-dismiss="modal" class="btn btn-sm btn-outline-primary" aria-label="Close"><i class="fas fa-times"></i></a>
      </div>
      <div class="modal-body">
        <ul class="nav nav-tabs flex-nowrap mb-3" role="tablist"><li class="nav-item text-nowrap" role="presentation">
            <a class="nav-link active" id="reward-alipay-tab" data-bs-toggle="tab" href="#reward-alipay" role="tab" aria-controls="reward-alipay" aria-selected="true">
              <i class="fab fa-fw fa-alipay"></i>支付宝
            </a>
          </li><li class="nav-item text-nowrap" role="presentation">
            <a class="nav-link" id="reward-wechat-tab" data-bs-toggle="tab" href="#reward-wechat" role="tab" aria-controls="reward-wechat" aria-selected="true">
              <i class="fab fa-fw fa-weixin"></i>微信
            </a>
          </li></ul>
        <div class="tab-content" id="rewardTabContent"><div class="tab-pane fade post-reward-content show active" id="reward-alipay" role="tabpanel" aria-labelledby="reward-alipay-tab">
            <img class="img-fluid post-reward-img" src="https://rendoumi.com/images/reward/alipay.png" loading="lazy" />
          </div><div class="tab-pane fade post-reward-content show" id="reward-wechat" role="tabpanel" aria-labelledby="reward-wechat-tab">
            <img class="img-fluid post-reward-img" src="https://rendoumi.com/images/reward/wechat.png" loading="lazy" />
          </div></div>
      </div>
    </div>
  </div>
</div><hr /><div class="post-navs d-flex mb-3 justify-content-evenly">
  <div class="post-nav post-prev"><i class="fas fa-fw fa-chevron-left"></i>
    <a href="https://rendoumi.com/posts/20240124_freelancer_3/">Freelancer任务之三：Setup Proxy on VPS for Instagram
</a>
  </div><div class="post-nav post-next">
    <a href="https://rendoumi.com/posts/20240124-freelancer_1/">Freelancer的任务之一：多IP多重匿名代理加认证
</a>
    <i class="fas fa-fw fa-chevron-right"></i>
  </div></div><section class="related-posts-wrapper">
    <h3>相关文章</h3>
    <ul class="related-posts"><li><a href="https://rendoumi.com/posts/20240124_freelancer_3/">Freelancer任务之三：Setup Proxy on VPS for Instagram
</a></li><li><a href="https://rendoumi.com/posts/20240124-freelancer_4/">Freelancer任务之四squid查询用户浏览记录
</a></li><li><a href="https://rendoumi.com/posts/20240124-freelancer_5/">Freelancer任务之五多线路聚合vpn
</a></li><li><a href="https://rendoumi.com/posts/20240124_freelancer_6/">Freelancer任务之六Compile an Ipk File on Lede (OpenWRT)
</a></li><li><a href="https://rendoumi.com/posts/20240124-freelancer_7/">Freelancer任务之七memcache 放大攻击
</a></li></ul>
  </section></div>
</article><div class="post-comments card row component">
  <div class="card-body"><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "https-zhangrr-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></div>
</div></div>
</div><aside class="col-lg-4 sidebar d-flex">
  <div class="container">
    
    <section class="card row text-center profile component">
  <div class="card-body">
    <div class="col-12 d-flex align-items-center justify-content-center"><img class="profile-avatar rounded-circle" alt="Zhang Ranrui" src="https://rendoumi.com/images/bajie_01.jpg" loading="lazy"
   width="391" height="644"
   />
</div>
    <div class="col-12 profile-meta"><div class="profile-name">Zhang Ranrui</div><div class="profile-bio">Devops, SA, 运维全干工程师.</div><div class="profile-company"><i class="fas fa-fw fa-building"></i>Company</div><div class="profile-location"><i class="fas fa-fw fa-map-marker-alt"></i>Earth</div><div class="profile-about"><i class="fas fa-fw fa-user"></i><a target="_blank" rel="noopener noreferrer" href="https://blog.rendoumi.com">关于我</a></div></div>
  </div>
</section>
  <section class="featured-posts row card component">
    <div class="card-body">
      <h2 class="card-title">精选文章</h2>
      <ul><li><a href="https://rendoumi.com/posts/markdown-syntax/">Markdown Syntax Guide
</a></li></ul>
    </div>
  </section><section class="recent-posts row card component">
  <div class="card-body">
    <h2 class="card-title">最近文章</h2>
    <ul><li><a href="https://rendoumi.com/posts/20250729-route53_lego_bt_certificate/">上难度之内网vps用lego申请route53 DNS证书并更新到BT宝塔
</a></li><li><a href="https://rendoumi.com/posts/20250728-postgres_wal_pitr/">Postgres的wal和PITR时间点恢复
</a></li><li><a href="https://rendoumi.com/posts/20250728-kafka_kraft_alone/">单机部署kafka用kraft不依赖zookeeper
</a></li><li><a href="https://rendoumi.com/posts/20250728-kafka_kraft_docker/">用Docker部署kafka且不依赖zookeeper
</a></li><li><a href="https://rendoumi.com/posts/20250725-aws_route53_update_certificate/">Aws的EC2服务器用lego获得免费证书并更新到ACM
</a></li></ul>
  </div>
</section><section class="taxonomies row card component">
      <div class="card-body">
        <h2 class="card-title">
          <a href="https://rendoumi.com/series">专栏</a>
        </h2>
        <div><a href="https://rendoumi.com/series/manual/" class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="Manual">
            Manual
          </a></div>
      </div>
    </section><section class="taxonomies row card component">
      <div class="card-body">
        <h2 class="card-title">
          <a href="https://rendoumi.com/tags">标签</a>
        </h2>
        <div><a href="https://rendoumi.com/tags/css/" class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="CSS">
            CSS
          </a><a href="https://rendoumi.com/tags/html/" class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="HTML">
            HTML
          </a><a href="https://rendoumi.com/tags/markdown/" class="post-taxonomy rounded btn btn-sm btn-outline-primary me-2 mb-2" title="Markdown">
            Markdown
          </a></div>
      </div>
    </section>
    
  </div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><nav class="social-links nav my-2 justify-content-center"><a class="nav-link social-link" href="mailto:zhangranrui@gmail.com" title="Email">
      <i class="fas fa-fw fa-2x fa-envelope"></i>
    </a><a class="nav-link social-link" target="_blank" href="https://github.com/zhangrr" title="GitHub" rel="noopener noreferrer">
        <i class="fa-fw fa-2x fab fa-github"></i>
      </a><a class="nav-link social-link" target="_blank" href="https://www.reddit.com/user/defunct9" title="Reddit" rel="noopener noreferrer">
        <i class="fa-fw fa-2x fab fa-reddit"></i>
      </a><a class="nav-link social-link" target="_blank" href="https://t.me/defunct9" title="Telegram" rel="noopener noreferrer">
        <i class="fa-fw fa-2x fab fa-telegram-plane"></i>
      </a></nav>
<div class="copyright mb-2">
  Copyright © 2020-2025 Zhang Ranrui. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Powered by <a href="https://gohugo.io" target="_blank" rel="noopener noreferrer">Hugo</a> and the <a href="https://github.com/razonyang/hugo-theme-bootstrap" target="_blank" rel="noopener noreferrer">Bootstrap</a> theme.
</div></footer>

</body>
</html>
